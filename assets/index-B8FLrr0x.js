var V8=Object.defineProperty;var H8=(n,e,t)=>e in n?V8(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var W8=(n,e)=>()=>(e||n((e={exports:{}}).exports,e),e.exports);var xe=(n,e,t)=>H8(n,typeof e!="symbol"?e+"":e,t);var fte=W8((Zi,$i)=>{(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const r of o.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&i(r)}).observe(document,{childList:!0,subtree:!0});function t(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(s){if(s.ep)return;s.ep=!0;const o=t(s);fetch(s.href,o)}})();function ge(){}const r3=n=>n;function nt(n,e){for(const t in e)n[t]=e[t];return n}function l3(n){return n()}function Vb(){return Object.create(null)}function Tt(n){n.forEach(l3)}function Zn(n){return typeof n=="function"}function Ot(n,e){return n!=n?e==e:n!==e||n&&typeof n=="object"||typeof n=="function"}function ut(n,e){return n!=n?e==e:n!==e}function q8(n){return Object.keys(n).length===0}function U8(n,...e){if(n==null){for(const i of e)i(void 0);return ge}const t=n.subscribe(...e);return t.unsubscribe?()=>t.unsubscribe():t}function gl(n,e,t){n.$$.on_destroy.push(U8(e,t))}function Dt(n,e,t,i){if(n){const s=a3(n,e,t,i);return n[0](s)}}function a3(n,e,t,i){return n[1]&&i?nt(t.ctx.slice(),n[1](i(e))):t.ctx}function Lt(n,e,t,i){if(n[2]&&i){const s=n[2](i(t));if(e.dirty===void 0)return s;if(typeof s=="object"){const o=[],r=Math.max(e.dirty.length,s.length);for(let l=0;l<r;l+=1)o[l]=e.dirty[l]|s[l];return o}return e.dirty|s}return e.dirty}function It(n,e,t,i,s,o){if(s){const r=a3(e,t,i,o);n.p(r,s)}}function Nt(n){if(n.ctx.length>32){const e=[],t=n.ctx.length/32;for(let i=0;i<t;i++)e[i]=-1;return e}return-1}function kn(n){const e={};for(const t in n)t[0]!=="$"&&(e[t]=n[t]);return e}function Xt(n,e){const t={};e=new Set(e);for(const i in n)!e.has(i)&&i[0]!=="$"&&(t[i]=n[i]);return t}function c3(n){const e={};for(const t in n)e[t]=!0;return e}function _n(n){return n??""}function Ql(n,e,t){return n.set(t),e}function Nn(n){return n&&Zn(n.destroy)?n.destroy:ge}const f3=typeof window<"u";let J8=f3?()=>window.performance.now():()=>Date.now(),U1=f3?n=>requestAnimationFrame(n):ge;const wa=new Set;function u3(n){wa.forEach(e=>{e.c(n)||(wa.delete(e),e.f())}),wa.size!==0&&U1(u3)}function K8(n){let e;return wa.size===0&&U1(u3),{promise:new Promise(t=>{wa.add(e={c:n,f:t})}),abort(){wa.delete(e)}}}const J1=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global;function A(n,e){n.appendChild(e)}function h3(n){if(!n)return document;const e=n.getRootNode?n.getRootNode():n.ownerDocument;return e&&e.host?e:n.ownerDocument}function Y8(n){const e=L("style");return e.textContent="/* empty */",X8(h3(n),e),e.sheet}function X8(n,e){return A(n.head||n,e),e.sheet}function j(n,e,t){n.insertBefore(e,t||null)}function B(n){n.parentNode&&n.parentNode.removeChild(n)}function Tn(n,e){for(let t=0;t<n.length;t+=1)n[t]&&n[t].d(e)}function L(n){return document.createElement(n)}function wt(n){return document.createElementNS("http://www.w3.org/2000/svg",n)}function we(n){return document.createTextNode(n)}function X(){return we(" ")}function gt(){return we("")}function fe(n,e,t,i){return n.addEventListener(e,t,i),()=>n.removeEventListener(e,t,i)}function _l(n){return function(e){return e.preventDefault(),n.call(this,e)}}function Ds(n){return function(e){return e.stopPropagation(),n.call(this,e)}}function _(n,e,t){t==null?n.removeAttribute(e):n.getAttribute(e)!==t&&n.setAttribute(e,t)}const G8=["width","height"];function ms(n,e){const t=Object.getOwnPropertyDescriptors(n.__proto__);for(const i in e)e[i]==null?n.removeAttribute(i):i==="style"?n.style.cssText=e[i]:i==="__value"?n.value=n[i]=e[i]:t[i]&&t[i].set&&G8.indexOf(i)===-1?n[i]=e[i]:_(n,i,e[i])}function En(n,e){for(const t in e)_(n,t,e[t])}function Q8(n){return Array.from(n.childNodes)}function Ve(n,e){e=""+e,n.data!==e&&(n.data=e)}function Ar(n,e){n.value=e??""}function gi(n,e,t,i){t==null?n.style.removeProperty(e):n.style.setProperty(e,t,"")}function $(n,e,t){n.classList.toggle(e,!!t)}function d3(n,e,{bubbles:t=!1,cancelable:i=!1}={}){return new CustomEvent(n,{detail:e,bubbles:t,cancelable:i})}function yi(n,e){return new n(e)}const Vh=new Map;let Hh=0;function Z8(n){let e=5381,t=n.length;for(;t--;)e=(e<<5)-e^n.charCodeAt(t);return e>>>0}function $8(n,e){const t={stylesheet:Y8(e),rules:{}};return Vh.set(n,t),t}function Hb(n,e,t,i,s,o,r,l=0){const a=16.666/i;let c=`{
`;for(let p=0;p<=1;p+=a){const b=e+(t-e)*o(p);c+=p*100+`%{${r(b,1-b)}}
`}const f=c+`100% {${r(t,1-t)}}
}`,u=`__svelte_${Z8(f)}_${l}`,h=h3(n),{stylesheet:d,rules:g}=Vh.get(h)||$8(h,n);g[u]||(g[u]=!0,d.insertRule(`@keyframes ${u} ${f}`,d.cssRules.length));const m=n.style.animation||"";return n.style.animation=`${m?`${m}, `:""}${u} ${i}ms linear ${s}ms 1 both`,Hh+=1,u}function ex(n,e){const t=(n.style.animation||"").split(", "),i=t.filter(e?o=>o.indexOf(e)<0:o=>o.indexOf("__svelte")===-1),s=t.length-i.length;s&&(n.style.animation=i.join(", "),Hh-=s,Hh||tx())}function tx(){U1(()=>{Hh||(Vh.forEach(n=>{const{ownerNode:e}=n.stylesheet;e&&B(e)}),Vh.clear())})}let lf;function Uc(n){lf=n}function jl(){if(!lf)throw new Error("Function called outside component initialization");return lf}function nx(n){jl().$$.before_update.push(n)}function _i(n){jl().$$.on_mount.push(n)}function ix(n){jl().$$.after_update.push(n)}function Ti(n){jl().$$.on_destroy.push(n)}function Jd(){const n=jl();return(e,t,{cancelable:i=!1}={})=>{const s=n.$$.callbacks[e];if(s){const o=d3(e,t,{cancelable:i});return s.slice().forEach(r=>{r.call(n,o)}),!o.defaultPrevented}return!0}}function K1(n,e){return jl().$$.context.set(n,e),e}function Wn(n){return jl().$$.context.get(n)}function Oi(n,e){const t=n.$$.callbacks[e.type];t&&t.slice().forEach(i=>i.call(this,e))}const ra=[],st=[];let va=[];const Gm=[],g3=Promise.resolve();let Qm=!1;function m3(){Qm||(Qm=!0,g3.then(p3))}function Cn(){return m3(),g3}function wl(n){va.push(n)}function Gn(n){Gm.push(n)}const Wg=new Set;let Zl=0;function p3(){if(Zl!==0)return;const n=lf;do{try{for(;Zl<ra.length;){const e=ra[Zl];Zl++,Uc(e),sx(e.$$)}}catch(e){throw ra.length=0,Zl=0,e}for(Uc(null),ra.length=0,Zl=0;st.length;)st.pop()();for(let e=0;e<va.length;e+=1){const t=va[e];Wg.has(t)||(Wg.add(t),t())}va.length=0}while(ra.length);for(;Gm.length;)Gm.pop()();Qm=!1,Wg.clear(),Uc(n)}function sx(n){if(n.fragment!==null){n.update(),Tt(n.before_update);const e=n.dirty;n.dirty=[-1],n.fragment&&n.fragment.p(n.ctx,e),n.after_update.forEach(wl)}}function ox(n){const e=[],t=[];va.forEach(i=>n.indexOf(i)===-1?e.push(i):t.push(i)),t.forEach(i=>i()),va=e}let pc;function rx(){return pc||(pc=Promise.resolve(),pc.then(()=>{pc=null})),pc}function qg(n,e,t){n.dispatchEvent(d3(`${e?"intro":"outro"}${t}`))}const ph=new Set;let Eo;function me(){Eo={r:0,c:[],p:Eo}}function pe(){Eo.r||Tt(Eo.c),Eo=Eo.p}function k(n,e){n&&n.i&&(ph.delete(n),n.i(e))}function M(n,e,t,i){if(n&&n.o){if(ph.has(n))return;ph.add(n),Eo.c.push(()=>{ph.delete(n),i&&(t&&n.d(1),i())}),n.o(e)}else i&&i()}const lx={duration:0};function hu(n,e,t,i){let o=e(n,t,{direction:"both"}),r=i?0:1,l=null,a=null,c=null,f;function u(){c&&ex(n,c)}function h(g,m){const p=g.b-r;return m*=Math.abs(p),{a:r,b:g.b,d:p,duration:m,start:g.start,end:g.start+m,group:g.group}}function d(g){const{delay:m=0,duration:p=300,easing:b=r3,tick:y=ge,css:v}=o||lx,C={start:J8()+m,b:g};g||(C.group=Eo,Eo.r+=1),"inert"in n&&(g?f!==void 0&&(n.inert=f):(f=n.inert,n.inert=!0)),l||a?a=C:(v&&(u(),c=Hb(n,r,g,p,m,b,v)),g&&y(0,1),l=h(C,p),wl(()=>qg(n,g,"start")),K8(w=>{if(a&&w>a.start&&(l=h(a,p),a=null,qg(n,l.b,"start"),v&&(u(),c=Hb(n,r,l.b,l.duration,0,b,o.css))),l){if(w>=l.end)y(r=l.b,1-r),qg(n,l.b,"end"),a||(l.b?u():--l.group.r||Tt(l.group.c)),l=null;else if(w>=l.start){const S=w-l.start;r=l.a+l.d*b(S/l.duration),y(r,1-r)}}return!!(l||a)}))}return{run(g){Zn(o)?rx().then(()=>{o=o({direction:g?"in":"out"}),d(g)}):d(g)},end(){u(),l=a=null}}}function ct(n){return(n==null?void 0:n.length)!==void 0?n:Array.from(n)}function ax(n,e){n.d(1),e.delete(n.key)}function Y1(n,e){M(n,1,1,()=>{e.delete(n.key)})}function Kd(n,e,t,i,s,o,r,l,a,c,f,u){let h=n.length,d=o.length,g=h;const m={};for(;g--;)m[n[g].key]=g;const p=[],b=new Map,y=new Map,v=[];for(g=d;g--;){const x=u(s,o,g),T=t(x);let P=r.get(T);P?v.push(()=>P.p(x,e)):(P=c(T,x),P.c()),b.set(T,p[g]=P),T in m&&y.set(T,Math.abs(g-m[T]))}const C=new Set,w=new Set;function S(x){k(x,1),x.m(l,f),r.set(x.key,x),f=x.first,d--}for(;h&&d;){const x=p[d-1],T=n[h-1],P=x.key,D=T.key;x===T?(f=x.first,h--,d--):b.has(D)?!r.has(P)||C.has(P)?S(x):w.has(D)?h--:y.get(P)>y.get(D)?(w.add(P),S(x)):(C.add(D),h--):(a(T,r),h--)}for(;h--;){const x=n[h];b.has(x.key)||a(x,r)}for(;d;)S(p[d-1]);return Tt(v),p}function pn(n,e){const t={},i={},s={$$scope:1};let o=n.length;for(;o--;){const r=n[o],l=e[o];if(l){for(const a in r)a in l||(i[a]=1);for(const a in l)s[a]||(t[a]=l[a],s[a]=1);n[o]=l}else for(const a in r)s[a]=1}for(const r in i)r in t||(t[r]=void 0);return t}function vl(n){return typeof n=="object"&&n!==null?n:{}}function Qn(n,e,t){const i=n.$$.props[e];i!==void 0&&(n.$$.bound[i]=t,t(n.$$.ctx[i]))}function se(n){n&&n.c()}function ne(n,e,t){const{fragment:i,after_update:s}=n.$$;i&&i.m(e,t),wl(()=>{const o=n.$$.on_mount.map(l3).filter(Zn);n.$$.on_destroy?n.$$.on_destroy.push(...o):Tt(o),n.$$.on_mount=[]}),s.forEach(wl)}function ie(n,e){const t=n.$$;t.fragment!==null&&(ox(t.after_update),Tt(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function cx(n,e){n.$$.dirty[0]===-1&&(ra.push(n),m3(),n.$$.dirty.fill(0)),n.$$.dirty[e/31|0]|=1<<e%31}function Pe(n,e,t,i,s,o,r=null,l=[-1]){const a=lf;Uc(n);const c=n.$$={fragment:null,ctx:[],props:o,update:ge,not_equal:s,bound:Vb(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(a?a.$$.context:[])),callbacks:Vb(),dirty:l,skip_bound:!1,root:e.target||a.$$.root};r&&r(c.root);let f=!1;if(c.ctx=t?t(n,e.props||{},(u,h,...d)=>{const g=d.length?d[0]:h;return c.ctx&&s(c.ctx[u],c.ctx[u]=g)&&(!c.skip_bound&&c.bound[u]&&c.bound[u](g),f&&cx(n,u)),h}):[],c.update(),f=!0,Tt(c.before_update),c.fragment=i?i(c.ctx):!1,e.target){if(e.hydrate){const u=Q8(e.target);c.fragment&&c.fragment.l(u),u.forEach(B)}else c.fragment&&c.fragment.c();e.intro&&k(n.$$.fragment),ne(n,e.target,e.anchor),p3()}Uc(a)}class Te{constructor(){xe(this,"$$");xe(this,"$$set")}$destroy(){ie(this,1),this.$destroy=ge}$on(e,t){if(!Zn(t))return ge;const i=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return i.push(t),()=>{const s=i.indexOf(t);s!==-1&&i.splice(s,1)}}$set(e){this.$$set&&!q8(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const fx="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(fx);const $l=[];function bh(n,e=ge){let t;const i=new Set;function s(l){if(Ot(n,l)&&(n=l,t)){const a=!$l.length;for(const c of i)c[1](),$l.push(c,n);if(a){for(let c=0;c<$l.length;c+=2)$l[c][0]($l[c+1]);$l.length=0}}}function o(l){s(l(n))}function r(l,a=ge){const c=[l,a];return i.add(c),i.size===1&&(t=e(s,o)||ge),l(n),()=>{i.delete(c),i.size===0&&t&&(t(),t=null)}}return{set:s,update:o,subscribe:r}}function Wb(n){let e,t;return{c(){e=wt("title"),t=we(n[1])},m(i,s){j(i,e,s),A(e,t)},p(i,s){s&2&&Ve(t,i[1])},d(i){i&&B(e)}}}function ux(n){let e,t,i,s=n[1]&&Wb(n),o=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:n[0]},{height:n[0]},n[2],n[3]],r={};for(let l=0;l<o.length;l+=1)r=nt(r,o[l]);return{c(){e=wt("svg"),s&&s.c(),t=wt("path"),i=wt("path"),_(t,"d","M16,2C8.3,2,2,8.3,2,16s6.3,14,14,14s14-6.3,14-14C30,8.3,23.7,2,16,2z M14.9,8h2.2v11h-2.2V8z M16,25	c-0.8,0-1.5-0.7-1.5-1.5S15.2,22,16,22c0.8,0,1.5,0.7,1.5,1.5S16.8,25,16,25z"),_(i,"fill","none"),_(i,"d","M17.5,23.5c0,0.8-0.7,1.5-1.5,1.5c-0.8,0-1.5-0.7-1.5-1.5S15.2,22,16,22	C16.8,22,17.5,22.7,17.5,23.5z M17.1,8h-2.2v11h2.2V8z"),_(i,"data-icon-path","inner-path"),_(i,"opacity","0"),En(e,r)},m(l,a){j(l,e,a),s&&s.m(e,null),A(e,t),A(e,i)},p(l,[a]){l[1]?s?s.p(l,a):(s=Wb(l),s.c(),s.m(e,t)):s&&(s.d(1),s=null),En(e,r=pn(o,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},a&1&&{width:l[0]},a&1&&{height:l[0]},a&4&&l[2],a&8&&l[3]]))},i:ge,o:ge,d(l){l&&B(e),s&&s.d()}}}function hx(n,e,t){let i,s;const o=["size","title"];let r=Xt(e,o),{size:l=16}=e,{title:a=void 0}=e;return n.$$set=c=>{t(5,e=nt(nt({},e),kn(c))),t(3,r=Xt(e,o)),"size"in c&&t(0,l=c.size),"title"in c&&t(1,a=c.title)},n.$$.update=()=>{t(4,i=e["aria-label"]||e["aria-labelledby"]||a),t(2,s={"aria-hidden":i?void 0:!0,role:i?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=kn(e),[l,a,s,r,i]}class dx extends Te{constructor(e){super(),Pe(this,e,hx,ux,Ot,{size:0,title:1})}}function qb(n){let e,t;return{c(){e=wt("title"),t=we(n[1])},m(i,s){j(i,e,s),A(e,t)},p(i,s){s&2&&Ve(t,i[1])},d(i){i&&B(e)}}}function gx(n){let e,t,i,s,o=n[1]&&qb(n),r=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:n[0]},{height:n[0]},n[2],n[3]],l={};for(let a=0;a<r.length;a+=1)l=nt(l,r[a]);return{c(){e=wt("svg"),o&&o.c(),t=wt("path"),i=wt("path"),s=wt("path"),_(t,"fill","none"),_(t,"d","M16,26a1.5,1.5,0,1,1,1.5-1.5A1.5,1.5,0,0,1,16,26Zm-1.125-5h2.25V12h-2.25Z"),_(t,"data-icon-path","inner-path"),_(i,"d","M16.002,6.1714h-.004L4.6487,27.9966,4.6506,28H27.3494l.0019-.0034ZM14.875,12h2.25v9h-2.25ZM16,26a1.5,1.5,0,1,1,1.5-1.5A1.5,1.5,0,0,1,16,26Z"),_(s,"d","M29,30H3a1,1,0,0,1-.8872-1.4614l13-25a1,1,0,0,1,1.7744,0l13,25A1,1,0,0,1,29,30ZM4.6507,28H27.3493l.002-.0033L16.002,6.1714h-.004L4.6487,27.9967Z"),En(e,l)},m(a,c){j(a,e,c),o&&o.m(e,null),A(e,t),A(e,i),A(e,s)},p(a,[c]){a[1]?o?o.p(a,c):(o=qb(a),o.c(),o.m(e,t)):o&&(o.d(1),o=null),En(e,l=pn(r,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},c&1&&{width:a[0]},c&1&&{height:a[0]},c&4&&a[2],c&8&&a[3]]))},i:ge,o:ge,d(a){a&&B(e),o&&o.d()}}}function mx(n,e,t){let i,s;const o=["size","title"];let r=Xt(e,o),{size:l=16}=e,{title:a=void 0}=e;return n.$$set=c=>{t(5,e=nt(nt({},e),kn(c))),t(3,r=Xt(e,o)),"size"in c&&t(0,l=c.size),"title"in c&&t(1,a=c.title)},n.$$.update=()=>{t(4,i=e["aria-label"]||e["aria-labelledby"]||a),t(2,s={"aria-hidden":i?void 0:!0,role:i?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=kn(e),[l,a,s,r,i]}class px extends Te{constructor(e){super(),Pe(this,e,mx,gx,Ot,{size:0,title:1})}}function Ub(n){let e,t;return{c(){e=wt("title"),t=we(n[1])},m(i,s){j(i,e,s),A(e,t)},p(i,s){s&2&&Ve(t,i[1])},d(i){i&&B(e)}}}function bx(n){let e,t,i=n[1]&&Ub(n),s=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:n[0]},{height:n[0]},n[2],n[3]],o={};for(let r=0;r<s.length;r+=1)o=nt(o,s[r]);return{c(){e=wt("svg"),i&&i.c(),t=wt("path"),_(t,"d","M24 9.4L22.6 8 16 14.6 9.4 8 8 9.4 14.6 16 8 22.6 9.4 24 16 17.4 22.6 24 24 22.6 17.4 16 24 9.4z"),En(e,o)},m(r,l){j(r,e,l),i&&i.m(e,null),A(e,t)},p(r,[l]){r[1]?i?i.p(r,l):(i=Ub(r),i.c(),i.m(e,t)):i&&(i.d(1),i=null),En(e,o=pn(s,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},l&1&&{width:r[0]},l&1&&{height:r[0]},l&4&&r[2],l&8&&r[3]]))},i:ge,o:ge,d(r){r&&B(e),i&&i.d()}}}function yx(n,e,t){let i,s;const o=["size","title"];let r=Xt(e,o),{size:l=16}=e,{title:a=void 0}=e;return n.$$set=c=>{t(5,e=nt(nt({},e),kn(c))),t(3,r=Xt(e,o)),"size"in c&&t(0,l=c.size),"title"in c&&t(1,a=c.title)},n.$$.update=()=>{t(4,i=e["aria-label"]||e["aria-labelledby"]||a),t(2,s={"aria-hidden":i?void 0:!0,role:i?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=kn(e),[l,a,s,r,i]}class X1 extends Te{constructor(e){super(),Pe(this,e,yx,bx,Ot,{size:0,title:1})}}const _x="modulepreload",wx=function(n){return"/chartjs-viewer/"+n},Jb={},vx=function(e,t,i){let s=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),r=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.all(t.map(l=>{if(l=wx(l),l in Jb)return;Jb[l]=!0;const a=l.endsWith(".css"),c=a?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${c}`))return;const f=document.createElement("link");if(f.rel=a?"stylesheet":_x,a||(f.as="script"),f.crossOrigin="",f.href=l,r&&f.setAttribute("nonce",r),document.head.appendChild(f),a)return new Promise((u,h)=>{f.addEventListener("load",u),f.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${l}`)))})}))}return s.then(()=>e()).catch(o=>{const r=new Event("vite:preloadError",{cancelable:!0});if(r.payload=o,window.dispatchEvent(r),!r.defaultPrevented)throw o})};function Kb(n){let e,t;return{c(){e=wt("title"),t=we(n[1])},m(i,s){j(i,e,s),A(e,t)},p(i,s){s&2&&Ve(t,i[1])},d(i){i&&B(e)}}}function kx(n){let e,t,i,s=n[1]&&Kb(n),o=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:n[0]},{height:n[0]},n[2],n[3]],r={};for(let l=0;l<o.length;l+=1)r=nt(r,o[l]);return{c(){e=wt("svg"),s&&s.c(),t=wt("path"),i=wt("path"),_(t,"d","M16,2A14,14,0,1,0,30,16,14,14,0,0,0,16,2ZM14,21.5908l-5-5L10.5906,15,14,18.4092,21.41,11l1.5957,1.5859Z"),_(i,"fill","none"),_(i,"d","M14 21.591L9 16.591 10.591 15 14 18.409 21.41 11 23.005 12.585 14 21.591z"),_(i,"data-icon-path","inner-path"),En(e,r)},m(l,a){j(l,e,a),s&&s.m(e,null),A(e,t),A(e,i)},p(l,[a]){l[1]?s?s.p(l,a):(s=Kb(l),s.c(),s.m(e,t)):s&&(s.d(1),s=null),En(e,r=pn(o,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},a&1&&{width:l[0]},a&1&&{height:l[0]},a&4&&l[2],a&8&&l[3]]))},i:ge,o:ge,d(l){l&&B(e),s&&s.d()}}}function Sx(n,e,t){let i,s;const o=["size","title"];let r=Xt(e,o),{size:l=16}=e,{title:a=void 0}=e;return n.$$set=c=>{t(5,e=nt(nt({},e),kn(c))),t(3,r=Xt(e,o)),"size"in c&&t(0,l=c.size),"title"in c&&t(1,a=c.title)},n.$$.update=()=>{t(4,i=e["aria-label"]||e["aria-labelledby"]||a),t(2,s={"aria-hidden":i?void 0:!0,role:i?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=kn(e),[l,a,s,r,i]}class Cx extends Te{constructor(e){super(),Pe(this,e,Sx,kx,Ot,{size:0,title:1})}}function Mx(n,{delay:e=0,duration:t=400,easing:i=r3}={}){const s=+getComputedStyle(n).opacity;return{delay:e,duration:t,easing:i,css:o=>`opacity: ${o*s}`}}function Yb(n){let e,t;return{c(){e=wt("title"),t=we(n[1])},m(i,s){j(i,e,s),A(e,t)},p(i,s){s&2&&Ve(t,i[1])},d(i){i&&B(e)}}}function Ax(n){let e,t,i,s=n[1]&&Yb(n),o=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:n[0]},{height:n[0]},n[2],n[3]],r={};for(let l=0;l<o.length;l+=1)r=nt(r,o[l]);return{c(){e=wt("svg"),s&&s.c(),t=wt("path"),i=wt("path"),_(t,"fill","none"),_(t,"d","M14.9 7.2H17.1V24.799H14.9z"),_(t,"data-icon-path","inner-path"),_(t,"transform","rotate(-45 16 16)"),_(i,"d","M16,2A13.914,13.914,0,0,0,2,16,13.914,13.914,0,0,0,16,30,13.914,13.914,0,0,0,30,16,13.914,13.914,0,0,0,16,2Zm5.4449,21L9,10.5557,10.5557,9,23,21.4448Z"),En(e,r)},m(l,a){j(l,e,a),s&&s.m(e,null),A(e,t),A(e,i)},p(l,[a]){l[1]?s?s.p(l,a):(s=Yb(l),s.c(),s.m(e,t)):s&&(s.d(1),s=null),En(e,r=pn(o,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},a&1&&{width:l[0]},a&1&&{height:l[0]},a&4&&l[2],a&8&&l[3]]))},i:ge,o:ge,d(l){l&&B(e),s&&s.d()}}}function xx(n,e,t){let i,s;const o=["size","title"];let r=Xt(e,o),{size:l=16}=e,{title:a=void 0}=e;return n.$$set=c=>{t(5,e=nt(nt({},e),kn(c))),t(3,r=Xt(e,o)),"size"in c&&t(0,l=c.size),"title"in c&&t(1,a=c.title)},n.$$.update=()=>{t(4,i=e["aria-label"]||e["aria-labelledby"]||a),t(2,s={"aria-hidden":i?void 0:!0,role:i?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=kn(e),[l,a,s,r,i]}class Ox extends Te{constructor(e){super(),Pe(this,e,xx,Ax,Ot,{size:0,title:1})}}function Px(n){let e,t,i,s,o;var r=n[1];function l(f,u){return{props:{size:20,title:f[2],class:(f[0]==="toast"&&"bx--toast-notification__close-icon")+" "+(f[0]==="inline"&&"bx--inline-notification__close-icon")}}}r&&(t=yi(r,l(n)));let a=[{type:"button"},{"aria-label":n[3]},{title:n[3]},n[4]],c={};for(let f=0;f<a.length;f+=1)c=nt(c,a[f]);return{c(){e=L("button"),t&&se(t.$$.fragment),ms(e,c),$(e,"bx--toast-notification__close-button",n[0]==="toast"),$(e,"bx--inline-notification__close-button",n[0]==="inline")},m(f,u){j(f,e,u),t&&ne(t,e,null),e.autofocus&&e.focus(),i=!0,s||(o=[fe(e,"click",n[5]),fe(e,"mouseover",n[6]),fe(e,"mouseenter",n[7]),fe(e,"mouseleave",n[8])],s=!0)},p(f,[u]){if(u&2&&r!==(r=f[1])){if(t){me();const h=t;M(h.$$.fragment,1,0,()=>{ie(h,1)}),pe()}r?(t=yi(r,l(f)),se(t.$$.fragment),k(t.$$.fragment,1),ne(t,e,null)):t=null}else if(r){const h={};u&4&&(h.title=f[2]),u&1&&(h.class=(f[0]==="toast"&&"bx--toast-notification__close-icon")+" "+(f[0]==="inline"&&"bx--inline-notification__close-icon")),t.$set(h)}ms(e,c=pn(a,[{type:"button"},(!i||u&8)&&{"aria-label":f[3]},(!i||u&8)&&{title:f[3]},u&16&&f[4]])),$(e,"bx--toast-notification__close-button",f[0]==="toast"),$(e,"bx--inline-notification__close-button",f[0]==="inline")},i(f){i||(t&&k(t.$$.fragment,f),i=!0)},o(f){t&&M(t.$$.fragment,f),i=!1},d(f){f&&B(e),t&&ie(t),s=!1,Tt(o)}}}function Tx(n,e,t){const i=["notificationType","icon","title","iconDescription"];let s=Xt(e,i),{notificationType:o="toast"}=e,{icon:r=X1}=e,{title:l=void 0}=e,{iconDescription:a="Close icon"}=e;function c(d){Oi.call(this,n,d)}function f(d){Oi.call(this,n,d)}function u(d){Oi.call(this,n,d)}function h(d){Oi.call(this,n,d)}return n.$$set=d=>{e=nt(nt({},e),kn(d)),t(4,s=Xt(e,i)),"notificationType"in d&&t(0,o=d.notificationType),"icon"in d&&t(1,r=d.icon),"title"in d&&t(2,l=d.title),"iconDescription"in d&&t(3,a=d.iconDescription)},[o,r,l,a,s,c,f,u,h]}class Ex extends Te{constructor(e){super(),Pe(this,e,Tx,Px,Ot,{notificationType:0,icon:1,title:2,iconDescription:3})}}function Xb(n){let e,t;return{c(){e=wt("title"),t=we(n[1])},m(i,s){j(i,e,s),A(e,t)},p(i,s){s&2&&Ve(t,i[1])},d(i){i&&B(e)}}}function Rx(n){let e,t,i,s=n[1]&&Xb(n),o=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:n[0]},{height:n[0]},n[2],n[3]],r={};for(let l=0;l<o.length;l+=1)r=nt(r,o[l]);return{c(){e=wt("svg"),s&&s.c(),t=wt("path"),i=wt("path"),_(t,"fill","none"),_(t,"d","M16,8a1.5,1.5,0,1,1-1.5,1.5A1.5,1.5,0,0,1,16,8Zm4,13.875H17.125v-8H13v2.25h1.875v5.75H12v2.25h8Z"),_(t,"data-icon-path","inner-path"),_(i,"d","M16,2A14,14,0,1,0,30,16,14,14,0,0,0,16,2Zm0,6a1.5,1.5,0,1,1-1.5,1.5A1.5,1.5,0,0,1,16,8Zm4,16.125H12v-2.25h2.875v-5.75H13v-2.25h4.125v8H20Z"),En(e,r)},m(l,a){j(l,e,a),s&&s.m(e,null),A(e,t),A(e,i)},p(l,[a]){l[1]?s?s.p(l,a):(s=Xb(l),s.c(),s.m(e,t)):s&&(s.d(1),s=null),En(e,r=pn(o,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},a&1&&{width:l[0]},a&1&&{height:l[0]},a&4&&l[2],a&8&&l[3]]))},i:ge,o:ge,d(l){l&&B(e),s&&s.d()}}}function Dx(n,e,t){let i,s;const o=["size","title"];let r=Xt(e,o),{size:l=16}=e,{title:a=void 0}=e;return n.$$set=c=>{t(5,e=nt(nt({},e),kn(c))),t(3,r=Xt(e,o)),"size"in c&&t(0,l=c.size),"title"in c&&t(1,a=c.title)},n.$$.update=()=>{t(4,i=e["aria-label"]||e["aria-labelledby"]||a),t(2,s={"aria-hidden":i?void 0:!0,role:i?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=kn(e),[l,a,s,r,i]}class Lx extends Te{constructor(e){super(),Pe(this,e,Dx,Rx,Ot,{size:0,title:1})}}function Gb(n){let e,t;return{c(){e=wt("title"),t=we(n[1])},m(i,s){j(i,e,s),A(e,t)},p(i,s){s&2&&Ve(t,i[1])},d(i){i&&B(e)}}}function Ix(n){let e,t,i,s=n[1]&&Gb(n),o=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:n[0]},{height:n[0]},n[2],n[3]],r={};for(let l=0;l<o.length;l+=1)r=nt(r,o[l]);return{c(){e=wt("svg"),s&&s.c(),t=wt("path"),i=wt("path"),_(t,"fill","none"),_(t,"d","M16,8a1.5,1.5,0,1,1-1.5,1.5A1.5,1.5,0,0,1,16,8Zm4,13.875H17.125v-8H13v2.25h1.875v5.75H12v2.25h8Z"),_(t,"data-icon-path","inner-path"),_(i,"d","M26,4H6A2,2,0,0,0,4,6V26a2,2,0,0,0,2,2H26a2,2,0,0,0,2-2V6A2,2,0,0,0,26,4ZM16,8a1.5,1.5,0,1,1-1.5,1.5A1.5,1.5,0,0,1,16,8Zm4,16.125H12v-2.25h2.875v-5.75H13v-2.25h4.125v8H20Z"),En(e,r)},m(l,a){j(l,e,a),s&&s.m(e,null),A(e,t),A(e,i)},p(l,[a]){l[1]?s?s.p(l,a):(s=Gb(l),s.c(),s.m(e,t)):s&&(s.d(1),s=null),En(e,r=pn(o,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},a&1&&{width:l[0]},a&1&&{height:l[0]},a&4&&l[2],a&8&&l[3]]))},i:ge,o:ge,d(l){l&&B(e),s&&s.d()}}}function Nx(n,e,t){let i,s;const o=["size","title"];let r=Xt(e,o),{size:l=16}=e,{title:a=void 0}=e;return n.$$set=c=>{t(5,e=nt(nt({},e),kn(c))),t(3,r=Xt(e,o)),"size"in c&&t(0,l=c.size),"title"in c&&t(1,a=c.title)},n.$$.update=()=>{t(4,i=e["aria-label"]||e["aria-labelledby"]||a),t(2,s={"aria-hidden":i?void 0:!0,role:i?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=kn(e),[l,a,s,r,i]}class Bx extends Te{constructor(e){super(),Pe(this,e,Nx,Ix,Ot,{size:0,title:1})}}function jx(n){let e,t,i;var s=n[3][n[0]];function o(r,l){return{props:{size:20,title:r[2],class:(r[1]==="toast"&&"bx--toast-notification__icon")+" "+(r[1]==="inline"&&"bx--inline-notification__icon")}}}return s&&(e=yi(s,o(n))),{c(){e&&se(e.$$.fragment),t=gt()},m(r,l){e&&ne(e,r,l),j(r,t,l),i=!0},p(r,[l]){if(l&1&&s!==(s=r[3][r[0]])){if(e){me();const a=e;M(a.$$.fragment,1,0,()=>{ie(a,1)}),pe()}s?(e=yi(s,o(r)),se(e.$$.fragment),k(e.$$.fragment,1),ne(e,t.parentNode,t)):e=null}else if(s){const a={};l&4&&(a.title=r[2]),l&2&&(a.class=(r[1]==="toast"&&"bx--toast-notification__icon")+" "+(r[1]==="inline"&&"bx--inline-notification__icon")),e.$set(a)}},i(r){i||(e&&k(e.$$.fragment,r),i=!0)},o(r){e&&M(e.$$.fragment,r),i=!1},d(r){r&&B(t),e&&ie(e,r)}}}function zx(n,e,t){let{kind:i="error"}=e,{notificationType:s="toast"}=e,{iconDescription:o}=e;const r={error:Ox,"info-square":Bx,info:Lx,success:Cx,warning:dx,"warning-alt":px};return n.$$set=l=>{"kind"in l&&t(0,i=l.kind),"notificationType"in l&&t(1,s=l.notificationType),"iconDescription"in l&&t(2,o=l.iconDescription)},[i,s,o,r]}class Fx extends Te{constructor(e){super(),Pe(this,e,zx,jx,Ot,{kind:0,notificationType:1,iconDescription:2})}}const Vx=n=>({}),Qb=n=>({}),Hx=n=>({}),Zb=n=>({}),Wx=n=>({}),$b=n=>({});function e2(n){let e,t,i,s,o,r,l,a,c,f,u,h,d,g;i=new Fx({props:{notificationType:"inline",kind:n[0],iconDescription:n[6]}});const m=n[13].title,p=Dt(m,n,n[12],$b),b=p||qx(n),y=n[13].subtitle,v=Dt(y,n,n[12],Zb),C=v||Ux(n),w=n[13].default,S=Dt(w,n,n[12],null),x=n[13].actions,T=Dt(x,n,n[12],Qb);let P=!n[5]&&t2(n),D=[{role:n[2]},{kind:n[0]},n[10]],O={};for(let E=0;E<D.length;E+=1)O=nt(O,D[E]);return{c(){e=L("div"),t=L("div"),se(i.$$.fragment),s=X(),o=L("div"),r=L("p"),b&&b.c(),l=X(),a=L("div"),C&&C.c(),c=X(),S&&S.c(),f=X(),T&&T.c(),u=X(),P&&P.c(),$(r,"bx--inline-notification__title",!0),$(a,"bx--inline-notification__subtitle",!0),$(o,"bx--inline-notification__text-wrapper",!0),$(t,"bx--inline-notification__details",!0),ms(e,O),$(e,"bx--inline-notification",!0),$(e,"bx--inline-notification--low-contrast",n[1]),$(e,"bx--inline-notification--hide-close-button",n[5]),$(e,"bx--inline-notification--error",n[0]==="error"),$(e,"bx--inline-notification--info",n[0]==="info"),$(e,"bx--inline-notification--info-square",n[0]==="info-square"),$(e,"bx--inline-notification--success",n[0]==="success"),$(e,"bx--inline-notification--warning",n[0]==="warning"),$(e,"bx--inline-notification--warning-alt",n[0]==="warning-alt")},m(E,N){j(E,e,N),A(e,t),ne(i,t,null),A(t,s),A(t,o),A(o,r),b&&b.m(r,null),A(o,l),A(o,a),C&&C.m(a,null),A(o,c),S&&S.m(o,null),A(e,f),T&&T.m(e,null),A(e,u),P&&P.m(e,null),h=!0,d||(g=[fe(e,"click",n[14]),fe(e,"mouseover",n[15]),fe(e,"mouseenter",n[16]),fe(e,"mouseleave",n[17])],d=!0)},p(E,N){const z={};N&1&&(z.kind=E[0]),N&64&&(z.iconDescription=E[6]),i.$set(z),p?p.p&&(!h||N&4096)&&It(p,m,E,E[12],h?Lt(m,E[12],N,Wx):Nt(E[12]),$b):b&&b.p&&(!h||N&8)&&b.p(E,h?N:-1),v?v.p&&(!h||N&4096)&&It(v,y,E,E[12],h?Lt(y,E[12],N,Hx):Nt(E[12]),Zb):C&&C.p&&(!h||N&16)&&C.p(E,h?N:-1),S&&S.p&&(!h||N&4096)&&It(S,w,E,E[12],h?Lt(w,E[12],N,null):Nt(E[12]),null),T&&T.p&&(!h||N&4096)&&It(T,x,E,E[12],h?Lt(x,E[12],N,Vx):Nt(E[12]),Qb),E[5]?P&&(me(),M(P,1,1,()=>{P=null}),pe()):P?(P.p(E,N),N&32&&k(P,1)):(P=t2(E),P.c(),k(P,1),P.m(e,null)),ms(e,O=pn(D,[(!h||N&4)&&{role:E[2]},(!h||N&1)&&{kind:E[0]},N&1024&&E[10]])),$(e,"bx--inline-notification",!0),$(e,"bx--inline-notification--low-contrast",E[1]),$(e,"bx--inline-notification--hide-close-button",E[5]),$(e,"bx--inline-notification--error",E[0]==="error"),$(e,"bx--inline-notification--info",E[0]==="info"),$(e,"bx--inline-notification--info-square",E[0]==="info-square"),$(e,"bx--inline-notification--success",E[0]==="success"),$(e,"bx--inline-notification--warning",E[0]==="warning"),$(e,"bx--inline-notification--warning-alt",E[0]==="warning-alt")},i(E){h||(k(i.$$.fragment,E),k(b,E),k(C,E),k(S,E),k(T,E),k(P),h=!0)},o(E){M(i.$$.fragment,E),M(b,E),M(C,E),M(S,E),M(T,E),M(P),h=!1},d(E){E&&B(e),ie(i),b&&b.d(E),C&&C.d(E),S&&S.d(E),T&&T.d(E),P&&P.d(),d=!1,Tt(g)}}}function qx(n){let e;return{c(){e=we(n[3])},m(t,i){j(t,e,i)},p(t,i){i&8&&Ve(e,t[3])},d(t){t&&B(e)}}}function Ux(n){let e;return{c(){e=we(n[4])},m(t,i){j(t,e,i)},p(t,i){i&16&&Ve(e,t[4])},d(t){t&&B(e)}}}function t2(n){let e,t;return e=new Ex({props:{iconDescription:n[7],notificationType:"inline"}}),e.$on("click",n[9]),{c(){se(e.$$.fragment)},m(i,s){ne(e,i,s),t=!0},p(i,s){const o={};s&128&&(o.iconDescription=i[7]),e.$set(o)},i(i){t||(k(e.$$.fragment,i),t=!0)},o(i){M(e.$$.fragment,i),t=!1},d(i){ie(e,i)}}}function Jx(n){let e,t,i=n[8]&&e2(n);return{c(){i&&i.c(),e=gt()},m(s,o){i&&i.m(s,o),j(s,e,o),t=!0},p(s,[o]){s[8]?i?(i.p(s,o),o&256&&k(i,1)):(i=e2(s),i.c(),k(i,1),i.m(e.parentNode,e)):i&&(me(),M(i,1,1,()=>{i=null}),pe())},i(s){t||(k(i),t=!0)},o(s){M(i),t=!1},d(s){s&&B(e),i&&i.d(s)}}}function Kx(n,e,t){const i=["kind","lowContrast","timeout","role","title","subtitle","hideCloseButton","statusIconDescription","closeButtonDescription"];let s=Xt(e,i),{$$slots:o={},$$scope:r}=e,{kind:l="error"}=e,{lowContrast:a=!1}=e,{timeout:c=0}=e,{role:f="alert"}=e,{title:u=""}=e,{subtitle:h=""}=e,{hideCloseButton:d=!1}=e,{statusIconDescription:g=l+" icon"}=e,{closeButtonDescription:m="Close notification"}=e;const p=Jd();let b=!0,y;function v(T){p("close",{timeout:T===!0},{cancelable:!0})&&t(8,b=!1)}_i(()=>(c&&(y=setTimeout(()=>v(!0),c)),()=>{clearTimeout(y)}));function C(T){Oi.call(this,n,T)}function w(T){Oi.call(this,n,T)}function S(T){Oi.call(this,n,T)}function x(T){Oi.call(this,n,T)}return n.$$set=T=>{e=nt(nt({},e),kn(T)),t(10,s=Xt(e,i)),"kind"in T&&t(0,l=T.kind),"lowContrast"in T&&t(1,a=T.lowContrast),"timeout"in T&&t(11,c=T.timeout),"role"in T&&t(2,f=T.role),"title"in T&&t(3,u=T.title),"subtitle"in T&&t(4,h=T.subtitle),"hideCloseButton"in T&&t(5,d=T.hideCloseButton),"statusIconDescription"in T&&t(6,g=T.statusIconDescription),"closeButtonDescription"in T&&t(7,m=T.closeButtonDescription),"$$scope"in T&&t(12,r=T.$$scope)},[l,a,f,u,h,d,g,m,b,v,s,c,r,o,C,w,S,x]}class Yx extends Te{constructor(e){super(),Pe(this,e,Kx,Jx,Ot,{kind:0,lowContrast:1,timeout:11,role:2,title:3,subtitle:4,hideCloseButton:5,statusIconDescription:6,closeButtonDescription:7})}}function n2(n){let e,t;return{c(){e=wt("title"),t=we(n[1])},m(i,s){j(i,e,s),A(e,t)},p(i,s){s&2&&Ve(t,i[1])},d(i){i&&B(e)}}}function Xx(n){let e,t,i=n[1]&&n2(n),s=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:n[0]},{height:n[0]},n[2],n[3]],o={};for(let r=0;r<s.length;r+=1)o=nt(o,s[r]);return{c(){e=wt("svg"),i&&i.c(),t=wt("path"),_(t,"d","M4 6H28V8H4zM4 24H28V26H4zM4 12H28V14H4zM4 18H28V20H4z"),En(e,o)},m(r,l){j(r,e,l),i&&i.m(e,null),A(e,t)},p(r,[l]){r[1]?i?i.p(r,l):(i=n2(r),i.c(),i.m(e,t)):i&&(i.d(1),i=null),En(e,o=pn(s,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},l&1&&{width:r[0]},l&1&&{height:r[0]},l&4&&r[2],l&8&&r[3]]))},i:ge,o:ge,d(r){r&&B(e),i&&i.d()}}}function Gx(n,e,t){let i,s;const o=["size","title"];let r=Xt(e,o),{size:l=16}=e,{title:a=void 0}=e;return n.$$set=c=>{t(5,e=nt(nt({},e),kn(c))),t(3,r=Xt(e,o)),"size"in c&&t(0,l=c.size),"title"in c&&t(1,a=c.title)},n.$$.update=()=>{t(4,i=e["aria-label"]||e["aria-labelledby"]||a),t(2,s={"aria-hidden":i?void 0:!0,role:i?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=kn(e),[l,a,s,r,i]}let b3=class extends Te{constructor(e){super(),Pe(this,e,Gx,Xx,Ot,{size:0,title:1})}};const Qx=bh(!1);function Zx(n){let e,t,i,s,o;var r=n[0]?n[4]:n[3];function l(f,u){return{props:{size:20}}}r&&(t=yi(r,l()));let a=[{type:"button"},{title:n[2]},{"aria-label":n[2]},n[5]],c={};for(let f=0;f<a.length;f+=1)c=nt(c,a[f]);return{c(){e=L("button"),t&&se(t.$$.fragment),ms(e,c),$(e,"bx--header__action",!0),$(e,"bx--header__menu-trigger",!0),$(e,"bx--header__menu-toggle",!0)},m(f,u){j(f,e,u),t&&ne(t,e,null),e.autofocus&&e.focus(),n[7](e),i=!0,s||(o=[fe(e,"click",n[6]),fe(e,"click",n[8])],s=!0)},p(f,[u]){if(u&25&&r!==(r=f[0]?f[4]:f[3])){if(t){me();const h=t;M(h.$$.fragment,1,0,()=>{ie(h,1)}),pe()}r?(t=yi(r,l()),se(t.$$.fragment),k(t.$$.fragment,1),ne(t,e,null)):t=null}ms(e,c=pn(a,[{type:"button"},(!i||u&4)&&{title:f[2]},(!i||u&4)&&{"aria-label":f[2]},u&32&&f[5]])),$(e,"bx--header__action",!0),$(e,"bx--header__menu-trigger",!0),$(e,"bx--header__menu-toggle",!0)},i(f){i||(t&&k(t.$$.fragment,f),i=!0)},o(f){t&&M(t.$$.fragment,f),i=!1},d(f){f&&B(e),t&&ie(t),n[7](null),s=!1,Tt(o)}}}function $x(n,e,t){const i=["ariaLabel","isOpen","iconMenu","iconClose","ref"];let s=Xt(e,i),{ariaLabel:o=void 0}=e,{isOpen:r=!1}=e,{iconMenu:l=b3}=e,{iconClose:a=X1}=e,{ref:c=null}=e;function f(d){Oi.call(this,n,d)}function u(d){st[d?"unshift":"push"](()=>{c=d,t(1,c)})}const h=()=>t(0,r=!r);return n.$$set=d=>{e=nt(nt({},e),kn(d)),t(5,s=Xt(e,i)),"ariaLabel"in d&&t(2,o=d.ariaLabel),"isOpen"in d&&t(0,r=d.isOpen),"iconMenu"in d&&t(3,l=d.iconMenu),"iconClose"in d&&t(4,a=d.iconClose),"ref"in d&&t(1,c=d.ref)},[r,c,o,l,a,s,f,u,h]}class eO extends Te{constructor(e){super(),Pe(this,e,$x,Zx,Ot,{ariaLabel:2,isOpen:0,iconMenu:3,iconClose:4,ref:1})}}const tO=n=>({}),i2=n=>({}),nO=n=>({}),s2=n=>({}),iO=n=>({}),o2=n=>({});function r2(n){let e,t,i;function s(r){n[20](r)}let o={iconClose:n[8],iconMenu:n[7]};return n[0]!==void 0&&(o.isOpen=n[0]),e=new eO({props:o}),st.push(()=>Qn(e,"isOpen",s)),{c(){se(e.$$.fragment)},m(r,l){ne(e,r,l),i=!0},p(r,l){const a={};l&256&&(a.iconClose=r[8]),l&128&&(a.iconMenu=r[7]),!t&&l&1&&(t=!0,a.isOpen=r[0],Gn(()=>t=!1)),e.$set(a)},i(r){i||(k(e.$$.fragment,r),i=!0)},o(r){M(e.$$.fragment,r),i=!1},d(r){ie(e,r)}}}function l2(n){let e,t;const i=n[17].company,s=Dt(i,n,n[16],s2),o=s||sO(n);return{c(){e=L("span"),o&&o.c(),$(e,"bx--header__name--prefix",!0)},m(r,l){j(r,e,l),o&&o.m(e,null),t=!0},p(r,l){s?s.p&&(!t||l&65536)&&It(s,i,r,r[16],t?Lt(i,r[16],l,nO):Nt(r[16]),s2):o&&o.p&&(!t||l&8)&&o.p(r,t?l:-1)},i(r){t||(k(o,r),t=!0)},o(r){M(o,r),t=!1},d(r){r&&B(e),o&&o.d(r)}}}function sO(n){let e,t;return{c(){e=we(n[3]),t=we(" ")},m(i,s){j(i,e,s),j(i,t,s)},p(i,s){s&8&&Ve(e,i[3])},d(i){i&&(B(e),B(t))}}}function oO(n){let e;return{c(){e=we(n[4])},m(t,i){j(t,e,i)},p(t,i){i&16&&Ve(e,t[4])},d(t){t&&B(e)}}}function rO(n){let e,t,i,s,o,r,l,a,c;wl(n[19]);const f=n[17]["skip-to-content"],u=Dt(f,n,n[16],o2);let h=(n[11]&&n[9]<n[6]||n[5])&&r2(n),d=(n[3]||n[13].company)&&l2(n);const g=n[17].platform,m=Dt(g,n,n[16],i2),p=m||oO(n);let b=[{href:n[2]},n[12]],y={};for(let w=0;w<b.length;w+=1)y=nt(y,b[w]);const v=n[17].default,C=Dt(v,n,n[16],null);return{c(){e=L("header"),u&&u.c(),t=X(),h&&h.c(),i=X(),s=L("a"),d&&d.c(),o=X(),p&&p.c(),r=X(),C&&C.c(),ms(s,y),$(s,"bx--header__name",!0),_(e,"aria-label",n[10]),$(e,"bx--header",!0)},m(w,S){j(w,e,S),u&&u.m(e,null),A(e,t),h&&h.m(e,null),A(e,i),A(e,s),d&&d.m(s,null),A(s,o),p&&p.m(s,null),n[21](s),A(e,r),C&&C.m(e,null),l=!0,a||(c=[fe(window,"resize",n[19]),fe(s,"click",n[18])],a=!0)},p(w,[S]){u&&u.p&&(!l||S&65536)&&It(u,f,w,w[16],l?Lt(f,w[16],S,iO):Nt(w[16]),o2),w[11]&&w[9]<w[6]||w[5]?h?(h.p(w,S),S&2656&&k(h,1)):(h=r2(w),h.c(),k(h,1),h.m(e,i)):h&&(me(),M(h,1,1,()=>{h=null}),pe()),w[3]||w[13].company?d?(d.p(w,S),S&8200&&k(d,1)):(d=l2(w),d.c(),k(d,1),d.m(s,o)):d&&(me(),M(d,1,1,()=>{d=null}),pe()),m?m.p&&(!l||S&65536)&&It(m,g,w,w[16],l?Lt(g,w[16],S,tO):Nt(w[16]),i2):p&&p.p&&(!l||S&16)&&p.p(w,l?S:-1),ms(s,y=pn(b,[(!l||S&4)&&{href:w[2]},S&4096&&w[12]])),$(s,"bx--header__name",!0),C&&C.p&&(!l||S&65536)&&It(C,v,w,w[16],l?Lt(v,w[16],S,null):Nt(w[16]),null),(!l||S&1024)&&_(e,"aria-label",w[10])},i(w){l||(k(u,w),k(h),k(d),k(p,w),k(C,w),l=!0)},o(w){M(u,w),M(h),M(d),M(p,w),M(C,w),l=!1},d(w){w&&B(e),u&&u.d(w),h&&h.d(),d&&d.d(),p&&p.d(w),n[21](null),C&&C.d(w),a=!1,Tt(c)}}}function lO(n,e,t){let i;const s=["expandedByDefault","isSideNavOpen","uiShellAriaLabel","href","company","platformName","persistentHamburgerMenu","expansionBreakpoint","ref","iconMenu","iconClose"];let o=Xt(e,s),r;gl(n,Qx,D=>t(11,r=D));let{$$slots:l={},$$scope:a}=e;const c=c3(l);let{expandedByDefault:f=!0}=e,{isSideNavOpen:u=!1}=e,{uiShellAriaLabel:h=void 0}=e,{href:d=void 0}=e,{company:g=void 0}=e,{platformName:m=""}=e,{persistentHamburgerMenu:p=!1}=e,{expansionBreakpoint:b=1056}=e,{ref:y=null}=e,{iconMenu:v=b3}=e,{iconClose:C=X1}=e,w;function S(D){Oi.call(this,n,D)}function x(){t(9,w=window.innerWidth)}function T(D){u=D,t(0,u),t(14,f),t(9,w),t(6,b),t(5,p)}function P(D){st[D?"unshift":"push"](()=>{y=D,t(1,y)})}return n.$$set=D=>{t(22,e=nt(nt({},e),kn(D))),t(12,o=Xt(e,s)),"expandedByDefault"in D&&t(14,f=D.expandedByDefault),"isSideNavOpen"in D&&t(0,u=D.isSideNavOpen),"uiShellAriaLabel"in D&&t(15,h=D.uiShellAriaLabel),"href"in D&&t(2,d=D.href),"company"in D&&t(3,g=D.company),"platformName"in D&&t(4,m=D.platformName),"persistentHamburgerMenu"in D&&t(5,p=D.persistentHamburgerMenu),"expansionBreakpoint"in D&&t(6,b=D.expansionBreakpoint),"ref"in D&&t(1,y=D.ref),"iconMenu"in D&&t(7,v=D.iconMenu),"iconClose"in D&&t(8,C=D.iconClose),"$$scope"in D&&t(16,a=D.$$scope)},n.$$.update=()=>{n.$$.dirty&16992&&t(0,u=f&&w>=b&&!p),t(10,i=g?`${g} `:""+(h||e["aria-label"]||m))},e=kn(e),[u,y,d,g,m,p,b,v,C,w,i,r,o,c,f,h,a,l,S,x,T,P]}let aO=class extends Te{constructor(e){super(),Pe(this,e,lO,rO,Ot,{expandedByDefault:14,isSideNavOpen:0,uiShellAriaLabel:15,href:2,company:3,platformName:4,persistentHamburgerMenu:5,expansionBreakpoint:6,ref:1,iconMenu:7,iconClose:8})}};function cO(n){let e;return{c(){e=we("Skip to main content")},m(t,i){j(t,e,i)},d(t){t&&B(e)}}}function fO(n){let e,t,i,s;const o=n[4].default,r=Dt(o,n,n[3],null),l=r||cO();let a=[{href:n[0]},{tabindex:n[1]},n[2]],c={};for(let f=0;f<a.length;f+=1)c=nt(c,a[f]);return{c(){e=L("a"),l&&l.c(),ms(e,c),$(e,"bx--skip-to-content",!0)},m(f,u){j(f,e,u),l&&l.m(e,null),t=!0,i||(s=fe(e,"click",n[5]),i=!0)},p(f,[u]){r&&r.p&&(!t||u&8)&&It(r,o,f,f[3],t?Lt(o,f[3],u,null):Nt(f[3]),null),ms(e,c=pn(a,[(!t||u&1)&&{href:f[0]},(!t||u&2)&&{tabindex:f[1]},u&4&&f[2]])),$(e,"bx--skip-to-content",!0)},i(f){t||(k(l,f),t=!0)},o(f){M(l,f),t=!1},d(f){f&&B(e),l&&l.d(f),i=!1,s()}}}function uO(n,e,t){const i=["href","tabindex"];let s=Xt(e,i),{$$slots:o={},$$scope:r}=e,{href:l="#main-content"}=e,{tabindex:a="0"}=e;function c(f){Oi.call(this,n,f)}return n.$$set=f=>{e=nt(nt({},e),kn(f)),t(2,s=Xt(e,i)),"href"in f&&t(0,l=f.href),"tabindex"in f&&t(1,a=f.tabindex),"$$scope"in f&&t(3,r=f.$$scope)},[l,a,s,r,o,c]}class hO extends Te{constructor(e){super(),Pe(this,e,uO,fO,Ot,{href:0,tabindex:1})}}function qn(n,e=dO(n)){if(!e)return gO;const t=pO(n);return function(...s){console.log(`%c${n}`,`color:${t}`,...s)}}function dO(n){const e=mO("debug");return e!=null&&e.endsWith("*")?n.startsWith(e.slice(0,-1)):n===e}function gO(){}function mO(n){try{if(typeof window<"u"&&typeof window.localStorage<"u")return window.localStorage[n]}catch{}}function pO(n){let e=0;for(let t=0;t<n.length;t++)e=(e<<5)-e+n.charCodeAt(t),e|=0;return a2[Math.abs(e)%a2.length]}const a2=["#0000CC","#0099FF","#009400","#8dd200","#CCCC00","#CC9933","#ae04e7","#ff35d7","#FF3333","#FF6600","#FF9933","#FFCC33"],{window:bO}=J1;function c2(n){let e,t,i,s,o,r,l,a,c,f,u,h,d,g,m,p,b,y,v=n[1].closeButton&&f2(n);var C=n[2];function w(S,x){return{}}return C&&(r=yi(C,w())),{c(){e=L("div"),t=L("div"),i=L("div"),v&&v.c(),s=X(),o=L("div"),r&&se(r.$$.fragment),_(o,"class",l=_n(n[1].classContent)+" svelte-n7cvum"),_(o,"style",n[9]),$(o,"content",!n[0]),_(i,"class",a=_n(n[1].classWindow)+" svelte-n7cvum"),_(i,"role","dialog"),_(i,"aria-modal","true"),_(i,"aria-label",c=n[1].ariaLabelledBy?null:n[1].ariaLabel||null),_(i,"aria-labelledby",f=n[1].ariaLabelledBy||null),_(i,"style",n[8]),$(i,"window",!n[0]),_(t,"class",h=_n(n[1].classWindowWrap)+" svelte-n7cvum"),_(t,"style",n[7]),$(t,"wrap",!n[0]),_(e,"aria-hidden","true"),_(e,"id",d=n[1].id),_(e,"class",g=_n(n[1].classBg)+" svelte-n7cvum"),_(e,"style",n[6]),$(e,"bg",!n[0])},m(S,x){j(S,e,x),A(e,t),A(t,i),v&&v.m(i,null),A(i,s),A(i,o),r&&ne(r,o,null),n[50](i),n[51](t),n[52](e),p=!0,b||(y=[fe(i,"introstart",function(){Zn(n[13])&&n[13].apply(this,arguments)}),fe(i,"outrostart",function(){Zn(n[14])&&n[14].apply(this,arguments)}),fe(i,"introend",function(){Zn(n[15])&&n[15].apply(this,arguments)}),fe(i,"outroend",function(){Zn(n[16])&&n[16].apply(this,arguments)}),fe(e,"mousedown",n[20]),fe(e,"mouseup",n[21])],b=!0)},p(S,x){if(n=S,n[1].closeButton?v?(v.p(n,x),x[0]&2&&k(v,1)):(v=f2(n),v.c(),k(v,1),v.m(i,s)):v&&(me(),M(v,1,1,()=>{v=null}),pe()),x[0]&4&&C!==(C=n[2])){if(r){me();const T=r;M(T.$$.fragment,1,0,()=>{ie(T,1)}),pe()}C?(r=yi(C,w()),se(r.$$.fragment),k(r.$$.fragment,1),ne(r,o,null)):r=null}(!p||x[0]&2&&l!==(l=_n(n[1].classContent)+" svelte-n7cvum"))&&_(o,"class",l),(!p||x[0]&512)&&_(o,"style",n[9]),(!p||x[0]&3)&&$(o,"content",!n[0]),(!p||x[0]&2&&a!==(a=_n(n[1].classWindow)+" svelte-n7cvum"))&&_(i,"class",a),(!p||x[0]&2&&c!==(c=n[1].ariaLabelledBy?null:n[1].ariaLabel||null))&&_(i,"aria-label",c),(!p||x[0]&2&&f!==(f=n[1].ariaLabelledBy||null))&&_(i,"aria-labelledby",f),(!p||x[0]&256)&&_(i,"style",n[8]),(!p||x[0]&3)&&$(i,"window",!n[0]),(!p||x[0]&2&&h!==(h=_n(n[1].classWindowWrap)+" svelte-n7cvum"))&&_(t,"class",h),(!p||x[0]&128)&&_(t,"style",n[7]),(!p||x[0]&3)&&$(t,"wrap",!n[0]),(!p||x[0]&2&&d!==(d=n[1].id))&&_(e,"id",d),(!p||x[0]&2&&g!==(g=_n(n[1].classBg)+" svelte-n7cvum"))&&_(e,"class",g),(!p||x[0]&64)&&_(e,"style",n[6]),(!p||x[0]&3)&&$(e,"bg",!n[0])},i(S){p||(k(v),r&&k(r.$$.fragment,S),S&&wl(()=>{p&&(u||(u=hu(i,n[12],n[1].transitionWindowProps,!0)),u.run(1))}),S&&wl(()=>{p&&(m||(m=hu(e,n[11],n[1].transitionBgProps,!0)),m.run(1))}),p=!0)},o(S){M(v),r&&M(r.$$.fragment,S),S&&(u||(u=hu(i,n[12],n[1].transitionWindowProps,!1)),u.run(0)),S&&(m||(m=hu(e,n[11],n[1].transitionBgProps,!1)),m.run(0)),p=!1},d(S){S&&B(e),v&&v.d(),r&&ie(r),n[50](null),S&&u&&u.end(),n[51](null),n[52](null),S&&m&&m.end(),b=!1,Tt(y)}}}function f2(n){let e,t,i,s,o;const r=[_O,yO],l=[];function a(c,f){return f[0]&2&&(e=null),e==null&&(e=!!c[17](c[1].closeButton)),e?0:1}return t=a(n,[-1,-1,-1]),i=l[t]=r[t](n),{c(){i.c(),s=gt()},m(c,f){l[t].m(c,f),j(c,s,f),o=!0},p(c,f){let u=t;t=a(c,f),t===u?l[t].p(c,f):(me(),M(l[u],1,1,()=>{l[u]=null}),pe(),i=l[t],i?i.p(c,f):(i=l[t]=r[t](c),i.c()),k(i,1),i.m(s.parentNode,s))},i(c){o||(k(i),o=!0)},o(c){M(i),o=!1},d(c){c&&B(s),l[t].d(c)}}}function yO(n){let e,t,i,s;return{c(){e=L("button"),_(e,"class",t=_n(n[1].classCloseButton)+" svelte-n7cvum"),_(e,"aria-label","Close modal"),_(e,"style",n[10]),_(e,"type","button"),$(e,"close",!n[0])},m(o,r){j(o,e,r),i||(s=fe(e,"click",n[18]),i=!0)},p(o,r){r[0]&2&&t!==(t=_n(o[1].classCloseButton)+" svelte-n7cvum")&&_(e,"class",t),r[0]&1024&&_(e,"style",o[10]),r[0]&3&&$(e,"close",!o[0])},i:ge,o:ge,d(o){o&&B(e),i=!1,s()}}}function _O(n){let e,t,i;var s=n[1].closeButton;function o(r,l){return{props:{onClose:r[18]}}}return s&&(e=yi(s,o(n))),{c(){e&&se(e.$$.fragment),t=gt()},m(r,l){e&&ne(e,r,l),j(r,t,l),i=!0},p(r,l){if(l[0]&2&&s!==(s=r[1].closeButton)){if(e){me();const a=e;M(a.$$.fragment,1,0,()=>{ie(a,1)}),pe()}s?(e=yi(s,o(r)),se(e.$$.fragment),k(e.$$.fragment,1),ne(e,t.parentNode,t)):e=null}},i(r){i||(e&&k(e.$$.fragment,r),i=!0)},o(r){e&&M(e.$$.fragment,r),i=!1},d(r){r&&B(t),e&&ie(e,r)}}}function wO(n){let e,t,i,s,o=n[2]&&c2(n);const r=n[49].default,l=Dt(r,n,n[48],null);return{c(){o&&o.c(),e=X(),l&&l.c()},m(a,c){o&&o.m(a,c),j(a,e,c),l&&l.m(a,c),t=!0,i||(s=fe(bO,"keydown",n[19]),i=!0)},p(a,c){a[2]?o?(o.p(a,c),c[0]&4&&k(o,1)):(o=c2(a),o.c(),k(o,1),o.m(e.parentNode,e)):o&&(me(),M(o,1,1,()=>{o=null}),pe()),l&&l.p&&(!t||c[1]&131072)&&It(l,r,a,a[48],t?Lt(r,a[48],c,null):Nt(a[48]),null)},i(a){t||(k(o),k(l,a),t=!0)},o(a){M(o),M(l,a),t=!1},d(a){a&&B(e),o&&o.d(a),l&&l.d(a),i=!1,s()}}}function y3(n,e={}){return function(i){return new n({...i,props:{...e,...i.props}})}}function vO(n,e,t){let{$$slots:i={},$$scope:s}=e;const o=Jd(),r=K1,l=ue=>ue.tabIndex>=0&&!ue.hidden&&!ue.disabled&&ue.style.display!=="none"&&ue.type!=="hidden"&&!!(ue.offsetWidth||ue.offsetHeight||ue.getClientRects().length);let{isTabbable:a=l}=e,{show:c=null}=e,{id:f=null}=e,{key:u="simple-modal"}=e,{ariaLabel:h=null}=e,{ariaLabelledBy:d=null}=e,{closeButton:g=!0}=e,{closeOnEsc:m=!0}=e,{closeOnOuterClick:p=!0}=e,{styleBg:b={}}=e,{styleWindowWrap:y={}}=e,{styleWindow:v={}}=e,{styleContent:C={}}=e,{styleCloseButton:w={}}=e,{classBg:S=null}=e,{classWindowWrap:x=null}=e,{classWindow:T=null}=e,{classContent:P=null}=e,{classCloseButton:D=null}=e,{unstyled:O=!1}=e,{setContext:E=r}=e,{transitionBg:N=Mx}=e,{transitionBgProps:z={duration:250}}=e,{transitionWindow:F=N}=e,{transitionWindowProps:q=z}=e,{disableFocusTrap:Q=!1}=e;const G={id:f,ariaLabel:h,ariaLabelledBy:d,closeButton:g,closeOnEsc:m,closeOnOuterClick:p,styleBg:b,styleWindowWrap:y,styleWindow:v,styleContent:C,styleCloseButton:w,classBg:S,classWindowWrap:x,classWindow:T,classContent:P,classCloseButton:D,transitionBg:N,transitionBgProps:z,transitionWindow:F,transitionWindowProps:q,disableFocusTrap:Q,isTabbable:a,unstyled:O};let R={...G},U=null,Y,le,Z,he,W,ve,te,be,tt,re,Qe,H,ae,Ie,Ne;const Be=ue=>ue.replace(/([a-zA-Z])(?=[A-Z])/g,"$1-").toLowerCase(),Re=ue=>ue?Object.keys(ue).reduce((Bt,Et)=>`${Bt}; ${Be(Et)}: ${ue[Et]}`,""):"",de=ue=>!!(ue&&ue.constructor&&ue.call&&ue.apply),at=()=>{t(6,W=Re(Object.assign({},{width:window.innerWidth,height:window.innerHeight},R.styleBg))),t(7,ve=Re(R.styleWindowWrap)),t(8,te=Re(R.styleWindow)),t(9,be=Re(R.styleContent)),t(10,tt=Re(R.styleCloseButton)),t(11,re=R.transitionBg),t(12,Qe=R.transitionWindow)},kt=()=>{};let De=kt,ot=kt,mt=kt,Ze=kt;const Ht=(ue,Bt={},Et={},it={})=>{t(2,U=y3(ue,Bt)),t(1,R={...G,...Et}),at(),Ue(),t(13,De=Gt=>{it.onOpen&&it.onOpen(Gt),o("open"),o("opening")}),t(14,ot=Gt=>{it.onClose&&it.onClose(Gt),o("close"),o("closing")}),t(15,mt=Gt=>{it.onOpened&&it.onOpened(Gt),o("opened")}),t(16,Ze=Gt=>{it.onClosed&&it.onClosed(Gt),o("closed")})},qe=(ue={})=>{U&&(t(14,ot=ue.onClose||ot),t(16,Ze=ue.onClosed||Ze),t(2,U=null),Ce())},ft=ue=>{if(R.closeOnEsc&&U&&ue.key==="Escape"&&(ue.preventDefault(),qe()),U&&ue.key==="Tab"&&!R.disableFocusTrap){const Bt=Z.querySelectorAll("*"),Et=Array.from(Bt).filter(R.isTabbable).sort((Gt,Qt)=>Gt.tabIndex-Qt.tabIndex);let it=Et.indexOf(document.activeElement);it===-1&&ue.shiftKey&&(it=0),it+=Et.length+(ue.shiftKey?-1:1),it%=Et.length,Et[it].focus(),ue.preventDefault()}},K=ue=>{R.closeOnOuterClick&&(ue.target===Y||ue.target===le)&&(Ne=ue.target)},Se=ue=>{R.closeOnOuterClick&&ue.target===Ne&&(ue.preventDefault(),qe())},Ue=()=>{he=window.scrollY,H=document.body.style.position,ae=document.body.style.overflow,Ie=document.body.style.width,document.body.style.position="fixed",document.body.style.top=`-${he}px`,document.body.style.overflow="hidden",document.body.style.width="100%"},Ce=()=>{document.body.style.position=H||"",document.body.style.top="",document.body.style.overflow=ae||"",document.body.style.width=Ie||"",window.scrollTo({top:he,left:0,behavior:"instant"})};E(u,{open:Ht,close:qe});let Ae=!1;Ti(()=>{Ae&&qe()}),_i(()=>{t(47,Ae=!0)});function Ee(ue){st[ue?"unshift":"push"](()=>{Z=ue,t(5,Z)})}function Ge(ue){st[ue?"unshift":"push"](()=>{le=ue,t(4,le)})}function rt(ue){st[ue?"unshift":"push"](()=>{Y=ue,t(3,Y)})}return n.$$set=ue=>{"isTabbable"in ue&&t(22,a=ue.isTabbable),"show"in ue&&t(23,c=ue.show),"id"in ue&&t(24,f=ue.id),"key"in ue&&t(25,u=ue.key),"ariaLabel"in ue&&t(26,h=ue.ariaLabel),"ariaLabelledBy"in ue&&t(27,d=ue.ariaLabelledBy),"closeButton"in ue&&t(28,g=ue.closeButton),"closeOnEsc"in ue&&t(29,m=ue.closeOnEsc),"closeOnOuterClick"in ue&&t(30,p=ue.closeOnOuterClick),"styleBg"in ue&&t(31,b=ue.styleBg),"styleWindowWrap"in ue&&t(32,y=ue.styleWindowWrap),"styleWindow"in ue&&t(33,v=ue.styleWindow),"styleContent"in ue&&t(34,C=ue.styleContent),"styleCloseButton"in ue&&t(35,w=ue.styleCloseButton),"classBg"in ue&&t(36,S=ue.classBg),"classWindowWrap"in ue&&t(37,x=ue.classWindowWrap),"classWindow"in ue&&t(38,T=ue.classWindow),"classContent"in ue&&t(39,P=ue.classContent),"classCloseButton"in ue&&t(40,D=ue.classCloseButton),"unstyled"in ue&&t(0,O=ue.unstyled),"setContext"in ue&&t(41,E=ue.setContext),"transitionBg"in ue&&t(42,N=ue.transitionBg),"transitionBgProps"in ue&&t(43,z=ue.transitionBgProps),"transitionWindow"in ue&&t(44,F=ue.transitionWindow),"transitionWindowProps"in ue&&t(45,q=ue.transitionWindowProps),"disableFocusTrap"in ue&&t(46,Q=ue.disableFocusTrap),"$$scope"in ue&&t(48,s=ue.$$scope)},n.$$.update=()=>{n.$$.dirty[0]&8388608|n.$$.dirty[1]&65536&&Ae&&(de(c)?Ht(c):qe())},[O,R,U,Y,le,Z,W,ve,te,be,tt,re,Qe,De,ot,mt,Ze,de,qe,ft,K,Se,a,c,f,u,h,d,g,m,p,b,y,v,C,w,S,x,T,P,D,E,N,z,F,q,Q,Ae,s,i,Ee,Ge,rt]}class _3 extends Te{constructor(e){super(),Pe(this,e,vO,wO,Ot,{isTabbable:22,show:23,id:24,key:25,ariaLabel:26,ariaLabelledBy:27,closeButton:28,closeOnEsc:29,closeOnOuterClick:30,styleBg:31,styleWindowWrap:32,styleWindow:33,styleContent:34,styleCloseButton:35,classBg:36,classWindowWrap:37,classWindow:38,classContent:39,classCloseButton:40,unstyled:0,setContext:41,transitionBg:42,transitionBgProps:43,transitionWindow:44,transitionWindowProps:45,disableFocusTrap:46},null,[-1,-1,-1])}}var Yn;(function(n){n.text="text",n.tree="tree",n.table="table"})(Yn||(Yn={}));var Jt;(function(n){n.after="after",n.inside="inside",n.key="key",n.value="value",n.multi="multi",n.text="text"})(Jt||(Jt={}));var As;(function(n){n.after="after",n.key="key",n.value="value",n.inside="inside"})(As||(As={}));var Ps;(function(n){n.info="info",n.warning="warning",n.error="error"})(Ps||(Ps={}));var Ts;(function(n){n.key="key",n.value="value"})(Ts||(Ts={}));var fs;(function(n){n.asc="asc",n.desc="desc"})(fs||(fs={}));var vr;(function(n){n.no="no",n.self="self",n.nextInside="nextInside"})(vr||(vr={}));const Zm=300,$m=300,u2=300,h2=50,kO=200,SO=400,CO=1200,Ug=1e3,af=100,ha=100,ep=2e4,d2=50,g2=50,kl=[{start:0,end:af}],MO=100*1024*1024,AO=1024*1024,tp=10*1024*1024,w3=10*1024,Sl={closeButton:!1,classBg:"jse-modal-bg",classWindow:"jse-modal-window",classWindowWrap:"jse-modal-window-wrap",classContent:"jse-modal-container"},xO={...Sl,classWindow:"jse-modal-window jse-modal-window-sort"},OO={...Sl,classWindow:"jse-modal-window jse-modal-window-transform"},PO={...Sl,classWindow:"jse-modal-window jse-modal-window-jsoneditor"},G1="Insert or paste contents, enter [ insert a new array, enter { to insert a new object, or start typing to insert a new value",Q1="Open context menu (Click here, right click on the selection, or use the context menu button or Ctrl+Q)",Fo="hover-insert-inside",cf="hover-insert-after",np="hover-collection",Jg="valid",m2="repairable",TO="invalid",Ro=42*8,Do=260,cl=100,EO={[fs.asc]:"ascending",[fs.desc]:"descending"};let p2=0;function Jc(){return p2++,p2}function Yt(n){return Array.isArray(n)}function bn(n){return n!==null&&typeof n=="object"&&(n.constructor===void 0||n.constructor.name==="Object")}function v3(n){return n&&typeof n=="object"?n.op==="add":!1}function k3(n){return n&&typeof n=="object"?n.op==="remove":!1}function Z1(n){return n&&typeof n=="object"?n.op==="replace":!1}function ip(n){return n&&typeof n=="object"?n.op==="copy":!1}function Ia(n){return n&&typeof n=="object"?n.op==="move":!1}function RO(n,e){return JSON.stringify(n)===JSON.stringify(e)}function DO(n,e){return n===e}function S3(n){return n.slice(0,n.length-1)}function LO(n){return n[n.length-1]}function IO(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:DO;if(n.length<e.length)return!1;for(let i=0;i<e.length;i++)if(!t(n[i],e[i]))return!1;return!0}function C3(n){return typeof n=="object"&&n!==null}function $1(n){if(Yt(n)){const e=n.slice();return Object.getOwnPropertySymbols(n).forEach(t=>{e[t]=n[t]}),e}else if(bn(n)){const e={...n};return Object.getOwnPropertySymbols(n).forEach(t=>{e[t]=n[t]}),e}else return n}function e0(n,e,t){if(n[e]===t)return n;{const i=$1(n);return i[e]=t,i}}function ze(n,e){let t=n,i=0;for(;i<e.length;)bn(t)?t=t[e[i]]:Yt(t)?t=t[parseInt(e[i])]:t=void 0,i++;return t}function Cs(n,e,t){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(e.length===0)return t;const s=e[0],o=Cs(n?n[s]:void 0,e.slice(1),t,i);if(bn(n)||Yt(n))return e0(n,s,o);if(i){const r=NO.test(s)?[]:{};return r[s]=o,r}else throw new Error("Path does not exist")}const NO=/^\d+$/;function M3(n,e,t){if(e.length===0)return t(n);if(!C3(n))throw new Error("Path doesn't exist");const i=e[0],s=M3(n[i],e.slice(1),t);return e0(n,i,s)}function t0(n,e){if(e.length===0)return n;if(!C3(n))throw new Error("Path does not exist");if(e.length===1){const s=e[0];if(s in n){const o=$1(n);return Yt(o)&&o.splice(parseInt(s),1),bn(o)&&delete o[s],o}else return n}const t=e[0],i=t0(n[t],e.slice(1));return e0(n,t,i)}function n0(n,e,t){const i=e.slice(0,e.length-1),s=e[e.length-1];return M3(n,i,o=>{if(!Array.isArray(o))throw new TypeError("Array expected at path "+JSON.stringify(i));const r=$1(o);return r.splice(parseInt(s),0,t),r})}function us(n,e){return n===void 0?!1:e.length===0?!0:n===null?!1:us(n[e[0]],e.slice(1))}function Ls(n){const e=n.split("/");return e.shift(),e.map(t=>t.replace(/~1/g,"/").replace(/~0/g,"~"))}function Oe(n){return n.map(i0).join("")}function i0(n){return"/"+String(n).replace(/~/g,"~0").replace(/\//g,"~1")}function b2(n,e){return n+i0(e)}function Yd(n,e){return n.startsWith(e)&&(n.length===e.length||n[e.length]==="/")}function Es(n,e,t){let i=n;for(let s=0;s<e.length;s++){qO(e[s]);let o=e[s];if(t&&t.before){const a=t.before(i,o);if(a!==void 0){if(a.document!==void 0&&(i=a.document),a.json!==void 0)throw new Error('Deprecation warning: returned object property ".json" has been renamed to ".document"');a.operation!==void 0&&(o=a.operation)}}const r=i,l=ao(i,o.path);if(o.op==="add")i=zO(i,l,o.value);else if(o.op==="remove")i=jO(i,l);else if(o.op==="replace")i=BO(i,l,o.value);else if(o.op==="copy")i=FO(i,l,sp(o.from));else if(o.op==="move")i=VO(i,l,sp(o.from));else if(o.op==="test")HO(i,l,o.value);else throw new Error("Unknown JSONPatch operation "+JSON.stringify(o));if(t&&t.after){const a=t.after(i,o,r);a!==void 0&&(i=a)}}return i}function BO(n,e,t){return Cs(n,e,t)}function jO(n,e){return t0(n,e)}function zO(n,e,t){return Wf(n,e)?n0(n,e,t):Cs(n,e,t)}function FO(n,e,t){const i=ze(n,t);if(Wf(n,e))return n0(n,e,i);{const s=ze(n,t);return Cs(n,e,s)}}function VO(n,e,t){const i=ze(n,t),s=t0(n,t);return Wf(s,e)?n0(s,e,i):Cs(s,e,i)}function HO(n,e,t){if(t===void 0)throw new Error(`Test failed: no value provided (path: "${Oe(e)}")`);if(!us(n,e))throw new Error(`Test failed: path not found (path: "${Oe(e)}")`);const i=ze(n,e);if(!RO(i,t))throw new Error(`Test failed, value differs (path: "${Oe(e)}")`)}function Wf(n,e){if(e.length===0)return!1;const t=ze(n,S3(e));return Array.isArray(t)}function WO(n,e){if(LO(e)!=="-")return e;const t=S3(e),i=ze(n,t);return t.concat(i.length)}function qO(n){if(!["add","remove","replace","copy","move","test"].includes(n.op))throw new Error("Unknown JSONPatch op "+JSON.stringify(n.op));if(typeof n.path!="string")throw new Error('Required property "path" missing or not a string in operation '+JSON.stringify(n));if((n.op==="copy"||n.op==="move")&&typeof n.from!="string")throw new Error('Required property "from" missing or not a string in operation '+JSON.stringify(n))}function ao(n,e){return WO(n,Ls(e))}function sp(n){return Ls(n)}function A3(n,e,t){let i=[];return Es(n,e,{before:(o,r)=>{let l;const a=ao(o,r.path);if(r.op==="add")l=P3(o,a);else if(r.op==="remove")l=O3(o,a);else if(r.op==="replace")l=x3(o,a);else if(r.op==="copy")l=UO(o,a);else if(r.op==="move")l=JO(o,a,sp(r.from));else if(r.op==="test")l=[];else throw new Error("Unknown JSONPatch operation "+JSON.stringify(r));let c;if(t&&t.before){const f=t.before(o,r,l);if(f&&f.revertOperations&&(l=f.revertOperations),f&&f.document&&(c=f.document),f&&f.json)throw new Error('Deprecation warning: returned object property ".json" has been renamed to ".document"')}if(i=l.concat(i),c!==void 0)return{document:c}}}),i}function x3(n,e){return[{op:"replace",path:Oe(e),value:ze(n,e)}]}function O3(n,e){return[{op:"add",path:Oe(e),value:ze(n,e)}]}function P3(n,e){return Wf(n,e)||!us(n,e)?[{op:"remove",path:Oe(e)}]:x3(n,e)}function UO(n,e){return P3(n,e)}function JO(n,e,t){if(e.length<t.length&&IO(t,e))return[{op:"replace",path:Oe(e),value:n}];const i={op:"move",from:Oe(e),path:Oe(t)};return!Wf(n,e)&&us(n,e)?[i,...O3(n,e)]:[i]}function KO(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Xd={},y2={b:"\b",f:"\f",n:`
`,r:"\r",t:"	",'"':'"',"/":"/","\\":"\\"},YO=97;Xd.parse=function(n,e,t){var i={},s=0,o=0,r=0,l=t&&t.bigint&&typeof BigInt<"u";return{data:a("",!0),pointers:i};function a(P,D){c();var O;v(P,"value");var E=m();switch(E){case"t":g("rue"),O=!0;break;case"f":g("alse"),O=!1;break;case"n":g("ull"),O=null;break;case'"':O=f();break;case"[":O=h(P);break;case"{":O=d(P);break;default:p(),"-0123456789".indexOf(E)>=0?O=u():S()}return v(P,"valueEnd"),c(),D&&r<n.length&&S(),O}function c(){e:for(;r<n.length;){switch(n[r]){case" ":o++;break;case"	":o+=4;break;case"\r":o=0;break;case`
`:o=0,s++;break;default:break e}r++}}function f(){for(var P="",D;D=m(),D!='"';)D=="\\"?(D=m(),D in y2?P+=y2[D]:D=="u"?P+=b():x()):P+=D;return P}function u(){var P="",D=!0;n[r]=="-"&&(P+=m()),P+=n[r]=="0"?m():y(),n[r]=="."&&(P+=m()+y(),D=!1),(n[r]=="e"||n[r]=="E")&&(P+=m(),(n[r]=="+"||n[r]=="-")&&(P+=m()),P+=y(),D=!1);var O=+P;return l&&D&&(O>Number.MAX_SAFE_INTEGER||O<Number.MIN_SAFE_INTEGER)?BigInt(P):O}function h(P){c();var D=[],O=0;if(m()=="]")return D;for(p();;){var E=P+"/"+O;D.push(a(E)),c();var N=m();if(N=="]")break;N!=","&&x(),c(),O++}return D}function d(P){c();var D={};if(m()=="}")return D;for(p();;){var O=w();m()!='"'&&x();var E=f(),N=P+"/"+op(E);C(N,"key",O),v(N,"keyEnd"),c(),m()!=":"&&x(),c(),D[E]=a(N),c();var z=m();if(z=="}")break;z!=","&&x(),c()}return D}function g(P){for(var D=0;D<P.length;D++)m()!==P[D]&&x()}function m(){T();var P=n[r];return r++,o++,P}function p(){r--,o--}function b(){for(var P=4,D=0;P--;){D<<=4;var O=m().toLowerCase();O>="a"&&O<="f"?D+=O.charCodeAt()-YO+10:O>="0"&&O<="9"?D+=+O:x()}return String.fromCharCode(D)}function y(){for(var P="";n[r]>="0"&&n[r]<="9";)P+=m();if(P.length)return P;T(),S()}function v(P,D){C(P,D,w())}function C(P,D,O){i[P]=i[P]||{},i[P][D]=O}function w(){return{line:s,column:o,pos:r}}function S(){throw new SyntaxError("Unexpected token "+n[r]+" in JSON at position "+r)}function x(){p(),S()}function T(){if(r>=n.length)throw new SyntaxError("Unexpected end of JSON input")}};Xd.stringify=function(n,e,t){if(!du(n))return;var i=0,s,o,r=typeof t=="object"?t.space:t;switch(typeof r){case"number":var l=r>10?10:r<0?0:Math.floor(r);r=l&&C(l," "),s=l,o=l;break;case"string":r=r.slice(0,10),s=0,o=0;for(var a=0;a<r.length;a++){var c=r[a];switch(c){case" ":o++;break;case"	":o+=4;break;case"\r":o=0;break;case`
`:o=0,i++;break;default:throw new Error("whitespace characters not allowed in JSON")}s++}break;default:r=void 0}var f="",u={},h=0,d=0,g=0,m=t&&t.es6&&typeof Map=="function";return p(n,0,""),{json:f,pointers:u};function p(w,S,x){switch(v(x,"value"),typeof w){case"number":case"bigint":case"boolean":b(""+w);break;case"string":b(gu(w));break;case"object":w===null?b("null"):typeof w.toJSON=="function"?b(gu(w.toJSON())):Array.isArray(w)?T():m?w.constructor.BYTES_PER_ELEMENT?T():w instanceof Map?D():w instanceof Set?D(!0):P():P()}v(x,"valueEnd");function T(){if(w.length){b("[");for(var O=S+1,E=0;E<w.length;E++){E&&b(","),y(O);var N=du(w[E])?w[E]:null,z=x+"/"+E;p(N,O,z)}y(S),b("]")}else b("[]")}function P(){var O=Object.keys(w);if(O.length){b("{");for(var E=S+1,N=0;N<O.length;N++){var z=O[N],F=w[z];if(du(F)){N&&b(",");var q=x+"/"+op(z);y(E),v(q,"key"),b(gu(z)),v(q,"keyEnd"),b(":"),r&&b(" "),p(F,E,q)}}y(S),b("}")}else b("{}")}function D(O){if(w.size){b("{");for(var E=S+1,N=!0,z=w.entries(),F=z.next();!F.done;){var q=F.value,Q=q[0],G=O?!0:q[1];if(du(G)){N||b(","),N=!1;var R=x+"/"+op(Q);y(E),v(R,"key"),b(gu(Q)),v(R,"keyEnd"),b(":"),r&&b(" "),p(G,E,R)}F=z.next()}y(S),b("}")}else b("{}")}}function b(w){d+=w.length,g+=w.length,f+=w}function y(w){if(r){for(f+=`
`+C(w,r),h++,d=0;w--;)i?(h+=i,d=o):d+=o,g+=s;g+=1}}function v(w,S){u[w]=u[w]||{},u[w][S]={line:h,column:d,pos:g}}function C(w,S){return Array(w+1).join(S)}};var XO=["number","bigint","boolean","string","object"];function du(n){return XO.indexOf(typeof n)>=0}var GO=/"|\\/g,QO=/[\b]/g,ZO=/\f/g,$O=/\n/g,eP=/\r/g,tP=/\t/g;function gu(n){return n=n.replace(GO,"\\$&").replace(ZO,"\\f").replace(QO,"\\b").replace($O,"\\n").replace(eP,"\\r").replace(tP,"\\t"),'"'+n+'"'}var nP=/~/g,iP=/\//g;function op(n){return n.replace(nP,"~0").replace(iP,"~1")}class ea extends Error{constructor(e,t){super(e+" at position "+t),this.position=t}}const mu=92,Kg=47,sP=42,_2=123,pu=125,w2=91,bu=93,oP=40,rP=41,lP=32,s0=10,T3=9,E3=13,aP=8,cP=12,Wh=34,v2=43,k2=45,R3=39,D3=48,L3=57,Xr=44,yu=46,fP=58,uP=59,hP=65,dP=97,gP=69,mP=101,pP=70,bP=102,yP=160,_P=8192,wP=8202,vP=8239,kP=8287,SP=12288,CP=8220,MP=8221,AP=8216,xP=8217,OP=96,PP=180;function TP(n){return n>=D3&&n<=L3||n>=hP&&n<=pP||n>=dP&&n<=bP}function Gr(n){return n>=D3&&n<=L3}function EP(n){return n>=32&&n<=1114111}function la(n){return RP.test(n)}const RP=/^[,:[\]/{}()\n+]$/;function DP(n){return la(n)&&n!=="/"}function S2(n){return LP.test(n)||n&&yh(n.charCodeAt(0))}const LP=/^[[{\w-]$/;function IP(n){return n===s0||n===E3||n===T3||n===aP||n===cP}function da(n){return n===lP||n===s0||n===T3||n===E3}function NP(n){return n===yP||n>=_P&&n<=wP||n===vP||n===kP||n===SP}function yh(n){return I3(n)||rp(n)}function I3(n){return n===Wh||n===CP||n===MP}function C2(n){return n===Wh}function rp(n){return n===R3||n===AP||n===xP||n===OP||n===PP}function M2(n){return n===R3}function bc(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const i=n.lastIndexOf(e);return i!==-1?n.substring(0,i)+(t?"":n.substring(i+1)):n}function Xs(n,e){let t=n.length;if(!da(n.charCodeAt(t-1)))return n+e;for(;da(n.charCodeAt(t-1));)t--;return n.substring(0,t)+e+n.substring(t)}function BP(n,e,t){return n.substring(0,e)+n.substring(e+t)}function jP(n){return/[,\n][ \t\r]*$/.test(n)}function zP(n){return/^\w+$/.test(n)}const FP={"\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t"},VP={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:`
`,r:"\r",t:"	"};function co(n){let e=0,t="";o()||O();const s=c(Xr);for(s&&r(),S2(n[e])&&jP(t)?(s||(t=Xs(t,",")),m()):s&&(t=bc(t,","));n.charCodeAt(e)===pu||n.charCodeAt(e)===bu;)e++,r();if(e>=n.length)return t;D();function o(){r();const F=d()||g()||p()||y()||v()||w();return r(),F}function r(){const F=e;let q=l();do q=a(),q&&(q=l());while(q);return e>F}function l(){let F="",q;for(;(q=da(n.charCodeAt(e)))||NP(n.charCodeAt(e));)q?F+=n[e]:F+=" ",e++;return F.length>0?(t+=F,!0):!1}function a(){if(n.charCodeAt(e)===Kg&&n.charCodeAt(e+1)===sP){for(;e<n.length&&!HP(n,e);)e++;return e+=2,!0}if(n.charCodeAt(e)===Kg&&n.charCodeAt(e+1)===Kg){for(;e<n.length&&n.charCodeAt(e)!==s0;)e++;return!0}return!1}function c(F){return n.charCodeAt(e)===F?(t+=n[e],e++,!0):!1}function f(F){return n.charCodeAt(e)===F?(e++,!0):!1}function u(){return f(mu)}function h(){return r(),n.charCodeAt(e)===yu&&n.charCodeAt(e+1)===yu&&n.charCodeAt(e+2)===yu?(e+=3,r(),f(Xr),!0):!1}function d(){if(n.charCodeAt(e)===_2){t+="{",e++,r(),f(Xr)&&r();let F=!0;for(;e<n.length&&n.charCodeAt(e)!==pu;){let q;if(F?(q=!0,F=!1):(q=c(Xr),q||(t=Xs(t,",")),r()),h(),!(p()||w())){n.charCodeAt(e)===pu||n.charCodeAt(e)===_2||n.charCodeAt(e)===bu||n.charCodeAt(e)===w2||n[e]===void 0?t=bc(t,","):E();break}r();const G=c(fP),R=e>=n.length;G||(S2(n[e])||R?t=Xs(t,":"):N()),o()||(G||R?t+="null":N())}return n.charCodeAt(e)===pu?(t+="}",e++):t=Xs(t,"}"),!0}return!1}function g(){if(n.charCodeAt(e)===w2){t+="[",e++,r(),f(Xr)&&r();let F=!0;for(;e<n.length&&n.charCodeAt(e)!==bu;)if(F?F=!1:c(Xr)||(t=Xs(t,",")),h(),!o()){t=bc(t,",");break}return n.charCodeAt(e)===bu?(t+="]",e++):t=Xs(t,"]"),!0}return!1}function m(){let F=!0,q=!0;for(;q;)F?F=!1:c(Xr)||(t=Xs(t,",")),q=o();q||(t=bc(t,",")),t=`[
`.concat(t,`
]`)}function p(){let F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,q=n.charCodeAt(e)===mu;if(q&&(e++,q=!0),yh(n.charCodeAt(e))){const Q=C2(n.charCodeAt(e))?C2:M2(n.charCodeAt(e))?M2:rp(n.charCodeAt(e))?rp:I3,G=e,R=t.length;let U='"';for(e++;;){if(e>=n.length){const Y=S(e-1);return!F&&la(n.charAt(Y))?(e=G,t=t.substring(0,R),p(!0)):(U=Xs(U,'"'),t+=U,!0)}else if(Q(n.charCodeAt(e))){const Y=e,le=U.length;if(U+='"',e++,t+=U,r(),F||e>=n.length||la(n.charAt(e))||yh(n.charCodeAt(e))||Gr(n.charCodeAt(e)))return b(),!0;if(la(n.charAt(S(Y-1))))return e=G,t=t.substring(0,R),p(!0);t=t.substring(0,R),e=Y+1,U=U.substring(0,le)+"\\"+U.substring(le)}else{if(F&&la(n[e]))return U=Xs(U,'"'),t+=U,b(),!0;if(n.charCodeAt(e)===mu){const Y=n.charAt(e+1);if(VP[Y]!==void 0)U+=n.slice(e,e+2),e+=2;else if(Y==="u"){let Z=2;for(;Z<6&&TP(n.charCodeAt(e+Z));)Z++;Z===6?(U+=n.slice(e,e+6),e+=6):e+Z>=n.length?e=n.length:z()}else U+=Y,e+=2}else{const Y=n.charAt(e),le=n.charCodeAt(e);le===Wh&&n.charCodeAt(e-1)!==mu?(U+="\\"+Y,e++):IP(le)?(U+=FP[Y],e++):(EP(le)||P(Y),U+=Y,e++)}}q&&u()}}return!1}function b(){let F=!1;for(r();n.charCodeAt(e)===v2;){F=!0,e++,r(),t=bc(t,'"',!0);const q=t.length;p()?t=BP(t,q,1):t=Xs(t,'"')}return F}function y(){const F=e;if(n.charCodeAt(e)===k2){if(e++,x())return T(F),!0;if(!Gr(n.charCodeAt(e)))return e=F,!1}for(;Gr(n.charCodeAt(e));)e++;if(n.charCodeAt(e)===yu){if(e++,x())return T(F),!0;if(!Gr(n.charCodeAt(e)))return e=F,!1;for(;Gr(n.charCodeAt(e));)e++}if(n.charCodeAt(e)===mP||n.charCodeAt(e)===gP){if(e++,(n.charCodeAt(e)===k2||n.charCodeAt(e)===v2)&&e++,x())return T(F),!0;if(!Gr(n.charCodeAt(e)))return e=F,!1;for(;Gr(n.charCodeAt(e));)e++}if(!x())return e=F,!1;if(e>F){const q=n.slice(F,e),Q=/^0\d/.test(q);return t+=Q?'"'.concat(q,'"'):q,!0}return!1}function v(){return C("true","true")||C("false","false")||C("null","null")||C("True","true")||C("False","false")||C("None","null")}function C(F,q){return n.slice(e,e+F.length)===F?(t+=q,e+=F.length,!0):!1}function w(){const F=e;for(;e<n.length&&!DP(n[e])&&!yh(n.charCodeAt(e));)e++;if(e>F){if(n.charCodeAt(e)===oP&&zP(n.slice(F,e).trim()))return e++,o(),n.charCodeAt(e)===rP&&(e++,n.charCodeAt(e)===uP&&e++),!0;{for(;da(n.charCodeAt(e-1))&&e>0;)e--;const q=n.slice(F,e);return t+=q==="undefined"?"null":JSON.stringify(q),n.charCodeAt(e)===Wh&&e++,!0}}}function S(F){let q=F;for(;q>0&&da(n.charCodeAt(q));)q--;return q}function x(){return e>=n.length||la(n[e])||da(n.charCodeAt(e))}function T(F){t+=n.slice(F,e)+"0"}function P(F){throw new ea("Invalid character "+JSON.stringify(F),e)}function D(){throw new ea("Unexpected character "+JSON.stringify(n[e]),e)}function O(){throw new ea("Unexpected end of json string",n.length)}function E(){throw new ea("Object key expected",e)}function N(){throw new ea("Colon expected",e)}function z(){const F=n.slice(e,e+6);throw new ea('Invalid unicode character "'.concat(F,'"'),e)}}function HP(n,e){return n[e]==="*"&&n[e+1]==="/"}function ri(n){return parseInt(n,10)}function o0(n){return WP.test(n)}const WP=/^-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?$/;function Kt(n){return typeof n=="object"&&n!==null&&(n.constructor===void 0||n.constructor.name==="Object")}function hn(n){return typeof n=="object"&&n!==null&&(n.constructor===void 0||n.constructor.name==="Object"||n.constructor.name==="Array")}function qP(n){return n===!0||n===!1}function lp(n){if(typeof n=="number")return n>9466848e5&&isFinite(n)&&Math.floor(n)===n&&!isNaN(new Date(n).valueOf());if(typeof n=="bigint")return lp(Number(n));try{const t=n&&n.valueOf();if(t!==n)return lp(t)}catch{return!1}return!1}function N3(n){yc=yc||window.document.createElement("div"),yc.style.color="",yc.style.color=n;const e=yc.style.color;return e!==""?e.replace(/\s+/g,"").toLowerCase():null}let yc=null;function UP(n){return typeof n=="string"&&n.length<99&&!!N3(n)}function r0(n,e){if(typeof n=="number"||typeof n=="string"||typeof n=="boolean"||typeof n>"u")return typeof n;if(typeof n=="bigint")return"number";if(n===null)return"null";if(Array.isArray(n))return"array";if(Kt(n))return"object";const t=e.stringify(n);return t&&o0(t)?"number":t==="true"||t==="false"?"boolean":t==="null"?"null":"unknown"}const JP=/^https?:\/\/\S+$/;function Gd(n){return typeof n=="string"&&JP.test(n)}function tc(n,e){if(n==="")return"";const t=n.trim();return t==="null"?null:t==="true"?!0:t==="false"?!1:o0(t)?e.parse(t):n}function KP(n,e){return typeof n=="string"&&typeof tc(n,e)!="string"}function YP(n){return XP.test(n)}const XP=/^-?[0-9]+$/;var B3=typeof global=="object"&&global&&global.Object===Object&&global,GP=typeof self=="object"&&self&&self.Object===Object&&self,zs=B3||GP||Function("return this")(),ps=zs.Symbol,j3=Object.prototype,QP=j3.hasOwnProperty,ZP=j3.toString,_c=ps?ps.toStringTag:void 0;function $P(n){var e=QP.call(n,_c),t=n[_c];try{n[_c]=void 0;var i=!0}catch{}var s=ZP.call(n);return i&&(e?n[_c]=t:delete n[_c]),s}var eT=Object.prototype,tT=eT.toString;function nT(n){return tT.call(n)}var iT="[object Null]",sT="[object Undefined]",A2=ps?ps.toStringTag:void 0;function nc(n){return n==null?n===void 0?sT:iT:A2&&A2 in Object(n)?$P(n):nT(n)}function xr(n){return n!=null&&typeof n=="object"}var oT="[object Symbol]";function Cl(n){return typeof n=="symbol"||xr(n)&&nc(n)==oT}function Kc(n,e){for(var t=-1,i=n==null?0:n.length,s=Array(i);++t<i;)s[t]=e(n[t],t,n);return s}var wi=Array.isArray,rT=1/0,x2=ps?ps.prototype:void 0,O2=x2?x2.toString:void 0;function z3(n){if(typeof n=="string")return n;if(wi(n))return Kc(n,z3)+"";if(Cl(n))return O2?O2.call(n):"";var e=n+"";return e=="0"&&1/n==-rT?"-0":e}var lT=/\s/;function aT(n){for(var e=n.length;e--&&lT.test(n.charAt(e)););return e}var cT=/^\s+/;function fT(n){return n&&n.slice(0,aT(n)+1).replace(cT,"")}function go(n){var e=typeof n;return n!=null&&(e=="object"||e=="function")}var P2=NaN,uT=/^[-+]0x[0-9a-f]+$/i,hT=/^0b[01]+$/i,dT=/^0o[0-7]+$/i,gT=parseInt;function ap(n){if(typeof n=="number")return n;if(Cl(n))return P2;if(go(n)){var e=typeof n.valueOf=="function"?n.valueOf():n;n=go(e)?e+"":e}if(typeof n!="string")return n===0?n:+n;n=fT(n);var t=hT.test(n);return t||dT.test(n)?gT(n.slice(2),t?2:8):uT.test(n)?P2:+n}var T2=1/0,mT=17976931348623157e292;function _h(n){if(!n)return n===0?n:0;if(n=ap(n),n===T2||n===-T2){var e=n<0?-1:1;return e*mT}return n===n?n:0}function pT(n){var e=_h(n),t=e%1;return e===e?t?e-t:e:0}function qf(n){return n}var bT="[object AsyncFunction]",yT="[object Function]",_T="[object GeneratorFunction]",wT="[object Proxy]";function F3(n){if(!go(n))return!1;var e=nc(n);return e==yT||e==_T||e==bT||e==wT}var Yg=zs["__core-js_shared__"],E2=function(){var n=/[^.]+$/.exec(Yg&&Yg.keys&&Yg.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();function vT(n){return!!E2&&E2 in n}var kT=Function.prototype,ST=kT.toString;function zl(n){if(n!=null){try{return ST.call(n)}catch{}try{return n+""}catch{}}return""}var CT=/[\\^$.*+?()[\]{}|]/g,MT=/^\[object .+?Constructor\]$/,AT=Function.prototype,xT=Object.prototype,OT=AT.toString,PT=xT.hasOwnProperty,TT=RegExp("^"+OT.call(PT).replace(CT,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function ET(n){if(!go(n)||vT(n))return!1;var e=F3(n)?TT:MT;return e.test(zl(n))}function RT(n,e){return n==null?void 0:n[e]}function Fl(n,e){var t=RT(n,e);return ET(t)?t:void 0}var cp=Fl(zs,"WeakMap"),R2=Object.create,DT=function(){function n(){}return function(e){if(!go(e))return{};if(R2)return R2(e);n.prototype=e;var t=new n;return n.prototype=void 0,t}}();function LT(n,e,t){switch(t.length){case 0:return n.call(e);case 1:return n.call(e,t[0]);case 2:return n.call(e,t[0],t[1]);case 3:return n.call(e,t[0],t[1],t[2])}return n.apply(e,t)}function Kn(){}function IT(n,e){var t=-1,i=n.length;for(e||(e=Array(i));++t<i;)e[t]=n[t];return e}var NT=800,BT=16,jT=Date.now;function zT(n){var e=0,t=0;return function(){var i=jT(),s=BT-(i-t);if(t=i,s>0){if(++e>=NT)return arguments[0]}else e=0;return n.apply(void 0,arguments)}}function FT(n){return function(){return n}}var qh=function(){try{var n=Fl(Object,"defineProperty");return n({},"",{}),n}catch{}}(),VT=qh?function(n,e){return qh(n,"toString",{configurable:!0,enumerable:!1,value:FT(e),writable:!0})}:qf,HT=zT(VT);function WT(n,e){for(var t=-1,i=n==null?0:n.length;++t<i&&e(n[t],t,n)!==!1;);return n}var qT=9007199254740991,UT=/^(?:0|[1-9]\d*)$/;function l0(n,e){var t=typeof n;return e=e??qT,!!e&&(t=="number"||t!="symbol"&&UT.test(n))&&n>-1&&n%1==0&&n<e}function Qd(n,e,t){e=="__proto__"&&qh?qh(n,e,{configurable:!0,enumerable:!0,value:t,writable:!0}):n[e]=t}function Zd(n,e){return n===e||n!==n&&e!==e}var JT=Object.prototype,KT=JT.hasOwnProperty;function V3(n,e,t){var i=n[e];(!(KT.call(n,e)&&Zd(i,t))||t===void 0&&!(e in n))&&Qd(n,e,t)}function $d(n,e,t,i){var s=!t;t||(t={});for(var o=-1,r=e.length;++o<r;){var l=e[o],a=void 0;a===void 0&&(a=n[l]),s?Qd(t,l,a):V3(t,l,a)}return t}var D2=Math.max;function YT(n,e,t){return e=D2(e===void 0?n.length-1:e,0),function(){for(var i=arguments,s=-1,o=D2(i.length-e,0),r=Array(o);++s<o;)r[s]=i[e+s];s=-1;for(var l=Array(e+1);++s<e;)l[s]=i[s];return l[e]=t(r),LT(n,this,l)}}function XT(n,e){return HT(YT(n,e,qf),n+"")}var GT=9007199254740991;function a0(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=GT}function ic(n){return n!=null&&a0(n.length)&&!F3(n)}function fp(n,e,t){if(!go(t))return!1;var i=typeof e;return(i=="number"?ic(t)&&l0(e,t.length):i=="string"&&e in t)?Zd(t[e],n):!1}var QT=Object.prototype;function eg(n){var e=n&&n.constructor,t=typeof e=="function"&&e.prototype||QT;return n===t}function H3(n,e){for(var t=-1,i=Array(n);++t<n;)i[t]=e(t);return i}var ZT="[object Arguments]";function L2(n){return xr(n)&&nc(n)==ZT}var W3=Object.prototype,$T=W3.hasOwnProperty,eE=W3.propertyIsEnumerable,tg=L2(function(){return arguments}())?L2:function(n){return xr(n)&&$T.call(n,"callee")&&!eE.call(n,"callee")};function tE(){return!1}var q3=typeof Zi=="object"&&Zi&&!Zi.nodeType&&Zi,I2=q3&&typeof $i=="object"&&$i&&!$i.nodeType&&$i,nE=I2&&I2.exports===q3,N2=nE?zs.Buffer:void 0,iE=N2?N2.isBuffer:void 0,ff=iE||tE,sE="[object Arguments]",oE="[object Array]",rE="[object Boolean]",lE="[object Date]",aE="[object Error]",cE="[object Function]",fE="[object Map]",uE="[object Number]",hE="[object Object]",dE="[object RegExp]",gE="[object Set]",mE="[object String]",pE="[object WeakMap]",bE="[object ArrayBuffer]",yE="[object DataView]",_E="[object Float32Array]",wE="[object Float64Array]",vE="[object Int8Array]",kE="[object Int16Array]",SE="[object Int32Array]",CE="[object Uint8Array]",ME="[object Uint8ClampedArray]",AE="[object Uint16Array]",xE="[object Uint32Array]",fn={};fn[_E]=fn[wE]=fn[vE]=fn[kE]=fn[SE]=fn[CE]=fn[ME]=fn[AE]=fn[xE]=!0;fn[sE]=fn[oE]=fn[bE]=fn[rE]=fn[yE]=fn[lE]=fn[aE]=fn[cE]=fn[fE]=fn[uE]=fn[hE]=fn[dE]=fn[gE]=fn[mE]=fn[pE]=!1;function OE(n){return xr(n)&&a0(n.length)&&!!fn[nc(n)]}function ng(n){return function(e){return n(e)}}var U3=typeof Zi=="object"&&Zi&&!Zi.nodeType&&Zi,Yc=U3&&typeof $i=="object"&&$i&&!$i.nodeType&&$i,PE=Yc&&Yc.exports===U3,Xg=PE&&B3.process,Na=function(){try{var n=Yc&&Yc.require&&Yc.require("util").types;return n||Xg&&Xg.binding&&Xg.binding("util")}catch{}}(),B2=Na&&Na.isTypedArray,c0=B2?ng(B2):OE,TE=Object.prototype,EE=TE.hasOwnProperty;function J3(n,e){var t=wi(n),i=!t&&tg(n),s=!t&&!i&&ff(n),o=!t&&!i&&!s&&c0(n),r=t||i||s||o,l=r?H3(n.length,String):[],a=l.length;for(var c in n)(e||EE.call(n,c))&&!(r&&(c=="length"||s&&(c=="offset"||c=="parent")||o&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||l0(c,a)))&&l.push(c);return l}function K3(n,e){return function(t){return n(e(t))}}var RE=K3(Object.keys,Object),DE=Object.prototype,LE=DE.hasOwnProperty;function Y3(n){if(!eg(n))return RE(n);var e=[];for(var t in Object(n))LE.call(n,t)&&t!="constructor"&&e.push(t);return e}function sc(n){return ic(n)?J3(n):Y3(n)}function IE(n){var e=[];if(n!=null)for(var t in Object(n))e.push(t);return e}var NE=Object.prototype,BE=NE.hasOwnProperty;function jE(n){if(!go(n))return IE(n);var e=eg(n),t=[];for(var i in n)i=="constructor"&&(e||!BE.call(n,i))||t.push(i);return t}function f0(n){return ic(n)?J3(n,!0):jE(n)}var zE=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,FE=/^\w*$/;function u0(n,e){if(wi(n))return!1;var t=typeof n;return t=="number"||t=="symbol"||t=="boolean"||n==null||Cl(n)?!0:FE.test(n)||!zE.test(n)||e!=null&&n in Object(e)}var uf=Fl(Object,"create");function VE(){this.__data__=uf?uf(null):{},this.size=0}function HE(n){var e=this.has(n)&&delete this.__data__[n];return this.size-=e?1:0,e}var WE="__lodash_hash_undefined__",qE=Object.prototype,UE=qE.hasOwnProperty;function JE(n){var e=this.__data__;if(uf){var t=e[n];return t===WE?void 0:t}return UE.call(e,n)?e[n]:void 0}var KE=Object.prototype,YE=KE.hasOwnProperty;function XE(n){var e=this.__data__;return uf?e[n]!==void 0:YE.call(e,n)}var GE="__lodash_hash_undefined__";function QE(n,e){var t=this.__data__;return this.size+=this.has(n)?0:1,t[n]=uf&&e===void 0?GE:e,this}function Ml(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var i=n[e];this.set(i[0],i[1])}}Ml.prototype.clear=VE;Ml.prototype.delete=HE;Ml.prototype.get=JE;Ml.prototype.has=XE;Ml.prototype.set=QE;function ZE(){this.__data__=[],this.size=0}function ig(n,e){for(var t=n.length;t--;)if(Zd(n[t][0],e))return t;return-1}var $E=Array.prototype,eR=$E.splice;function tR(n){var e=this.__data__,t=ig(e,n);if(t<0)return!1;var i=e.length-1;return t==i?e.pop():eR.call(e,t,1),--this.size,!0}function nR(n){var e=this.__data__,t=ig(e,n);return t<0?void 0:e[t][1]}function iR(n){return ig(this.__data__,n)>-1}function sR(n,e){var t=this.__data__,i=ig(t,n);return i<0?(++this.size,t.push([n,e])):t[i][1]=e,this}function Go(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var i=n[e];this.set(i[0],i[1])}}Go.prototype.clear=ZE;Go.prototype.delete=tR;Go.prototype.get=nR;Go.prototype.has=iR;Go.prototype.set=sR;var hf=Fl(zs,"Map");function oR(){this.size=0,this.__data__={hash:new Ml,map:new(hf||Go),string:new Ml}}function rR(n){var e=typeof n;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?n!=="__proto__":n===null}function sg(n,e){var t=n.__data__;return rR(e)?t[typeof e=="string"?"string":"hash"]:t.map}function lR(n){var e=sg(this,n).delete(n);return this.size-=e?1:0,e}function aR(n){return sg(this,n).get(n)}function cR(n){return sg(this,n).has(n)}function fR(n,e){var t=sg(this,n),i=t.size;return t.set(n,e),this.size+=t.size==i?0:1,this}function Qo(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var i=n[e];this.set(i[0],i[1])}}Qo.prototype.clear=oR;Qo.prototype.delete=lR;Qo.prototype.get=aR;Qo.prototype.has=cR;Qo.prototype.set=fR;var uR="Expected a function";function og(n,e){if(typeof n!="function"||e!=null&&typeof e!="function")throw new TypeError(uR);var t=function(){var i=arguments,s=e?e.apply(this,i):i[0],o=t.cache;if(o.has(s))return o.get(s);var r=n.apply(this,i);return t.cache=o.set(s,r)||o,r};return t.cache=new(og.Cache||Qo),t}og.Cache=Qo;var hR=500;function dR(n){var e=og(n,function(i){return t.size===hR&&t.clear(),i}),t=e.cache;return e}var gR=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,mR=/\\(\\)?/g,pR=dR(function(n){var e=[];return n.charCodeAt(0)===46&&e.push(""),n.replace(gR,function(t,i,s,o){e.push(s?o.replace(mR,"$1"):i||t)}),e});function X3(n){return n==null?"":z3(n)}function G3(n,e){return wi(n)?n:u0(n,e)?[n]:pR(X3(n))}var bR=1/0;function rg(n){if(typeof n=="string"||Cl(n))return n;var e=n+"";return e=="0"&&1/n==-bR?"-0":e}function h0(n,e){e=G3(e,n);for(var t=0,i=e.length;n!=null&&t<i;)n=n[rg(e[t++])];return t&&t==i?n:void 0}function yR(n,e,t){var i=n==null?void 0:h0(n,e);return i===void 0?t:i}function d0(n,e){for(var t=-1,i=e.length,s=n.length;++t<i;)n[s+t]=e[t];return n}var j2=ps?ps.isConcatSpreadable:void 0;function _R(n){return wi(n)||tg(n)||!!(j2&&n&&n[j2])}function wR(n,e,t,i,s){var o=-1,r=n.length;for(t||(t=_R),s||(s=[]);++o<r;){var l=n[o];t(l)?d0(s,l):s[s.length]=l}return s}var Q3=K3(Object.getPrototypeOf,Object);function vR(n,e,t){var i=-1,s=n.length;e<0&&(e=-e>s?0:s+e),t=t>s?s:t,t<0&&(t+=s),s=e>t?0:t-e>>>0,e>>>=0;for(var o=Array(s);++i<s;)o[i]=n[i+e];return o}function kR(){this.__data__=new Go,this.size=0}function SR(n){var e=this.__data__,t=e.delete(n);return this.size=e.size,t}function CR(n){return this.__data__.get(n)}function MR(n){return this.__data__.has(n)}var AR=200;function xR(n,e){var t=this.__data__;if(t instanceof Go){var i=t.__data__;if(!hf||i.length<AR-1)return i.push([n,e]),this.size=++t.size,this;t=this.__data__=new Qo(i)}return t.set(n,e),this.size=t.size,this}function fo(n){var e=this.__data__=new Go(n);this.size=e.size}fo.prototype.clear=kR;fo.prototype.delete=SR;fo.prototype.get=CR;fo.prototype.has=MR;fo.prototype.set=xR;function OR(n,e){return n&&$d(e,sc(e),n)}function PR(n,e){return n&&$d(e,f0(e),n)}var Z3=typeof Zi=="object"&&Zi&&!Zi.nodeType&&Zi,z2=Z3&&typeof $i=="object"&&$i&&!$i.nodeType&&$i,TR=z2&&z2.exports===Z3,F2=TR?zs.Buffer:void 0,V2=F2?F2.allocUnsafe:void 0;function ER(n,e){if(e)return n.slice();var t=n.length,i=V2?V2(t):new n.constructor(t);return n.copy(i),i}function RR(n,e){for(var t=-1,i=n==null?0:n.length,s=0,o=[];++t<i;){var r=n[t];e(r,t,n)&&(o[s++]=r)}return o}function $3(){return[]}var DR=Object.prototype,LR=DR.propertyIsEnumerable,H2=Object.getOwnPropertySymbols,g0=H2?function(n){return n==null?[]:(n=Object(n),RR(H2(n),function(e){return LR.call(n,e)}))}:$3;function IR(n,e){return $d(n,g0(n),e)}var NR=Object.getOwnPropertySymbols,e4=NR?function(n){for(var e=[];n;)d0(e,g0(n)),n=Q3(n);return e}:$3;function BR(n,e){return $d(n,e4(n),e)}function t4(n,e,t){var i=e(n);return wi(n)?i:d0(i,t(n))}function up(n){return t4(n,sc,g0)}function jR(n){return t4(n,f0,e4)}var hp=Fl(zs,"DataView"),dp=Fl(zs,"Promise"),gp=Fl(zs,"Set"),W2="[object Map]",zR="[object Object]",q2="[object Promise]",U2="[object Set]",J2="[object WeakMap]",K2="[object DataView]",FR=zl(hp),VR=zl(hf),HR=zl(dp),WR=zl(gp),qR=zl(cp),ss=nc;(hp&&ss(new hp(new ArrayBuffer(1)))!=K2||hf&&ss(new hf)!=W2||dp&&ss(dp.resolve())!=q2||gp&&ss(new gp)!=U2||cp&&ss(new cp)!=J2)&&(ss=function(n){var e=nc(n),t=e==zR?n.constructor:void 0,i=t?zl(t):"";if(i)switch(i){case FR:return K2;case VR:return W2;case HR:return q2;case WR:return U2;case qR:return J2}return e});var UR=Object.prototype,JR=UR.hasOwnProperty;function KR(n){var e=n.length,t=new n.constructor(e);return e&&typeof n[0]=="string"&&JR.call(n,"index")&&(t.index=n.index,t.input=n.input),t}var Uh=zs.Uint8Array;function m0(n){var e=new n.constructor(n.byteLength);return new Uh(e).set(new Uh(n)),e}function YR(n,e){var t=e?m0(n.buffer):n.buffer;return new n.constructor(t,n.byteOffset,n.byteLength)}var XR=/\w*$/;function GR(n){var e=new n.constructor(n.source,XR.exec(n));return e.lastIndex=n.lastIndex,e}var Y2=ps?ps.prototype:void 0,X2=Y2?Y2.valueOf:void 0;function QR(n){return X2?Object(X2.call(n)):{}}function ZR(n,e){var t=e?m0(n.buffer):n.buffer;return new n.constructor(t,n.byteOffset,n.length)}var $R="[object Boolean]",eD="[object Date]",tD="[object Map]",nD="[object Number]",iD="[object RegExp]",sD="[object Set]",oD="[object String]",rD="[object Symbol]",lD="[object ArrayBuffer]",aD="[object DataView]",cD="[object Float32Array]",fD="[object Float64Array]",uD="[object Int8Array]",hD="[object Int16Array]",dD="[object Int32Array]",gD="[object Uint8Array]",mD="[object Uint8ClampedArray]",pD="[object Uint16Array]",bD="[object Uint32Array]";function yD(n,e,t){var i=n.constructor;switch(e){case lD:return m0(n);case $R:case eD:return new i(+n);case aD:return YR(n,t);case cD:case fD:case uD:case hD:case dD:case gD:case mD:case pD:case bD:return ZR(n,t);case tD:return new i;case nD:case oD:return new i(n);case iD:return GR(n);case sD:return new i;case rD:return QR(n)}}function _D(n){return typeof n.constructor=="function"&&!eg(n)?DT(Q3(n)):{}}var wD="[object Map]";function vD(n){return xr(n)&&ss(n)==wD}var G2=Na&&Na.isMap,kD=G2?ng(G2):vD,SD="[object Set]";function CD(n){return xr(n)&&ss(n)==SD}var Q2=Na&&Na.isSet,MD=Q2?ng(Q2):CD,AD=1,xD=2,OD=4,n4="[object Arguments]",PD="[object Array]",TD="[object Boolean]",ED="[object Date]",RD="[object Error]",i4="[object Function]",DD="[object GeneratorFunction]",LD="[object Map]",ID="[object Number]",s4="[object Object]",ND="[object RegExp]",BD="[object Set]",jD="[object String]",zD="[object Symbol]",FD="[object WeakMap]",VD="[object ArrayBuffer]",HD="[object DataView]",WD="[object Float32Array]",qD="[object Float64Array]",UD="[object Int8Array]",JD="[object Int16Array]",KD="[object Int32Array]",YD="[object Uint8Array]",XD="[object Uint8ClampedArray]",GD="[object Uint16Array]",QD="[object Uint32Array]",rn={};rn[n4]=rn[PD]=rn[VD]=rn[HD]=rn[TD]=rn[ED]=rn[WD]=rn[qD]=rn[UD]=rn[JD]=rn[KD]=rn[LD]=rn[ID]=rn[s4]=rn[ND]=rn[BD]=rn[jD]=rn[zD]=rn[YD]=rn[XD]=rn[GD]=rn[QD]=!0;rn[RD]=rn[i4]=rn[FD]=!1;function Xc(n,e,t,i,s,o){var r,l=e&AD,a=e&xD,c=e&OD;if(t&&(r=s?t(n,i,s,o):t(n)),r!==void 0)return r;if(!go(n))return n;var f=wi(n);if(f){if(r=KR(n),!l)return IT(n,r)}else{var u=ss(n),h=u==i4||u==DD;if(ff(n))return ER(n,l);if(u==s4||u==n4||h&&!s){if(r=a||h?{}:_D(n),!l)return a?BR(n,PR(r,n)):IR(n,OR(r,n))}else{if(!rn[u])return s?n:{};r=yD(n,u,l)}}o||(o=new fo);var d=o.get(n);if(d)return d;o.set(n,r),MD(n)?n.forEach(function(p){r.add(Xc(p,e,t,p,n,o))}):kD(n)&&n.forEach(function(p,b){r.set(b,Xc(p,e,t,b,n,o))});var g=c?a?jR:up:a?f0:sc,m=f?void 0:g(n);return WT(m||n,function(p,b){m&&(b=p,p=n[b]),V3(r,b,Xc(p,e,t,b,n,o))}),r}var ZD=1,$D=4;function mp(n){return Xc(n,ZD|$D)}var e7=1,t7=4;function n7(n,e){return e=typeof e=="function"?e:void 0,Xc(n,e7|t7,e)}var i7="__lodash_hash_undefined__";function s7(n){return this.__data__.set(n,i7),this}function o7(n){return this.__data__.has(n)}function Jh(n){var e=-1,t=n==null?0:n.length;for(this.__data__=new Qo;++e<t;)this.add(n[e])}Jh.prototype.add=Jh.prototype.push=s7;Jh.prototype.has=o7;function r7(n,e){for(var t=-1,i=n==null?0:n.length;++t<i;)if(e(n[t],t,n))return!0;return!1}function l7(n,e){return n.has(e)}var a7=1,c7=2;function o4(n,e,t,i,s,o){var r=t&a7,l=n.length,a=e.length;if(l!=a&&!(r&&a>l))return!1;var c=o.get(n),f=o.get(e);if(c&&f)return c==e&&f==n;var u=-1,h=!0,d=t&c7?new Jh:void 0;for(o.set(n,e),o.set(e,n);++u<l;){var g=n[u],m=e[u];if(i)var p=r?i(m,g,u,e,n,o):i(g,m,u,n,e,o);if(p!==void 0){if(p)continue;h=!1;break}if(d){if(!r7(e,function(b,y){if(!l7(d,y)&&(g===b||s(g,b,t,i,o)))return d.push(y)})){h=!1;break}}else if(!(g===m||s(g,m,t,i,o))){h=!1;break}}return o.delete(n),o.delete(e),h}function f7(n){var e=-1,t=Array(n.size);return n.forEach(function(i,s){t[++e]=[s,i]}),t}function u7(n){var e=-1,t=Array(n.size);return n.forEach(function(i){t[++e]=i}),t}var h7=1,d7=2,g7="[object Boolean]",m7="[object Date]",p7="[object Error]",b7="[object Map]",y7="[object Number]",_7="[object RegExp]",w7="[object Set]",v7="[object String]",k7="[object Symbol]",S7="[object ArrayBuffer]",C7="[object DataView]",Z2=ps?ps.prototype:void 0,Gg=Z2?Z2.valueOf:void 0;function M7(n,e,t,i,s,o,r){switch(t){case C7:if(n.byteLength!=e.byteLength||n.byteOffset!=e.byteOffset)return!1;n=n.buffer,e=e.buffer;case S7:return!(n.byteLength!=e.byteLength||!o(new Uh(n),new Uh(e)));case g7:case m7:case y7:return Zd(+n,+e);case p7:return n.name==e.name&&n.message==e.message;case _7:case v7:return n==e+"";case b7:var l=f7;case w7:var a=i&h7;if(l||(l=u7),n.size!=e.size&&!a)return!1;var c=r.get(n);if(c)return c==e;i|=d7,r.set(n,e);var f=o4(l(n),l(e),i,s,o,r);return r.delete(n),f;case k7:if(Gg)return Gg.call(n)==Gg.call(e)}return!1}var A7=1,x7=Object.prototype,O7=x7.hasOwnProperty;function P7(n,e,t,i,s,o){var r=t&A7,l=up(n),a=l.length,c=up(e),f=c.length;if(a!=f&&!r)return!1;for(var u=a;u--;){var h=l[u];if(!(r?h in e:O7.call(e,h)))return!1}var d=o.get(n),g=o.get(e);if(d&&g)return d==e&&g==n;var m=!0;o.set(n,e),o.set(e,n);for(var p=r;++u<a;){h=l[u];var b=n[h],y=e[h];if(i)var v=r?i(y,b,h,e,n,o):i(b,y,h,n,e,o);if(!(v===void 0?b===y||s(b,y,t,i,o):v)){m=!1;break}p||(p=h=="constructor")}if(m&&!p){var C=n.constructor,w=e.constructor;C!=w&&"constructor"in n&&"constructor"in e&&!(typeof C=="function"&&C instanceof C&&typeof w=="function"&&w instanceof w)&&(m=!1)}return o.delete(n),o.delete(e),m}var T7=1,$2="[object Arguments]",ey="[object Array]",_u="[object Object]",E7=Object.prototype,ty=E7.hasOwnProperty;function R7(n,e,t,i,s,o){var r=wi(n),l=wi(e),a=r?ey:ss(n),c=l?ey:ss(e);a=a==$2?_u:a,c=c==$2?_u:c;var f=a==_u,u=c==_u,h=a==c;if(h&&ff(n)){if(!ff(e))return!1;r=!0,f=!1}if(h&&!f)return o||(o=new fo),r||c0(n)?o4(n,e,t,i,s,o):M7(n,e,a,t,i,s,o);if(!(t&T7)){var d=f&&ty.call(n,"__wrapped__"),g=u&&ty.call(e,"__wrapped__");if(d||g){var m=d?n.value():n,p=g?e.value():e;return o||(o=new fo),s(m,p,t,i,o)}}return h?(o||(o=new fo),P7(n,e,t,i,s,o)):!1}function lg(n,e,t,i,s){return n===e?!0:n==null||e==null||!xr(n)&&!xr(e)?n!==n&&e!==e:R7(n,e,t,i,lg,s)}var D7=1,L7=2;function I7(n,e,t,i){var s=t.length,o=s;if(n==null)return!o;for(n=Object(n);s--;){var r=t[s];if(r[2]?r[1]!==n[r[0]]:!(r[0]in n))return!1}for(;++s<o;){r=t[s];var l=r[0],a=n[l],c=r[1];if(r[2]){if(a===void 0&&!(l in n))return!1}else{var f=new fo,u;if(!(u===void 0?lg(c,a,D7|L7,i,f):u))return!1}}return!0}function r4(n){return n===n&&!go(n)}function N7(n){for(var e=sc(n),t=e.length;t--;){var i=e[t],s=n[i];e[t]=[i,s,r4(s)]}return e}function l4(n,e){return function(t){return t==null?!1:t[n]===e&&(e!==void 0||n in Object(t))}}function B7(n){var e=N7(n);return e.length==1&&e[0][2]?l4(e[0][0],e[0][1]):function(t){return t===n||I7(t,n,e)}}function j7(n,e){return n!=null&&e in Object(n)}function z7(n,e,t){e=G3(e,n);for(var i=-1,s=e.length,o=!1;++i<s;){var r=rg(e[i]);if(!(o=n!=null&&t(n,r)))break;n=n[r]}return o||++i!=s?o:(s=n==null?0:n.length,!!s&&a0(s)&&l0(r,s)&&(wi(n)||tg(n)))}function F7(n,e){return n!=null&&z7(n,e,j7)}var V7=1,H7=2;function W7(n,e){return u0(n)&&r4(e)?l4(rg(n),e):function(t){var i=yR(t,n);return i===void 0&&i===e?F7(t,n):lg(e,i,V7|H7)}}function q7(n){return function(e){return e==null?void 0:e[n]}}function U7(n){return function(e){return h0(e,n)}}function J7(n){return u0(n)?q7(rg(n)):U7(n)}function Uf(n){return typeof n=="function"?n:n==null?qf:typeof n=="object"?wi(n)?W7(n[0],n[1]):B7(n):J7(n)}function K7(n,e,t,i){for(var s=-1,o=n==null?0:n.length;++s<o;){var r=n[s];e(i,r,t(r),n)}return i}function a4(n){return function(e,t,i){for(var s=-1,o=Object(e),r=i(e),l=r.length;l--;){var a=r[n?l:++s];if(t(o[a],a,o)===!1)break}return e}}var Y7=a4();function c4(n,e){return n&&Y7(n,e,sc)}function f4(n,e){return function(t,i){if(t==null)return t;if(!ic(t))return n(t,i);for(var s=t.length,o=e?s:-1,r=Object(t);(e?o--:++o<s)&&i(r[o],o,r)!==!1;);return t}}var u4=f4(c4);function X7(n,e,t,i){return u4(n,function(s,o,r){e(i,s,t(s),r)}),i}function h4(n,e){return function(t,i){var s=wi(t)?K7:X7,o=e?e():{};return s(t,n,Uf(i),o)}}var Qg=function(){return zs.Date.now()},G7="Expected a function",Q7=Math.max,Z7=Math.min;function Kh(n,e,t){var i,s,o,r,l,a,c=0,f=!1,u=!1,h=!0;if(typeof n!="function")throw new TypeError(G7);e=ap(e)||0,go(t)&&(f=!!t.leading,u="maxWait"in t,o=u?Q7(ap(t.maxWait)||0,e):o,h="trailing"in t?!!t.trailing:h);function d(S){var x=i,T=s;return i=s=void 0,c=S,r=n.apply(T,x),r}function g(S){return c=S,l=setTimeout(b,e),f?d(S):r}function m(S){var x=S-a,T=S-c,P=e-x;return u?Z7(P,o-T):P}function p(S){var x=S-a,T=S-c;return a===void 0||x>=e||x<0||u&&T>=o}function b(){var S=Qg();if(p(S))return y(S);l=setTimeout(b,m(S))}function y(S){return l=void 0,h&&i?d(S):(i=s=void 0,r)}function v(){l!==void 0&&clearTimeout(l),c=0,i=a=s=l=void 0}function C(){return l===void 0?r:y(Qg())}function w(){var S=Qg(),x=p(S);if(i=arguments,s=this,a=S,x){if(l===void 0)return g(a);if(u)return clearTimeout(l),l=setTimeout(b,e),d(a)}return l===void 0&&(l=setTimeout(b,e)),r}return w.cancel=v,w.flush=C,w}function bt(n){var e=n==null?0:n.length;return e?n[e-1]:void 0}function d4(n){return typeof n=="function"?n:qf}function $7(n,e){for(var t=n==null?0:n.length;t--&&e(n[t],t,n)!==!1;);return n}var eL=a4(!0);function tL(n,e){return n&&eL(n,e,sc)}var nL=f4(tL,!0);function iL(n,e){var t=wi(n)?$7:nL;return t(n,d4(e))}function Bo(n){return n&&n.length?n[0]:void 0}function g4(n,e){var t=-1,i=ic(n)?Array(n.length):[];return u4(n,function(s,o,r){i[++t]=e(s,o,r)}),i}function sL(n,e){var t=wi(n)?Kc:g4;return t(n,Uf(e))}var oL=Object.prototype,rL=oL.hasOwnProperty,ag=h4(function(n,e,t){rL.call(n,t)?n[t].push(e):Qd(n,t,[e])});function vt(n){var e=n==null?0:n.length;return e?vR(n,0,-1):[]}var lL="[object Map]",aL="[object Set]",cL=Object.prototype,fL=cL.hasOwnProperty;function At(n){if(n==null)return!0;if(ic(n)&&(wi(n)||typeof n=="string"||typeof n.splice=="function"||ff(n)||c0(n)||tg(n)))return!n.length;var e=ss(n);if(e==lL||e==aL)return!n.size;if(eg(n))return!Y3(n).length;for(var t in n)if(fL.call(n,t))return!1;return!0}function _t(n,e){return lg(n,e)}function uL(n,e){return n<e}function hL(n,e){var t={};return e=Uf(e),c4(n,function(i,s,o){Qd(t,s,e(i,s,o))}),t}function dL(n,e,t){for(var i=-1,s=n.length;++i<s;){var o=n[i],r=e(o);if(r!=null&&(l===void 0?r===r&&!Cl(r):t(r,l)))var l=r,a=o}return a}function wu(n,e){return n&&n.length?dL(n,Uf(e),uL):void 0}function gL(n,e){var t=n.length;for(n.sort(e);t--;)n[t]=n[t].value;return n}function mL(n,e){if(n!==e){var t=n!==void 0,i=n===null,s=n===n,o=Cl(n),r=e!==void 0,l=e===null,a=e===e,c=Cl(e);if(!l&&!c&&!o&&n>e||o&&r&&a&&!l&&!c||i&&r&&a||!t&&a||!s)return 1;if(!i&&!o&&!c&&n<e||c&&t&&s&&!i&&!o||l&&t&&s||!r&&s||!a)return-1}return 0}function pL(n,e,t){for(var i=-1,s=n.criteria,o=e.criteria,r=s.length,l=t.length;++i<r;){var a=mL(s[i],o[i]);if(a){if(i>=l)return a;var c=t[i];return a*(c=="desc"?-1:1)}}return n.index-e.index}function bL(n,e,t){e.length?e=Kc(e,function(o){return wi(o)?function(r){return h0(r,o.length===1?o[0]:o)}:o}):e=[qf];var i=-1;e=Kc(e,ng(Uf));var s=g4(n,function(o,r,l){var a=Kc(e,function(c){return c(o)});return{criteria:a,index:++i,value:o}});return gL(s,function(o,r){return pL(o,r,t)})}var yL=h4(function(n,e,t){n[t?0:1].push(e)},function(){return[[],[]]}),_L=Math.ceil,wL=Math.max;function vL(n,e,t,i){for(var s=-1,o=wL(_L((e-n)/(t||1)),0),r=Array(o);o--;)r[++s]=n,n+=t;return r}function kL(n){return function(e,t,i){return i&&typeof i!="number"&&fp(e,t,i)&&(t=i=void 0),e=_h(e),t===void 0?(t=e,e=0):t=_h(t),i=i===void 0?e<t?1:-1:_h(i),vL(e,t,i)}}var SL=kL(),CL=XT(function(n,e){if(n==null)return[];var t=e.length;return t>1&&fp(n,e[0],e[1])?e=[]:t>2&&fp(e[0],e[1],e[2])&&(e=[e[0]]),bL(n,wR(e),[])}),ML=9007199254740991,Zg=4294967295,AL=Math.min;function ny(n,e){if(n=pT(n),n<1||n>ML)return[];var t=Zg,i=AL(n,Zg);e=d4(e),n-=Zg;for(var s=H3(i,e);++t<n;)e(t);return s}var xL=0;function Ba(n){var e=++xL;return X3(n)+e}const OL=1e4,PL=[];function pp(n,e=!1){const t={};if(!Array.isArray(n))throw new TypeError("Array expected");function i(r,l){(!Array.isArray(r)&&!Kt(r)||e&&l.length>0)&&(t[Oe(l)]=!0),Kt(r)&&Object.keys(r).forEach(c=>{i(r[c],l.concat(c))})}const s=Math.min(n.length,OL);for(let r=0;r<s;r++){const l=n[r];i(l,PL)}return Object.keys(t).sort().map(Ls)}function m4(n,e,t){if(!(e<=n))for(let i=n;i<e;i++)t(i)}function Yh(n,e){return n.length>e?n.slice(0,e):n}function iy(n){return{...n}}function sy(n){return Object.values(n)}function oy(n,e,t,i){const s=n.slice(0),o=s.splice(e,t);return s.splice.apply(s,[e+i,0,...o]),s}function TL(n,e,t){if(n.length<e)n.forEach(t);else{const i=e>1?(n.length-1)/(e-1):n.length;for(let s=0;s<e;s++){const o=Math.floor(s*i);t(n[o],o,n)}}}function Jf(n,e){try{return e.parse(n)}catch{return e.parse(co(n))}}function p4(n,e){try{return Jf(n,e)}catch{return}}function cg(n,e){n=n.replace(y4,"");try{return e(n)}catch{}try{return e("["+n+"]")}catch{}try{return e("{"+n+"}")}catch{}throw new Error("Failed to parse partial JSON")}function b4(n){n=n.replace(y4,"");try{return co(n)}catch{}try{const e=co("["+n+"]");return e.substring(1,e.length-1)}catch{}try{const e=co("{"+n+"}");return e.substring(1,e.length-1)}catch{}throw new Error("Failed to repair partial JSON")}const y4=/,\s*$/;function ja(n,e){const t=ly.exec(e);if(t){const i=ri(t[2]),s=RL(n,`
`,0,i),o=n.lastIndexOf(`
`,i),r=i-o-1;return{position:i,line:s,column:r,message:e.replace(ly,()=>`line ${s+1} column ${r+1}`)}}else{const i=BL.exec(e),s=i?ri(i[1]):null,o=s!==null?s-1:null,r=jL.exec(e),l=r?ri(r[1]):null,a=l!==null?l-1:null;return{position:o!==null&&a!==null?EL(n,o,a):null,line:o,column:a,message:e.replace(/^JSON.parse: /,"").replace(/ of the JSON data$/,"")}}}function EL(n,e,t){let i=n.indexOf(`
`),s=1;for(;s<e&&i!==-1;)i=n.indexOf(`
`,i+1),s++;return i!==-1?i+t+1:null}function RL(n,e,t=0,i=n.length){let s=0;for(let o=t;o<i;o++)n.charAt(o)===e&&s++;return s}function DL(n,e){try{const t=Xd.parse(n),i=Oe(e),s=t.pointers[i];if(s)return{path:e,line:s.key?s.key.line:s.value?s.value.line:0,column:s.key?s.key.column:s.value?s.value.column:0,from:s.key?s.key.pos:s.value?s.value.pos:0,to:s.keyEnd?s.keyEnd.pos:s.valueEnd?s.valueEnd.pos:0}}catch(t){console.error(t)}return{path:e,line:0,column:0,from:0,to:0}}function LL(n,e,t){if(e==="array"){if(Array.isArray(n))return n;if(Kt(n))return sy(n);if(typeof n=="string")try{const i=t.parse(n);if(Array.isArray(i))return i;if(Kt(i))return sy(i)}catch{return[n]}return[n]}if(e==="object"){if(Array.isArray(n))return iy(n);if(Kt(n))return n;if(typeof n=="string")try{const i=t.parse(n);if(Kt(i))return i;if(Array.isArray(i))return iy(i)}catch{return{value:n}}return{value:n}}if(e==="value")return hn(n)?t.stringify(n):n;throw new Error(`Cannot convert ${r0(n,t)} to ${e}`)}function $g(n){return Kt(n)?n.json!==void 0?n.text!==void 0?'Content must contain either a property "json" or a property "text" but not both':null:n.text===void 0?'Content must contain either a property "json" or a property "text"':typeof n.text!="string"?'Content "text" property must be a string containing a JSON document. Did you mean to use the "json" property instead?':null:"Content must be an object"}function za(n){return Kt(n)&&typeof n.text=="string"}function df(n){return Kt(n)&&typeof n.json<"u"}function IL(n,e=void 0,t=JSON){return za(n)?n:{text:t.stringify(n.json,null,e)}}function ry(n,e=JSON){return df(n)?n:{json:e.parse(n.text)}}function bp(n,e,t){return IL(n,e,t).text}function _4(n,e){return NL(n,e)>e}function NL(n,e=1/0){if(za(n))return n.text.length;const t=n.json;let i=0;function s(o){if(Array.isArray(o)){if(i+=2+(o.length-1),i>e)return i;for(let r=0;r<o.length;r++){const l=o[r];if(s(l),i>e)return i}}else if(Kt(o)){const r=Object.keys(o);i+=2+r.length+(r.length-1);for(let l=0;l<r.length;l++){const a=r[l],c=o[a];i+=a.length+2,s(c)}}else typeof o=="string"?i+=o.length+2:i+=String(o).length}return s(t),i}const ly=/(position|char) (\d+)/,BL=/line (\d+)/,jL=/column (\d+)/;function zL(n,e){return n.parse===e.parse&&n.stringify===e.stringify}function ay(n){const t=n.substring(0,999).trim();return!t.includes(`
`)&&FL.test(t)}const FL=/[,:]\S/;function p0({escapeControlCharacters:n,escapeUnicodeCharacters:e}){return n?e?VL:HL:e?WL:qL}const VL={escapeValue:n=>w4(S4(String(n))),unescapeValue:n=>C4(v4(n))},HL={escapeValue:n=>S4(String(n)),unescapeValue:n=>C4(n)},WL={escapeValue:n=>w4(String(n)),unescapeValue:n=>v4(n)},qL={escapeValue:n=>String(n),unescapeValue:n=>n};function w4(n){return n.replace(/[^\x20-\x7F]/g,e=>{var t;return e==="\b"||e==="\f"||e===`
`||e==="\r"||e==="	"?e:"\\u"+("000"+((t=e.codePointAt(0))==null?void 0:t.toString(16))).slice(-4)})}function v4(n){return n.replace(/\\u[a-fA-F0-9]{4}/g,e=>{try{const t=JSON.parse('"'+e+'"');return k4[t]||t}catch{return e}})}const k4={'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t"},UL={'\\"':'"',"\\\\":"\\","\\/":"/","\\b":"\b","\\f":"\f","\\n":`
`,"\\r":"\r","\\t":"	"};function S4(n){return n.replace(/["\b\f\n\r\t\\]/g,e=>k4[e]||e)}function C4(n){return n.replace(/\\["bfnrt\\]/g,e=>UL[e]||e)}function Al(n){return typeof n!="string"?String(n):n.endsWith(`
`)?n+`
`:n}function JL(n){return n.replace(/\n$/,"")}function M4(n,e){return Kf(n,t=>t.nodeName.toUpperCase()===e.toUpperCase())}function fl(n,e,t){return Kf(n,i=>YL(i,e,t))}function KL(n){return n.nodeName==="DIV"&&n.contentEditable==="true"}function YL(n,e,t){return typeof n.getAttribute=="function"&&n.getAttribute(e)===t}function Kf(n,e){return!!b0(n,e)}function b0(n,e){let t=n;for(;t&&!e(t);)t=t.parentNode;return t||void 0}function A4(n){if(n.firstChild==null){n.focus();return}const e=document.createRange(),t=window.getSelection();e.setStart(n,1),e.collapse(!0),t==null||t.removeAllRanges(),t==null||t.addRange(e)}function Xh(n,e,t,i){const s=oc(n);if(!s)return;const o=s.document.activeElement?s.document.activeElement:null;o&&o.isContentEditable&&(o.textContent=t?e:o.textContent+e,A4(o),i&&i(o))}function oc(n){return n&&n.ownerDocument?n.ownerDocument.defaultView:null}function y0(n){const e=oc(n),t=e==null?void 0:e.document.activeElement;return t?Kf(t,i=>i===n):!1}function x4(n,e){return b0(n,t=>t.nodeName===e)}function em(n){return fl(n,"data-type","selectable-key")?Jt.key:fl(n,"data-type","selectable-value")?Jt.value:fl(n,"data-type","insert-selection-area-inside")?Jt.inside:fl(n,"data-type","insert-selection-area-after")?Jt.after:Jt.multi}function Fa(n){return encodeURIComponent(Oe(n))}function XL(n){return Ls(decodeURIComponent(n))}function O4(n){const e=b0(n,i=>i!=null&&i.hasAttribute?i.hasAttribute("data-path"):!1),t=e==null?void 0:e.getAttribute("data-path");return t?XL(t):null}function GL({allElements:n,currentElement:e,direction:t,hasPrio:i=()=>!0,margin:s=10}){const o=sL(n.filter(l),a),r=a(e);function l(b){const y=b.getBoundingClientRect();return y.width>0&&y.height>0}function a(b){const y=b.getBoundingClientRect();return{x:y.left+y.width/2,y:y.top+y.height/2,rect:y,element:b}}const c=(b,y)=>Math.abs(b.y-y.y)<s,f=(b,y)=>b.rect.left+s<y.rect.left,u=(b,y)=>b.rect.right>y.rect.right+s,h=(b,y)=>b.y+s<y.y,d=(b,y)=>b.y>y.y+s;function g(b,y,v=1){const C=b.x-y.x,w=(b.y-y.y)*v;return Math.sqrt(C*C+w*w)}const m=b=>g(b,r),p=b=>g(b,r,10);if(t==="Left"||t==="Right"){const b=t==="Left"?o.filter(C=>f(C,r)):o.filter(C=>u(C,r)),y=b.filter(C=>c(C,r)),v=wu(y,m)||wu(b,p);return v==null?void 0:v.element}if(t==="Up"||t==="Down"){const b=t==="Up"?o.filter(C=>h(C,r)):o.filter(C=>d(C,r)),y=b.filter(C=>i(C.element)),v=wu(y,m)||wu(b,m);return v==null?void 0:v.element}}function P4(n){return!!n&&n.nodeName==="DIV"&&typeof n.refresh=="function"&&typeof n.cancel=="function"}function _0(){var n,e,t;return((n=navigator==null?void 0:navigator.platform)==null?void 0:n.toUpperCase().includes("MAC"))??((t=(e=navigator==null?void 0:navigator.userAgentData)==null?void 0:e.platform)==null?void 0:t.toUpperCase().includes("MAC"))??!1}function Vo(n,e="+",t=_0){const i=[];w0(n,t)&&i.push("Ctrl"),n.altKey&&i.push("Alt"),n.shiftKey&&i.push("Shift");const s=n.key.length===1?n.key.toUpperCase():n.key;return s in QL||i.push(s),i.join(e)}function w0(n,e=_0){return n.ctrlKey||n.metaKey&&e()}const QL={Ctrl:!0,Command:!0,Control:!0,Alt:!0,Option:!0,Shift:!0},{window:tm}=J1;function cy(n){let e,t,i,s,o,r;const l=[n[0].props];var a=n[0].component;function c(f,u){let h={};for(let d=0;d<l.length;d+=1)h=nt(h,l[d]);return u!==void 0&&u&1&&(h=nt(h,pn(l,[vl(f[0].props)]))),{props:h}}return a&&(s=yi(a,c(n))),{c(){e=L("div"),t=L("input"),i=X(),s&&se(s.$$.fragment),_(t,"type","text"),t.readOnly=!0,_(t,"tabindex","-1"),_(t,"class","jse-hidden-input svelte-1r8q3m8"),_(e,"class","jse-absolute-popup-content svelte-1r8q3m8"),_(e,"style",o=fy(n[1],n[0].options))},m(f,u){j(f,e,u),A(e,t),n[7](t),A(e,i),s&&ne(s,e,null),r=!0},p(f,u){if(u&1&&a!==(a=f[0].component)){if(s){me();const h=s;M(h.$$.fragment,1,0,()=>{ie(h,1)}),pe()}a?(s=yi(a,c(f,u)),se(s.$$.fragment),k(s.$$.fragment,1),ne(s,e,null)):s=null}else if(a){const h=u&1?pn(l,[vl(f[0].props)]):{};s.$set(h)}(!r||u&3&&o!==(o=fy(f[1],f[0].options)))&&_(e,"style",o)},i(f){r||(s&&k(s.$$.fragment,f),r=!0)},o(f){s&&M(s.$$.fragment,f),r=!1},d(f){f&&B(e),n[7](null),s&&ie(s)}}}function ZL(n){let e,t,i,s,o=n[1]&&cy(n);return{c(){e=L("div"),o&&o.c(),_(e,"role","none"),_(e,"class","jse-absolute-popup svelte-1r8q3m8")},m(r,l){j(r,e,l),o&&o.m(e,null),n[8](e),t=!0,i||(s=[fe(tm,"mousedown",n[3],!0),fe(tm,"keydown",n[4],!0),fe(tm,"wheel",n[5],!0),fe(e,"mousedown",$L),fe(e,"keydown",n[4])],i=!0)},p(r,[l]){r[1]?o?(o.p(r,l),l&2&&k(o,1)):(o=cy(r),o.c(),k(o,1),o.m(e,null)):o&&(me(),M(o,1,1,()=>{o=null}),pe())},i(r){t||(k(o),t=!0)},o(r){M(o),t=!1},d(r){r&&B(e),o&&o.d(),n[8](null),i=!1,Tt(s)}}}function $L(n){n.stopPropagation()}function fy(n,e){function t(){if(e.anchor){const{anchor:f,width:u=0,height:h=0,offsetTop:d=0,offsetLeft:g=0,position:m}=e,{left:p,top:b,bottom:y,right:v}=f.getBoundingClientRect(),C=m==="top"||b+h>window.innerHeight&&b>h,w=m==="left"||p+u>window.innerWidth&&p>u;return{left:w?v-g:p+g,top:C?b-d:y+d,positionAbove:C,positionLeft:w}}else if(typeof e.left=="number"&&typeof e.top=="number"){const{left:f,top:u,width:h=0,height:d=0}=e,g=u+d>window.innerHeight&&u>d,m=f+h>window.innerWidth&&f>h;return{left:f,top:u,positionAbove:g,positionLeft:m}}else throw new Error('Invalid config: pass either "left" and "top", or pass "anchor"')}const i=n.getBoundingClientRect(),{left:s,top:o,positionAbove:r,positionLeft:l}=t(),a=r?`bottom: ${i.top-o}px;`:`top: ${o-i.top}px;`,c=l?`right: ${i.left-s}px;`:`left: ${s-i.left}px;`;return a+c}function eI(n,e,t){let{popup:i}=e,{closeAbsolutePopup:s}=e,o,r;_i(u);function l(g){i.options&&i.options.closeOnOuterClick&&!Kf(g.target,m=>m===o)&&s(i.id)}function a(g){l(g)}function c(g){Vo(g)==="Escape"&&s(i.id)}function f(g){l(g)}function u(){r&&r.focus()}function h(g){st[g?"unshift":"push"](()=>{r=g,t(2,r)})}function d(g){st[g?"unshift":"push"](()=>{o=g,t(1,o)})}return n.$$set=g=>{"popup"in g&&t(0,i=g.popup),"closeAbsolutePopup"in g&&t(6,s=g.closeAbsolutePopup)},[i,o,r,a,c,f,s,h,d]}class tI extends Te{constructor(e){super(),Pe(this,e,eI,ZL,Ot,{popup:0,closeAbsolutePopup:6})}}function uy(n,e,t){const i=n.slice();return i[6]=e[t],i}function hy(n){let e,t;return e=new tI({props:{popup:n[6],closeAbsolutePopup:n[1]}}),{c(){se(e.$$.fragment)},m(i,s){ne(e,i,s),t=!0},p(i,s){const o={};s&1&&(o.popup=i[6]),e.$set(o)},i(i){t||(k(e.$$.fragment,i),t=!0)},o(i){M(e.$$.fragment,i),t=!1},d(i){ie(e,i)}}}function nI(n){let e,t,i=ct(n[0]),s=[];for(let a=0;a<i.length;a+=1)s[a]=hy(uy(n,i,a));const o=a=>M(s[a],1,1,()=>{s[a]=null}),r=n[3].default,l=Dt(r,n,n[2],null);return{c(){for(let a=0;a<s.length;a+=1)s[a].c();e=X(),l&&l.c()},m(a,c){for(let f=0;f<s.length;f+=1)s[f]&&s[f].m(a,c);j(a,e,c),l&&l.m(a,c),t=!0},p(a,[c]){if(c&3){i=ct(a[0]);let f;for(f=0;f<i.length;f+=1){const u=uy(a,i,f);s[f]?(s[f].p(u,c),k(s[f],1)):(s[f]=hy(u),s[f].c(),k(s[f],1),s[f].m(e.parentNode,e))}for(me(),f=i.length;f<s.length;f+=1)o(f);pe()}l&&l.p&&(!t||c&4)&&It(l,r,a,a[2],t?Lt(r,a[2],c,null):Nt(a[2]),null)},i(a){if(!t){for(let c=0;c<i.length;c+=1)k(s[c]);k(l,a),t=!0}},o(a){s=s.filter(Boolean);for(let c=0;c<s.length;c+=1)M(s[c]);M(l,a),t=!1},d(a){a&&B(e),Tn(s,a),l&&l.d(a)}}}function iI(n,e,t){let{$$slots:i={},$$scope:s}=e;const o=qn("jsoneditor:AbsolutePopup");let r=[];function l(c,f,u){o("open...",f,u);const h={id:Jc(),component:c,props:f||{},options:u||{}};return t(0,r=[...r,h]),h.id}function a(c){const f=r.findIndex(u=>u.id===c);if(f!==-1){const u=r[f];u.options.onClose&&u.options.onClose(),t(0,r=r.filter(h=>h.id!==c))}}return K1("absolute-popup",{openAbsolutePopup:l,closeAbsolutePopup:a}),n.$$set=c=>{"$$scope"in c&&t(2,s=c.$$scope)},n.$$.update=()=>{n.$$.dirty&1&&o("popups",r)},[r,a,s,i]}class T4 extends Te{constructor(e){super(),Pe(this,e,iI,nI,ut,{})}}function zi(n){return n.map((e,t)=>E4.test(e)?"["+e+"]":/[.[\]]/.test(e)||e===""?'["'+sI(e)+'"]':(t>0?".":"")+e).join("")}function sI(n){return n.replace(/"/g,'\\"')}function oI(n){const e=[];let t=0;for(;t<n.length;)n[t]==="."&&t++,n[t]==="["?(t++,n[t]==='"'?(t++,e.push(i(o=>o==='"',!0)),s('"')):e.push(i(o=>o==="]")),s("]")):e.push(i(o=>o==="."||o==="["));function i(o,r=!1){let l="";for(;t<n.length&&!o(n[t]);)r&&n[t]==="\\"&&n[t+1]==='"'?(l+='"',t+=2):(l+=n[t],t++);return l}function s(o){if(n[t]!==o)throw new SyntaxError(`Invalid JSON path: ${o} expected at position ${t}`);t++}return e}function Rc(n){return{value:n,label:At(n)?"(item root)":zi(n)}}function Qr(n){return n.map(e=>E4.test(e)?`?.[${e}]`:rI.test(e)?`?.${e}`:`?.[${JSON.stringify(e)}]`).join("")}const rI=/^[a-zA-Z$_][a-zA-Z$_\d]*$/,E4=/^\d+$/;function lI(){return og(n=>n,zi)}function Yf(n,e){const t=new Set(e),i=n.replace(/ \(copy( \d+)?\)$/,"");let s=n,o=1;for(;t.has(s);){const r="copy"+(o>1?" "+o:"");s=`${i} (${r})`,o++}return s}function Ho(n,e){const t="...",i=e-t.length;return n.length>e?n.substring(0,i)+t:n}function aI(n){if(n==="")return"";const e=n.toLowerCase();if(e==="null")return null;if(e==="true")return!0;if(e==="false")return!1;if(e==="undefined")return;const t=Number(n),i=parseFloat(n);return!isNaN(t)&&!isNaN(i)?t:n}const cI=`
<p>
  Enter a JavaScript function to filter, sort, or transform the data.
</p>
`,fI={id:"javascript",name:"JavaScript",description:cI,createQuery:uI,executeQuery:hI};function uI(n,e){const{filter:t,sort:i,projection:s}=e,o=[`  return data
`];if(t&&t.path&&t.relation&&t.value){const r=`item => item${Qr(t.path)}`,l=aI(t.value),a=typeof l=="string"?`'${t.value}'`:YP(t.value)&&!Number.isSafeInteger(l)?`${t.value}n`:t.value;o.push(`    .filter(${r} ${t.relation} ${a})
`)}if(i&&i.path&&i.direction&&(i.direction==="desc"?o.push(`    .slice()
    .sort((a, b) => {
      // sort descending
      const valueA = a${Qr(i.path)}
      const valueB = b${Qr(i.path)}
      return valueA > valueB ? -1 : valueA < valueB ? 1 : 0
    })
`):o.push(`    .slice()
    .sort((a, b) => {
      // sort ascending
      const valueA = a${Qr(i.path)}
      const valueB = b${Qr(i.path)}
      return valueA > valueB ? 1 : valueA < valueB ? -1 : 0
    })
`)),s&&s.paths)if(s.paths.length>1){const r=s.paths.map(l=>{const a=l[l.length-1]||"item",c=`item${Qr(l)}`;return`      ${JSON.stringify(a)}: ${c}`});o.push(`    .map(item => ({
${r.join(`,
`)}})
    )
`)}else{const r=`item${Qr(s.paths[0])}`;o.push(`    .map(item => ${r})
`)}return`function query (data) {
${o.join("")}}`}function hI(n,e){const i=new Function(`"use strict";

`+e+`

if (typeof query !== "function") {
  throw new Error("Cannot execute query: expecting a function named 'query' but is undefined")
}

return query;
`)()(n);return i!==void 0?i:null}const dI={prefix:"far",iconName:"lightbulb",icon:[384,512,[128161],"f0eb","M297.2 248.9C311.6 228.3 320 203.2 320 176c0-70.7-57.3-128-128-128S64 105.3 64 176c0 27.2 8.4 52.3 22.8 72.9c3.7 5.3 8.1 11.3 12.8 17.7c0 0 0 0 0 0c12.9 17.7 28.3 38.9 39.8 59.8c10.4 19 15.7 38.8 18.3 57.5L109 384c-2.2-12-5.9-23.7-11.8-34.5c-9.9-18-22.2-34.9-34.5-51.8c0 0 0 0 0 0s0 0 0 0c-5.2-7.1-10.4-14.2-15.4-21.4C27.6 247.9 16 213.3 16 176C16 78.8 94.8 0 192 0s176 78.8 176 176c0 37.3-11.6 71.9-31.4 100.3c-5 7.2-10.2 14.3-15.4 21.4c0 0 0 0 0 0s0 0 0 0c-12.3 16.8-24.6 33.7-34.5 51.8c-5.9 10.8-9.6 22.5-11.8 34.5l-48.6 0c2.6-18.7 7.9-38.6 18.3-57.5c11.5-20.9 26.9-42.1 39.8-59.8c0 0 0 0 0 0s0 0 0 0s0 0 0 0c4.7-6.4 9-12.4 12.7-17.7zM192 128c-26.5 0-48 21.5-48 48c0 8.8-7.2 16-16 16s-16-7.2-16-16c0-44.2 35.8-80 80-80c8.8 0 16 7.2 16 16s-7.2 16-16 16zm0 384c-44.2 0-80-35.8-80-80l0-16 160 0 0 16c0 44.2-35.8 80-80 80z"]},gI={prefix:"far",iconName:"square-check",icon:[448,512,[9745,9989,61510,"check-square"],"f14a","M64 80c-8.8 0-16 7.2-16 16l0 320c0 8.8 7.2 16 16 16l320 0c8.8 0 16-7.2 16-16l0-320c0-8.8-7.2-16-16-16L64 80zM0 96C0 60.7 28.7 32 64 32l320 0c35.3 0 64 28.7 64 64l0 320c0 35.3-28.7 64-64 64L64 480c-35.3 0-64-28.7-64-64L0 96zM337 209L209 337c-9.4 9.4-24.6 9.4-33.9 0l-64-64c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0l47 47L303 175c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9z"]},yp=gI,_p={prefix:"far",iconName:"square",icon:[448,512,[9632,9723,9724,61590],"f0c8","M384 80c8.8 0 16 7.2 16 16l0 320c0 8.8-7.2 16-16 16L64 432c-8.8 0-16-7.2-16-16L48 96c0-8.8 7.2-16 16-16l320 0zM64 32C28.7 32 0 60.7 0 96L0 416c0 35.3 28.7 64 64 64l320 0c35.3 0 64-28.7 64-64l0-320c0-35.3-28.7-64-64-64L64 32z"]},mI={prefix:"far",iconName:"clock",icon:[512,512,[128339,"clock-four"],"f017","M464 256A208 208 0 1 1 48 256a208 208 0 1 1 416 0zM0 256a256 256 0 1 0 512 0A256 256 0 1 0 0 256zM232 120l0 136c0 8 4 15.5 10.7 20l96 64c11 7.4 25.9 4.4 33.3-6.7s4.4-25.9-6.7-33.3L280 243.2 280 120c0-13.3-10.7-24-24-24s-24 10.7-24 24z"]};function pI(n){let e;return{c(){e=wt("g")},m(t,i){j(t,e,i),e.innerHTML=n[0]},p(t,[i]){i&1&&(e.innerHTML=t[0])},i:ge,o:ge,d(t){t&&B(e)}}}function bI(n,e,t){let i=870711;function s(){return i+=1,`fa-${i.toString(16)}`}let o="",{data:r}=e;function l(a){if(!a||!a.raw)return"";let c=a.raw;const f={};return c=c.replace(/\s(?:xml:)?id=["']?([^"')\s]+)/g,(u,h)=>{const d=s();return f[h]=d,` id="${d}"`}),c=c.replace(/#(?:([^'")\s]+)|xpointer\(id\((['"]?)([^')]+)\2\)\))/g,(u,h,d,g)=>{const m=h||g;return!m||!f[m]?u:`#${f[m]}`}),c}return n.$$set=a=>{"data"in a&&t(1,r=a.data)},n.$$.update=()=>{n.$$.dirty&2&&t(0,o=l(r))},[o,r]}class yI extends Te{constructor(e){super(),Pe(this,e,bI,pI,Ot,{data:1})}}function _I(n){let e,t,i,s;const o=n[12].default,r=Dt(o,n,n[11],null);let l=[{version:"1.1"},{class:t="fa-icon "+n[0]},{width:n[1]},{height:n[2]},{"aria-label":n[9]},{role:i=n[9]?"img":"presentation"},{viewBox:n[3]},{style:n[8]},n[10]],a={};for(let c=0;c<l.length;c+=1)a=nt(a,l[c]);return{c(){e=wt("svg"),r&&r.c(),En(e,a),$(e,"fa-spin",n[4]),$(e,"fa-pulse",n[6]),$(e,"fa-inverse",n[5]),$(e,"fa-flip-horizontal",n[7]==="horizontal"),$(e,"fa-flip-vertical",n[7]==="vertical"),$(e,"svelte-1mc5hvj",!0)},m(c,f){j(c,e,f),r&&r.m(e,null),s=!0},p(c,[f]){r&&r.p&&(!s||f&2048)&&It(r,o,c,c[11],s?Lt(o,c[11],f,null):Nt(c[11]),null),En(e,a=pn(l,[{version:"1.1"},(!s||f&1&&t!==(t="fa-icon "+c[0]))&&{class:t},(!s||f&2)&&{width:c[1]},(!s||f&4)&&{height:c[2]},(!s||f&512)&&{"aria-label":c[9]},(!s||f&512&&i!==(i=c[9]?"img":"presentation"))&&{role:i},(!s||f&8)&&{viewBox:c[3]},(!s||f&256)&&{style:c[8]},f&1024&&c[10]])),$(e,"fa-spin",c[4]),$(e,"fa-pulse",c[6]),$(e,"fa-inverse",c[5]),$(e,"fa-flip-horizontal",c[7]==="horizontal"),$(e,"fa-flip-vertical",c[7]==="vertical"),$(e,"svelte-1mc5hvj",!0)},i(c){s||(k(r,c),s=!0)},o(c){M(r,c),s=!1},d(c){c&&B(e),r&&r.d(c)}}}function wI(n,e,t){const i=["class","width","height","box","spin","inverse","pulse","flip","style","label"];let s=Xt(e,i),{$$slots:o={},$$scope:r}=e,{class:l=""}=e,{width:a}=e,{height:c}=e,{box:f="0 0 0 0"}=e,{spin:u=!1}=e,{inverse:h=!1}=e,{pulse:d=!1}=e,{flip:g="none"}=e,{style:m=""}=e,{label:p=""}=e;return n.$$set=b=>{e=nt(nt({},e),kn(b)),t(10,s=Xt(e,i)),"class"in b&&t(0,l=b.class),"width"in b&&t(1,a=b.width),"height"in b&&t(2,c=b.height),"box"in b&&t(3,f=b.box),"spin"in b&&t(4,u=b.spin),"inverse"in b&&t(5,h=b.inverse),"pulse"in b&&t(6,d=b.pulse),"flip"in b&&t(7,g=b.flip),"style"in b&&t(8,m=b.style),"label"in b&&t(9,p=b.label),"$$scope"in b&&t(11,r=b.$$scope)},[l,a,c,f,u,h,d,g,m,p,s,r,o]}class vI extends Te{constructor(e){super(),Pe(this,e,wI,_I,Ot,{class:0,width:1,height:2,box:3,spin:4,inverse:5,pulse:6,flip:7,style:8,label:9})}}function dy(n,e,t){const i=n.slice();return i[24]=e[t],i}function gy(n,e,t){const i=n.slice();return i[27]=e[t],i}function my(n){let e,t=[n[27]],i={};for(let s=0;s<t.length;s+=1)i=nt(i,t[s]);return{c(){e=wt("path"),En(e,i)},m(s,o){j(s,e,o)},p(s,o){En(e,i=pn(t,[o&64&&s[27]]))},d(s){s&&B(e)}}}function py(n){let e,t=[n[24]],i={};for(let s=0;s<t.length;s+=1)i=nt(i,t[s]);return{c(){e=wt("polygon"),En(e,i)},m(s,o){j(s,e,o)},p(s,o){En(e,i=pn(t,[o&64&&s[24]]))},d(s){s&&B(e)}}}function by(n){let e,t,i;function s(r){n[16](r)}let o={};return n[6]!==void 0&&(o.data=n[6]),e=new yI({props:o}),st.push(()=>Qn(e,"data",s)),{c(){se(e.$$.fragment)},m(r,l){ne(e,r,l),i=!0},p(r,l){const a={};!t&&l&64&&(t=!0,a.data=r[6],Gn(()=>t=!1)),e.$set(a)},i(r){i||(k(e.$$.fragment,r),i=!0)},o(r){M(e.$$.fragment,r),i=!1},d(r){ie(e,r)}}}function kI(n){var f,u,h;let e,t,i,s,o=ct(((f=n[6])==null?void 0:f.paths)||[]),r=[];for(let d=0;d<o.length;d+=1)r[d]=my(gy(n,o,d));let l=ct(((u=n[6])==null?void 0:u.polygons)||[]),a=[];for(let d=0;d<l.length;d+=1)a[d]=py(dy(n,l,d));let c=((h=n[6])==null?void 0:h.raw)&&by(n);return{c(){for(let d=0;d<r.length;d+=1)r[d].c();e=X();for(let d=0;d<a.length;d+=1)a[d].c();t=X(),c&&c.c(),i=gt()},m(d,g){for(let m=0;m<r.length;m+=1)r[m]&&r[m].m(d,g);j(d,e,g);for(let m=0;m<a.length;m+=1)a[m]&&a[m].m(d,g);j(d,t,g),c&&c.m(d,g),j(d,i,g),s=!0},p(d,g){var m,p,b;if(g&64){o=ct(((m=d[6])==null?void 0:m.paths)||[]);let y;for(y=0;y<o.length;y+=1){const v=gy(d,o,y);r[y]?r[y].p(v,g):(r[y]=my(v),r[y].c(),r[y].m(e.parentNode,e))}for(;y<r.length;y+=1)r[y].d(1);r.length=o.length}if(g&64){l=ct(((p=d[6])==null?void 0:p.polygons)||[]);let y;for(y=0;y<l.length;y+=1){const v=dy(d,l,y);a[y]?a[y].p(v,g):(a[y]=py(v),a[y].c(),a[y].m(t.parentNode,t))}for(;y<a.length;y+=1)a[y].d(1);a.length=l.length}(b=d[6])!=null&&b.raw?c?(c.p(d,g),g&64&&k(c,1)):(c=by(d),c.c(),k(c,1),c.m(i.parentNode,i)):c&&(me(),M(c,1,1,()=>{c=null}),pe())},i(d){s||(k(c),s=!0)},o(d){M(c),s=!1},d(d){d&&(B(e),B(t),B(i)),Tn(r,d),Tn(a,d),c&&c.d(d)}}}function SI(n){let e;const t=n[15].default,i=Dt(t,n,n[17],null),s=i||kI(n);return{c(){s&&s.c()},m(o,r){s&&s.m(o,r),e=!0},p(o,r){i?i.p&&(!e||r&131072)&&It(i,t,o,o[17],e?Lt(t,o[17],r,null):Nt(o[17]),null):s&&s.p&&(!e||r&64)&&s.p(o,e?r:-1)},i(o){e||(k(s,o),e=!0)},o(o){M(s,o),e=!1},d(o){s&&s.d(o)}}}function CI(n){let e,t;const i=[{label:n[5]},{width:n[7]},{height:n[8]},{box:n[10]},{style:n[9]},{spin:n[1]},{flip:n[4]},{inverse:n[2]},{pulse:n[3]},{class:n[0]},n[11]];let s={$$slots:{default:[SI]},$$scope:{ctx:n}};for(let o=0;o<i.length;o+=1)s=nt(s,i[o]);return e=new vI({props:s}),{c(){se(e.$$.fragment)},m(o,r){ne(e,o,r),t=!0},p(o,[r]){const l=r&4031?pn(i,[r&32&&{label:o[5]},r&128&&{width:o[7]},r&256&&{height:o[8]},r&1024&&{box:o[10]},r&512&&{style:o[9]},r&2&&{spin:o[1]},r&16&&{flip:o[4]},r&4&&{inverse:o[2]},r&8&&{pulse:o[3]},r&1&&{class:o[0]},r&2048&&vl(o[11])]):{};r&131136&&(l.$$scope={dirty:r,ctx:o}),e.$set(l)},i(o){t||(k(e.$$.fragment,o),t=!0)},o(o){M(e.$$.fragment,o),t=!1},d(o){ie(e,o)}}}let yy=1;function MI(n){let e,t;if(n)if("definition"in n){console.error("`import faIconName from '@fortawesome/package-name/faIconName` not supported - Please use `import { faIconName } from '@fortawesome/package-name/faIconName'` instead");return}else if("iconName"in n&&"icon"in n){e=n.iconName;const[i,s,,,o]=n.icon,r=Array.isArray(o)?o:[o];t={width:i,height:s,paths:r.map(l=>({d:l}))}}else e=Object.keys(n)[0],t=n[e];else return;return t}function AI(n,e,t){const i=["class","data","scale","spin","inverse","pulse","flip","label","style"];let s=Xt(e,i),{$$slots:o={},$$scope:r}=e,{class:l=""}=e,{data:a}=e,c,{scale:f=1}=e,{spin:u=!1}=e,{inverse:h=!1}=e,{pulse:d=!1}=e,{flip:g=void 0}=e,{label:m=""}=e,{style:p=""}=e,b=10,y=10,v,C;function w(){let E=1;return typeof f<"u"&&(E=Number(f)),isNaN(E)||E<=0?(console.warn('Invalid prop: prop "scale" should be a number over 0.'),yy):E*yy}function S(){return c?`0 0 ${c.width} ${c.height}`:`0 0 ${b} ${y}`}function x(){return c?Math.max(c.width,c.height)/16:1}function T(){return c?c.width/x()*w():0}function P(){return c?c.height/x()*w():0}function D(){let E="";p!==null&&(E+=p);let N=w();return N===1?E.length===0?"":E:(E!==""&&!E.endsWith(";")&&(E+="; "),`${E}font-size: ${N}em`)}function O(E){c=E,t(6,c),t(12,a),t(14,p),t(13,f)}return n.$$set=E=>{e=nt(nt({},e),kn(E)),t(11,s=Xt(e,i)),"class"in E&&t(0,l=E.class),"data"in E&&t(12,a=E.data),"scale"in E&&t(13,f=E.scale),"spin"in E&&t(1,u=E.spin),"inverse"in E&&t(2,h=E.inverse),"pulse"in E&&t(3,d=E.pulse),"flip"in E&&t(4,g=E.flip),"label"in E&&t(5,m=E.label),"style"in E&&t(14,p=E.style),"$$scope"in E&&t(17,r=E.$$scope)},n.$$.update=()=>{n.$$.dirty&28672&&(t(6,c=MI(a)),t(7,b=T()),t(8,y=P()),t(9,v=D()),t(10,C=S()))},[l,u,h,d,g,m,c,b,y,v,C,s,a,f,p,o,O,r]}class St extends Te{constructor(e){super(),Pe(this,e,AI,CI,Ot,{class:0,data:12,scale:13,spin:1,inverse:2,pulse:3,flip:4,label:5,style:14})}}function xI(n){let e,t,i,s,o,r,l;return t=new St({props:{data:n[0]===!0?yp:_p}}),{c(){e=L("div"),se(t.$$.fragment),_(e,"role","checkbox"),_(e,"tabindex","-1"),_(e,"aria-checked",i=n[0]===!0),_(e,"class","jse-boolean-toggle svelte-68vtq4"),_(e,"title",s=n[1]?`Boolean value ${n[0]}`:"Click to toggle this boolean value"),$(e,"jse-readonly",n[1])},m(a,c){j(a,e,c),ne(t,e,null),o=!0,r||(l=fe(e,"mousedown",n[2]),r=!0)},p(a,[c]){const f={};c&1&&(f.data=a[0]===!0?yp:_p),t.$set(f),(!o||c&1&&i!==(i=a[0]===!0))&&_(e,"aria-checked",i),(!o||c&3&&s!==(s=a[1]?`Boolean value ${a[0]}`:"Click to toggle this boolean value"))&&_(e,"title",s),(!o||c&2)&&$(e,"jse-readonly",a[1])},i(a){o||(k(t.$$.fragment,a),o=!0)},o(a){M(t.$$.fragment,a),o=!1},d(a){a&&B(e),ie(t),r=!1,l()}}}function OI(n,e,t){let{path:i}=e,{value:s}=e,{readOnly:o}=e,{onPatch:r}=e,{focus:l}=e;function a(c){c.stopPropagation(),!o&&(r([{op:"replace",path:Oe(i),value:!s}]),l())}return n.$$set=c=>{"path"in c&&t(3,i=c.path),"value"in c&&t(0,s=c.value),"readOnly"in c&&t(1,o=c.readOnly),"onPatch"in c&&t(4,r=c.onPatch),"focus"in c&&t(5,l=c.focus)},[s,o,a,i,r,l]}class PI extends Te{constructor(e){super(),Pe(this,e,OI,xI,ut,{path:3,value:0,readOnly:1,onPatch:4,focus:5})}}function TI(n){let e;return{c(){e=L("div"),_(e,"class","jse-color-picker-popup svelte-1f4ayrt")},m(t,i){j(t,e,i),n[4](e)},p:ge,i:ge,o:ge,d(t){t&&B(e),n[4](null)}}}function EI(n,e,t){let{color:i}=e,{onChange:s}=e,{showOnTop:o}=e,r,l=()=>{};_i(async()=>{var u;const c=(u=await vx(async()=>{const{default:h}=await import("./vanilla-picker-B6E6ObS_.js");return{default:h}},[]))==null?void 0:u.default,f=new c({parent:r,color:i,popup:o?"top":"bottom",onDone(h){const g=h.rgba[3]===1?h.hex.substring(0,7):h.hex;s(g)}});f.show(),l=()=>{f.destroy()}}),Ti(()=>{l()});function a(c){st[c?"unshift":"push"](()=>{r=c,t(0,r)})}return n.$$set=c=>{"color"in c&&t(1,i=c.color),"onChange"in c&&t(2,s=c.onChange),"showOnTop"in c&&t(3,o=c.showOnTop)},[r,i,s,o,a]}class RI extends Te{constructor(e){super(),Pe(this,e,EI,TI,Ot,{color:1,onChange:2,showOnTop:3})}}function DI(n){let e,t,i,s;return{c(){e=L("button"),_(e,"type","button"),_(e,"class","jse-color-picker-button svelte-1zzxwe"),gi(e,"background",n[2]),_(e,"title",t=n[1]?`Color ${n[0]}`:"Click to open a color picker"),$(e,"jse-readonly",n[1])},m(o,r){j(o,e,r),i||(s=fe(e,"click",n[3]),i=!0)},p(o,[r]){r&4&&gi(e,"background",o[2]),r&3&&t!==(t=o[1]?`Color ${o[0]}`:"Click to open a color picker")&&_(e,"title",t),r&2&&$(e,"jse-readonly",o[1])},i:ge,o:ge,d(o){o&&B(e),i=!1,s()}}}function LI(n,e,t){let i;const{openAbsolutePopup:s}=Wn("absolute-popup");let{path:o}=e,{value:r}=e,{readOnly:l}=e,{onPatch:a}=e,{focus:c}=e;function f(d){a([{op:"replace",path:Oe(o),value:d}]),u()}function u(){c()}function h(d){var C;if(l)return;const g=300,m=d.target,p=m.getBoundingClientRect().top,y=(((C=oc(m))==null?void 0:C.innerHeight)??0)-p<g&&p>g;s(RI,{color:r,onChange:f,showOnTop:y},{anchor:m,closeOnOuterClick:!0,onClose:u,offsetTop:18,offsetLeft:-8,height:g})}return n.$$set=d=>{"path"in d&&t(4,o=d.path),"value"in d&&t(0,r=d.value),"readOnly"in d&&t(1,l=d.readOnly),"onPatch"in d&&t(5,a=d.onPatch),"focus"in d&&t(6,c=d.focus)},n.$$.update=()=>{n.$$.dirty&1&&t(2,i=N3(r))},[r,l,i,h,o,a,c]}class II extends Te{constructor(e){super(),Pe(this,e,LI,DI,ut,{path:4,value:0,readOnly:1,onPatch:5,focus:6})}}function NI(n,e){const t={start:n,end:Math.min(wp(n),e)},i=Math.max(Gh((n+e)/2),n),s={start:i,end:Math.min(wp(i),e)},o=Gh(e),r=o===e?o-af:o,l={start:Math.max(r,n),end:e},a=[t],c=s.start>=t.end&&s.end<=l.start;return c&&a.push(s),l.start>=(c?s.end:t.end)&&a.push(l),a}function R4(n){const e=CL(n,i=>i.start),t=[e[0]];for(let i=0;i<e.length;i++){const s=t.length-1,o=t[s],r=e[i];r.start<=o.end?t[s]={start:Math.min(o.start,r.start),end:Math.max(o.end,r.end)}:t.push(r)}return t}function BI(n,e){return n.some(t=>e>=t.start&&e<t.end)}function wp(n){return Gh(n)+af}function Gh(n){return Math.floor(n/af)*af}function Qh(n){let e={expandedMap:{},enforceStringMap:{},visibleSectionsMap:{},selection:null,sortedColumn:null};return n!=null&&n.select&&n.json!==void 0&&(e={...e,selection:n.select(n.json,e)}),n!=null&&n.expand&&(e=os(n.json,e,[],n.expand)),e}function fg(n,e){return n.visibleSectionsMap[e]||kl}function v0(n,e,t){e.forEach(({start:i,end:s})=>{m4(i,Math.min(n.length,s),t)})}function vp(n,e,t){const i={...e.expandedMap},s={...e.visibleSectionsMap};for(let o=0;o<t.length;o++){const r=t.slice(0,o),l=Oe(r),a=ze(n,r);if(hn(a)&&(i[l]=!0),Array.isArray(a)&&o<t.length){const c=s[l]||kl,f=ri(t[o]);if(!BI(c,f)){const u=Gh(f),h=wp(u),d={start:u,end:h};s[l]=R4(c.concat(d))}}}return{...e,expandedMap:i,visibleSectionsMap:s}}function os(n,e,t,i){const s={...e.expandedMap};function o(a){const c=r.length;if(Array.isArray(a)){if(i(r)){const f=Oe(r);if(s[f]=!0,a.length>0){const u=fg(e,f);v0(a,u,h=>{r[c]=String(h),o(a[h])}),r.pop()}}}else if(Kt(a)&&i(r)){s[Oe(r)]=!0;const f=Object.keys(a);if(f.length>0){for(const u of f)r[c]=u,o(a[u]);r.pop()}}}const r=t.slice(),l=n!==void 0?ze(n,t):n;return l!==void 0&&o(l),{...e,expandedMap:s}}function jI(n,e){return{...n,expandedMap:{...n.expandedMap,[Oe(e)]:!0}}}function D4(n,e){const t=ka(n.expandedMap,e),i=ka(n.enforceStringMap,e),s=ka(n.visibleSectionsMap,e);return{...n,expandedMap:t,enforceStringMap:i,visibleSectionsMap:s}}function L4(n,e,t){if(t){const i={...n.enforceStringMap};return i[e]=t,{...n,enforceStringMap:i}}else if(typeof n.enforceStringMap[e]=="boolean"){const i={...n.enforceStringMap};return delete i[e],{...n,enforceStringMap:i}}else return n}function zI(n,e,t,i){return{...e,visibleSectionsMap:{...e.visibleSectionsMap,[t]:R4(fg(e,t).concat(i))}}}function I4(n,e,t){const i=Es(n,t),s=t.reduce((o,r)=>v3(r)?N4(i,o,r):k3(r)?B4(i,o,r):Z1(r)?FI(i,o,r):ip(r)||Ia(r)?VI(i,o,r):o,e);return{json:i,documentState:s}}function N4(n,e,t){const i=ao(n,t.path),s=vt(i),o=Oe(s),r=ze(n,s);if(Yt(r)){const l=ri(bt(i)),a=Sa(e.expandedMap,s,l,1),c=Sa(e.enforceStringMap,s,l,1);let f=Sa(e.visibleSectionsMap,s,l,1);return f=j4(f,o,u=>z4(u,l,1)),{...e,expandedMap:a,enforceStringMap:c,visibleSectionsMap:f}}return e}function B4(n,e,t){const i=ao(n,t.path),s=vt(i),o=Oe(s),r=ze(n,s);let{expandedMap:l,enforceStringMap:a,visibleSectionsMap:c}=e;if(l=ka(l,i),a=ka(a,i),c=ka(c,i),Yt(r)){const f=ri(bt(i));l=Sa(l,s,f,-1),a=Sa(a,s,f,-1),c=Sa(c,s,f,-1),c=j4(c,o,u=>z4(u,f,-1))}return{...e,expandedMap:l,enforceStringMap:a,visibleSectionsMap:c}}function FI(n,e,t){const i=t.path,s=om(n,e.expandedMap),o=om(n,e.enforceStringMap),r=om(n,e.visibleSectionsMap);return!bn(t.value)&&!Yt(t.value)&&delete s[i],Yt(t.value)||delete r[i],(bn(t.value)||Yt(t.value))&&delete o[i],{...e,expandedMap:s,enforceStringMap:o,visibleSectionsMap:r}}function VI(n,e,t){if(Ia(t)&&t.from===t.path)return e;const i=u=>t.path+u.substring(t.from.length),s=sm(nm(e.expandedMap,t.from),i),o=sm(nm(e.enforceStringMap,t.from),i),r=sm(nm(e.visibleSectionsMap,t.from),i);let l=e;Ia(t)&&(l=B4(n,l,{op:"remove",path:t.from})),l=N4(n,l,{op:"add",path:t.path,value:null});const a=im(l.expandedMap,s),c=im(l.enforceStringMap,o),f=im(l.visibleSectionsMap,r);return{...e,expandedMap:a,enforceStringMap:c,visibleSectionsMap:f}}function ka(n,e){const t={},i=Oe(e);return Object.keys(n).forEach(s=>{Yd(s,i)||(t[s]=n[s])}),t}function nm(n,e){const t={};return Object.keys(n).forEach(i=>{Yd(i,e)&&(t[i]=n[i])}),t}function im(n,e){return{...n,...e}}function sm(n,e){const t={};return Object.keys(n).forEach(i=>{const s=e(i);t[s]=n[i]}),t}function Sa(n,e,t,i){const s=e.length,o=Oe(e),r=[];for(const a of Object.keys(n))if(Yd(a,o)){const c=Ls(a),f=ri(c[s]);f>=t&&(c[s]=String(f+i),r.push({oldPointer:a,newPointer:Oe(c),value:n[a]}))}if(r.length===0)return n;const l={...n};return r.forEach(a=>{delete l[a.oldPointer]}),r.forEach(a=>{l[a.newPointer]=a.value}),l}function om(n,e){const t={};return Object.keys(e).filter(i=>us(n,ao(n,i))).forEach(i=>{t[i]=e[i]}),t}function j4(n,e,t){const i=n[e];if(e in n){const s=t(i);if(!_t(i,s)){const o={...n};return s===void 0?delete o[e]:o[e]=s,o}}return n}function z4(n,e,t){const i=n.map(s=>({start:s.start>e?s.start+t:s.start,end:s.end>e?s.end+t:s.end}));return HI(i)}function HI(n){const e=n.slice(0);let t=1;for(;t<e.length;)e[t-1].end===e[t].start&&(e[t-1]={start:e[t-1].start,end:e[t].end},e.splice(t)),t++;return e}function Wo(n,e,t,i){const s=e?e[t]:void 0;return typeof s=="boolean"?s:KP(n,i)}function Xf(n,e,t=!1){const i=n.indexOf(e);return i!==-1?t?n.slice(i):n.slice(i+1):[]}function k0(n,e){const t=[];function i(s,o){t.push(o);const r=Oe(o);if(s&&e.expandedMap[r]===!0){if(Yt(s)){const l=fg(e,r);v0(s,l,a=>{i(s[a],o.concat(String(a)))})}bn(s)&&Object.keys(s).forEach(l=>{i(s[l],o.concat(l))})}}return i(n,[]),t}function F4(n,e,t=!0){const i=[];function s(o,r){i.push({path:r,type:As.value});const l=Oe(r);if(o&&e.expandedMap[l]===!0){if(t&&i.push({path:r,type:As.inside}),Yt(o)){const a=fg(e,l);v0(o,a,c=>{const f=r.concat(String(c));s(o[c],f),t&&i.push({path:f,type:As.after})})}bn(o)&&Object.keys(o).forEach(c=>{const f=r.concat(c);i.push({path:f,type:As.key}),s(o[c],f),t&&i.push({path:f,type:As.after})})}}return s(n,[]),i}function WI(n,e,t){const i=k0(n,e),s=i.map(Oe),o=Oe(t),r=s.indexOf(o);return r!==-1&&r>0?i[r-1]:null}function kp(n,e,t){const i=k0(n,e),o=i.map(Oe).indexOf(Oe(t));return o!==-1&&o<i.length-1?i[o+1]:null}function cr(n,e,t){const i=ze(n,t);if(i===void 0)return e;const o=!_4({json:i},w3)?gf:so;return os(n,e,t,o)}function so(n){return n.length===0?!0:n.length===1&&n[0]==="0"}function gf(){return!0}function qI(n){return _4({json:n},w3)?so:gf}function Bi(n){return n&&n.type===Jt.after||!1}function xn(n){return n&&n.type===Jt.inside||!1}function Mn(n){return n&&n.type===Jt.key||!1}function Mt(n){return n&&n.type===Jt.value||!1}function Ut(n){return n&&n.type===Jt.multi||!1}function ug(n){return Ut(n)&&_t(n.focusPath,n.anchorPath)}function S0(n){return Ut(n)||Bi(n)||xn(n)||Mn(n)||Mt(n)}function rm(n){return n&&n.type===Jt.text||!1}function Or(n,e){const t=[];return UI(n,e,i=>{t.push(i)}),t}function UI(n,e,t){if(!e)return;const i=xl(e),s=Xe(e);if(_t(i,s))return t(i);{if(n===void 0)return;const o=W4(i,s);if(i.length===o.length||s.length===o.length)return t(o);const r=pi(i,s),l=qo(n,r),a=Fr(n,r),c=jo(n,r,l),f=jo(n,r,a);if(c===-1||f===-1)return;const u=ze(n,o);if(bn(u)){const h=Object.keys(u);for(let d=c;d<=f;d++){const g=t(o.concat(h[d]));if(g!==void 0)return g}return}if(Yt(u)){for(let h=c;h<=f;h++){const d=t(o.concat(String(h)));if(d!==void 0)return d}return}}throw new Error("Failed to create selection")}function V4(n){return xn(n)?n.path:vt(Xe(n))}function qo(n,e){if(!Ut(e))return e.path;const t=jo(n,e,e.anchorPath);return jo(n,e,e.focusPath)<t?e.focusPath:e.anchorPath}function Fr(n,e){if(!Ut(e))return e.path;const t=jo(n,e,e.anchorPath);return jo(n,e,e.focusPath)>t?e.focusPath:e.anchorPath}function JI(n,e){return Uo(Xe(n),e)&&(Xe(n).length>e.length||xn(n))}function _y(n,e,t=!1){const i=e.selection;if(!i)return null;const s=t?Xe(i):qo(n,i),o=WI(n,e,s);if(t)return xn(i)||Bi(i)?o!==null?pi(s,s):null:o!==null?pi(xl(i),o):null;if(Bi(i)||xn(i))return ht(s,!1);if(Mn(i)){if(o==null||o.length===0)return null;const r=vt(o),l=ze(n,r);return Array.isArray(l)||At(o)?ht(o,!1):hs(o,!1)}return Mt(i),o!==null?ht(o,!1):null}function KI(n,e,t=!1){const i=e.selection;if(!i)return null;const s=t?Xe(i):Fr(n,i),o=hn(ze(n,s))?D4(e,s):e,r=kp(n,e,s),l=kp(n,o,s);if(t)return xn(i)?r!==null?pi(r,r):null:Bi(i)?l!==null?pi(l,l):null:l!==null?pi(xl(i),l):null;if(Bi(i))return l!==null?ht(l,!1):null;if(xn(i)||Mt(i))return r!==null?ht(r,!1):null;if(Mn(i)){if(r===null||r.length===0)return null;const a=vt(r),c=ze(n,a);return Array.isArray(c)?ht(r,!1):hs(r,!1)}return Ut(i)?l!==null?ht(l,!1):r!==null?ht(r,!1):null:null}function YI(n,e,t){const i=vt(t),s=[bt(t)],o=ze(n,i),r=o?kp(o,e,s):void 0;return r?ht(i.concat(r),!1):Ko(t)}function H4(n,e,t){const i=e.selection;if(!i)return{caret:null,previous:null,next:null};const s=F4(n,e,t),o=s.findIndex(r=>_t(r.path,Xe(i))&&String(r.type)===String(i.type));return{caret:o!==-1?s[o]:null,previous:o!==-1&&o>0?s[o-1]:null,next:o!==-1&&o<s.length-1?s[o+1]:null}}function XI(n,e,t=!1,i=!0){const s=e.selection;if(!s)return null;const{caret:o,previous:r}=H4(n,e,i);if(t)return Ut(s)?null:pi(s.path,s.path);if(o&&r)return C0(r);const l=vt(Xe(s)),a=ze(n,l);return Mt(s)&&Array.isArray(a)?pi(s.path,s.path):Ut(s)&&!Array.isArray(a)?hs(s.focusPath,!1):null}function GI(n,e,t=!1,i=!0){const s=e.selection;if(!s)return null;const{caret:o,next:r}=H4(n,e,i);return t?Ut(s)?null:pi(s.path,s.path):o&&r?C0(r):Ut(s)?ht(s.focusPath,!1):null}function ta(n,e){const t=k0(n,e);let i=0;for(;i<t.length-1&&t[i+1].length>t[i].length;)i++;const s=t[i];return s===void 0||s.length===0||Array.isArray(ze(n,vt(s)))?ht(s,!1):hs(s,!1)}function Va(n,e){if(e.length===1){const i=Bo(e);if(i.op==="replace"){const s=ao(n,i.path);return ht(s,!1)}}if(!At(e)&&e.every(i=>i.op==="move")){const i=Bo(e),s=e.slice(1);if((ip(i)||Ia(i))&&i.from!==i.path&&s.every(o=>(ip(o)||Ia(o))&&o.from===o.path)){const o=ao(n,i.path);return hs(o,!1)}}const t=e.filter(i=>i.op!=="test"&&i.op!=="remove"&&(i.op!=="move"||i.from!==i.path)&&typeof i.path=="string").map(i=>ao(n,i.path));return At(t)?null:{type:Jt.multi,anchorPath:Bo(t),focusPath:bt(t)}}function W4(n,e){let t=0;for(;t<n.length&&t<e.length&&n[t]===e[t];)t++;return n.slice(0,t)}function Zh(n){return Mn(n)||Mt(n)||ug(n)}function wy(n,e){return Zh(e)&&hn(ze(n,Xe(e)))?Xe(e):vt(Xe(e))}function Uo(n,e){if(n.length<e.length)return!1;for(let t=0;t<e.length;t++)if(n[t]!==e[t])return!1;return!0}function ui(n){const e=n.selection;return(Mn(e)||Mt(e))&&e.edit?{...n,selection:{...e,edit:!1}}:n}function hs(n,e){return{type:Jt.key,path:n,edit:e}}function ht(n,e){return{type:Jt.value,path:n,edit:e}}function Jo(n){return{type:Jt.inside,path:n}}function Ko(n){return{type:Jt.after,path:n}}function pi(n,e){const t=W4(n,e),i=n.length>t.length&&e.length>t.length;return{type:Jt.multi,anchorPath:i?t.concat(n[t.length]):t,focusPath:i?t.concat(e[t.length]):t}}function q4(n,e,t,i){if(Mn(e))return String(bt(e.path));if(Mt(e)){const s=ze(n,e.path);return typeof s=="string"?s:i.stringify(s,null,t)??null}if(Ut(e)){if(At(e.focusPath))return i.stringify(n,null,t)??null;const s=V4(e),o=ze(n,s);if(Array.isArray(o))if(ug(e)){const r=ze(n,e.focusPath);return i.stringify(r,null,t)??null}else return Or(n,e).map(r=>{const l=ze(n,r);return`${i.stringify(l,null,t)},`}).join(`
`);else return Or(n,e).map(r=>{const l=bt(r),a=ze(n,r);return`${i.stringify(l)}: ${i.stringify(a,null,t)},`}).join(`
`)}return null}function vi(n){return(Mn(n)||Mt(n))&&n.edit===!0}function QI(n,e,t=!0){return!e&&!t?n:{...n,selection:e}}function ZI(){return ht([],!1)}function rc(n){return Mn(n)||Mt(n)||Ut(n)}function wh(n){return Mn(n)||Mt(n)||ug(n)}function C0(n){switch(n.type){case As.key:return hs(n.path,!1);case As.value:return ht(n.path,!1);case As.after:return Ko(n.path);case As.inside:return Jo(n.path)}}function vy(n,e,t){switch(e){case Jt.key:return hs(t,!1);case Jt.value:return ht(t,!1);case Jt.after:return Ko(t);case Jt.inside:return Jo(t);case Jt.multi:case Jt.text:return pi(t,t)}}function ky(n,e,t){if(!e)return null;if(mf(n,e,t))return e;const i=Ut(e)?vt(e.focusPath):e.path;return Uo(i,t)?e:null}function mf(n,e,t){if(n===void 0||!e)return!1;if(Mn(e)||xn(e)||Bi(e))return _t(e.path,t);if(Mt(e))return Uo(t,e.path);if(Ut(e)){const i=qo(n,e),s=Fr(n,e),o=vt(e.focusPath);if(!Uo(t,o)||t.length<=o.length)return!1;const r=jo(n,e,i),l=jo(n,e,s),a=jo(n,e,t);return a!==-1&&a>=r&&a<=l}return!1}function jo(n,e,t){const i=vt(e.focusPath);if(!Uo(t,i)||t.length<=i.length)return-1;const s=t[i.length],o=ze(n,i);if(bn(o))return Object.keys(o).indexOf(s);if(Yt(o)){const r=ri(s);if(r<o.length)return r}return-1}function Xe(n){return Ut(n)?n.focusPath:n.path}function xl(n){return Ut(n)?n.anchorPath:n.path}function mo(...n){const e=[];for(const t of n)if(typeof t=="string"&&e.push(t),t&&typeof t=="object")for(const i in t)Object.hasOwnProperty.call(t,i)&&t[i]&&e.push(i);return e.join(" ")}function Sp(n,e){const t=r0(n,e);return mo("jse-value","jse-"+t,{"jse-url":Gd(n),"jse-empty":typeof n=="string"&&n.length===0})}function $I(n){let e,t,i,s;return{c(){e=L("div"),_(e,"role","textbox"),_(e,"tabindex","0"),_(e,"class",t=_n(mo("jse-editable-div",n[2],{"jse-short-text":n[0]}))+" svelte-zwlnit"),_(e,"contenteditable","true"),_(e,"spellcheck","false")},m(o,r){j(o,e,r),n[13](e),i||(s=[fe(e,"input",n[3]),fe(e,"keydown",n[4]),fe(e,"paste",n[5]),fe(e,"blur",n[6])],i=!0)},p(o,[r]){r&5&&t!==(t=_n(mo("jse-editable-div",o[2],{"jse-short-text":o[0]}))+" svelte-zwlnit")&&_(e,"class",t)},i:ge,o:ge,d(o){o&&B(e),n[13](null),i=!1,Tt(s)}}}function e9(n,e,t){const i=qn("jsoneditor:EditableDiv");let{value:s}=e,{shortText:o=!1}=e,{onChange:r}=e,{onCancel:l}=e,{onFind:a}=e,{onPaste:c=Kn}=e,{onValueClass:f=()=>""}=e,u,h,d=!1;_i(()=>{i("onMount",{value:s}),m(s),u&&(A4(u),t(1,u.refresh=p,u),t(1,u.cancel=b,u))}),Ti(()=>{const S=g();i("onDestroy",{closed:d,value:s,newValue:S}),!d&&S!==s&&r(S,vr.no)});function g(){return u?JL(u.innerText):""}function m(S){u&&t(1,u.innerText=Al(S),u)}function p(){const S=g();S===""&&m(""),t(2,h=f(S))}function b(){d=!0,l()}function y(S){S.stopPropagation();const x=Vo(S);if(x==="Escape"&&b(),x==="Enter"||x==="Tab"){d=!0;const T=g();r(T,vr.nextInside)}x==="Ctrl+F"&&(S.preventDefault(),a(!1)),x==="Ctrl+H"&&(S.preventDefault(),a(!0))}function v(S){if(S.stopPropagation(),!c||!S.clipboardData)return;const x=S.clipboardData.getData("text/plain");c(x)}function C(){const S=document.hasFocus(),x=g();i("handleBlur",{hasFocus:S,closed:d,value:s,newValue:x}),document.hasFocus()&&!d&&(d=!0,x!==s&&r(x,vr.self))}function w(S){st[S?"unshift":"push"](()=>{u=S,t(1,u)})}return n.$$set=S=>{"value"in S&&t(7,s=S.value),"shortText"in S&&t(0,o=S.shortText),"onChange"in S&&t(8,r=S.onChange),"onCancel"in S&&t(9,l=S.onCancel),"onFind"in S&&t(10,a=S.onFind),"onPaste"in S&&t(11,c=S.onPaste),"onValueClass"in S&&t(12,f=S.onValueClass)},n.$$.update=()=>{n.$$.dirty&4224&&t(2,h=f(s))},[o,u,h,p,y,v,C,s,r,l,a,c,f,w]}class U4 extends Te{constructor(e){super(),Pe(this,e,e9,$I,ut,{value:7,shortText:0,onChange:8,onCancel:9,onFind:10,onPaste:11,onValueClass:12})}}function t9(n){let e,t;return e=new U4({props:{value:n[1].escapeValue(n[0]),onChange:n[3],onCancel:n[4],onPaste:n[5],onFind:n[2],onValueClass:n[6]}}),{c(){se(e.$$.fragment)},m(i,s){ne(e,i,s),t=!0},p(i,[s]){const o={};s&3&&(o.value=i[1].escapeValue(i[0])),s&4&&(o.onFind=i[2]),e.$set(o)},i(i){t||(k(e.$$.fragment,i),t=!0)},o(i){M(e.$$.fragment,i),t=!1},d(i){ie(e,i)}}}function n9(n,e,t){let{path:i}=e,{value:s}=e,{parser:o}=e,{normalization:r}=e,{enforceString:l}=e,{onPatch:a}=e,{onPasteJson:c}=e,{onSelect:f}=e,{onFind:u}=e,{focus:h}=e,{findNextInside:d}=e;function g(v){return l?v:tc(v,o)}function m(v,C){a([{op:"replace",path:Oe(i),value:g(r.unescapeValue(v))}],(w,S)=>{if(S.selection&&!_t(i,Xe(S.selection)))return;const x=C===vr.nextInside?d(i):ht(i,!1);return{state:{...S,selection:x}}}),h()}function p(){f(ht(i,!1)),h()}function b(v){try{const C=o.parse(v);hn(C)&&c({path:i,contents:C})}catch{}}function y(v){return Sp(g(r.unescapeValue(v)),o)}return n.$$set=v=>{"path"in v&&t(7,i=v.path),"value"in v&&t(0,s=v.value),"parser"in v&&t(8,o=v.parser),"normalization"in v&&t(1,r=v.normalization),"enforceString"in v&&t(9,l=v.enforceString),"onPatch"in v&&t(10,a=v.onPatch),"onPasteJson"in v&&t(11,c=v.onPasteJson),"onSelect"in v&&t(12,f=v.onSelect),"onFind"in v&&t(2,u=v.onFind),"focus"in v&&t(13,h=v.focus),"findNextInside"in v&&t(14,d=v.findNextInside)},[s,r,u,m,p,b,y,i,o,l,a,c,f,h,d]}class i9 extends Te{constructor(e){super(),Pe(this,e,n9,t9,ut,{path:7,value:0,parser:8,normalization:1,enforceString:9,onPatch:10,onPasteJson:11,onSelect:12,onFind:2,focus:13,findNextInside:14})}}function ga(n,e,t){const i=vt(e),s=ze(n,i);if(Yt(s)){const o=ri(bt(e));return t.map((r,l)=>({op:"add",path:Oe(i.concat(String(o+l))),value:r.value}))}else if(bn(s)){const o=bt(e),r=Object.keys(s),l=o!==void 0?Xf(r,o,!0):[];return[...t.map(a=>{const c=Yf(a.key,r);return{op:"add",path:Oe(i.concat(c)),value:a.value}}),...l.map(a=>Ol(i,a))]}else throw new Error("Cannot create insert operations: parent must be an Object or Array")}function Cp(n,e,t){const i=ze(n,e);if(Array.isArray(i)){const s=i.length;return t.map((o,r)=>({op:"add",path:Oe(e.concat(String(s+r))),value:o.value}))}else return t.map(s=>{const o=Yf(s.key,Object.keys(i));return{op:"add",path:Oe(e.concat(o)),value:s.value}})}function Gf(n,e,t,i){const s=e.filter(l=>l!==t),o=Yf(i,s),r=Xf(e,t,!1);return[{op:"move",from:Oe(n.concat(t)),path:Oe(n.concat(o))},...r.map(l=>Ol(n,l))]}function s9(n,e,t){const i=Bo(e),s=vt(i),o=ze(n,s);if(Yt(o)){const r=Bo(e),l=r?ri(bt(r)):0;return[...$h(e),...t.map((a,c)=>({op:"add",path:Oe(s.concat(String(c+l))),value:a.value}))]}else if(bn(o)){const r=bt(e),l=vt(r),a=bt(r),c=Object.keys(o),f=a!==void 0?Xf(c,a,!1):[],u=new Set(e.map(d=>bt(d))),h=c.filter(d=>!u.has(d));return[...$h(e),...t.map(d=>{const g=Yf(d.key,h);return{op:"add",path:Oe(l.concat(g)),value:d.value}}),...f.map(d=>Ol(l,d))]}else throw new Error("Cannot create replace operations: parent must be an Object or Array")}function J4(n,e){const t=bt(e);if(At(t))throw new Error("Cannot duplicate root object");const i=vt(t),s=bt(t),o=ze(n,i);if(Yt(o)){const r=bt(e),l=r?ri(bt(r))+1:0;return[...e.map((a,c)=>({op:"copy",from:Oe(a),path:Oe(i.concat(String(c+l)))}))]}else if(bn(o)){const r=Object.keys(o),l=s!==void 0?Xf(r,s,!1):[];return[...e.map(a=>{const c=bt(a),f=Yf(c,r);return{op:"copy",from:Oe(a),path:Oe(i.concat(f))}}),...l.map(a=>Ol(i,a))]}else throw new Error("Cannot create duplicate operations: parent must be an Object or Array")}function o9(n,e){if(Mt(e))return[{op:"move",from:Oe(e.path),path:""}];if(Ut(e)){const t=vt(e.focusPath),i=ze(n,t);if(Yt(i))return[{op:"replace",path:"",value:Or(n,e).map(o=>{const r=ri(bt(o));return i[r]})}];if(bn(i)){const s={};return Or(n,e).forEach(o=>{const r=String(bt(o));s[r]=i[r]}),[{op:"replace",path:"",value:s}]}}else throw new Error("Cannot create extract operations: parent must be an Object or Array");throw new Error("Cannot extract: unsupported type of selection "+JSON.stringify(e))}function K4(n,e,t,i){if(Mn(e)){const s=p4(t,i),o=vt(e.path),r=ze(n,o),l=Object.keys(r),a=bt(e.path);return Gf(o,l,a,typeof s=="string"?s:t)}if(Mt(e)||Ut(e)&&At(e.focusPath))try{return[{op:"replace",path:Oe(Xe(e)),value:cg(t,s=>Jf(s,i))}]}catch{return[{op:"replace",path:Oe(Xe(e)),value:t}]}if(Ut(e)){const s=lm(t,i);return s9(n,Or(n,e),s)}if(Bi(e)){const s=lm(t,i),o=e.path,r=vt(o),l=ze(n,r);if(Yt(l)){const a=ri(bt(o)),c=r.concat(String(a+1));return ga(n,c,s)}else if(bn(l)){const a=String(bt(o)),c=Object.keys(l);if(At(c)||bt(c)===a)return Cp(n,r,s);{const f=c.indexOf(a),u=c[f+1],h=r.concat(u);return ga(n,h,s)}}else throw new Error("Cannot create insert operations: parent must be an Object or Array")}if(xn(e)){const s=lm(t,i),o=e.path,r=ze(n,o);if(Yt(r)){const l=o.concat("0");return ga(n,l,s)}else if(bn(r)){const l=Object.keys(r);if(At(l))return Cp(n,o,s);{const a=Bo(l),c=o.concat(a);return ga(n,c,s)}}else throw new Error("Cannot create insert operations: parent must be an Object or Array")}throw new Error("Cannot insert: unsupported type of selection "+JSON.stringify(e))}function r9(n,e,t){if(!e)return[];const i="beforePath"in t?t.beforePath:void 0,s="append"in t?t.append:void 0,o=vt(Xe(e)),r=ze(n,o);if(!s&&!(i&&Uo(i,o)&&i.length>o.length))return[];const l=qo(n,e),a=Fr(n,e),c=bt(l),f=bt(a),u=i?i[o.length]:void 0;if(bn(r)){const h=Object.keys(r),d=h.indexOf(c),g=h.indexOf(f),m=s?h.length:u!==void 0?h.indexOf(u):-1;if(d!==-1&&g!==-1&&m!==-1)return m>d?[...h.slice(d,g+1),...h.slice(m,h.length)].map(p=>Ol(o,p)):[...h.slice(m,d),...h.slice(g+1,h.length)].map(p=>Ol(o,p))}else if(Yt(r)){const h=ri(c),d=ri(f),g=u!==void 0?ri(u):r.length,m=d-h+1;return g<h?ny(m,p=>({op:"move",from:Oe(o.concat(String(h+p))),path:Oe(o.concat(String(g+p)))})):ny(m,()=>({op:"move",from:Oe(o.concat(String(h))),path:Oe(o.concat(String(g)))}))}else throw new Error("Cannot create move operations: parent must be an Object or Array");return[]}function l9(n,e,t){if(t==="object")return{};if(t==="array")return[];if(t==="structure"&&n!==void 0){const i=e?V4(e):[],s=ze(n,i);if(Array.isArray(s)&&!At(s)){const o=Bo(s);return hn(o)?n7(o,r=>Array.isArray(r)?[]:Kt(r)?void 0:""):""}}return""}function $h(n){return n.map(e=>({op:"remove",path:Oe(e)})).reverse()}function Ol(n,e){return{op:"move",from:Oe(n.concat(e)),path:Oe(n.concat(e))}}function lm(n,e){const t=/^\s*{/.test(n),i=/^\s*\[/.test(n),s=p4(n,e),o=s!==void 0?s:cg(n,r=>Jf(r,e));return t&&Kt(o)||i&&Array.isArray(o)?[{key:"New item",value:o}]:Array.isArray(o)?o.map((r,l)=>({key:"New item "+l,value:r})):Kt(o)?Object.keys(o).map(r=>({key:r,value:o[r]})):[{key:"New item",value:o}]}function Y4(n,e){if(Mn(e)){const t=vt(e.path),i=ze(n,t),s=Object.keys(i),o=bt(e.path),l=Gf(t,s,o,""),a=Va(n,l);return{operations:l,newSelection:a}}if(Mt(e))return{operations:[{op:"replace",path:Oe(e.path),value:""}],newSelection:e};if(Ut(e)){const t=Or(n,e),i=$h(t),s=bt(t);if(At(s)){const l=[{op:"replace",path:"",value:""}],a=ht([],!1);return{operations:l,newSelection:a}}const o=vt(s),r=ze(n,o);if(Yt(r)){const l=Bo(t),a=ri(bt(l)),c=a===0?Jo(o):Ko(o.concat(String(a-1)));return{operations:i,newSelection:c}}else if(bn(r)){const l=Object.keys(r),a=Bo(t),c=bt(a),f=l.indexOf(c),u=l[f-1],h=f===0?Jo(o):Ko(o.concat(u));return{operations:i,newSelection:h}}else throw new Error("Cannot create remove operations: parent must be an Object or Array")}throw new Error("Cannot remove: unsupported type of selection "+JSON.stringify(e))}function X4(n,e){return A3(n,e,{before:(t,i,s)=>{if(k3(i)){const o=Ls(i.path);return{revertOperations:[...s,...Sy(t,o)]}}if(Ia(i)){const o=Ls(i.from);return{revertOperations:[...s,...Sy(t,o)]}}return{document:t}}})}function Sy(n,e){const t=vt(e),i=bt(e),s=ze(n,t);if(bn(s)){const o=Object.keys(s);return Xf(o,i,!1).map(l=>Ol(t,l))}return[]}function a9(n,e){return n.flatMap(t=>{if(Z1(t)){const i=Ls(t.path);if(i.length>0){const s=[t];let o=vt(i);for(;o.length>0&&!us(e,o);)s.unshift({op:"add",path:Oe(o),value:{}}),o=vt(o);return s}}return t})}function c9(n,e,t){const i=t!=null&&t.activeItem?xy(t.activeItem):void 0,s=e.findIndex(a=>_t(i,xy(a))),o=s!==-1?s:(t==null?void 0:t.activeIndex)!==void 0&&(t==null?void 0:t.activeIndex)<e.length?t==null?void 0:t.activeIndex:e.length>0?0:-1,r=e.map((a,c)=>({...a,active:c===o})),l=r[o];return{items:r,itemsMap:ag(r,a=>Oe(a.path)),activeItem:l,activeIndex:o}}function Cy(n){const e=n.activeIndex<n.items.length-1?n.activeIndex+1:n.items.length>0?0:-1,t=n.items[e],i=n.items.map((s,o)=>({...s,active:o===e}));return{...n,items:i,itemsMap:ag(i,s=>Oe(s.path)),activeItem:t,activeIndex:e}}function f9(n){const e=n.activeIndex>0?n.activeIndex-1:n.items.length-1,t=n.items[e],i=n.items.map((s,o)=>({...s,active:o===e}));return{...n,items:i,itemsMap:ag(i,s=>Oe(s.path)),activeItem:t,activeIndex:e}}function G4(n,e,t={}){const i=n.toLowerCase(),s=(t==null?void 0:t.maxResults)??1/0,o=t==null?void 0:t.columns,r=[],l=[];function a(f){r.length>=s||r.push(f)}function c(f,u){if(Yt(u)){const h=l.length;l.push("0");for(let d=0;d<u.length;d++)if(l[h]=String(d),c(f,u[d]),r.length>=s)return;l.pop()}else if(bn(u)){const h=Object.keys(u),d=l.length;l.push("");for(const g of h)if(l[d]=g,My(g,f,l,Ts.key,a),c(f,u[g]),r.length>=s)return;l.pop()}else My(String(u),f,l,Ts.value,a)}if(n==="")return[];if(o){if(!Array.isArray(e))throw new Error("json must be an Array when option columns is defined");for(let f=0;f<e.length;f++){l[0]=String(f);const u=e[f];for(let h=0;h<o.length;h++){const d=o[h];if(d.length===1)l[1]=d[0];else for(let m=0;m<d.length;m++)l[m+1]=d[m];for(;l.length>d.length+1;)l.pop();const g=ze(u,d);c(i,g)}if(r.length>=s)break}return r}else return c(i,e),r}function My(n,e,t,i,s){const o=n.toLowerCase();let r=0,l=-1,a=-1;do a=o.indexOf(e,l),a!==-1&&(l=a+e.length,s({path:t.slice(0),field:i,fieldIndex:r,start:a,end:l}),r++);while(a!==-1)}function Mp(n,e,t,i){return n.substring(0,t)+e+n.substring(i)}function Ay(n,e,t){let i=n;return iL(t,s=>{i=Mp(i,e,s.start,s.end)}),i}function u9(n,e,t,i,s){const{field:o,path:r,start:l,end:a}=i;if(o===Ts.key){const c=vt(r),f=ze(n,c),u=bt(r),h=Object.keys(f),d=Mp(u,t,l,a),g=Gf(c,h,u,d);return{newSelection:Va(n,g),operations:g}}else if(o===Ts.value){const c=ze(n,r);if(c===void 0)throw new Error(`Cannot replace: path not found ${Oe(r)}`);const f=typeof c=="string"?c:String(c),u=Oe(r),h=Wo(c,e.enforceStringMap,u,s),d=Mp(f,t,l,a),g=[{op:"replace",path:Oe(r),value:h?d:tc(d,s)}];return{newSelection:Va(n,g),operations:g}}else throw new Error(`Cannot replace: unknown type of search result field ${o}`)}function h9(n,e,t,i,s){const o=G4(t,n,{maxResults:1/0}),r=[];for(let c=0;c<o.length;c++){const f=o[c-1],u=o[c];c===0||u.field!==f.field||!_t(u.path,f.path)?r.push({path:u.path,field:u.field,items:[u]}):bt(r).items.push(u)}r.sort((c,f)=>c.field!==f.field?c.field===Ts.key?1:-1:f.path.length-c.path.length);let l=[],a=null;return r.forEach(c=>{const{field:f,path:u,items:h}=c;if(f===Ts.key){const d=vt(u),g=ze(n,d),m=bt(u),p=Object.keys(g),b=Ay(m,i,h),y=Gf(d,p,m,b);l=l.concat(y),a=Va(n,y)}else if(f===Ts.value){const d=ze(n,u);if(d===void 0)throw new Error(`Cannot replace: path not found ${Oe(u)}`);const g=typeof d=="string"?d:String(d),m=Oe(u),p=Wo(d,e.enforceStringMap,m,s),b=Ay(g,i,h),y=[{op:"replace",path:Oe(u),value:p?b:tc(b,s)}];l=l.concat(y),a=Va(n,y)}else throw new Error(`Cannot replace: unknown type of search result field ${f}`)}),{operations:l,newSelection:a}}function d9(n,e){const t=[];let i=0;for(const o of e){const r=n.slice(i,o.start);r!==""&&t.push({type:"normal",text:r,active:!1});const l=n.slice(o.start,o.end);t.push({type:"highlight",text:l,active:o.active}),i=o.end}const s=bt(e);return s&&s.end<n.length&&t.push({type:"normal",text:n.slice(s.end),active:!1}),t}function xy(n){return n.path.concat(n.field,String(n.fieldIndex))}function g9(n,e){var i;const t=(i=n==null?void 0:n[e])==null?void 0:i.filter(s=>s.field===Ts.key);if(!(!t||t.length===0))return t}function Ap(n,e){var i;const t=(i=n==null?void 0:n[e])==null?void 0:i.filter(s=>s.field===Ts.value);if(!(!t||t.length===0))return t}function Oy(n,e,t){const i=n.slice();return i[3]=e[t],i}function m9(n){let e,t=Al(n[3].text)+"",i;return{c(){e=L("span"),i=we(t),_(e,"class","jse-highlight svelte-1n1l5ny"),$(e,"jse-active",n[3].active)},m(s,o){j(s,e,o),A(e,i)},p(s,o){o&1&&t!==(t=Al(s[3].text)+"")&&Ve(i,t),o&1&&$(e,"jse-active",s[3].active)},d(s){s&&B(e)}}}function p9(n){let e=n[3].text+"",t;return{c(){t=we(e)},m(i,s){j(i,t,s)},p(i,s){s&1&&e!==(e=i[3].text+"")&&Ve(t,e)},d(i){i&&B(t)}}}function Py(n){let e;function t(o,r){return o[3].type==="normal"?p9:m9}let i=t(n),s=i(n);return{c(){s.c(),e=gt()},m(o,r){s.m(o,r),j(o,e,r)},p(o,r){i===(i=t(o))&&s?s.p(o,r):(s.d(1),s=i(o),s&&(s.c(),s.m(e.parentNode,e)))},d(o){o&&B(e),s.d(o)}}}function b9(n){let e,t=ct(n[0]),i=[];for(let s=0;s<t.length;s+=1)i[s]=Py(Oy(n,t,s));return{c(){for(let s=0;s<i.length;s+=1)i[s].c();e=gt()},m(s,o){for(let r=0;r<i.length;r+=1)i[r]&&i[r].m(s,o);j(s,e,o)},p(s,[o]){if(o&1){t=ct(s[0]);let r;for(r=0;r<t.length;r+=1){const l=Oy(s,t,r);i[r]?i[r].p(l,o):(i[r]=Py(l),i[r].c(),i[r].m(e.parentNode,e))}for(;r<i.length;r+=1)i[r].d(1);i.length=t.length}},i:ge,o:ge,d(s){s&&B(e),Tn(i,s)}}}function y9(n,e,t){let i,{text:s}=e,{searchResultItems:o}=e;return n.$$set=r=>{"text"in r&&t(1,s=r.text),"searchResultItems"in r&&t(2,o=r.searchResultItems)},n.$$.update=()=>{n.$$.dirty&6&&t(0,i=d9(String(s),o))},[i,s,o]}class Q4 extends Te{constructor(e){super(),Pe(this,e,y9,b9,Ot,{text:1,searchResultItems:2})}}function _9(n){let e=Al(n[1].escapeValue(n[0]))+"",t;return{c(){t=we(e)},m(i,s){j(i,t,s)},p(i,s){s&3&&e!==(e=Al(i[1].escapeValue(i[0]))+"")&&Ve(t,e)},i:ge,o:ge,d(i){i&&B(t)}}}function w9(n){let e,t;return e=new Q4({props:{text:n[1].escapeValue(n[0]),searchResultItems:n[3]}}),{c(){se(e.$$.fragment)},m(i,s){ne(e,i,s),t=!0},p(i,s){const o={};s&3&&(o.text=i[1].escapeValue(i[0])),s&8&&(o.searchResultItems=i[3]),e.$set(o)},i(i){t||(k(e.$$.fragment,i),t=!0)},o(i){M(e.$$.fragment,i),t=!1},d(i){ie(e,i)}}}function v9(n){let e,t,i,s,o,r,l,a;const c=[w9,_9],f=[];function u(h,d){return h[3]?0:1}return t=u(n),i=f[t]=c[t](n),{c(){e=L("div"),i.c(),_(e,"role","button"),_(e,"tabindex","-1"),_(e,"data-type","selectable-value"),_(e,"class",s=_n(Sp(n[0],n[2]))+" svelte-1v88515"),_(e,"title",o=n[4]?"Ctrl+Click or Ctrl+Enter to open url in new window":null)},m(h,d){j(h,e,d),f[t].m(e,null),r=!0,l||(a=[fe(e,"click",n[5]),fe(e,"dblclick",n[6])],l=!0)},p(h,[d]){let g=t;t=u(h),t===g?f[t].p(h,d):(me(),M(f[g],1,1,()=>{f[g]=null}),pe(),i=f[t],i?i.p(h,d):(i=f[t]=c[t](h),i.c()),k(i,1),i.m(e,null)),(!r||d&5&&s!==(s=_n(Sp(h[0],h[2]))+" svelte-1v88515"))&&_(e,"class",s),(!r||d&16&&o!==(o=h[4]?"Ctrl+Click or Ctrl+Enter to open url in new window":null))&&_(e,"title",o)},i(h){r||(k(i),r=!0)},o(h){M(i),r=!1},d(h){h&&B(e),f[t].d(),l=!1,Tt(a)}}}function k9(n,e,t){let i,{path:s}=e,{value:o}=e,{readOnly:r}=e,{normalization:l}=e,{parser:a}=e,{onSelect:c}=e,{searchResultItems:f}=e;function u(d){typeof o=="string"&&i&&w0(d)&&(d.preventDefault(),d.stopPropagation(),window.open(o,"_blank"))}function h(d){r||(d.preventDefault(),c(ht(s,!0)))}return n.$$set=d=>{"path"in d&&t(7,s=d.path),"value"in d&&t(0,o=d.value),"readOnly"in d&&t(8,r=d.readOnly),"normalization"in d&&t(1,l=d.normalization),"parser"in d&&t(2,a=d.parser),"onSelect"in d&&t(9,c=d.onSelect),"searchResultItems"in d&&t(3,f=d.searchResultItems)},n.$$.update=()=>{n.$$.dirty&1&&t(4,i=Gd(o))},[o,l,a,f,i,u,h,s,r,c]}class S9 extends Te{constructor(e){super(),Pe(this,e,k9,v9,ut,{path:7,value:0,readOnly:8,normalization:1,parser:2,onSelect:9,searchResultItems:3})}}function C9(n){let e,t;return{c(){e=L("div"),t=we(n[0]),_(e,"class","jse-tooltip svelte-1sftg37")},m(i,s){j(i,e,s),A(e,t)},p(i,[s]){s&1&&Ve(t,i[0])},i:ge,o:ge,d(i){i&&B(e)}}}function M9(n,e,t){let{text:i}=e;return n.$$set=s=>{"text"in s&&t(0,i=s.text)},[i]}let A9=class extends Te{constructor(e){super(),Pe(this,e,M9,C9,Ot,{text:0})}};function M0(n,{text:e,openAbsolutePopup:t,closeAbsolutePopup:i}){let s;function o(){s=t(A9,{text:e},{position:"top",width:10*e.length,offsetTop:3,anchor:n,closeOnOuterClick:!0})}function r(){i(s)}return n.addEventListener("mouseenter",o),n.addEventListener("mouseleave",r),{destroy(){n.removeEventListener("mouseenter",o),n.removeEventListener("mouseleave",r)}}}function x9(n){let e,t,i,s,o,r;return t=new St({props:{data:mI}}),{c(){e=L("div"),se(t.$$.fragment),_(e,"class","jse-timestamp svelte-1sqrs1u")},m(l,a){j(l,e,a),ne(t,e,null),s=!0,o||(r=Nn(i=M0.call(null,e,{text:n[0],...n[1]})),o=!0)},p(l,[a]){i&&Zn(i.update)&&a&1&&i.update.call(null,{text:l[0],...l[1]})},i(l){s||(k(t.$$.fragment,l),s=!0)},o(l){M(t.$$.fragment,l),s=!1},d(l){l&&B(e),ie(t),o=!1,r()}}}function O9(n,e,t){let i;const s=Wn("absolute-popup");let{value:o}=e;return n.$$set=r=>{"value"in r&&t(2,o=r.value)},n.$$.update=()=>{n.$$.dirty&4&&t(0,i=`Time: ${new Date(o).toString()}`)},[i,s,o]}class P9 extends Te{constructor(e){super(),Pe(this,e,O9,x9,ut,{value:2})}}function T9({path:n,value:e,readOnly:t,enforceString:i,searchResultItems:s,isEditing:o,parser:r,normalization:l,onPatch:a,onPasteJson:c,onSelect:f,onFind:u,findNextInside:h,focus:d}){const g=[];return!o&&qP(e)&&g.push({component:PI,props:{path:n,value:e,readOnly:t,onPatch:a,focus:d}}),!o&&UP(e)&&g.push({component:II,props:{path:n,value:e,readOnly:t,onPatch:a,focus:d}}),o&&g.push({component:i9,props:{path:n,value:e,enforceString:i,parser:r,normalization:l,onPatch:a,onPasteJson:c,onSelect:f,onFind:u,findNextInside:h,focus:d}}),o||g.push({component:S9,props:{path:n,value:e,readOnly:t,parser:r,normalization:l,searchResultItems:s,onSelect:f}}),!o&&lp(e)&&g.push({component:P9,props:{value:e}}),g}const xp={prefix:"fas",iconName:"trash-can",icon:[448,512,[61460,"trash-alt"],"f2ed","M135.2 17.7C140.6 6.8 151.7 0 163.8 0L284.2 0c12.1 0 23.2 6.8 28.6 17.7L320 32l96 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L32 96C14.3 96 0 81.7 0 64S14.3 32 32 32l96 0 7.2-14.3zM32 128l384 0 0 320c0 35.3-28.7 64-64 64L96 512c-35.3 0-64-28.7-64-64l0-320zm96 64c-8.8 0-16 7.2-16 16l0 224c0 8.8 7.2 16 16 16s16-7.2 16-16l0-224c0-8.8-7.2-16-16-16zm96 0c-8.8 0-16 7.2-16 16l0 224c0 8.8 7.2 16 16 16s16-7.2 16-16l0-224c0-8.8-7.2-16-16-16zm96 0c-8.8 0-16 7.2-16 16l0 224c0 8.8 7.2 16 16 16s16-7.2 16-16l0-224c0-8.8-7.2-16-16-16z"]},Ty={prefix:"fas",iconName:"down-left-and-up-right-to-center",icon:[512,512,["compress-alt"],"f422","M439 7c9.4-9.4 24.6-9.4 33.9 0l32 32c9.4 9.4 9.4 24.6 0 33.9l-87 87 39 39c6.9 6.9 8.9 17.2 5.2 26.2s-12.5 14.8-22.2 14.8l-144 0c-13.3 0-24-10.7-24-24l0-144c0-9.7 5.8-18.5 14.8-22.2s19.3-1.7 26.2 5.2l39 39L439 7zM72 272l144 0c13.3 0 24 10.7 24 24l0 144c0 9.7-5.8 18.5-14.8 22.2s-19.3 1.7-26.2-5.2l-39-39L73 505c-9.4 9.4-24.6 9.4-33.9 0L7 473c-9.4-9.4-9.4-24.6 0-33.9l87-87L55 313c-6.9-6.9-8.9-17.2-5.2-26.2s12.5-14.8 22.2-14.8z"]},hr={prefix:"fas",iconName:"caret-right",icon:[256,512,[],"f0da","M246.6 278.6c12.5-12.5 12.5-32.8 0-45.3l-128-128c-9.2-9.2-22.9-11.9-34.9-6.9s-19.8 16.6-19.8 29.6l0 256c0 12.9 7.8 24.6 19.8 29.6s25.7 2.2 34.9-6.9l128-128z"]},Z4={prefix:"fas",iconName:"paste",icon:[512,512,["file-clipboard"],"f0ea","M160 0c-23.7 0-44.4 12.9-55.4 32L48 32C21.5 32 0 53.5 0 80L0 400c0 26.5 21.5 48 48 48l144 0 0-272c0-44.2 35.8-80 80-80l48 0 0-16c0-26.5-21.5-48-48-48l-56.6 0C204.4 12.9 183.7 0 160 0zM272 128c-26.5 0-48 21.5-48 48l0 272 0 16c0 26.5 21.5 48 48 48l192 0c26.5 0 48-21.5 48-48l0-220.1c0-12.7-5.1-24.9-14.1-33.9l-67.9-67.9c-9-9-21.2-14.1-33.9-14.1L320 128l-48 0zM160 40a24 24 0 1 1 0 48 24 24 0 1 1 0-48z"]},E9={prefix:"fas",iconName:"circle-notch",icon:[512,512,[],"f1ce","M222.7 32.1c5 16.9-4.6 34.8-21.5 39.8C121.8 95.6 64 169.1 64 256c0 106 86 192 192 192s192-86 192-192c0-86.9-57.8-160.4-137.1-184.1c-16.9-5-26.6-22.9-21.5-39.8s22.9-26.6 39.8-21.5C434.9 42.1 512 140 512 256c0 141.4-114.6 256-256 256S0 397.4 0 256C0 140 77.1 42.1 182.9 10.6c16.9-5 34.8 4.6 39.8 21.5z"]},R9={prefix:"fas",iconName:"scissors",icon:[512,512,[9984,9986,9988,"cut"],"f0c4","M256 192l-39.5-39.5c4.9-12.6 7.5-26.2 7.5-40.5C224 50.1 173.9 0 112 0S0 50.1 0 112s50.1 112 112 112c14.3 0 27.9-2.7 40.5-7.5L192 256l-39.5 39.5c-12.6-4.9-26.2-7.5-40.5-7.5C50.1 288 0 338.1 0 400s50.1 112 112 112s112-50.1 112-112c0-14.3-2.7-27.9-7.5-40.5L499.2 76.8c7.1-7.1 7.1-18.5 0-25.6c-28.3-28.3-74.1-28.3-102.4 0L256 192zm22.6 150.6L396.8 460.8c28.3 28.3 74.1 28.3 102.4 0c7.1-7.1 7.1-18.5 0-25.6L342.6 278.6l-64 64zM64 112a48 48 0 1 1 96 0 48 48 0 1 1 -96 0zm48 240a48 48 0 1 1 0 96 48 48 0 1 1 0-96z"]},Ca=R9,D9={prefix:"fas",iconName:"square-caret-down",icon:[448,512,["caret-square-down"],"f150","M384 480c35.3 0 64-28.7 64-64l0-320c0-35.3-28.7-64-64-64L64 32C28.7 32 0 60.7 0 96L0 416c0 35.3 28.7 64 64 64l320 0zM224 352c-6.7 0-13-2.8-17.6-7.7l-104-112c-6.5-7-8.2-17.2-4.4-25.9s12.5-14.4 22-14.4l208 0c9.5 0 18.2 5.7 22 14.4s2.1 18.9-4.4 25.9l-104 112c-4.5 4.9-10.9 7.7-17.6 7.7z"]},L9=D9,I9={prefix:"fas",iconName:"caret-left",icon:[256,512,[],"f0d9","M9.4 278.6c-12.5-12.5-12.5-32.8 0-45.3l128-128c9.2-9.2 22.9-11.9 34.9-6.9s19.8 16.6 19.8 29.6l0 256c0 12.9-7.8 24.6-19.8 29.6s-25.7 2.2-34.9-6.9l-128-128z"]},N9={prefix:"fas",iconName:"square-check",icon:[448,512,[9745,9989,61510,"check-square"],"f14a","M64 32C28.7 32 0 60.7 0 96L0 416c0 35.3 28.7 64 64 64l320 0c35.3 0 64-28.7 64-64l0-320c0-35.3-28.7-64-64-64L64 32zM337 209L209 337c-9.4 9.4-24.6 9.4-33.9 0l-64-64c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0l47 47L303 175c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9z"]},$4=N9,B9={prefix:"fas",iconName:"pen-to-square",icon:[512,512,["edit"],"f044","M471.6 21.7c-21.9-21.9-57.3-21.9-79.2 0L362.3 51.7l97.9 97.9 30.1-30.1c21.9-21.9 21.9-57.3 0-79.2L471.6 21.7zm-299.2 220c-6.1 6.1-10.8 13.6-13.5 21.9l-29.6 88.8c-2.9 8.6-.6 18.1 5.8 24.6s15.9 8.7 24.6 5.8l88.8-29.6c8.2-2.7 15.7-7.4 21.9-13.5L437.7 172.3 339.7 74.3 172.4 241.7zM96 64C43 64 0 107 0 160L0 416c0 53 43 96 96 96l256 0c53 0 96-43 96-96l0-96c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 96c0 17.7-14.3 32-32 32L96 448c-17.7 0-32-14.3-32-32l0-256c0-17.7 14.3-32 32-32l96 0c17.7 0 32-14.3 32-32s-14.3-32-32-32L96 64z"]},Ey=B9,j9={prefix:"fas",iconName:"chevron-up",icon:[512,512,[],"f077","M233.4 105.4c12.5-12.5 32.8-12.5 45.3 0l192 192c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L256 173.3 86.6 342.6c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3l192-192z"]},eM={prefix:"fas",iconName:"angle-right",icon:[320,512,[8250],"f105","M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"]},z9={prefix:"fas",iconName:"square-caret-up",icon:[448,512,["caret-square-up"],"f151","M64 32C28.7 32 0 60.7 0 96L0 416c0 35.3 28.7 64 64 64l320 0c35.3 0 64-28.7 64-64l0-320c0-35.3-28.7-64-64-64L64 32zM224 160c6.7 0 13 2.8 17.6 7.7l104 112c6.5 7 8.2 17.2 4.4 25.9s-12.5 14.4-22 14.4l-208 0c-9.5 0-18.2-5.7-22-14.4s-2.1-18.9 4.4-25.9l104-112c4.5-4.9 10.9-7.7 17.6-7.7z"]},F9=z9,Ry={prefix:"fas",iconName:"caret-up",icon:[320,512,[],"f0d8","M182.6 137.4c-12.5-12.5-32.8-12.5-45.3 0l-128 128c-9.2 9.2-11.9 22.9-6.9 34.9s16.6 19.8 29.6 19.8l256 0c12.9 0 24.6-7.8 29.6-19.8s2.2-25.7-6.9-34.9l-128-128z"]},tM={prefix:"fas",iconName:"square",icon:[448,512,[9632,9723,9724,61590],"f0c8","M0 96C0 60.7 28.7 32 64 32H384c35.3 0 64 28.7 64 64V416c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V96z"]},hg={prefix:"fas",iconName:"filter",icon:[512,512,[],"f0b0","M3.9 54.9C10.5 40.9 24.5 32 40 32l432 0c15.5 0 29.5 8.9 36.1 22.9s4.6 30.5-5.2 42.5L320 320.9 320 448c0 12.1-6.8 23.2-17.7 28.6s-23.8 4.3-33.5-3l-64-48c-8.1-6-12.8-15.5-12.8-25.6l0-79.1L9 97.3C-.7 85.4-2.8 68.8 3.9 54.9z"]},Pr={prefix:"fas",iconName:"code",icon:[640,512,[],"f121","M392.8 1.2c-17-4.9-34.7 5-39.6 22l-128 448c-4.9 17 5 34.7 22 39.6s34.7-5 39.6-22l128-448c4.9-17-5-34.7-22-39.6zm80.6 120.1c-12.5 12.5-12.5 32.8 0 45.3L562.7 256l-89.4 89.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l112-112c12.5-12.5 12.5-32.8 0-45.3l-112-112c-12.5-12.5-32.8-12.5-45.3 0zm-306.7 0c-12.5-12.5-32.8-12.5-45.3 0l-112 112c-12.5 12.5-12.5 32.8 0 45.3l112 112c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L77.3 256l89.4-89.4c12.5-12.5 12.5-32.8 0-45.3z"]},dg={prefix:"fas",iconName:"wrench",icon:[512,512,[128295],"f0ad","M352 320c88.4 0 160-71.6 160-160c0-15.3-2.2-30.1-6.2-44.2c-3.1-10.8-16.4-13.2-24.3-5.3l-76.8 76.8c-3 3-7.1 4.7-11.3 4.7L336 192c-8.8 0-16-7.2-16-16l0-57.4c0-4.2 1.7-8.3 4.7-11.3l76.8-76.8c7.9-7.9 5.4-21.2-5.3-24.3C382.1 2.2 367.3 0 352 0C263.6 0 192 71.6 192 160c0 19.1 3.4 37.5 9.5 54.5L19.9 396.1C7.2 408.8 0 426.1 0 444.1C0 481.6 30.4 512 67.9 512c18 0 35.3-7.2 48-19.9L297.5 310.5c17 6.2 35.4 9.5 54.5 9.5zM80 408a24 24 0 1 1 0 48 24 24 0 1 1 0-48z"]},V9={prefix:"fas",iconName:"eye",icon:[576,512,[128065],"f06e","M288 32c-80.8 0-145.5 36.8-192.6 80.6C48.6 156 17.3 208 2.5 243.7c-3.3 7.9-3.3 16.7 0 24.6C17.3 304 48.6 356 95.4 399.4C142.5 443.2 207.2 480 288 480s145.5-36.8 192.6-80.6c46.8-43.5 78.1-95.4 93-131.1c3.3-7.9 3.3-16.7 0-24.6c-14.9-35.7-46.2-87.7-93-131.1C433.5 68.8 368.8 32 288 32zM144 256a144 144 0 1 1 288 0 144 144 0 1 1 -288 0zm144-64c0 35.3-28.7 64-64 64c-7.1 0-13.9-1.2-20.3-3.3c-5.5-1.8-11.9 1.6-11.7 7.4c.3 6.9 1.3 13.8 3.2 20.7c13.7 51.2 66.4 81.6 117.6 67.9s81.6-66.4 67.9-117.6c-11.1-41.5-47.8-69.4-88.6-71.1c-5.8-.2-9.2 6.1-7.4 11.7c2.1 6.4 3.3 13.2 3.3 20.3z"]},Ma={prefix:"fas",iconName:"pen",icon:[512,512,[128394],"f304","M362.7 19.3L314.3 67.7 444.3 197.7l48.4-48.4c25-25 25-65.5 0-90.5L453.3 19.3c-25-25-65.5-25-90.5 0zm-71 71L58.6 323.5c-10.4 10.4-18 23.3-22.2 37.4L1 481.2C-1.5 489.7 .8 498.8 7 505s15.3 8.5 23.7 6.1l120.3-35.4c14.1-4.2 27-11.8 37.4-22.2L421.7 220.3 291.7 90.3z"]},H9={prefix:"fas",iconName:"arrow-rotate-right",icon:[512,512,[8635,"arrow-right-rotate","arrow-rotate-forward","redo"],"f01e","M386.3 160L336 160c-17.7 0-32 14.3-32 32s14.3 32 32 32l128 0c17.7 0 32-14.3 32-32l0-128c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 51.2L414.4 97.6c-87.5-87.5-229.3-87.5-316.8 0s-87.5 229.3 0 316.8s229.3 87.5 316.8 0c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0c-62.5 62.5-163.8 62.5-226.3 0s-62.5-163.8 0-226.3s163.8-62.5 226.3 0L386.3 160z"]},A0=H9,W9={prefix:"fas",iconName:"arrow-rotate-left",icon:[512,512,[8634,"arrow-left-rotate","arrow-rotate-back","arrow-rotate-backward","undo"],"f0e2","M125.7 160l50.3 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L48 224c-17.7 0-32-14.3-32-32L16 64c0-17.7 14.3-32 32-32s32 14.3 32 32l0 51.2L97.6 97.6c87.5-87.5 229.3-87.5 316.8 0s87.5 229.3 0 316.8s-229.3 87.5-316.8 0c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0c62.5 62.5 163.8 62.5 226.3 0s62.5-163.8 0-226.3s-163.8-62.5-226.3 0L125.7 160z"]},x0=W9,q9={prefix:"fas",iconName:"crop-simple",icon:[512,512,["crop-alt"],"f565","M128 32c0-17.7-14.3-32-32-32S64 14.3 64 32l0 32L32 64C14.3 64 0 78.3 0 96s14.3 32 32 32l32 0 0 256c0 35.3 28.7 64 64 64l224 0 0-64-224 0 0-352zM384 480c0 17.7 14.3 32 32 32s32-14.3 32-32l0-32 32 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-32 0 0-256c0-35.3-28.7-64-64-64L160 64l0 64 224 0 0 352z"]},U9=q9,J9={prefix:"fas",iconName:"gear",icon:[512,512,[9881,"cog"],"f013","M495.9 166.6c3.2 8.7 .5 18.4-6.4 24.6l-43.3 39.4c1.1 8.3 1.7 16.8 1.7 25.4s-.6 17.1-1.7 25.4l43.3 39.4c6.9 6.2 9.6 15.9 6.4 24.6c-4.4 11.9-9.7 23.3-15.8 34.3l-4.7 8.1c-6.6 11-14 21.4-22.1 31.2c-5.9 7.2-15.7 9.6-24.5 6.8l-55.7-17.7c-13.4 10.3-28.2 18.9-44 25.4l-12.5 57.1c-2 9.1-9 16.3-18.2 17.8c-13.8 2.3-28 3.5-42.5 3.5s-28.7-1.2-42.5-3.5c-9.2-1.5-16.2-8.7-18.2-17.8l-12.5-57.1c-15.8-6.5-30.6-15.1-44-25.4L83.1 425.9c-8.8 2.8-18.6 .3-24.5-6.8c-8.1-9.8-15.5-20.2-22.1-31.2l-4.7-8.1c-6.1-11-11.4-22.4-15.8-34.3c-3.2-8.7-.5-18.4 6.4-24.6l43.3-39.4C64.6 273.1 64 264.6 64 256s.6-17.1 1.7-25.4L22.4 191.2c-6.9-6.2-9.6-15.9-6.4-24.6c4.4-11.9 9.7-23.3 15.8-34.3l4.7-8.1c6.6-11 14-21.4 22.1-31.2c5.9-7.2 15.7-9.6 24.5-6.8l55.7 17.7c13.4-10.3 28.2-18.9 44-25.4l12.5-57.1c2-9.1 9-16.3 18.2-17.8C227.3 1.2 241.5 0 256 0s28.7 1.2 42.5 3.5c9.2 1.5 16.2 8.7 18.2 17.8l12.5 57.1c15.8 6.5 30.6 15.1 44 25.4l55.7-17.7c8.8-2.8 18.6-.3 24.5 6.8c8.1 9.8 15.5 20.2 22.1 31.2l4.7 8.1c6.1 11 11.4 22.4 15.8 34.3zM256 336a80 80 0 1 0 0-160 80 80 0 1 0 0 160z"]},K9=J9,as={prefix:"fas",iconName:"caret-down",icon:[320,512,[],"f0d7","M137.4 374.6c12.5 12.5 32.8 12.5 45.3 0l128-128c9.2-9.2 11.9-22.9 6.9-34.9s-16.6-19.8-29.6-19.8L32 192c-12.9 0-24.6 7.8-29.6 19.8s-2.2 25.7 6.9 34.9l128 128z"]},Y9={prefix:"fas",iconName:"ellipsis-vertical",icon:[128,512,["ellipsis-v"],"f142","M64 360a56 56 0 1 0 0 112 56 56 0 1 0 0-112zm0-160a56 56 0 1 0 0 112 56 56 0 1 0 0-112zM120 96A56 56 0 1 0 8 96a56 56 0 1 0 112 0z"]},nM=Y9,vu={prefix:"fas",iconName:"arrow-right-arrow-left",icon:[448,512,[8644,"exchange"],"f0ec","M438.6 150.6c12.5-12.5 12.5-32.8 0-45.3l-96-96c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L338.7 96 32 96C14.3 96 0 110.3 0 128s14.3 32 32 32l306.7 0-41.4 41.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l96-96zm-333.3 352c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.3 416 416 416c17.7 0 32-14.3 32-32s-14.3-32-32-32l-306.7 0 41.4-41.4c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-96 96c-12.5 12.5-12.5 32.8 0 45.3l96 96z"]},X9={prefix:"fas",iconName:"arrow-down-short-wide",icon:[576,512,["sort-amount-desc","sort-amount-down-alt"],"f884","M151.6 469.6C145.5 476.2 137 480 128 480s-17.5-3.8-23.6-10.4l-88-96c-11.9-13-11.1-33.3 2-45.2s33.3-11.1 45.2 2L96 365.7 96 64c0-17.7 14.3-32 32-32s32 14.3 32 32l0 301.7 32.4-35.4c11.9-13 32.2-13.9 45.2-2s13.9 32.2 2 45.2l-88 96zM320 32l32 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-32 0c-17.7 0-32-14.3-32-32s14.3-32 32-32zm0 128l96 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-96 0c-17.7 0-32-14.3-32-32s14.3-32 32-32zm0 128l160 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-160 0c-17.7 0-32-14.3-32-32s14.3-32 32-32zm0 128l224 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-224 0c-17.7 0-32-14.3-32-32s14.3-32 32-32z"]},gg=X9,G9={prefix:"fas",iconName:"angle-down",icon:[448,512,[8964],"f107","M201.4 374.6c12.5 12.5 32.8 12.5 45.3 0l160-160c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L224 306.7 86.6 169.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l160 160z"]},Q9={prefix:"fas",iconName:"arrow-down",icon:[384,512,[8595],"f063","M169.4 470.6c12.5 12.5 32.8 12.5 45.3 0l160-160c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L224 370.8 224 64c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 306.7L54.6 265.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l160 160z"]},Z9={prefix:"fas",iconName:"magnifying-glass",icon:[512,512,[128269,"search"],"f002","M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376c-34.4 25.2-76.8 40-122.7 40C93.1 416 0 322.9 0 208S93.1 0 208 0S416 93.1 416 208zM208 352a144 144 0 1 0 0-288 144 144 0 1 0 0 288z"]},mg=Z9,$9={prefix:"fas",iconName:"chevron-down",icon:[512,512,[],"f078","M233.4 406.6c12.5 12.5 32.8 12.5 45.3 0l192-192c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L256 338.7 86.6 169.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l192 192z"]},kr={prefix:"fas",iconName:"copy",icon:[448,512,[],"f0c5","M208 0L332.1 0c12.7 0 24.9 5.1 33.9 14.1l67.9 67.9c9 9 14.1 21.2 14.1 33.9L448 336c0 26.5-21.5 48-48 48l-192 0c-26.5 0-48-21.5-48-48l0-288c0-26.5 21.5-48 48-48zM48 128l80 0 0 64-64 0 0 256 192 0 0-32 64 0 0 48c0 26.5-21.5 48-48 48L48 512c-26.5 0-48-21.5-48-48L0 176c0-26.5 21.5-48 48-48z"]},ma={prefix:"fas",iconName:"plus",icon:[448,512,[10133,61543,"add"],"2b","M256 80c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 144L48 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l144 0 0 144c0 17.7 14.3 32 32 32s32-14.3 32-32l0-144 144 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-144 0 0-144z"]},iM={prefix:"fas",iconName:"xmark",icon:[384,512,[128473,10005,10006,10060,215,"close","multiply","remove","times"],"f00d","M342.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192 210.7 86.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L146.7 256 41.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L192 301.3 297.4 406.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L237.3 256 342.6 150.6z"]},Dy=iM,pf=iM,eN={prefix:"fas",iconName:"rotate",icon:[512,512,[128260,"sync-alt"],"f2f1","M142.9 142.9c-17.5 17.5-30.1 38-37.8 59.8c-5.9 16.7-24.2 25.4-40.8 19.5s-25.4-24.2-19.5-40.8C55.6 150.7 73.2 122 97.6 97.6c87.2-87.2 228.3-87.5 315.8-1L455 55c6.9-6.9 17.2-8.9 26.2-5.2s14.8 12.5 14.8 22.2l0 128c0 13.3-10.7 24-24 24l-8.4 0c0 0 0 0 0 0L344 224c-9.7 0-18.5-5.8-22.2-14.8s-1.7-19.3 5.2-26.2l41.1-41.1c-62.6-61.5-163.1-61.2-225.3 1zM16 312c0-13.3 10.7-24 24-24l7.6 0 .7 0L168 288c9.7 0 18.5 5.8 22.2 14.8s1.7 19.3-5.2 26.2l-41.1 41.1c62.6 61.5 163.1 61.2 225.3-1c17.5-17.5 30.1-38 37.8-59.8c5.9-16.7 24.2-25.4 40.8-19.5s25.4 24.2 19.5 40.8c-10.8 30.6-28.4 59.3-52.9 83.8c-87.2 87.2-228.3 87.5-315.8 1L57 457c-6.9 6.9-17.2 8.9-26.2 5.2S16 449.7 16 440l0-119.6 0-.7 0-7.6z"]},Ly={prefix:"fas",iconName:"up-right-and-down-left-from-center",icon:[512,512,["expand-alt"],"f424","M344 0L488 0c13.3 0 24 10.7 24 24l0 144c0 9.7-5.8 18.5-14.8 22.2s-19.3 1.7-26.2-5.2l-39-39-87 87c-9.4 9.4-24.6 9.4-33.9 0l-32-32c-9.4-9.4-9.4-24.6 0-33.9l87-87L327 41c-6.9-6.9-8.9-17.2-5.2-26.2S334.3 0 344 0zM168 512L24 512c-13.3 0-24-10.7-24-24L0 344c0-9.7 5.8-18.5 14.8-22.2s19.3-1.7 26.2 5.2l39 39 87-87c9.4-9.4 24.6-9.4 33.9 0l32 32c9.4 9.4 9.4 24.6 0 33.9l-87 87 39 39c6.9 6.9 8.9 17.2 5.2 26.2s-12.5 14.8-22.2 14.8z"]},sM={prefix:"fas",iconName:"clone",icon:[512,512,[],"f24d","M288 448L64 448l0-224 64 0 0-64-64 0c-35.3 0-64 28.7-64 64L0 448c0 35.3 28.7 64 64 64l224 0c35.3 0 64-28.7 64-64l0-64-64 0 0 64zm-64-96l224 0c35.3 0 64-28.7 64-64l0-224c0-35.3-28.7-64-64-64L224 0c-35.3 0-64 28.7-64 64l0 224c0 35.3 28.7 64 64 64z"]},bf={prefix:"fas",iconName:"check",icon:[448,512,[10003,10004],"f00c","M438.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L160 338.7 393.4 105.4c12.5-12.5 32.8-12.5 45.3 0z"]},tN={prefix:"fas",iconName:"triangle-exclamation",icon:[512,512,[9888,"exclamation-triangle","warning"],"f071","M256 32c14.2 0 27.3 7.5 34.5 19.8l216 368c7.3 12.4 7.3 27.7 .2 40.1S486.3 480 472 480L40 480c-14.3 0-27.6-7.7-34.7-20.1s-7-27.8 .2-40.1l216-368C228.7 39.5 241.8 32 256 32zm0 128c-13.3 0-24 10.7-24 24l0 112c0 13.3 10.7 24 24 24s24-10.7 24-24l0-112c0-13.3-10.7-24-24-24zm32 224a32 32 0 1 0 -64 0 32 32 0 1 0 64 0z"]},Vl=tN,wc={},ku={showWizard:!0,showOriginal:!0},ed=Math.min,ml=Math.max,td=Math.round,Su=Math.floor,Tr=n=>({x:n,y:n}),nN={left:"right",right:"left",bottom:"top",top:"bottom"},iN={start:"end",end:"start"};function Iy(n,e,t){return ml(n,ed(e,t))}function pg(n,e){return typeof n=="function"?n(e):n}function Pl(n){return n.split("-")[0]}function bg(n){return n.split("-")[1]}function oM(n){return n==="x"?"y":"x"}function rM(n){return n==="y"?"height":"width"}function Ha(n){return["top","bottom"].includes(Pl(n))?"y":"x"}function lM(n){return oM(Ha(n))}function sN(n,e,t){t===void 0&&(t=!1);const i=bg(n),s=lM(n),o=rM(s);let r=s==="x"?i===(t?"end":"start")?"right":"left":i==="start"?"bottom":"top";return e.reference[o]>e.floating[o]&&(r=nd(r)),[r,nd(r)]}function oN(n){const e=nd(n);return[Op(n),e,Op(e)]}function Op(n){return n.replace(/start|end/g,e=>iN[e])}function rN(n,e,t){const i=["left","right"],s=["right","left"],o=["top","bottom"],r=["bottom","top"];switch(n){case"top":case"bottom":return t?e?s:i:e?i:s;case"left":case"right":return e?o:r;default:return[]}}function lN(n,e,t,i){const s=bg(n);let o=rN(Pl(n),t==="start",i);return s&&(o=o.map(r=>r+"-"+s),e&&(o=o.concat(o.map(Op)))),o}function nd(n){return n.replace(/left|right|bottom|top/g,e=>nN[e])}function aN(n){return{top:0,right:0,bottom:0,left:0,...n}}function cN(n){return typeof n!="number"?aN(n):{top:n,right:n,bottom:n,left:n}}function id(n){const{x:e,y:t,width:i,height:s}=n;return{width:i,height:s,top:t,left:e,right:e+i,bottom:t+s,x:e,y:t}}function Ny(n,e,t){let{reference:i,floating:s}=n;const o=Ha(e),r=lM(e),l=rM(r),a=Pl(e),c=o==="y",f=i.x+i.width/2-s.width/2,u=i.y+i.height/2-s.height/2,h=i[l]/2-s[l]/2;let d;switch(a){case"top":d={x:f,y:i.y-s.height};break;case"bottom":d={x:f,y:i.y+i.height};break;case"right":d={x:i.x+i.width,y:u};break;case"left":d={x:i.x-s.width,y:u};break;default:d={x:i.x,y:i.y}}switch(bg(e)){case"start":d[r]-=h*(t&&c?-1:1);break;case"end":d[r]+=h*(t&&c?-1:1);break}return d}const fN=async(n,e,t)=>{const{placement:i="bottom",strategy:s="absolute",middleware:o=[],platform:r}=t,l=o.filter(Boolean),a=await(r.isRTL==null?void 0:r.isRTL(e));let c=await r.getElementRects({reference:n,floating:e,strategy:s}),{x:f,y:u}=Ny(c,i,a),h=i,d={},g=0;for(let m=0;m<l.length;m++){const{name:p,fn:b}=l[m],{x:y,y:v,data:C,reset:w}=await b({x:f,y:u,initialPlacement:i,placement:h,strategy:s,middlewareData:d,rects:c,platform:r,elements:{reference:n,floating:e}});f=y??f,u=v??u,d={...d,[p]:{...d[p],...C}},w&&g<=50&&(g++,typeof w=="object"&&(w.placement&&(h=w.placement),w.rects&&(c=w.rects===!0?await r.getElementRects({reference:n,floating:e,strategy:s}):w.rects),{x:f,y:u}=Ny(c,h,a)),m=-1)}return{x:f,y:u,placement:h,strategy:s,middlewareData:d}};async function aM(n,e){var t;e===void 0&&(e={});const{x:i,y:s,platform:o,rects:r,elements:l,strategy:a}=n,{boundary:c="clippingAncestors",rootBoundary:f="viewport",elementContext:u="floating",altBoundary:h=!1,padding:d=0}=pg(e,n),g=cN(d),p=l[h?u==="floating"?"reference":"floating":u],b=id(await o.getClippingRect({element:(t=await(o.isElement==null?void 0:o.isElement(p)))==null||t?p:p.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(l.floating)),boundary:c,rootBoundary:f,strategy:a})),y=u==="floating"?{x:i,y:s,width:r.floating.width,height:r.floating.height}:r.reference,v=await(o.getOffsetParent==null?void 0:o.getOffsetParent(l.floating)),C=await(o.isElement==null?void 0:o.isElement(v))?await(o.getScale==null?void 0:o.getScale(v))||{x:1,y:1}:{x:1,y:1},w=id(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:y,offsetParent:v,strategy:a}):y);return{top:(b.top-w.top+g.top)/C.y,bottom:(w.bottom-b.bottom+g.bottom)/C.y,left:(b.left-w.left+g.left)/C.x,right:(w.right-b.right+g.right)/C.x}}const uN=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(e){var t,i;const{placement:s,middlewareData:o,rects:r,initialPlacement:l,platform:a,elements:c}=e,{mainAxis:f=!0,crossAxis:u=!0,fallbackPlacements:h,fallbackStrategy:d="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:m=!0,...p}=pg(n,e);if((t=o.arrow)!=null&&t.alignmentOffset)return{};const b=Pl(s),y=Ha(l),v=Pl(l)===l,C=await(a.isRTL==null?void 0:a.isRTL(c.floating)),w=h||(v||!m?[nd(l)]:oN(l)),S=g!=="none";!h&&S&&w.push(...lN(l,m,g,C));const x=[l,...w],T=await aM(e,p),P=[];let D=((i=o.flip)==null?void 0:i.overflows)||[];if(f&&P.push(T[b]),u){const z=sN(s,r,C);P.push(T[z[0]],T[z[1]])}if(D=[...D,{placement:s,overflows:P}],!P.every(z=>z<=0)){var O,E;const z=(((O=o.flip)==null?void 0:O.index)||0)+1,F=x[z];if(F)return{data:{index:z,overflows:D},reset:{placement:F}};let q=(E=D.filter(Q=>Q.overflows[0]<=0).sort((Q,G)=>Q.overflows[1]-G.overflows[1])[0])==null?void 0:E.placement;if(!q)switch(d){case"bestFit":{var N;const Q=(N=D.filter(G=>{if(S){const R=Ha(G.placement);return R===y||R==="y"}return!0}).map(G=>[G.placement,G.overflows.filter(R=>R>0).reduce((R,U)=>R+U,0)]).sort((G,R)=>G[1]-R[1])[0])==null?void 0:N[0];Q&&(q=Q);break}case"initialPlacement":q=l;break}if(s!==q)return{reset:{placement:q}}}return{}}}};async function hN(n,e){const{placement:t,platform:i,elements:s}=n,o=await(i.isRTL==null?void 0:i.isRTL(s.floating)),r=Pl(t),l=bg(t),a=Ha(t)==="y",c=["left","top"].includes(r)?-1:1,f=o&&a?-1:1,u=pg(e,n);let{mainAxis:h,crossAxis:d,alignmentAxis:g}=typeof u=="number"?{mainAxis:u,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...u};return l&&typeof g=="number"&&(d=l==="end"?g*-1:g),a?{x:d*f,y:h*c}:{x:h*c,y:d*f}}const dN=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(e){var t,i;const{x:s,y:o,placement:r,middlewareData:l}=e,a=await hN(e,n);return r===((t=l.offset)==null?void 0:t.placement)&&(i=l.arrow)!=null&&i.alignmentOffset?{}:{x:s+a.x,y:o+a.y,data:{...a,placement:r}}}}},gN=function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(e){const{x:t,y:i,placement:s}=e,{mainAxis:o=!0,crossAxis:r=!1,limiter:l={fn:p=>{let{x:b,y}=p;return{x:b,y}}},...a}=pg(n,e),c={x:t,y:i},f=await aM(e,a),u=Ha(Pl(s)),h=oM(u);let d=c[h],g=c[u];if(o){const p=h==="y"?"top":"left",b=h==="y"?"bottom":"right",y=d+f[p],v=d-f[b];d=Iy(y,d,v)}if(r){const p=u==="y"?"top":"left",b=u==="y"?"bottom":"right",y=g+f[p],v=g-f[b];g=Iy(y,g,v)}const m=l.fn({...e,[h]:d,[u]:g});return{...m,data:{x:m.x-t,y:m.y-i}}}}};function lc(n){return cM(n)?(n.nodeName||"").toLowerCase():"#document"}function es(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function Zo(n){var e;return(e=(cM(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function cM(n){return n instanceof Node||n instanceof es(n).Node}function Is(n){return n instanceof Element||n instanceof es(n).Element}function po(n){return n instanceof HTMLElement||n instanceof es(n).HTMLElement}function By(n){return typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof es(n).ShadowRoot}function Qf(n){const{overflow:e,overflowX:t,overflowY:i,display:s}=Ns(n);return/auto|scroll|overlay|hidden|clip/.test(e+i+t)&&!["inline","contents"].includes(s)}function mN(n){return["table","td","th"].includes(lc(n))}function yg(n){return[":popover-open",":modal"].some(e=>{try{return n.matches(e)}catch{return!1}})}function O0(n){const e=P0(),t=Is(n)?Ns(n):n;return t.transform!=="none"||t.perspective!=="none"||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||["transform","perspective","filter"].some(i=>(t.willChange||"").includes(i))||["paint","layout","strict","content"].some(i=>(t.contain||"").includes(i))}function pN(n){let e=Er(n);for(;po(e)&&!Wa(e);){if(O0(e))return e;if(yg(e))return null;e=Er(e)}return null}function P0(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Wa(n){return["html","body","#document"].includes(lc(n))}function Ns(n){return es(n).getComputedStyle(n)}function _g(n){return Is(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function Er(n){if(lc(n)==="html")return n;const e=n.assignedSlot||n.parentNode||By(n)&&n.host||Zo(n);return By(e)?e.host:e}function fM(n){const e=Er(n);return Wa(e)?n.ownerDocument?n.ownerDocument.body:n.body:po(e)&&Qf(e)?e:fM(e)}function yf(n,e,t){var i;e===void 0&&(e=[]),t===void 0&&(t=!0);const s=fM(n),o=s===((i=n.ownerDocument)==null?void 0:i.body),r=es(s);if(o){const l=Pp(r);return e.concat(r,r.visualViewport||[],Qf(s)?s:[],l&&t?yf(l):[])}return e.concat(s,yf(s,[],t))}function Pp(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}function uM(n){const e=Ns(n);let t=parseFloat(e.width)||0,i=parseFloat(e.height)||0;const s=po(n),o=s?n.offsetWidth:t,r=s?n.offsetHeight:i,l=td(t)!==o||td(i)!==r;return l&&(t=o,i=r),{width:t,height:i,$:l}}function T0(n){return Is(n)?n:n.contextElement}function Aa(n){const e=T0(n);if(!po(e))return Tr(1);const t=e.getBoundingClientRect(),{width:i,height:s,$:o}=uM(e);let r=(o?td(t.width):t.width)/i,l=(o?td(t.height):t.height)/s;return(!r||!Number.isFinite(r))&&(r=1),(!l||!Number.isFinite(l))&&(l=1),{x:r,y:l}}const bN=Tr(0);function hM(n){const e=es(n);return!P0()||!e.visualViewport?bN:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function yN(n,e,t){return e===void 0&&(e=!1),!t||e&&t!==es(n)?!1:e}function Tl(n,e,t,i){e===void 0&&(e=!1),t===void 0&&(t=!1);const s=n.getBoundingClientRect(),o=T0(n);let r=Tr(1);e&&(i?Is(i)&&(r=Aa(i)):r=Aa(n));const l=yN(o,t,i)?hM(o):Tr(0);let a=(s.left+l.x)/r.x,c=(s.top+l.y)/r.y,f=s.width/r.x,u=s.height/r.y;if(o){const h=es(o),d=i&&Is(i)?es(i):i;let g=h,m=Pp(g);for(;m&&i&&d!==g;){const p=Aa(m),b=m.getBoundingClientRect(),y=Ns(m),v=b.left+(m.clientLeft+parseFloat(y.paddingLeft))*p.x,C=b.top+(m.clientTop+parseFloat(y.paddingTop))*p.y;a*=p.x,c*=p.y,f*=p.x,u*=p.y,a+=v,c+=C,g=es(m),m=Pp(g)}}return id({width:f,height:u,x:a,y:c})}function _N(n){let{elements:e,rect:t,offsetParent:i,strategy:s}=n;const o=s==="fixed",r=Zo(i),l=e?yg(e.floating):!1;if(i===r||l&&o)return t;let a={scrollLeft:0,scrollTop:0},c=Tr(1);const f=Tr(0),u=po(i);if((u||!u&&!o)&&((lc(i)!=="body"||Qf(r))&&(a=_g(i)),po(i))){const h=Tl(i);c=Aa(i),f.x=h.x+i.clientLeft,f.y=h.y+i.clientTop}return{width:t.width*c.x,height:t.height*c.y,x:t.x*c.x-a.scrollLeft*c.x+f.x,y:t.y*c.y-a.scrollTop*c.y+f.y}}function wN(n){return Array.from(n.getClientRects())}function dM(n){return Tl(Zo(n)).left+_g(n).scrollLeft}function vN(n){const e=Zo(n),t=_g(n),i=n.ownerDocument.body,s=ml(e.scrollWidth,e.clientWidth,i.scrollWidth,i.clientWidth),o=ml(e.scrollHeight,e.clientHeight,i.scrollHeight,i.clientHeight);let r=-t.scrollLeft+dM(n);const l=-t.scrollTop;return Ns(i).direction==="rtl"&&(r+=ml(e.clientWidth,i.clientWidth)-s),{width:s,height:o,x:r,y:l}}function kN(n,e){const t=es(n),i=Zo(n),s=t.visualViewport;let o=i.clientWidth,r=i.clientHeight,l=0,a=0;if(s){o=s.width,r=s.height;const c=P0();(!c||c&&e==="fixed")&&(l=s.offsetLeft,a=s.offsetTop)}return{width:o,height:r,x:l,y:a}}function SN(n,e){const t=Tl(n,!0,e==="fixed"),i=t.top+n.clientTop,s=t.left+n.clientLeft,o=po(n)?Aa(n):Tr(1),r=n.clientWidth*o.x,l=n.clientHeight*o.y,a=s*o.x,c=i*o.y;return{width:r,height:l,x:a,y:c}}function jy(n,e,t){let i;if(e==="viewport")i=kN(n,t);else if(e==="document")i=vN(Zo(n));else if(Is(e))i=SN(e,t);else{const s=hM(n);i={...e,x:e.x-s.x,y:e.y-s.y}}return id(i)}function gM(n,e){const t=Er(n);return t===e||!Is(t)||Wa(t)?!1:Ns(t).position==="fixed"||gM(t,e)}function CN(n,e){const t=e.get(n);if(t)return t;let i=yf(n,[],!1).filter(l=>Is(l)&&lc(l)!=="body"),s=null;const o=Ns(n).position==="fixed";let r=o?Er(n):n;for(;Is(r)&&!Wa(r);){const l=Ns(r),a=O0(r);!a&&l.position==="fixed"&&(s=null),(o?!a&&!s:!a&&l.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||Qf(r)&&!a&&gM(n,r))?i=i.filter(f=>f!==r):s=l,r=Er(r)}return e.set(n,i),i}function MN(n){let{element:e,boundary:t,rootBoundary:i,strategy:s}=n;const r=[...t==="clippingAncestors"?yg(e)?[]:CN(e,this._c):[].concat(t),i],l=r[0],a=r.reduce((c,f)=>{const u=jy(e,f,s);return c.top=ml(u.top,c.top),c.right=ed(u.right,c.right),c.bottom=ed(u.bottom,c.bottom),c.left=ml(u.left,c.left),c},jy(e,l,s));return{width:a.right-a.left,height:a.bottom-a.top,x:a.left,y:a.top}}function AN(n){const{width:e,height:t}=uM(n);return{width:e,height:t}}function xN(n,e,t){const i=po(e),s=Zo(e),o=t==="fixed",r=Tl(n,!0,o,e);let l={scrollLeft:0,scrollTop:0};const a=Tr(0);if(i||!i&&!o)if((lc(e)!=="body"||Qf(s))&&(l=_g(e)),i){const u=Tl(e,!0,o,e);a.x=u.x+e.clientLeft,a.y=u.y+e.clientTop}else s&&(a.x=dM(s));const c=r.left+l.scrollLeft-a.x,f=r.top+l.scrollTop-a.y;return{x:c,y:f,width:r.width,height:r.height}}function am(n){return Ns(n).position==="static"}function zy(n,e){return!po(n)||Ns(n).position==="fixed"?null:e?e(n):n.offsetParent}function mM(n,e){const t=es(n);if(yg(n))return t;if(!po(n)){let s=Er(n);for(;s&&!Wa(s);){if(Is(s)&&!am(s))return s;s=Er(s)}return t}let i=zy(n,e);for(;i&&mN(i)&&am(i);)i=zy(i,e);return i&&Wa(i)&&am(i)&&!O0(i)?t:i||pN(n)||t}const ON=async function(n){const e=this.getOffsetParent||mM,t=this.getDimensions,i=await t(n.floating);return{reference:xN(n.reference,await e(n.floating),n.strategy),floating:{x:0,y:0,width:i.width,height:i.height}}};function PN(n){return Ns(n).direction==="rtl"}const TN={convertOffsetParentRelativeRectToViewportRelativeRect:_N,getDocumentElement:Zo,getClippingRect:MN,getOffsetParent:mM,getElementRects:ON,getClientRects:wN,getDimensions:AN,getScale:Aa,isElement:Is,isRTL:PN};function EN(n,e){let t=null,i;const s=Zo(n);function o(){var l;clearTimeout(i),(l=t)==null||l.disconnect(),t=null}function r(l,a){l===void 0&&(l=!1),a===void 0&&(a=1),o();const{left:c,top:f,width:u,height:h}=n.getBoundingClientRect();if(l||e(),!u||!h)return;const d=Su(f),g=Su(s.clientWidth-(c+u)),m=Su(s.clientHeight-(f+h)),p=Su(c),y={rootMargin:-d+"px "+-g+"px "+-m+"px "+-p+"px",threshold:ml(0,ed(1,a))||1};let v=!0;function C(w){const S=w[0].intersectionRatio;if(S!==a){if(!v)return r();S?r(!1,S):i=setTimeout(()=>{r(!1,1e-7)},1e3)}v=!1}try{t=new IntersectionObserver(C,{...y,root:s.ownerDocument})}catch{t=new IntersectionObserver(C,y)}t.observe(n)}return r(!0),o}function RN(n,e,t,i){i===void 0&&(i={});const{ancestorScroll:s=!0,ancestorResize:o=!0,elementResize:r=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:a=!1}=i,c=T0(n),f=s||o?[...c?yf(c):[],...yf(e)]:[];f.forEach(b=>{s&&b.addEventListener("scroll",t,{passive:!0}),o&&b.addEventListener("resize",t)});const u=c&&l?EN(c,t):null;let h=-1,d=null;r&&(d=new ResizeObserver(b=>{let[y]=b;y&&y.target===c&&d&&(d.unobserve(e),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var v;(v=d)==null||v.observe(e)})),t()}),c&&!a&&d.observe(c),d.observe(e));let g,m=a?Tl(n):null;a&&p();function p(){const b=Tl(n);m&&(b.x!==m.x||b.y!==m.y||b.width!==m.width||b.height!==m.height)&&t(),m=b,g=requestAnimationFrame(p)}return t(),()=>{var b;f.forEach(y=>{s&&y.removeEventListener("scroll",t),o&&y.removeEventListener("resize",t)}),u==null||u(),(b=d)==null||b.disconnect(),d=null,a&&cancelAnimationFrame(g)}}const DN=dN,LN=gN,IN=uN,NN=(n,e,t)=>{const i=new Map,s={platform:TN,...t},o={...s.platform,_c:i};return fN(n,e,{...s,platform:o})};function BN(n){let e,t;const i={autoUpdate:!0};let s=n;const o=f=>({...i,...n||{},...f||{}}),r=f=>{e&&t&&(s=o(f),NN(e,t,s).then(u=>{Object.assign(t.style,{position:u.strategy,left:`${u.x}px`,top:`${u.y}px`}),s!=null&&s.onComputed&&s.onComputed(u)}))},l=f=>{if("subscribe"in f)return c(f),{};e=f,r()},a=(f,u)=>{let h;t=f,s=o(u),setTimeout(()=>r(u),0),r(u);const d=()=>{h&&(h(),h=void 0)},g=({autoUpdate:m}=s||{})=>{d(),m!==!1&&Cn().then(()=>RN(e,t,()=>r(s),m===!0?{}:m))};return h=g(),{update(m){r(m),h=g(m)},destroy(){d()}}},c=f=>{const u=f.subscribe(h=>{e===void 0?(e=h,r()):(Object.assign(e,h),r())});Ti(u)};return[l,a,r]}function jN({loadOptions:n,filterText:e,items:t,multiple:i,value:s,itemId:o,groupBy:r,filterSelectedItems:l,itemFilter:a,convertStringItemsToObjects:c,filterGroupedItems:f,label:u}){if(t&&n)return t;if(!t)return[];t&&t.length>0&&typeof t[0]!="object"&&(t=c(t));let h=t.filter(d=>{let g=a(d[u],e,d);return g&&i&&(s!=null&&s.length)&&(g=!s.some(m=>l?m[o]===d[o]:!1)),g});return r&&(h=f(h)),h}async function zN({dispatch:n,loadOptions:e,convertStringItemsToObjects:t,filterText:i}){let s=await e(i).catch(o=>{console.warn("svelte-select loadOptions error :>> ",o),n("error",{type:"loadOptions",details:o})});if(s&&!s.cancelled)return s?(s&&s.length>0&&typeof s[0]!="object"&&(s=t(s)),n("loaded",{items:s})):s=[],{filteredItems:s,loading:!1,focused:!0,listOpen:!0}}function FN(n){let e,t;return{c(){e=wt("svg"),t=wt("path"),_(t,"fill","currentColor"),_(t,"d",`M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747
          3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0
          1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502
          0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0
          0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z`),_(e,"width","100%"),_(e,"height","100%"),_(e,"viewBox","0 0 20 20"),_(e,"focusable","false"),_(e,"aria-hidden","true"),_(e,"class","svelte-qbd276")},m(i,s){j(i,e,s),A(e,t)},p:ge,i:ge,o:ge,d(i){i&&B(e)}}}class VN extends Te{constructor(e){super(),Pe(this,e,null,FN,Ot,{})}}function HN(n){let e,t;return{c(){e=wt("svg"),t=wt("path"),_(t,"fill","currentColor"),_(t,"d",`M34.923,37.251L24,26.328L13.077,37.251L9.436,33.61l10.923-10.923L9.436,11.765l3.641-3.641L24,19.047L34.923,8.124
    l3.641,3.641L27.641,22.688L38.564,33.61L34.923,37.251z`),_(e,"width","100%"),_(e,"height","100%"),_(e,"viewBox","-2 -2 50 50"),_(e,"focusable","false"),_(e,"aria-hidden","true"),_(e,"role","presentation"),_(e,"class","svelte-whdbu1")},m(i,s){j(i,e,s),A(e,t)},p:ge,i:ge,o:ge,d(i){i&&B(e)}}}class sd extends Te{constructor(e){super(),Pe(this,e,null,HN,Ot,{})}}function WN(n){let e,t;return{c(){e=wt("svg"),t=wt("circle"),_(t,"class","circle_path svelte-1p3nqvd"),_(t,"cx","50"),_(t,"cy","50"),_(t,"r","20"),_(t,"fill","none"),_(t,"stroke","currentColor"),_(t,"stroke-width","5"),_(t,"stroke-miterlimit","10"),_(e,"class","loading svelte-1p3nqvd"),_(e,"viewBox","25 25 50 50")},m(i,s){j(i,e,s),A(e,t)},p:ge,i:ge,o:ge,d(i){i&&B(e)}}}class qN extends Te{constructor(e){super(),Pe(this,e,null,WN,Ot,{})}}const UN=n=>({value:n[0]&8}),Fy=n=>({value:n[3]}),JN=n=>({value:n[0]&8}),Vy=n=>({value:n[3]}),KN=n=>({listOpen:n[0]&64}),Hy=n=>({listOpen:n[6]}),YN=n=>({}),Wy=n=>({}),XN=n=>({}),qy=n=>({}),GN=n=>({selection:n[0]&8}),Uy=n=>({selection:n[3]});function Jy(n,e,t){const i=n.slice();return i[126]=e[t],i[128]=t,i}const QN=n=>({}),Ky=n=>({}),ZN=n=>({selection:n[0]&8}),Yy=n=>({selection:n[126],index:n[128]}),$N=n=>({}),Xy=n=>({}),eB=n=>({}),Gy=n=>({}),tB=n=>({}),Qy=n=>({});function Zy(n,e,t){const i=n.slice();return i[126]=e[t],i[128]=t,i}const nB=n=>({item:n[0]&16777216}),$y=n=>({item:n[126],index:n[128]}),iB=n=>({filteredItems:n[0]&16777216}),e_=n=>({filteredItems:n[24]}),sB=n=>({}),t_=n=>({});function n_(n){let e,t,i,s,o,r,l,a,c=n[50]["list-prepend"]&&i_(n);const f=[lB,rB,oB],u=[];function h(g,m){return g[50].list?0:g[24].length>0?1:g[19]?-1:2}~(i=h(n))&&(s=u[i]=f[i](n));let d=n[50]["list-append"]&&o_(n);return{c(){e=L("div"),c&&c.c(),t=X(),s&&s.c(),o=X(),d&&d.c(),_(e,"class","svelte-select-list svelte-82qwg8"),_(e,"role","none"),$(e,"prefloat",n[28])},m(g,m){j(g,e,m),c&&c.m(e,null),A(e,t),~i&&u[i].m(e,null),A(e,o),d&&d.m(e,null),n[91](e),r=!0,l||(a=[Nn(n[49].call(null,e)),fe(e,"scroll",n[41]),fe(e,"pointerup",Ds(_l(n[85]))),fe(e,"mousedown",Ds(_l(n[86])))],l=!0)},p(g,m){g[50]["list-prepend"]?c?(c.p(g,m),m[1]&524288&&k(c,1)):(c=i_(g),c.c(),k(c,1),c.m(e,t)):c&&(me(),M(c,1,1,()=>{c=null}),pe());let p=i;i=h(g),i===p?~i&&u[i].p(g,m):(s&&(me(),M(u[p],1,1,()=>{u[p]=null}),pe()),~i?(s=u[i],s?s.p(g,m):(s=u[i]=f[i](g),s.c()),k(s,1),s.m(e,o)):s=null),g[50]["list-append"]?d?(d.p(g,m),m[1]&524288&&k(d,1)):(d=o_(g),d.c(),k(d,1),d.m(e,null)):d&&(me(),M(d,1,1,()=>{d=null}),pe()),(!r||m[0]&268435456)&&$(e,"prefloat",g[28])},i(g){r||(k(c),k(s),k(d),r=!0)},o(g){M(c),M(s),M(d),r=!1},d(g){g&&B(e),c&&c.d(),~i&&u[i].d(),d&&d.d(),n[91](null),l=!1,Tt(a)}}}function i_(n){let e;const t=n[83]["list-prepend"],i=Dt(t,n,n[82],t_);return{c(){i&&i.c()},m(s,o){i&&i.m(s,o),e=!0},p(s,o){i&&i.p&&(!e||o[2]&1048576)&&It(i,t,s,s[82],e?Lt(t,s[82],o,sB):Nt(s[82]),t_)},i(s){e||(k(i,s),e=!0)},o(s){M(i,s),e=!1},d(s){i&&i.d(s)}}}function oB(n){let e;const t=n[83].empty,i=Dt(t,n,n[82],Qy),s=i||aB();return{c(){s&&s.c()},m(o,r){s&&s.m(o,r),e=!0},p(o,r){i&&i.p&&(!e||r[2]&1048576)&&It(i,t,o,o[82],e?Lt(t,o[82],r,tB):Nt(o[82]),Qy)},i(o){e||(k(s,o),e=!0)},o(o){M(s,o),e=!1},d(o){s&&s.d(o)}}}function rB(n){let e,t,i=ct(n[24]),s=[];for(let r=0;r<i.length;r+=1)s[r]=s_(Zy(n,i,r));const o=r=>M(s[r],1,1,()=>{s[r]=null});return{c(){for(let r=0;r<s.length;r+=1)s[r].c();e=gt()},m(r,l){for(let a=0;a<s.length;a+=1)s[a]&&s[a].m(r,l);j(r,e,l),t=!0},p(r,l){if(l[0]&1627402376|l[1]&28672|l[2]&1048576){i=ct(r[24]);let a;for(a=0;a<i.length;a+=1){const c=Zy(r,i,a);s[a]?(s[a].p(c,l),k(s[a],1)):(s[a]=s_(c),s[a].c(),k(s[a],1),s[a].m(e.parentNode,e))}for(me(),a=i.length;a<s.length;a+=1)o(a);pe()}},i(r){if(!t){for(let l=0;l<i.length;l+=1)k(s[l]);t=!0}},o(r){s=s.filter(Boolean);for(let l=0;l<s.length;l+=1)M(s[l]);t=!1},d(r){r&&B(e),Tn(s,r)}}}function lB(n){let e;const t=n[83].list,i=Dt(t,n,n[82],e_);return{c(){i&&i.c()},m(s,o){i&&i.m(s,o),e=!0},p(s,o){i&&i.p&&(!e||o[0]&16777216|o[2]&1048576)&&It(i,t,s,s[82],e?Lt(t,s[82],o,iB):Nt(s[82]),e_)},i(s){e||(k(i,s),e=!0)},o(s){M(i,s),e=!1},d(s){i&&i.d(s)}}}function aB(n){let e;return{c(){e=L("div"),e.textContent="No options",_(e,"class","empty svelte-82qwg8")},m(t,i){j(t,e,i)},p:ge,d(t){t&&B(e)}}}function cB(n){var i;let e=((i=n[126])==null?void 0:i[n[12]])+"",t;return{c(){t=we(e)},m(s,o){j(s,t,o)},p(s,o){var r;o[0]&16781312&&e!==(e=((r=s[126])==null?void 0:r[s[12]])+"")&&Ve(t,e)},d(s){s&&B(t)}}}function s_(n){let e,t,i,s,o,r,l,a;const c=n[83].item,f=Dt(c,n,n[82],$y),u=f||cB(n);function h(){return n[88](n[128])}function d(){return n[89](n[128])}function g(){return n[90](n[126],n[128])}return{c(){var m;e=L("div"),t=L("div"),u&&u.c(),o=X(),_(t,"class","item svelte-82qwg8"),$(t,"list-group-title",n[126].groupHeader),$(t,"active",n[45](n[126],n[3],n[13])),$(t,"first",vB(n[128])),$(t,"hover",n[7]===n[128]),$(t,"group-item",n[126].groupItem),$(t,"not-selectable",((m=n[126])==null?void 0:m.selectable)===!1),_(e,"class","list-item svelte-82qwg8"),_(e,"tabindex","-1"),_(e,"role","none")},m(m,p){j(m,e,p),A(e,t),u&&u.m(t,null),A(e,o),r=!0,l||(a=[Nn(i=n[46].call(null,t,{scroll:n[45](n[126],n[3],n[13]),listDom:n[30]})),Nn(s=n[47].call(null,t,{scroll:n[29]===n[128],listDom:n[30]})),fe(e,"mouseover",h),fe(e,"focus",d),fe(e,"click",Ds(g)),fe(e,"keydown",Ds(_l(n[87])))],l=!0)},p(m,p){var b;n=m,f?f.p&&(!r||p[0]&16777216|p[2]&1048576)&&It(f,c,n,n[82],r?Lt(c,n[82],p,nB):Nt(n[82]),$y):u&&u.p&&(!r||p[0]&16781312)&&u.p(n,r?p:[-1,-1,-1,-1,-1]),i&&Zn(i.update)&&p[0]&1090527240&&i.update.call(null,{scroll:n[45](n[126],n[3],n[13]),listDom:n[30]}),s&&Zn(s.update)&&p[0]&1610612736&&s.update.call(null,{scroll:n[29]===n[128],listDom:n[30]}),(!r||p[0]&16777216)&&$(t,"list-group-title",n[126].groupHeader),(!r||p[0]&16785416|p[1]&16384)&&$(t,"active",n[45](n[126],n[3],n[13])),(!r||p[0]&128)&&$(t,"hover",n[7]===n[128]),(!r||p[0]&16777216)&&$(t,"group-item",n[126].groupItem),(!r||p[0]&16777216)&&$(t,"not-selectable",((b=n[126])==null?void 0:b.selectable)===!1)},i(m){r||(k(u,m),r=!0)},o(m){M(u,m),r=!1},d(m){m&&B(e),u&&u.d(m),l=!1,Tt(a)}}}function o_(n){let e;const t=n[83]["list-append"],i=Dt(t,n,n[82],Gy);return{c(){i&&i.c()},m(s,o){i&&i.m(s,o),e=!0},p(s,o){i&&i.p&&(!e||o[2]&1048576)&&It(i,t,s,s[82],e?Lt(t,s[82],o,eB):Nt(s[82]),Gy)},i(s){e||(k(i,s),e=!0)},o(s){M(i,s),e=!1},d(s){i&&i.d(s)}}}function r_(n){let e,t,i,s,o;return{c(){e=L("span"),t=we(n[32]),i=X(),s=L("span"),o=we(n[31]),_(e,"id","aria-selection"),_(e,"class","svelte-82qwg8"),_(s,"id","aria-context"),_(s,"class","svelte-82qwg8")},m(r,l){j(r,e,l),A(e,t),j(r,i,l),j(r,s,l),A(s,o)},p(r,l){l[1]&2&&Ve(t,r[32]),l[1]&1&&Ve(o,r[31])},d(r){r&&(B(e),B(i),B(s))}}}function l_(n){let e,t,i,s;const o=[uB,fB],r=[];function l(a,c){return a[9]?0:1}return e=l(n),t=r[e]=o[e](n),{c(){t.c(),i=gt()},m(a,c){r[e].m(a,c),j(a,i,c),s=!0},p(a,c){let f=e;e=l(a),e===f?r[e].p(a,c):(me(),M(r[f],1,1,()=>{r[f]=null}),pe(),t=r[e],t?t.p(a,c):(t=r[e]=o[e](a),t.c()),k(t,1),t.m(i.parentNode,i))},i(a){s||(k(t),s=!0)},o(a){M(t),s=!1},d(a){a&&B(i),r[e].d(a)}}}function fB(n){let e,t;const i=n[83].selection,s=Dt(i,n,n[82],Uy),o=s||hB(n);return{c(){e=L("div"),o&&o.c(),_(e,"class","selected-item svelte-82qwg8"),$(e,"hide-selected-item",n[35])},m(r,l){j(r,e,l),o&&o.m(e,null),t=!0},p(r,l){s?s.p&&(!t||l[0]&8|l[2]&1048576)&&It(s,i,r,r[82],t?Lt(i,r[82],l,GN):Nt(r[82]),Uy):o&&o.p&&(!t||l[0]&4104)&&o.p(r,t?l:[-1,-1,-1,-1,-1]),(!t||l[1]&16)&&$(e,"hide-selected-item",r[35])},i(r){t||(k(o,r),t=!0)},o(r){M(o,r),t=!1},d(r){r&&B(e),o&&o.d(r)}}}function uB(n){let e,t,i=ct(n[3]),s=[];for(let r=0;r<i.length;r+=1)s[r]=c_(Jy(n,i,r));const o=r=>M(s[r],1,1,()=>{s[r]=null});return{c(){for(let r=0;r<s.length;r+=1)s[r].c();e=gt()},m(r,l){for(let a=0;a<s.length;a+=1)s[a]&&s[a].m(r,l);j(r,e,l),t=!0},p(r,l){if(l[0]&67116040|l[1]&32|l[2]&1048576){i=ct(r[3]);let a;for(a=0;a<i.length;a+=1){const c=Jy(r,i,a);s[a]?(s[a].p(c,l),k(s[a],1)):(s[a]=c_(c),s[a].c(),k(s[a],1),s[a].m(e.parentNode,e))}for(me(),a=i.length;a<s.length;a+=1)o(a);pe()}},i(r){if(!t){for(let l=0;l<i.length;l+=1)k(s[l]);t=!0}},o(r){s=s.filter(Boolean);for(let l=0;l<s.length;l+=1)M(s[l]);t=!1},d(r){r&&B(e),Tn(s,r)}}}function hB(n){let e=n[3][n[12]]+"",t;return{c(){t=we(e)},m(i,s){j(i,t,s)},p(i,s){s[0]&4104&&e!==(e=i[3][i[12]]+"")&&Ve(t,e)},d(i){i&&B(t)}}}function dB(n){let e=n[126][n[12]]+"",t;return{c(){t=we(e)},m(i,s){j(i,t,s)},p(i,s){s[0]&4104&&e!==(e=i[126][i[12]]+"")&&Ve(t,e)},d(i){i&&B(t)}}}function a_(n){let e,t,i,s;const o=n[83]["multi-clear-icon"],r=Dt(o,n,n[82],Ky),l=r||gB();function a(){return n[92](n[128])}return{c(){e=L("div"),l&&l.c(),_(e,"class","multi-item-clear svelte-82qwg8")},m(c,f){j(c,e,f),l&&l.m(e,null),t=!0,i||(s=fe(e,"pointerup",Ds(_l(a))),i=!0)},p(c,f){n=c,r&&r.p&&(!t||f[2]&1048576)&&It(r,o,n,n[82],t?Lt(o,n[82],f,QN):Nt(n[82]),Ky)},i(c){t||(k(l,c),t=!0)},o(c){M(l,c),t=!1},d(c){c&&B(e),l&&l.d(c),i=!1,s()}}}function gB(n){let e,t;return e=new sd({}),{c(){se(e.$$.fragment)},m(i,s){ne(e,i,s),t=!0},i(i){t||(k(e.$$.fragment,i),t=!0)},o(i){M(e.$$.fragment,i),t=!1},d(i){ie(e,i)}}}function c_(n){let e,t,i,s,o,r,l;const a=n[83].selection,c=Dt(a,n,n[82],Yy),f=c||dB(n);let u=!n[11]&&!n[10]&&sd&&a_(n);function h(){return n[93](n[128])}return{c(){e=L("div"),t=L("span"),f&&f.c(),i=X(),u&&u.c(),s=X(),_(t,"class","multi-item-text svelte-82qwg8"),_(e,"class","multi-item svelte-82qwg8"),_(e,"role","none"),$(e,"active",n[26]===n[128]),$(e,"disabled",n[11])},m(d,g){j(d,e,g),A(e,t),f&&f.m(t,null),A(e,i),u&&u.m(e,null),A(e,s),o=!0,r||(l=[fe(e,"click",_l(h)),fe(e,"keydown",Ds(_l(n[84])))],r=!0)},p(d,g){n=d,c?c.p&&(!o||g[0]&8|g[2]&1048576)&&It(c,a,n,n[82],o?Lt(a,n[82],g,ZN):Nt(n[82]),Yy):f&&f.p&&(!o||g[0]&4104)&&f.p(n,o?g:[-1,-1,-1,-1,-1]),!n[11]&&!n[10]&&sd?u?(u.p(n,g),g[0]&3072&&k(u,1)):(u=a_(n),u.c(),k(u,1),u.m(e,s)):u&&(me(),M(u,1,1,()=>{u=null}),pe()),(!o||g[0]&67108864)&&$(e,"active",n[26]===n[128]),(!o||g[0]&2048)&&$(e,"disabled",n[11])},i(d){o||(k(f,d),k(u),o=!0)},o(d){M(f,d),M(u),o=!1},d(d){d&&B(e),f&&f.d(d),u&&u.d(),r=!1,Tt(l)}}}function f_(n){let e,t;const i=n[83]["loading-icon"],s=Dt(i,n,n[82],qy),o=s||mB();return{c(){e=L("div"),o&&o.c(),_(e,"class","icon loading svelte-82qwg8"),_(e,"aria-hidden","true")},m(r,l){j(r,e,l),o&&o.m(e,null),t=!0},p(r,l){s&&s.p&&(!t||l[2]&1048576)&&It(s,i,r,r[82],t?Lt(i,r[82],l,XN):Nt(r[82]),qy)},i(r){t||(k(o,r),t=!0)},o(r){M(o,r),t=!1},d(r){r&&B(e),o&&o.d(r)}}}function mB(n){let e,t;return e=new qN({}),{c(){se(e.$$.fragment)},m(i,s){ne(e,i,s),t=!0},i(i){t||(k(e.$$.fragment,i),t=!0)},o(i){M(e.$$.fragment,i),t=!1},d(i){ie(e,i)}}}function u_(n){let e,t,i,s;const o=n[83]["clear-icon"],r=Dt(o,n,n[82],Wy),l=r||pB();return{c(){e=L("button"),l&&l.c(),_(e,"type","button"),_(e,"class","icon clear-select svelte-82qwg8")},m(a,c){j(a,e,c),l&&l.m(e,null),t=!0,i||(s=fe(e,"click",n[22]),i=!0)},p(a,c){r&&r.p&&(!t||c[2]&1048576)&&It(r,o,a,a[82],t?Lt(o,a[82],c,YN):Nt(a[82]),Wy)},i(a){t||(k(l,a),t=!0)},o(a){M(l,a),t=!1},d(a){a&&B(e),l&&l.d(a),i=!1,s()}}}function pB(n){let e,t;return e=new sd({}),{c(){se(e.$$.fragment)},m(i,s){ne(e,i,s),t=!0},i(i){t||(k(e.$$.fragment,i),t=!0)},o(i){M(e.$$.fragment,i),t=!1},d(i){ie(e,i)}}}function h_(n){let e,t;const i=n[83]["chevron-icon"],s=Dt(i,n,n[82],Hy),o=s||bB();return{c(){e=L("div"),o&&o.c(),_(e,"class","icon chevron svelte-82qwg8"),_(e,"aria-hidden","true")},m(r,l){j(r,e,l),o&&o.m(e,null),t=!0},p(r,l){s&&s.p&&(!t||l[0]&64|l[2]&1048576)&&It(s,i,r,r[82],t?Lt(i,r[82],l,KN):Nt(r[82]),Hy)},i(r){t||(k(o,r),t=!0)},o(r){M(o,r),t=!1},d(r){r&&B(e),o&&o.d(r)}}}function bB(n){let e,t;return e=new VN({}),{c(){se(e.$$.fragment)},m(i,s){ne(e,i,s),t=!0},i(i){t||(k(e.$$.fragment,i),t=!0)},o(i){M(e.$$.fragment,i),t=!1},d(i){ie(e,i)}}}function yB(n){let e,t;return{c(){e=L("input"),_(e,"name",n[8]),_(e,"type","hidden"),e.value=t=n[3]?JSON.stringify(n[3]):null,_(e,"class","svelte-82qwg8")},m(i,s){j(i,e,s)},p(i,s){s[0]&256&&_(e,"name",i[8]),s[0]&8&&t!==(t=i[3]?JSON.stringify(i[3]):null)&&(e.value=t)},d(i){i&&B(e)}}}function d_(n){let e;const t=n[83].required,i=Dt(t,n,n[82],Fy),s=i||_B();return{c(){s&&s.c()},m(o,r){s&&s.m(o,r),e=!0},p(o,r){i&&i.p&&(!e||r[0]&8|r[2]&1048576)&&It(i,t,o,o[82],e?Lt(t,o[82],r,UN):Nt(o[82]),Fy)},i(o){e||(k(s,o),e=!0)},o(o){M(s,o),e=!1},d(o){s&&s.d(o)}}}function _B(n){let e;return{c(){e=L("select"),_(e,"class","required svelte-82qwg8"),e.required=!0,_(e,"tabindex","-1"),_(e,"aria-hidden","true")},m(t,i){j(t,e,i)},p:ge,d(t){t&&B(e)}}}function wB(n){let e,t,i,s,o,r,l,a,c,f,u,h,d,g,m,p,b,y,v,C,w=n[6]&&n_(n),S=n[2]&&r_(n);const x=n[83].prepend,T=Dt(x,n,n[82],Xy);let P=n[25]&&l_(n),D=[{readOnly:f=!n[17]},n[27],{placeholder:n[33]},{style:n[18]},{disabled:n[11]}],O={};for(let R=0;R<D.length;R+=1)O=nt(O,D[R]);let E=n[5]&&f_(n),N=n[34]&&u_(n),z=n[20]&&h_(n);const F=n[83]["input-hidden"],q=Dt(F,n,n[82],Vy),Q=q||yB(n);let G=n[16]&&(!n[3]||n[3].length===0)&&d_(n);return{c(){e=L("div"),w&&w.c(),t=X(),i=L("span"),S&&S.c(),s=X(),o=L("div"),T&&T.c(),r=X(),l=L("div"),P&&P.c(),a=X(),c=L("input"),u=X(),h=L("div"),E&&E.c(),d=X(),N&&N.c(),g=X(),z&&z.c(),m=X(),Q&&Q.c(),p=X(),G&&G.c(),_(i,"aria-live","polite"),_(i,"aria-atomic","false"),_(i,"aria-relevant","additions text"),_(i,"class","a11y-text svelte-82qwg8"),_(o,"class","prepend svelte-82qwg8"),ms(c,O),$(c,"svelte-82qwg8",!0),_(l,"class","value-container svelte-82qwg8"),_(h,"class","indicators svelte-82qwg8"),_(e,"class",b="svelte-select "+n[21]+" svelte-82qwg8"),_(e,"style",n[14]),_(e,"role","none"),$(e,"multi",n[9]),$(e,"disabled",n[11]),$(e,"focused",n[2]),$(e,"list-open",n[6]),$(e,"show-chevron",n[20]),$(e,"error",n[15])},m(R,U){j(R,e,U),w&&w.m(e,null),A(e,t),A(e,i),S&&S.m(i,null),A(e,s),A(e,o),T&&T.m(o,null),A(e,r),A(e,l),P&&P.m(l,null),A(l,a),A(l,c),c.autofocus&&c.focus(),n[94](c),Ar(c,n[4]),A(e,u),A(e,h),E&&E.m(h,null),A(h,d),N&&N.m(h,null),A(h,g),z&&z.m(h,null),A(e,m),Q&&Q.m(e,null),A(e,p),G&&G.m(e,null),n[96](e),y=!0,v||(C=[fe(window,"click",n[42]),fe(window,"keydown",n[37]),fe(c,"keydown",n[37]),fe(c,"blur",n[39]),fe(c,"focus",n[38]),fe(c,"input",n[95]),fe(e,"pointerup",_l(n[40])),Nn(n[48].call(null,e))],v=!0)},p(R,U){R[6]?w?(w.p(R,U),U[0]&64&&k(w,1)):(w=n_(R),w.c(),k(w,1),w.m(e,t)):w&&(me(),M(w,1,1,()=>{w=null}),pe()),R[2]?S?S.p(R,U):(S=r_(R),S.c(),S.m(i,null)):S&&(S.d(1),S=null),T&&T.p&&(!y||U[2]&1048576)&&It(T,x,R,R[82],y?Lt(x,R[82],U,$N):Nt(R[82]),Xy),R[25]?P?(P.p(R,U),U[0]&33554432&&k(P,1)):(P=l_(R),P.c(),k(P,1),P.m(l,a)):P&&(me(),M(P,1,1,()=>{P=null}),pe()),ms(c,O=pn(D,[(!y||U[0]&131072&&f!==(f=!R[17]))&&{readOnly:f},U[0]&134217728&&R[27],(!y||U[1]&4)&&{placeholder:R[33]},(!y||U[0]&262144)&&{style:R[18]},(!y||U[0]&2048)&&{disabled:R[11]}])),U[0]&16&&c.value!==R[4]&&Ar(c,R[4]),$(c,"svelte-82qwg8",!0),R[5]?E?(E.p(R,U),U[0]&32&&k(E,1)):(E=f_(R),E.c(),k(E,1),E.m(h,d)):E&&(me(),M(E,1,1,()=>{E=null}),pe()),R[34]?N?(N.p(R,U),U[1]&8&&k(N,1)):(N=u_(R),N.c(),k(N,1),N.m(h,g)):N&&(me(),M(N,1,1,()=>{N=null}),pe()),R[20]?z?(z.p(R,U),U[0]&1048576&&k(z,1)):(z=h_(R),z.c(),k(z,1),z.m(h,null)):z&&(me(),M(z,1,1,()=>{z=null}),pe()),q?q.p&&(!y||U[0]&8|U[2]&1048576)&&It(q,F,R,R[82],y?Lt(F,R[82],U,JN):Nt(R[82]),Vy):Q&&Q.p&&(!y||U[0]&264)&&Q.p(R,y?U:[-1,-1,-1,-1,-1]),R[16]&&(!R[3]||R[3].length===0)?G?(G.p(R,U),U[0]&65544&&k(G,1)):(G=d_(R),G.c(),k(G,1),G.m(e,null)):G&&(me(),M(G,1,1,()=>{G=null}),pe()),(!y||U[0]&2097152&&b!==(b="svelte-select "+R[21]+" svelte-82qwg8"))&&_(e,"class",b),(!y||U[0]&16384)&&_(e,"style",R[14]),(!y||U[0]&2097664)&&$(e,"multi",R[9]),(!y||U[0]&2099200)&&$(e,"disabled",R[11]),(!y||U[0]&2097156)&&$(e,"focused",R[2]),(!y||U[0]&2097216)&&$(e,"list-open",R[6]),(!y||U[0]&3145728)&&$(e,"show-chevron",R[20]),(!y||U[0]&2129920)&&$(e,"error",R[15])},i(R){y||(k(w),k(T,R),k(P),k(E),k(N),k(z),k(Q,R),k(G),y=!0)},o(R){M(w),M(T,R),M(P),M(E),M(N),M(z),M(Q,R),M(G),y=!1},d(R){R&&B(e),w&&w.d(),S&&S.d(),T&&T.d(R),P&&P.d(),n[94](null),E&&E.d(),N&&N.d(),z&&z.d(),Q&&Q.d(R),G&&G.d(),n[96](null),v=!1,Tt(C)}}}function g_(n){return n.map((e,t)=>({index:t,value:e,label:`${e}`}))}function vB(n){return n===0}function kB(n){return n.groupHeader&&n.selectable||n.selectable||!n.hasOwnProperty("selectable")}function SB(n,e,t){let i,s,o,r,l,a,c,f,u,{$$slots:h={},$$scope:d}=e;const g=c3(h),m=Jd();let{justValue:p=null}=e,{filter:b=jN}=e,{getItems:y=zN}=e,{id:v=null}=e,{name:C=null}=e,{container:w=void 0}=e,{input:S=void 0}=e,{multiple:x=!1}=e,{multiFullItemClearable:T=!1}=e,{disabled:P=!1}=e,{focused:D=!1}=e,{value:O=null}=e,{filterText:E=""}=e,{placeholder:N="Please select"}=e,{placeholderAlwaysShow:z=!1}=e,{items:F=null}=e,{label:q="label"}=e,{itemFilter:Q=(J,Je,nn)=>`${J}`.toLowerCase().includes(Je.toLowerCase())}=e,{groupBy:G=void 0}=e,{groupFilter:R=J=>J}=e,{groupHeaderSelectable:U=!1}=e,{itemId:Y="value"}=e,{loadOptions:le=void 0}=e,{containerStyles:Z=""}=e,{hasError:he=!1}=e,{filterSelectedItems:W=!0}=e,{required:ve=!1}=e,{closeListOnChange:te=!0}=e,{clearFilterTextOnBlur:be=!0}=e,{createGroupHeaderItem:tt=(J,Je)=>({value:J,[q]:J})}=e;const re=()=>c;let{searchable:Qe=!0}=e,{inputStyles:H=""}=e,{clearable:ae=!0}=e,{loading:Ie=!1}=e,{listOpen:Ne=!1}=e,Be,{debounce:Re=(J,Je=1)=>{clearTimeout(Be),Be=setTimeout(J,Je)}}=e,{debounceWait:de=300}=e,{hideEmptyState:at=!1}=e,{inputAttributes:kt={}}=e,{listAutoWidth:De=!0}=e,{showChevron:ot=!1}=e,{listOffset:mt=5}=e,{hoverItemIndex:Ze=0}=e,{floatingConfig:Ht={}}=e,{class:qe=""}=e,ft,K,Se,Ue;function Ce(){if(typeof O=="string"){let J=(F||[]).find(Je=>Je[Y]===O);t(3,O=J||{[Y]:O,label:O})}else x&&Array.isArray(O)&&O.length>0&&t(3,O=O.map(J=>typeof J=="string"?{value:J,label:J}:J))}let ee;function Ae(){t(27,ee=Object.assign({autocapitalize:"none",autocomplete:"off",autocorrect:"off",spellcheck:!1,tabindex:0,type:"text","aria-autocomplete":"list"},kt)),v&&t(27,ee.id=v,ee),Qe||t(27,ee.readonly=!0,ee)}function Ee(J){const Je=[],nn={};J.forEach(Wi=>{const qi=G(Wi);Je.includes(qi)||(Je.push(qi),nn[qi]=[],qi&&nn[qi].push(Object.assign(tt(qi,Wi),{id:qi,groupHeader:!0,selectable:U}))),nn[qi].push(Object.assign({groupItem:!!qi},Wi))});const Hi=[];return R(Je).forEach(Wi=>{nn[Wi]&&Hi.push(...nn[Wi])}),Hi}function Ge(){if(x){JSON.stringify(O)!==JSON.stringify(K)&&vs()&&m("input",O);return}(!K||JSON.stringify(O[Y])!==JSON.stringify(K[Y]))&&m("input",O)}function rt(){O&&(Array.isArray(O)?t(3,O=[...O]):t(3,O=[O]))}function ue(){O&&t(3,O=null)}function Bt(){const J=c.findIndex(Je=>Je[Y]===O[Y]);it(J,!0)}function Et(J){m("hoverItem",J)}function it(J=0,Je){t(7,Ze=J<0?0:J),!Je&&G&&c[Ze]&&!c[Ze].selectable&&dt(1)}function Gt(){!le&&E.length===0||(le?Re(async function(){t(5,Ie=!0);let J=await y({dispatch:m,loadOptions:le,convertStringItemsToObjects:g_,filterText:E});J?(t(5,Ie=J.loading),t(6,Ne=Ne?J.listOpen:E.length>0),t(2,D=Ne&&J.focused),t(51,F=G?Ee(J.filteredItems):J.filteredItems)):(t(5,Ie=!1),t(2,D=!0),t(6,Ne=!0))},de):(t(6,Ne=!0),x&&t(26,ft=void 0)))}function Qt(J){Ne&&m("filter",J)}nx(async()=>{t(78,K=O),t(79,Se=E),t(80,Ue=x)});function Mi(){return x?O?O.map(J=>J[Y]):null:O&&O[Y]}function vs(){let J=!0;if(O){const Je=[],nn=[];O.forEach(Hi=>{Je.includes(Hi[Y])?J=!1:(Je.push(Hi[Y]),nn.push(Hi))}),J||t(3,O=nn)}return J}function tr(J){let Je=J?J[Y]:O[Y];return F.find(nn=>nn[Y]===Je)}function Ur(J){!J||J.length===0||J.some(Je=>typeof Je!="object")||!O||(x?O.some(Je=>!Je||!Je[Y]):!O[Y])||(Array.isArray(O)?t(3,O=O.map(Je=>tr(Je)||Je)):t(3,O=tr()||O))}async function en(J){const Je=O[J];O.length===1?t(3,O=void 0):t(3,O=O.filter(nn=>nn!==Je)),m("clear",Je)}function Hs(J){if(D)switch(J.stopPropagation(),J.key){case"Escape":J.preventDefault(),li();break;case"Enter":if(J.preventDefault(),Ne){if(c.length===0)break;const Je=c[Ze];if(O&&!x&&O[Y]===Je[Y]){li();break}else ko(c[Ze])}break;case"ArrowDown":J.preventDefault(),Ne?dt(1):(t(6,Ne=!0),t(26,ft=void 0));break;case"ArrowUp":J.preventDefault(),Ne?dt(-1):(t(6,Ne=!0),t(26,ft=void 0));break;case"Tab":if(Ne&&D){if(c.length===0||O&&O[Y]===c[Ze][Y])return li();J.preventDefault(),ko(c[Ze]),li()}break;case"Backspace":if(!x||E.length>0)return;if(x&&O&&O.length>0){if(en(ft!==void 0?ft:O.length-1),ft===0||ft===void 0)break;t(26,ft=O.length>ft?ft-1:void 0)}break;case"ArrowLeft":if(!O||!x||E.length>0)return;ft===void 0?t(26,ft=O.length-1):O.length>ft&&ft!==0&&t(26,ft-=1);break;case"ArrowRight":if(!O||!x||E.length>0||ft===void 0)return;ft===O.length-1?t(26,ft=void 0):ft<O.length-1&&t(26,ft+=1);break}}function Ws(J){D&&S===(document==null?void 0:document.activeElement)||(J&&m("focus",J),S==null||S.focus(),t(2,D=!0))}async function wo(J){vo||(Ne||D)&&(m("blur",J),li(),t(2,D=!1),t(26,ft=void 0),S==null||S.blur())}function ks(){if(!P){if(E.length>0)return t(6,Ne=!0);t(6,Ne=!Ne)}}function qs(){m("clear",O),t(3,O=void 0),li(),Ws()}_i(()=>{Ne&&t(2,D=!0),D&&S&&S.focus()});function Vi(J){if(J){t(4,E="");const Je=Object.assign({},J);if(Je.groupHeader&&!Je.selectable)return;t(3,O=x?O?O.concat([Je]):[Je]:t(3,O=Je)),setTimeout(()=>{te&&li(),t(26,ft=void 0),m("change",O),m("select",J)})}}function li(){be&&t(4,E=""),t(6,Ne=!1)}let{ariaValues:ai=J=>`Option ${J}, selected.`}=e,{ariaListOpen:ci=(J,Je)=>`You are currently focused on option ${J}. There are ${Je} results available.`}=e,{ariaFocused:ei=()=>"Select is focused, type to refine list, press down to open the menu."}=e;function Ss(J){let Je;return J&&O.length>0?Je=O.map(nn=>nn[q]).join(", "):Je=O[q],ai(Je)}function Us(){if(!c||c.length===0)return"";let J=c[Ze];if(Ne&&J){let Je=c?c.length:0;return ci(J[q],Je)}else return ei()}let yn=null,Js;function Ks(){clearTimeout(Js),Js=setTimeout(()=>{vo=!1},100)}function nr(J){!Ne&&!D&&w&&!w.contains(J.target)&&!(yn!=null&&yn.contains(J.target))&&wo()}Ti(()=>{yn==null||yn.remove()});let vo=!1;function ko(J){!J||J.selectable===!1||Vi(J)}function oe(J){vo||t(7,Ze=J)}function $e(J){const{item:Je,i:nn}=J;if((Je==null?void 0:Je.selectable)!==!1){if(O&&!x&&O[Y]===Je[Y])return li();kB(Je)&&(t(7,Ze=nn),ko(Je))}}function dt(J){if(c.filter(Hi=>!Object.hasOwn(Hi,"selectable")||Hi.selectable===!0).length===0)return t(7,Ze=0);J>0&&Ze===c.length-1?t(7,Ze=0):J<0&&Ze===0?t(7,Ze=c.length-1):t(7,Ze=Ze+J);const nn=c[Ze];if(nn&&nn.selectable===!1){(J===1||J===-1)&&dt(J);return}}function tn(J,Je,nn){if(!x)return Je&&Je[nn]===J[nn]}const zt=Jn,Zt=Jn;function Jn(J){return{update(Je){Je.scroll&&(Ks(),J.scrollIntoView({behavior:"auto",block:"nearest"}))}}}function Ai(){const{width:J}=w.getBoundingClientRect();t(23,yn.style.width=De?J+"px":"auto",yn)}let cn={strategy:"absolute",placement:"bottom-start",middleware:[DN(mt),IN(),LN()],autoUpdate:!1};const[Ys,uc,ir]=BN(cn);let Jr=!0;function hc(J,Je){if(!J||!Je)return t(28,Jr=!0);setTimeout(()=>{t(28,Jr=!1)},0)}function Kr(J){Oi.call(this,n,J)}function dc(J){Oi.call(this,n,J)}function Jl(J){Oi.call(this,n,J)}function sr(J){Oi.call(this,n,J)}const gc=J=>oe(J),So=J=>oe(J),or=(J,Je)=>$e({item:J,i:Je});function Kl(J){st[J?"unshift":"push"](()=>{yn=J,t(23,yn)})}const Yl=J=>en(J),Xl=J=>T?en(J):{};function mc(J){st[J?"unshift":"push"](()=>{S=J,t(1,S)})}function Gl(){E=this.value,t(4,E)}function Sn(J){st[J?"unshift":"push"](()=>{w=J,t(0,w)})}return n.$$set=J=>{"justValue"in J&&t(52,p=J.justValue),"filter"in J&&t(53,b=J.filter),"getItems"in J&&t(54,y=J.getItems),"id"in J&&t(55,v=J.id),"name"in J&&t(8,C=J.name),"container"in J&&t(0,w=J.container),"input"in J&&t(1,S=J.input),"multiple"in J&&t(9,x=J.multiple),"multiFullItemClearable"in J&&t(10,T=J.multiFullItemClearable),"disabled"in J&&t(11,P=J.disabled),"focused"in J&&t(2,D=J.focused),"value"in J&&t(3,O=J.value),"filterText"in J&&t(4,E=J.filterText),"placeholder"in J&&t(56,N=J.placeholder),"placeholderAlwaysShow"in J&&t(57,z=J.placeholderAlwaysShow),"items"in J&&t(51,F=J.items),"label"in J&&t(12,q=J.label),"itemFilter"in J&&t(58,Q=J.itemFilter),"groupBy"in J&&t(59,G=J.groupBy),"groupFilter"in J&&t(60,R=J.groupFilter),"groupHeaderSelectable"in J&&t(61,U=J.groupHeaderSelectable),"itemId"in J&&t(13,Y=J.itemId),"loadOptions"in J&&t(62,le=J.loadOptions),"containerStyles"in J&&t(14,Z=J.containerStyles),"hasError"in J&&t(15,he=J.hasError),"filterSelectedItems"in J&&t(63,W=J.filterSelectedItems),"required"in J&&t(16,ve=J.required),"closeListOnChange"in J&&t(64,te=J.closeListOnChange),"clearFilterTextOnBlur"in J&&t(65,be=J.clearFilterTextOnBlur),"createGroupHeaderItem"in J&&t(66,tt=J.createGroupHeaderItem),"searchable"in J&&t(17,Qe=J.searchable),"inputStyles"in J&&t(18,H=J.inputStyles),"clearable"in J&&t(68,ae=J.clearable),"loading"in J&&t(5,Ie=J.loading),"listOpen"in J&&t(6,Ne=J.listOpen),"debounce"in J&&t(69,Re=J.debounce),"debounceWait"in J&&t(70,de=J.debounceWait),"hideEmptyState"in J&&t(19,at=J.hideEmptyState),"inputAttributes"in J&&t(71,kt=J.inputAttributes),"listAutoWidth"in J&&t(72,De=J.listAutoWidth),"showChevron"in J&&t(20,ot=J.showChevron),"listOffset"in J&&t(73,mt=J.listOffset),"hoverItemIndex"in J&&t(7,Ze=J.hoverItemIndex),"floatingConfig"in J&&t(74,Ht=J.floatingConfig),"class"in J&&t(21,qe=J.class),"ariaValues"in J&&t(75,ai=J.ariaValues),"ariaListOpen"in J&&t(76,ci=J.ariaListOpen),"ariaFocused"in J&&t(77,ei=J.ariaFocused),"$$scope"in J&&t(82,d=J.$$scope)},n.$$.update=()=>{n.$$.dirty[0]&8|n.$$.dirty[1]&1048576&&O&&Ce(),n.$$.dirty[0]&131072|n.$$.dirty[2]&512&&(kt||!Qe)&&Ae(),n.$$.dirty[0]&512&&x&&rt(),n.$$.dirty[0]&512|n.$$.dirty[2]&262144&&Ue&&!x&&ue(),n.$$.dirty[0]&520&&x&&O&&O.length>1&&vs(),n.$$.dirty[0]&8&&O&&Ge(),n.$$.dirty[0]&520|n.$$.dirty[2]&65536&&!O&&x&&K&&m("input",O),n.$$.dirty[0]&6&&!D&&S&&li(),n.$$.dirty[0]&16|n.$$.dirty[2]&131072&&E!==Se&&Gt(),n.$$.dirty[0]&12824|n.$$.dirty[1]&407896064|n.$$.dirty[2]&3&&t(24,c=b({loadOptions:le,filterText:E,items:F,multiple:x,value:O,itemId:Y,groupBy:G,label:q,filterSelectedItems:W,itemFilter:Q,convertStringItemsToObjects:g_,filterGroupedItems:Ee})),n.$$.dirty[0]&16777800&&!x&&Ne&&O&&c&&Bt(),n.$$.dirty[0]&576&&Ne&&x&&t(7,Ze=0),n.$$.dirty[0]&16&&E&&t(7,Ze=0),n.$$.dirty[0]&128&&Et(Ze),n.$$.dirty[0]&520&&t(25,i=x?O&&O.length>0:O),n.$$.dirty[0]&33554448&&t(35,s=i&&E.length>0),n.$$.dirty[0]&33556512|n.$$.dirty[2]&64&&t(34,o=i&&ae&&!P&&!Ie),n.$$.dirty[0]&520|n.$$.dirty[1]&100663296&&t(33,r=z&&x||x&&(O==null?void 0:O.length)===0?N:O?"":N),n.$$.dirty[0]&520&&t(32,l=O?Ss(x):""),n.$$.dirty[0]&16777412&&t(31,a=Us()),n.$$.dirty[1]&1048576&&Ur(F),n.$$.dirty[0]&8712&&t(52,p=Mi()),n.$$.dirty[0]&520|n.$$.dirty[2]&65536&&!x&&K&&!O&&m("input",O),n.$$.dirty[0]&16777800&&Ne&&c&&!x&&!O&&it(),n.$$.dirty[0]&16777216&&Qt(c),n.$$.dirty[0]&1|n.$$.dirty[2]&4096&&w&&(Ht==null?void 0:Ht.autoUpdate)===void 0&&t(81,cn.autoUpdate=!0,cn),n.$$.dirty[0]&1|n.$$.dirty[2]&528384&&w&&Ht&&ir(Object.assign(cn,Ht)),n.$$.dirty[0]&8388608&&t(30,f=!!yn),n.$$.dirty[0]&8388672&&hc(yn,Ne),n.$$.dirty[0]&8388673&&Ne&&w&&yn&&Ai(),n.$$.dirty[0]&128&&t(29,u=Ze),n.$$.dirty[0]&70&&S&&Ne&&!D&&Ws()},[w,S,D,O,E,Ie,Ne,Ze,C,x,T,P,q,Y,Z,he,ve,Qe,H,at,ot,qe,qs,yn,c,i,ft,ee,Jr,u,f,a,l,r,o,s,en,Hs,Ws,wo,ks,Ks,nr,oe,$e,tn,zt,Zt,Ys,uc,g,F,p,b,y,v,N,z,Q,G,R,U,le,W,te,be,tt,re,ae,Re,de,kt,De,mt,Ht,ai,ci,ei,K,Se,Ue,cn,d,h,Kr,dc,Jl,sr,gc,So,or,Kl,Yl,Xl,mc,Gl,Sn]}class rl extends Te{constructor(e){super(),Pe(this,e,SB,wB,Ot,{justValue:52,filter:53,getItems:54,id:55,name:8,container:0,input:1,multiple:9,multiFullItemClearable:10,disabled:11,focused:2,value:3,filterText:4,placeholder:56,placeholderAlwaysShow:57,items:51,label:12,itemFilter:58,groupBy:59,groupFilter:60,groupHeaderSelectable:61,itemId:13,loadOptions:62,containerStyles:14,hasError:15,filterSelectedItems:63,required:16,closeListOnChange:64,clearFilterTextOnBlur:65,createGroupHeaderItem:66,getFilteredItems:67,searchable:17,inputStyles:18,clearable:68,loading:5,listOpen:6,debounce:69,debounceWait:70,hideEmptyState:19,inputAttributes:71,listAutoWidth:72,showChevron:20,listOffset:73,hoverItemIndex:7,floatingConfig:74,class:21,handleClear:22,ariaValues:75,ariaListOpen:76,ariaFocused:77},null,[-1,-1,-1,-1,-1])}get getFilteredItems(){return this.$$.ctx[67]}get handleClear(){return this.$$.ctx[22]}}function CB(n){let e,t,i,s,o,r,l,a,c,f,u,h,d,g,m,p,b,y,v,C,w,S,x,T,P,D,O,E,N,z,F,q,Q,G,R;function U(re){n[16](re)}let Y={class:"jse-filter-path",showChevron:!0,items:n[7]};n[0]!==void 0&&(Y.value=n[0]),l=new rl({props:Y}),st.push(()=>Qn(l,"value",U));function le(re){n[17](re)}let Z={class:"jse-filter-relation",showChevron:!0,items:n[8]};n[1]!==void 0&&(Z.value=n[1]),f=new rl({props:Z}),st.push(()=>Qn(f,"value",le));function he(re){n[19](re)}let W={class:"jse-sort-path",showChevron:!0,items:n[7]};n[3]!==void 0&&(W.value=n[3]),C=new rl({props:W}),st.push(()=>Qn(C,"value",he));function ve(re){n[20](re)}let te={class:"jse-sort-direction",showChevron:!0,items:n[9]};n[4]!==void 0&&(te.value=n[4]),x=new rl({props:te}),st.push(()=>Qn(x,"value",ve));function be(re){n[21](re)}let tt={class:"jse-projection-paths",multiple:!0,showChevron:!0,items:n[6]};return n[5]!==void 0&&(tt.value=n[5]),F=new rl({props:tt}),st.push(()=>Qn(F,"value",be)),{c(){e=L("table"),t=L("tr"),i=L("th"),i.textContent="Filter",s=X(),o=L("td"),r=L("div"),se(l.$$.fragment),c=X(),se(f.$$.fragment),h=X(),d=L("input"),g=X(),m=L("tr"),p=L("th"),p.textContent="Sort",b=X(),y=L("td"),v=L("div"),se(C.$$.fragment),S=X(),se(x.$$.fragment),P=X(),D=L("tr"),O=L("th"),O.textContent="Pick",E=X(),N=L("td"),z=L("div"),se(F.$$.fragment),_(i,"class","svelte-ijtq0l"),_(d,"class","jse-filter-value svelte-ijtq0l"),_(r,"class","jse-horizontal svelte-ijtq0l"),_(p,"class","svelte-ijtq0l"),_(v,"class","jse-horizontal svelte-ijtq0l"),_(O,"class","svelte-ijtq0l"),_(z,"class","jse-horizontal svelte-ijtq0l"),_(e,"class","jse-transform-wizard svelte-ijtq0l")},m(re,Qe){j(re,e,Qe),A(e,t),A(t,i),A(t,s),A(t,o),A(o,r),ne(l,r,null),A(r,c),ne(f,r,null),A(r,h),A(r,d),Ar(d,n[2]),A(e,g),A(e,m),A(m,p),A(m,b),A(m,y),A(y,v),ne(C,v,null),A(v,S),ne(x,v,null),A(e,P),A(e,D),A(D,O),A(D,E),A(D,N),A(N,z),ne(F,z,null),Q=!0,G||(R=fe(d,"input",n[18]),G=!0)},p(re,[Qe]){const H={};Qe&128&&(H.items=re[7]),!a&&Qe&1&&(a=!0,H.value=re[0],Gn(()=>a=!1)),l.$set(H);const ae={};!u&&Qe&2&&(u=!0,ae.value=re[1],Gn(()=>u=!1)),f.$set(ae),Qe&4&&d.value!==re[2]&&Ar(d,re[2]);const Ie={};Qe&128&&(Ie.items=re[7]),!w&&Qe&8&&(w=!0,Ie.value=re[3],Gn(()=>w=!1)),C.$set(Ie);const Ne={};!T&&Qe&16&&(T=!0,Ne.value=re[4],Gn(()=>T=!1)),x.$set(Ne);const Be={};Qe&64&&(Be.items=re[6]),!q&&Qe&32&&(q=!0,Be.value=re[5],Gn(()=>q=!1)),F.$set(Be)},i(re){Q||(k(l.$$.fragment,re),k(f.$$.fragment,re),k(C.$$.fragment,re),k(x.$$.fragment,re),k(F.$$.fragment,re),Q=!0)},o(re){M(l.$$.fragment,re),M(f.$$.fragment,re),M(C.$$.fragment,re),M(x.$$.fragment,re),M(F.$$.fragment,re),Q=!1},d(re){re&&B(e),ie(l),ie(f),ie(C),ie(x),ie(F),G=!1,R()}}}function MB(n,e,t){var q,Q,G,R,U;let i,s,o,r,l,a;const c=qn("jsoneditor:TransformWizard");let{json:f}=e,{queryOptions:u={}}=e,{onChange:h}=e;const d=["==","!=","<","<=",">",">="].map(Y=>({value:Y,label:Y})),g=[{value:"asc",label:"ascending"},{value:"desc",label:"descending"}];let m=(q=u==null?void 0:u.filter)!=null&&q.path?Rc(u.filter.path):null,p=(Q=u==null?void 0:u.filter)!=null&&Q.relation?d.find(Y=>{var le;return Y.value===((le=u.filter)==null?void 0:le.relation)}):null,b=((G=u==null?void 0:u.filter)==null?void 0:G.value)||"",y=(R=u==null?void 0:u.sort)!=null&&R.path?Rc(u.sort.path):null,v=(U=u==null?void 0:u.sort)!=null&&U.direction?g.find(Y=>{var le;return Y.value===((le=u.sort)==null?void 0:le.direction)}):null;function C(Y){var le;_t((le=u==null?void 0:u.filter)==null?void 0:le.path,Y)||(c("changeFilterPath",Y),t(10,u=Cs(u,["filter","path"],Y,!0)),h(u))}function w(Y){var le;_t((le=u==null?void 0:u.filter)==null?void 0:le.relation,Y)||(c("changeFilterRelation",Y),t(10,u=Cs(u,["filter","relation"],Y,!0)),h(u))}function S(Y){var le;_t((le=u==null?void 0:u.filter)==null?void 0:le.value,Y)||(c("changeFilterValue",Y),t(10,u=Cs(u,["filter","value"],Y,!0)),h(u))}function x(Y){var le;_t((le=u==null?void 0:u.sort)==null?void 0:le.path,Y)||(c("changeSortPath",Y),t(10,u=Cs(u,["sort","path"],Y,!0)),h(u))}function T(Y){var le;_t((le=u==null?void 0:u.sort)==null?void 0:le.direction,Y)||(c("changeSortDirection",Y),t(10,u=Cs(u,["sort","direction"],Y,!0)),h(u))}function P(Y){var le;_t((le=u==null?void 0:u.projection)==null?void 0:le.paths,Y)||(c("changeProjectionPaths",Y),t(10,u=Cs(u,["projection","paths"],Y,!0)),h(u))}function D(Y){m=Y,t(0,m)}function O(Y){p=Y,t(1,p)}function E(){b=this.value,t(2,b)}function N(Y){y=Y,t(3,y)}function z(Y){v=Y,t(4,v)}function F(Y){a=Y,t(5,a),t(10,u),t(6,l),t(13,o),t(15,i),t(11,f)}return n.$$set=Y=>{"json"in Y&&t(11,f=Y.json),"queryOptions"in Y&&t(10,u=Y.queryOptions),"onChange"in Y&&t(12,h=Y.onChange)},n.$$.update=()=>{var Y;n.$$.dirty&2048&&t(15,i=Array.isArray(f)),n.$$.dirty&34816&&t(14,s=i?pp(f):[]),n.$$.dirty&34816&&t(13,o=i?pp(f,!0):[]),n.$$.dirty&16384&&t(7,r=s.map(Rc)),n.$$.dirty&8192&&t(6,l=o?o.map(Rc):[]),n.$$.dirty&1088&&t(5,a=(Y=u==null?void 0:u.projection)!=null&&Y.paths&&l?u.projection.paths.map(le=>l.find(Z=>_t(Z.value,le))).filter(le=>!!le):null),n.$$.dirty&1&&C(m==null?void 0:m.value),n.$$.dirty&2&&w(p==null?void 0:p.value),n.$$.dirty&4&&S(b),n.$$.dirty&8&&x(y==null?void 0:y.value),n.$$.dirty&16&&T(v==null?void 0:v.value),n.$$.dirty&32&&P(a?a.map(le=>le.value):void 0)},[m,p,b,y,v,a,l,r,d,g,u,f,h,o,s,i,D,O,E,N,z,F]}class AB extends Te{constructor(e){super(),Pe(this,e,MB,CB,ut,{json:11,queryOptions:10,onChange:12})}}function m_(n,e,t){const i=n.slice();return i[5]=e[t],i}function xB(n){let e,t;return e=new St({props:{data:_p}}),{c(){se(e.$$.fragment)},m(i,s){ne(e,i,s),t=!0},i(i){t||(k(e.$$.fragment,i),t=!0)},o(i){M(e.$$.fragment,i),t=!1},d(i){ie(e,i)}}}function OB(n){let e,t;return e=new St({props:{data:yp}}),{c(){se(e.$$.fragment)},m(i,s){ne(e,i,s),t=!0},i(i){t||(k(e.$$.fragment,i),t=!0)},o(i){M(e.$$.fragment,i),t=!1},d(i){ie(e,i)}}}function p_(n){let e,t,i,s,o=n[5].name+"",r,l,a,c,f,u;const h=[OB,xB],d=[];function g(p,b){return p[5].id===p[0]?0:1}t=g(n),i=d[t]=h[t](n);function m(){return n[4](n[5])}return{c(){e=L("button"),i.c(),s=X(),r=we(o),l=X(),_(e,"type","button"),_(e,"class","jse-query-language svelte-1wg043c"),_(e,"title",a=`Select ${n[5].name} as query language`),$(e,"selected",n[5].id===n[0])},m(p,b){j(p,e,b),d[t].m(e,null),A(e,s),A(e,r),A(e,l),c=!0,f||(u=fe(e,"click",m),f=!0)},p(p,b){n=p;let y=t;t=g(n),t!==y&&(me(),M(d[y],1,1,()=>{d[y]=null}),pe(),i=d[t],i||(i=d[t]=h[t](n),i.c()),k(i,1),i.m(e,s)),(!c||b&2)&&o!==(o=n[5].name+"")&&Ve(r,o),(!c||b&2&&a!==(a=`Select ${n[5].name} as query language`))&&_(e,"title",a),(!c||b&3)&&$(e,"selected",n[5].id===n[0])},i(p){c||(k(i),c=!0)},o(p){M(i),c=!1},d(p){p&&B(e),d[t].d(),f=!1,u()}}}function PB(n){let e,t,i,s=ct(n[1]),o=[];for(let l=0;l<s.length;l+=1)o[l]=p_(m_(n,s,l));const r=l=>M(o[l],1,1,()=>{o[l]=null});return{c(){e=L("div"),t=L("div");for(let l=0;l<o.length;l+=1)o[l].c();_(t,"class","jse-select-query-language-container svelte-1wg043c"),_(e,"class","jse-select-query-language svelte-1wg043c")},m(l,a){j(l,e,a),A(e,t);for(let c=0;c<o.length;c+=1)o[c]&&o[c].m(t,null);i=!0},p(l,[a]){if(a&7){s=ct(l[1]);let c;for(c=0;c<s.length;c+=1){const f=m_(l,s,c);o[c]?(o[c].p(f,a),k(o[c],1)):(o[c]=p_(f),o[c].c(),k(o[c],1),o[c].m(t,null))}for(me(),c=s.length;c<o.length;c+=1)r(c);pe()}},i(l){if(!i){for(let a=0;a<s.length;a+=1)k(o[a]);i=!0}},o(l){o=o.filter(Boolean);for(let a=0;a<o.length;a+=1)M(o[a]);i=!1},d(l){l&&B(e),Tn(o,l)}}}function TB(n,e,t){let{queryLanguages:i}=e,{queryLanguageId:s}=e,{onChangeQueryLanguage:o}=e;function r(a){t(0,s=a),o(a)}const l=a=>r(a.id);return n.$$set=a=>{"queryLanguages"in a&&t(1,i=a.queryLanguages),"queryLanguageId"in a&&t(0,s=a.queryLanguageId),"onChangeQueryLanguage"in a&&t(3,o=a.onChangeQueryLanguage)},[s,i,r,o,l]}class EB extends Te{constructor(e){super(),Pe(this,e,TB,PB,Ot,{queryLanguages:1,queryLanguageId:0,onChangeQueryLanguage:3})}}const RB=n=>({}),b_=n=>({});function y_(n){let e,t,i,s,o;return t=new St({props:{data:n[0]?Ty:Ly}}),{c(){e=L("button"),se(t.$$.fragment),_(e,"type","button"),_(e,"class","jse-fullscreen svelte-1n68mbh"),_(e,"title","Toggle full screen")},m(r,l){j(r,e,l),ne(t,e,null),i=!0,s||(o=fe(e,"click",n[7]),s=!0)},p(r,l){const a={};l&1&&(a.data=r[0]?Ty:Ly),t.$set(a)},i(r){i||(k(t.$$.fragment,r),i=!0)},o(r){M(t.$$.fragment,r),i=!1},d(r){r&&B(e),ie(t),s=!1,o()}}}function DB(n){let e,t,i,s,o,r,l,a,c,f,u;const h=n[6].actions,d=Dt(h,n,n[5],b_);let g=n[2]&&y_(n);return a=new St({props:{data:pf}}),{c(){e=L("div"),t=L("div"),i=we(n[1]),s=X(),d&&d.c(),o=X(),g&&g.c(),r=X(),l=L("button"),se(a.$$.fragment),_(t,"class","jse-title svelte-1n68mbh"),_(l,"type","button"),_(l,"class","jse-close svelte-1n68mbh"),_(e,"class","jse-header svelte-1n68mbh")},m(m,p){j(m,e,p),A(e,t),A(t,i),A(e,s),d&&d.m(e,null),A(e,o),g&&g.m(e,null),A(e,r),A(e,l),ne(a,l,null),c=!0,f||(u=fe(l,"click",n[8]),f=!0)},p(m,[p]){(!c||p&2)&&Ve(i,m[1]),d&&d.p&&(!c||p&32)&&It(d,h,m,m[5],c?Lt(h,m[5],p,RB):Nt(m[5]),b_),m[2]?g?(g.p(m,p),p&4&&k(g,1)):(g=y_(m),g.c(),k(g,1),g.m(e,r)):g&&(me(),M(g,1,1,()=>{g=null}),pe())},i(m){c||(k(d,m),k(g),k(a.$$.fragment,m),c=!0)},o(m){M(d,m),M(g),M(a.$$.fragment,m),c=!1},d(m){m&&B(e),d&&d.d(m),g&&g.d(),ie(a),f=!1,u()}}}function LB(n,e,t){let{$$slots:i={},$$scope:s}=e,{title:o="Modal"}=e,{fullScreenButton:r=!1}=e,{fullscreen:l=!1}=e,{onClose:a=void 0}=e;const{close:c}=Wn("simple-modal"),f=()=>t(0,l=!l),u=()=>{a?a():c()};return n.$$set=h=>{"title"in h&&t(1,o=h.title),"fullScreenButton"in h&&t(2,r=h.fullScreenButton),"fullscreen"in h&&t(0,l=h.fullscreen),"onClose"in h&&t(3,a=h.onClose),"$$scope"in h&&t(5,s=h.$$scope)},[l,o,r,a,c,s,i,f,u]}class wg extends Te{constructor(e){super(),Pe(this,e,LB,DB,ut,{title:1,fullScreenButton:2,fullscreen:0,onClose:3})}}function IB(n){let e,t,i,s,o;return t=new St({props:{data:K9}}),{c(){e=L("button"),se(t.$$.fragment),_(e,"slot","actions"),_(e,"type","button"),_(e,"class","jse-config svelte-zdpca7"),_(e,"title","Select a query language"),$(e,"hide",n[1].length<=1)},m(r,l){j(r,e,l),ne(t,e,null),n[7](e),i=!0,s||(o=fe(e,"click",n[4]),s=!0)},p(r,l){(!i||l&2)&&$(e,"hide",r[1].length<=1)},i(r){i||(k(t.$$.fragment,r),i=!0)},o(r){M(t.$$.fragment,r),i=!1},d(r){r&&B(e),ie(t),n[7](null),s=!1,o()}}}function NB(n){let e,t,i;function s(r){n[8](r)}let o={title:"Transform",fullScreenButton:!0,onClose:n[3],$$slots:{actions:[IB]},$$scope:{ctx:n}};return n[0]!==void 0&&(o.fullscreen=n[0]),e=new wg({props:o}),st.push(()=>Qn(e,"fullscreen",s)),{c(){se(e.$$.fragment)},m(r,l){ne(e,r,l),i=!0},p(r,[l]){const a={};l&4102&&(a.$$scope={dirty:l,ctx:r}),!t&&l&1&&(t=!0,a.fullscreen=r[0],Gn(()=>t=!1)),e.$set(a)},i(r){i||(k(e.$$.fragment,r),i=!0)},o(r){M(e.$$.fragment,r),i=!1},d(r){ie(e,r)}}}function BB(n,e,t){let{queryLanguages:i}=e,{queryLanguageId:s}=e,{onChangeQueryLanguage:o}=e,{fullscreen:r}=e,l,a;const{close:c}=Wn("simple-modal"),{openAbsolutePopup:f,closeAbsolutePopup:u}=Wn("absolute-popup");function h(){a=f(EB,{queryLanguages:i,queryLanguageId:s,onChangeQueryLanguage:p=>{u(a),o(p)}},{offsetTop:-2,offsetLeft:0,anchor:l,closeOnOuterClick:!0})}function d(m){st[m?"unshift":"push"](()=>{l=m,t(2,l)})}function g(m){r=m,t(0,r)}return n.$$set=m=>{"queryLanguages"in m&&t(1,i=m.queryLanguages),"queryLanguageId"in m&&t(5,s=m.queryLanguageId),"onChangeQueryLanguage"in m&&t(6,o=m.onChangeQueryLanguage),"fullscreen"in m&&t(0,r=m.fullscreen)},[r,i,l,c,h,s,o,d,g]}class jB extends Te{constructor(e){super(),Pe(this,e,BB,NB,ut,{queryLanguages:1,queryLanguageId:5,onChangeQueryLanguage:6,fullscreen:0})}}const cm=qn("jsoneditor:AutoScrollHandler");function zB(n){cm("createAutoScrollHandler",n);let e,t;function i(c){return c<20?kO:c<50?SO:CO}function s(){if(n){const c=(e||0)*(h2/1e3);n.scrollTop+=c}}function o(c){(!t||c!==e)&&(r(),cm("startAutoScroll",c),e=c,t=setInterval(s,h2))}function r(){t&&(cm("stopAutoScroll"),clearInterval(t),t=void 0,e=void 0)}function l(c){if(n){const f=c.clientY,{top:u,bottom:h}=n.getBoundingClientRect();if(f<u){const d=i(u-f);o(-d)}else if(f>h){const d=i(f-h);o(d)}else r()}}function a(){r()}return{onDrag:l,onDragEnd:a}}const FB=(n,e,t,i)=>(n/=i/2,n<1?t/2*n*n+e:(n--,-t/2*(n*(n-2)-1)+e)),pM=()=>{let n,e,t,i,s,o,r,l,a,c,f,u,h,d;function g(){return n.scrollTop}function m(C){const w=C.getBoundingClientRect().top,S=n.getBoundingClientRect?n.getBoundingClientRect().top:0;return w-S+t}function p(C){n.scrollTo?n.scrollTo(n.scrollLeft,C):n.scrollTop=C}function b(C){c||(c=C),f=C-c,u=o(f,t,l,a),p(u),d=!0,f<a?requestAnimationFrame(b):y()}function y(){p(t+l),e&&r&&(e.setAttribute("tabindex","-1"),e.focus()),typeof h=="function"&&h(),c=0,d=!1}function v(C,w={}){switch(a=1e3,s=w.offset||0,h=w.callback,o=w.easing||FB,r=w.a11y||!1,typeof w.container){case"object":n=w.container;break;case"string":n=document.querySelector(w.container);break;default:n=window.document.documentElement}switch(t=g(),typeof C){case"number":e=void 0,r=!1,i=t+C;break;case"object":e=C,i=m(e);break;case"string":e=document.querySelector(C),i=m(e);break}switch(l=i-t+s,typeof w.duration){case"number":a=w.duration;break;case"function":a=w.duration(l);break}d?c=0:requestAnimationFrame(b)}return v},VB=1e3,Cu=qn("jsoneditor:History");function bM(n={}){const e=n.maxItems||VB;let t=[],i=0;function s(){return i<t.length}function o(){return i>0}function r(){return{canUndo:s(),canRedo:o(),length:t.length}}function l(){n.onChange&&n.onChange(r())}function a(h){Cu("add",h),t=[h].concat(t.slice(i)).slice(0,e),i=0,l()}function c(){Cu("clear"),t=[],i=0,l()}function f(){if(s()){const h=t[i];return i+=1,Cu("undo",h),l(),h}}function u(){if(o())return i-=1,Cu("redo",t[i]),l(),t[i]}return{add:a,clear:c,getState:r,undo:f,redo:u}}function pa(n,e){const t=Date.now(),i=n(),s=Date.now();return e(s-t),i}const aa=qn("validation");function HB(n){const e={};return n.forEach(t=>{e[Oe(t.path)]=t}),n.forEach(t=>{let i=t.path;for(;i.length>0;){i=vt(i);const s=Oe(i);s in e||(e[s]={isChildError:!0,path:i,message:"Contains invalid data",severity:Ps.warning})}}),e}function yM(n,e,t,i){if(aa("validateJSON"),!e)return[];if(t!==i){const s=t.stringify(n),o=s!==void 0?i.parse(s):void 0;return e(o)}else return e(n)}function WB(n,e,t,i){if(aa("validateText"),n.length>MO)return{validationErrors:[{path:[],message:"Validation turned off: the document is too large",severity:Ps.info}]};if(n.length===0)return null;try{const s=pa(()=>t.parse(n),l=>aa(`validate: parsed json in ${l} ms`));if(!e)return null;const o=t===i?s:pa(()=>i.parse(n),l=>aa(`validate: parsed json with the validationParser in ${l} ms`)),r=pa(()=>e(o),l=>aa(`validate: validated json in ${l} ms`));return At(r)?null:{validationErrors:r}}catch(s){const o=pa(()=>qB(n,t),l=>aa(`validate: checked whether repairable in ${l} ms`));return{parseError:ja(n,s.message||s.toString()),isRepairable:o}}}function qB(n,e){if(n.length>AO)return!1;try{return e.parse(co(n)),!0}catch{return!1}}const Mu=qn("jsoneditor:FocusTracker");function E0({onMount:n,onDestroy:e,getWindow:t,hasFocus:i,onFocus:s,onBlur:o}){let r,l=!1;function a(){const f=i();f&&(clearTimeout(r),l||(Mu("focus"),s(),l=f))}function c(){l&&(clearTimeout(r),r=setTimeout(()=>{i()||(Mu("blur"),l=!1,o())}))}n(()=>{Mu("mount FocusTracker");const f=t();f&&(f.addEventListener("focusin",a,!0),f.addEventListener("focusout",c,!0))}),e(()=>{Mu("destroy FocusTracker");const f=t();f&&(f.removeEventListener("focusin",a,!0),f.removeEventListener("focusout",c,!0))})}function __(n,e,t){const i=n.slice();return i[9]=e[t],i}function w_(n){let e,t;return e=new St({props:{data:n[1]}}),{c(){se(e.$$.fragment)},m(i,s){ne(e,i,s),t=!0},p(i,s){const o={};s&2&&(o.data=i[1]),e.$set(o)},i(i){t||(k(e.$$.fragment,i),t=!0)},o(i){M(e.$$.fragment,i),t=!1},d(i){ie(e,i)}}}function v_(n){let e,t;return e=new St({props:{data:n[9].icon}}),{c(){se(e.$$.fragment)},m(i,s){ne(e,i,s),t=!0},p(i,s){const o={};s&8&&(o.data=i[9].icon),e.$set(o)},i(i){t||(k(e.$$.fragment,i),t=!0)},o(i){M(e.$$.fragment,i),t=!1},d(i){ie(e,i)}}}function k_(n){let e,t,i=n[9].text+"",s,o,r,l,a,c,f,u=n[9].icon&&v_(n);function h(){return n[7](n[9])}function d(){return n[8](n[9])}return{c(){e=L("button"),u&&u.c(),t=X(),s=we(i),o=X(),_(e,"type","button"),_(e,"class","jse-button jse-action jse-primary svelte-p1zf9f"),_(e,"title",r=n[9].title),e.disabled=l=n[9].disabled},m(g,m){j(g,e,m),u&&u.m(e,null),A(e,t),A(e,s),A(e,o),a=!0,c||(f=[fe(e,"click",h),fe(e,"mousedown",d)],c=!0)},p(g,m){n=g,n[9].icon?u?(u.p(n,m),m&8&&k(u,1)):(u=v_(n),u.c(),k(u,1),u.m(e,t)):u&&(me(),M(u,1,1,()=>{u=null}),pe()),(!a||m&8)&&i!==(i=n[9].text+"")&&Ve(s,i),(!a||m&8&&r!==(r=n[9].title))&&_(e,"title",r),(!a||m&8&&l!==(l=n[9].disabled))&&(e.disabled=l)},i(g){a||(k(u),a=!0)},o(g){M(u),a=!1},d(g){g&&B(e),u&&u.d(),c=!1,Tt(f)}}}function UB(n){let e,t,i,s,o,r,l,a,c,f,u,h=n[1]&&w_(n),d=ct(n[3]),g=[];for(let p=0;p<d.length;p+=1)g[p]=k_(__(n,d,p));const m=p=>M(g[p],1,1,()=>{g[p]=null});return{c(){e=L("div"),t=L("div"),i=L("div"),h&&h.c(),s=X(),o=we(n[2]),r=X(),l=L("div");for(let p=0;p<g.length;p+=1)g[p].c();_(i,"class","jse-text-centered"),_(t,"role","button"),_(t,"tabindex","-1"),_(t,"class","jse-text svelte-p1zf9f"),$(t,"jse-clickable",!!n[4]),_(l,"class","jse-actions svelte-p1zf9f"),_(e,"class",a="jse-message jse-"+n[0]+" svelte-p1zf9f")},m(p,b){j(p,e,b),A(e,t),A(t,i),h&&h.m(i,null),A(i,s),A(i,o),A(e,r),A(e,l);for(let y=0;y<g.length;y+=1)g[y]&&g[y].m(l,null);c=!0,f||(u=fe(t,"click",n[5]),f=!0)},p(p,[b]){if(p[1]?h?(h.p(p,b),b&2&&k(h,1)):(h=w_(p),h.c(),k(h,1),h.m(i,s)):h&&(me(),M(h,1,1,()=>{h=null}),pe()),(!c||b&4)&&Ve(o,p[2]),(!c||b&16)&&$(t,"jse-clickable",!!p[4]),b&8){d=ct(p[3]);let y;for(y=0;y<d.length;y+=1){const v=__(p,d,y);g[y]?(g[y].p(v,b),k(g[y],1)):(g[y]=k_(v),g[y].c(),k(g[y],1),g[y].m(l,null))}for(me(),y=d.length;y<g.length;y+=1)m(y);pe()}(!c||b&1&&a!==(a="jse-message jse-"+p[0]+" svelte-p1zf9f"))&&_(e,"class",a)},i(p){if(!c){k(h);for(let b=0;b<d.length;b+=1)k(g[b]);c=!0}},o(p){M(h),g=g.filter(Boolean);for(let b=0;b<g.length;b+=1)M(g[b]);c=!1},d(p){p&&B(e),h&&h.d(),Tn(g,p),f=!1,u()}}}function JB(n,e,t){let{type:i="success"}=e,{icon:s=void 0}=e,{message:o=void 0}=e,{actions:r=[]}=e,{onClick:l=void 0}=e,{onClose:a=void 0}=e;a&&Ti(a);function c(){l&&l()}const f=h=>{h.onClick&&h.onClick()},u=h=>{h.onMouseDown&&h.onMouseDown()};return n.$$set=h=>{"type"in h&&t(0,i=h.type),"icon"in h&&t(1,s=h.icon),"message"in h&&t(2,o=h.message),"actions"in h&&t(3,r=h.actions),"onClick"in h&&t(4,l=h.onClick),"onClose"in h&&t(6,a=h.onClose)},[i,s,o,r,l,c,a,f,u]}class Fs extends Te{constructor(e){super(),Pe(this,e,JB,UB,ut,{type:0,icon:1,message:2,actions:3,onClick:4,onClose:6})}}function S_(n,e,t){const i=n.slice();return i[8]=e[t],i[10]=t,i}function C_(n){let e,t,i,s;const o=[YB,KB],r=[];function l(a,c){return a[2]||a[3]===1?0:1}return t=l(n),i=r[t]=o[t](n),{c(){e=L("div"),i.c(),_(e,"class","jse-validation-errors-overview svelte-1gq3gfv")},m(a,c){j(a,e,c),r[t].m(e,null),s=!0},p(a,c){let f=t;t=l(a),t===f?r[t].p(a,c):(me(),M(r[f],1,1,()=>{r[f]=null}),pe(),i=r[t],i?i.p(a,c):(i=r[t]=o[t](a),i.c()),k(i,1),i.m(e,null))},i(a){s||(k(i),s=!0)},o(a){M(i),s=!1},d(a){a&&B(e),r[t].d()}}}function KB(n){let e,t,i,s,o,r,l,a,c,f,u,h,d,g,m;return o=new St({props:{data:Vl}}),u=new St({props:{data:eM}}),{c(){e=L("table"),t=L("tbody"),i=L("tr"),s=L("td"),se(o.$$.fragment),r=X(),l=L("td"),a=we(n[3]),c=we(` validation errors
              `),f=L("div"),se(u.$$.fragment),_(s,"class","jse-validation-error-icon svelte-1gq3gfv"),_(f,"class","jse-validation-errors-expand svelte-1gq3gfv"),_(l,"class","jse-validation-error-count svelte-1gq3gfv"),_(i,"class",h="jse-validation-"+n[6](n[0])+" svelte-1gq3gfv"),_(e,"class","jse-validation-errors-overview-collapsed svelte-1gq3gfv")},m(p,b){j(p,e,b),A(e,t),A(t,i),A(i,s),ne(o,s,null),A(i,r),A(i,l),A(l,a),A(l,c),A(l,f),ne(u,f,null),d=!0,g||(m=fe(i,"click",n[5]),g=!0)},p(p,b){(!d||b&8)&&Ve(a,p[3]),(!d||b&1&&h!==(h="jse-validation-"+p[6](p[0])+" svelte-1gq3gfv"))&&_(i,"class",h)},i(p){d||(k(o.$$.fragment,p),k(u.$$.fragment,p),d=!0)},o(p){M(o.$$.fragment,p),M(u.$$.fragment,p),d=!1},d(p){p&&B(e),ie(o),ie(u),g=!1,m()}}}function YB(n){let e,t,i,s,o=ct(Yh(n[0],ha)),r=[];for(let c=0;c<o.length;c+=1)r[c]=A_(S_(n,o,c));const l=c=>M(r[c],1,1,()=>{r[c]=null});let a=n[3]>ha&&x_(n);return{c(){e=L("table"),t=L("tbody");for(let c=0;c<r.length;c+=1)r[c].c();i=X(),a&&a.c(),_(e,"class","jse-validation-errors-overview-expanded svelte-1gq3gfv")},m(c,f){j(c,e,f),A(e,t);for(let u=0;u<r.length;u+=1)r[u]&&r[u].m(t,null);A(t,i),a&&a.m(t,null),s=!0},p(c,f){if(f&19){o=ct(Yh(c[0],ha));let u;for(u=0;u<o.length;u+=1){const h=S_(c,o,u);r[u]?(r[u].p(h,f),k(r[u],1)):(r[u]=A_(h),r[u].c(),k(r[u],1),r[u].m(t,i))}for(me(),u=o.length;u<r.length;u+=1)l(u);pe()}c[3]>ha?a?a.p(c,f):(a=x_(c),a.c(),a.m(t,null)):a&&(a.d(1),a=null)},i(c){if(!s){for(let f=0;f<o.length;f+=1)k(r[f]);s=!0}},o(c){r=r.filter(Boolean);for(let f=0;f<r.length;f+=1)M(r[f]);s=!1},d(c){c&&B(e),Tn(r,c),a&&a.d()}}}function M_(n){let e,t,i,s,o;return t=new St({props:{data:G9}}),{c(){e=L("button"),se(t.$$.fragment),_(e,"type","button"),_(e,"class","jse-validation-errors-collapse svelte-1gq3gfv"),_(e,"title","Collapse validation errors")},m(r,l){j(r,e,l),ne(t,e,null),i=!0,s||(o=fe(e,"click",Ds(n[4])),s=!0)},p:ge,i(r){i||(k(t.$$.fragment,r),i=!0)},o(r){M(t.$$.fragment,r),i=!1},d(r){r&&B(e),ie(t),s=!1,o()}}}function A_(n){let e,t,i,s,o,r=zi(n[8].path)+"",l,a,c,f=n[8].message+"",u,h,d,g,m,p,b;i=new St({props:{data:Vl}});let y=n[10]===0&&n[0].length>1&&M_(n);function v(){return n[7](n[8])}return{c(){e=L("tr"),t=L("td"),se(i.$$.fragment),s=X(),o=L("td"),l=we(r),a=X(),c=L("td"),u=we(f),h=X(),d=L("td"),y&&y.c(),_(t,"class","jse-validation-error-icon svelte-1gq3gfv"),_(o,"class","jse-validation-error-path svelte-1gq3gfv"),_(c,"class","jse-validation-error-message svelte-1gq3gfv"),_(d,"class","jse-validation-error-action svelte-1gq3gfv"),_(e,"class",g="jse-validation-"+n[8].severity+" svelte-1gq3gfv")},m(C,w){j(C,e,w),A(e,t),ne(i,t,null),A(e,s),A(e,o),A(o,l),A(e,a),A(e,c),A(c,u),A(e,h),A(e,d),y&&y.m(d,null),m=!0,p||(b=fe(e,"click",v),p=!0)},p(C,w){n=C,(!m||w&1)&&r!==(r=zi(n[8].path)+"")&&Ve(l,r),(!m||w&1)&&f!==(f=n[8].message+"")&&Ve(u,f),n[10]===0&&n[0].length>1?y?(y.p(n,w),w&1&&k(y,1)):(y=M_(n),y.c(),k(y,1),y.m(d,null)):y&&(me(),M(y,1,1,()=>{y=null}),pe()),(!m||w&1&&g!==(g="jse-validation-"+n[8].severity+" svelte-1gq3gfv"))&&_(e,"class",g)},i(C){m||(k(i.$$.fragment,C),k(y),m=!0)},o(C){M(i.$$.fragment,C),M(y),m=!1},d(C){C&&B(e),ie(i),y&&y.d(),p=!1,b()}}}function x_(n){let e,t,i,s,o,r,l,a=n[3]-ha+"",c,f,u,h;return{c(){e=L("tr"),t=L("td"),i=X(),s=L("td"),o=X(),r=L("td"),l=we("(and "),c=we(a),f=we(" more errors)"),u=X(),h=L("td"),_(t,"class","svelte-1gq3gfv"),_(s,"class","svelte-1gq3gfv"),_(r,"class","svelte-1gq3gfv"),_(h,"class","svelte-1gq3gfv"),_(e,"class","jse-validation-error svelte-1gq3gfv")},m(d,g){j(d,e,g),A(e,t),A(e,i),A(e,s),A(e,o),A(e,r),A(r,l),A(r,c),A(r,f),A(e,u),A(e,h)},p(d,g){g&8&&a!==(a=d[3]-ha+"")&&Ve(c,a)},d(d){d&&B(e)}}}function XB(n){let e=!At(n[0]),t,i,s=e&&C_(n);return{c(){s&&s.c(),t=gt()},m(o,r){s&&s.m(o,r),j(o,t,r),i=!0},p(o,[r]){r&1&&(e=!At(o[0])),e?s?(s.p(o,r),r&1&&k(s,1)):(s=C_(o),s.c(),k(s,1),s.m(t.parentNode,t)):s&&(me(),M(s,1,1,()=>{s=null}),pe())},i(o){i||(k(s),i=!0)},o(o){M(s),i=!1},d(o){o&&B(t),s&&s.d(o)}}}function GB(n,e,t){let i,{validationErrors:s}=e,{selectError:o}=e,r=!0;function l(){t(2,r=!1)}function a(){t(2,r=!0)}function c(u){return[Ps.error,Ps.warning,Ps.info].find(d=>u.some(g=>g.severity===d))}const f=u=>{setTimeout(()=>o(u))};return n.$$set=u=>{"validationErrors"in u&&t(0,s=u.validationErrors),"selectError"in u&&t(1,o=u.selectError)},n.$$.update=()=>{n.$$.dirty&1&&t(3,i=s.length)},[s,o,r,i,l,a,c,f]}class R0 extends Te{constructor(e){super(),Pe(this,e,GB,XB,ut,{validationErrors:0,selectError:1})}}let ca=[];function O_(n){if(n.key==="Escape"){const e=bt(ca);e&&e()}}function Zf(n,e){return At(ca)&&window.addEventListener("keydown",O_),ca.push(e),{destroy:()=>{ca=ca.filter(t=>t!==e),At(ca)&&window.removeEventListener("keydown",O_)}}}function QB(n){let e,t,i,s,o,r,l,a,c,f,u,h,d,g,m,p,b,y,v,C,w,S,x,T;return t=new wg({props:{title:"Copying and pasting"}}),{c(){e=L("div"),se(t.$$.fragment),i=X(),s=L("div"),o=L("div"),o.textContent="These actions are unavailable via the menu. Please use:",r=X(),l=L("div"),a=L("div"),c=L("div"),c.textContent=`${n[1]}+C`,f=we(`
        for copy`),u=X(),h=L("div"),d=L("div"),d.textContent=`${n[1]}+X`,g=we(`
        for cut`),m=X(),p=L("div"),b=L("div"),b.textContent=`${n[1]}+V`,y=we(`
        for paste`),v=X(),C=L("div"),w=L("button"),w.textContent="Close",_(c,"class","jse-key svelte-1nm0t3v"),_(a,"class","jse-shortcut"),_(d,"class","jse-key svelte-1nm0t3v"),_(h,"class","jse-shortcut"),_(b,"class","jse-key svelte-1nm0t3v"),_(p,"class","jse-shortcut"),_(l,"class","jse-shortcuts svelte-1nm0t3v"),_(w,"type","button"),_(w,"class","jse-primary svelte-1nm0t3v"),_(C,"class","jse-actions svelte-1nm0t3v"),_(s,"class","jse-modal-contents svelte-1nm0t3v"),_(e,"class","jse-modal jse-copy-paste svelte-1nm0t3v")},m(P,D){j(P,e,D),ne(t,e,null),A(e,i),A(e,s),A(s,o),A(s,r),A(s,l),A(l,a),A(a,c),A(a,f),A(l,u),A(l,h),A(h,d),A(h,g),A(l,m),A(l,p),A(p,b),A(p,y),A(s,v),A(s,C),A(C,w),S=!0,x||(T=[fe(w,"click",n[2]),Nn(Zf.call(null,e,n[3]))],x=!0)},p:ge,i(P){S||(k(t.$$.fragment,P),S=!0)},o(P){M(t.$$.fragment,P),S=!1},d(P){P&&B(e),ie(t),x=!1,Tt(T)}}}function ZB(n){const{close:e}=Wn("simple-modal"),t=_0()?"⌘":"Ctrl";return[e,t,()=>e(),()=>e()]}class _M extends Te{constructor(e){super(),Pe(this,e,ZB,QB,ut,{})}}function wM(n){return n?n.type==="space"||n.space===!0:!1}function vg(n){return n?n.type==="separator"||n.separator===!0:!1}function $B(n){return n?n.type==="label"&&typeof n.text=="string":!1}function $f(n){return n?typeof n.onClick=="function":!1}function D0(n){return n?n.type==="dropdown-button"&&$f(n.main)&&Array.isArray(n.items):!1}function ej(n){return n?n.type==="row"&&Array.isArray(n.items):!1}function tj(n){return n?n.type==="column"&&Array.isArray(n.items):!1}function P_(n){return Kt(n)&&Kt(n.parseError)}function nj(n){return Kt(n)&&Array.isArray(n.validationErrors)}function ij(n){return Kt(n)&&Array.isArray(n.path)&&typeof n.message=="string"&&"severity"in n}function sj(n){return Kt(n)&&ij(n)&&typeof n.isChildError=="boolean"}function vM(n){return Kt(n)&&typeof n.action=="function"&&Kt(n.props)}const oj=n=>({}),T_=n=>({});function E_(n,e,t){const i=n.slice();return i[3]=e[t],i}const rj=n=>({}),R_=n=>({});function lj(n){let e=N_(n[3])+"",t;return{c(){t=we(e)},m(i,s){j(i,t,s)},p(i,s){s&1&&e!==(e=N_(i[3])+"")&&Ve(t,e)},i:ge,o:ge,d(i){i&&B(t)}}}function aj(n){let e,t,i,s,o,r,l,a,c=n[3].icon&&D_(n),f=n[3].text&&L_(n);return{c(){e=L("button"),c&&c.c(),t=X(),f&&f.c(),_(e,"type","button"),_(e,"class",i="jse-button "+n[3].className+" svelte-7deygj"),_(e,"title",s=n[3].title),e.disabled=o=n[3].disabled||!1},m(u,h){j(u,e,h),c&&c.m(e,null),A(e,t),f&&f.m(e,null),r=!0,l||(a=fe(e,"click",function(){Zn(n[3].onClick)&&n[3].onClick.apply(this,arguments)}),l=!0)},p(u,h){n=u,n[3].icon?c?(c.p(n,h),h&1&&k(c,1)):(c=D_(n),c.c(),k(c,1),c.m(e,t)):c&&(me(),M(c,1,1,()=>{c=null}),pe()),n[3].text?f?f.p(n,h):(f=L_(n),f.c(),f.m(e,null)):f&&(f.d(1),f=null),(!r||h&1&&i!==(i="jse-button "+n[3].className+" svelte-7deygj"))&&_(e,"class",i),(!r||h&1&&s!==(s=n[3].title))&&_(e,"title",s),(!r||h&1&&o!==(o=n[3].disabled||!1))&&(e.disabled=o)},i(u){r||(k(c),r=!0)},o(u){M(c),r=!1},d(u){u&&B(e),c&&c.d(),f&&f.d(),l=!1,a()}}}function cj(n){let e;return{c(){e=L("div"),_(e,"class","jse-space svelte-7deygj")},m(t,i){j(t,e,i)},p:ge,i:ge,o:ge,d(t){t&&B(e)}}}function fj(n){let e;return{c(){e=L("div"),_(e,"class","jse-separator svelte-7deygj")},m(t,i){j(t,e,i)},p:ge,i:ge,o:ge,d(t){t&&B(e)}}}function D_(n){let e,t;return e=new St({props:{data:n[3].icon}}),{c(){se(e.$$.fragment)},m(i,s){ne(e,i,s),t=!0},p(i,s){const o={};s&1&&(o.data=i[3].icon),e.$set(o)},i(i){t||(k(e.$$.fragment,i),t=!0)},o(i){M(e.$$.fragment,i),t=!1},d(i){ie(e,i)}}}function L_(n){let e=n[3].text+"",t;return{c(){t=we(e)},m(i,s){j(i,t,s)},p(i,s){s&1&&e!==(e=i[3].text+"")&&Ve(t,e)},d(i){i&&B(t)}}}function I_(n){let e,t,i,s,o,r,l;const a=[fj,cj,aj,lj],c=[];function f(u,h){return h&1&&(e=null),h&1&&(t=null),h&1&&(i=null),e==null&&(e=!!vg(u[3])),e?0:(t==null&&(t=!!wM(u[3])),t?1:(i==null&&(i=!!$f(u[3])),i?2:3))}return s=f(n,-1),o=c[s]=a[s](n),{c(){o.c(),r=gt()},m(u,h){c[s].m(u,h),j(u,r,h),l=!0},p(u,h){let d=s;s=f(u,h),s===d?c[s].p(u,h):(me(),M(c[d],1,1,()=>{c[d]=null}),pe(),o=c[s],o?o.p(u,h):(o=c[s]=a[s](u),o.c()),k(o,1),o.m(r.parentNode,r))},i(u){l||(k(o),l=!0)},o(u){M(o),l=!1},d(u){u&&B(r),c[s].d(u)}}}function uj(n){let e,t,i,s;const o=n[2].left,r=Dt(o,n,n[1],R_);let l=ct(n[0]),a=[];for(let h=0;h<l.length;h+=1)a[h]=I_(E_(n,l,h));const c=h=>M(a[h],1,1,()=>{a[h]=null}),f=n[2].right,u=Dt(f,n,n[1],T_);return{c(){e=L("div"),r&&r.c(),t=X();for(let h=0;h<a.length;h+=1)a[h].c();i=X(),u&&u.c(),_(e,"class","jse-menu svelte-7deygj")},m(h,d){j(h,e,d),r&&r.m(e,null),A(e,t);for(let g=0;g<a.length;g+=1)a[g]&&a[g].m(e,null);A(e,i),u&&u.m(e,null),s=!0},p(h,[d]){if(r&&r.p&&(!s||d&2)&&It(r,o,h,h[1],s?Lt(o,h[1],d,rj):Nt(h[1]),R_),d&1){l=ct(h[0]);let g;for(g=0;g<l.length;g+=1){const m=E_(h,l,g);a[g]?(a[g].p(m,d),k(a[g],1)):(a[g]=I_(m),a[g].c(),k(a[g],1),a[g].m(e,i))}for(me(),g=l.length;g<a.length;g+=1)c(g);pe()}u&&u.p&&(!s||d&2)&&It(u,f,h,h[1],s?Lt(f,h[1],d,oj):Nt(h[1]),T_)},i(h){if(!s){k(r,h);for(let d=0;d<l.length;d+=1)k(a[d]);k(u,h),s=!0}},o(h){M(r,h),a=a.filter(Boolean);for(let d=0;d<a.length;d+=1)M(a[d]);M(u,h),s=!1},d(h){h&&B(e),r&&r.d(h),Tn(a,h),u&&u.d(h)}}}function N_(n){return console.error("Unknown type of menu item",n),"???"}function hj(n,e,t){let{$$slots:i={},$$scope:s}=e,{items:o=[]}=e;return n.$$set=r=>{"items"in r&&t(0,o=r.items),"$$scope"in r&&t(1,s=r.$$scope)},[o,s,i]}class kg extends Te{constructor(e){super(),Pe(this,e,hj,uj,ut,{items:0})}}function dj(n){let e;return{c(){e=L("div"),e.textContent="Repair invalid JSON, then click apply",_(e,"slot","left"),_(e,"class","jse-info svelte-1d84pok")},m(t,i){j(t,e,i)},p:ge,d(t){t&&B(e)}}}function gj(n){let e,t;return e=new Fs({props:{type:"success",message:"JSON is valid now and can be parsed.",actions:n[5]}}),{c(){se(e.$$.fragment)},m(i,s){ne(e,i,s),t=!0},p(i,s){const o={};s&32&&(o.actions=i[5]),e.$set(o)},i(i){t||(k(e.$$.fragment,i),t=!0)},o(i){M(e.$$.fragment,i),t=!1},d(i){ie(e,i)}}}function mj(n){let e,t;return e=new Fs({props:{type:"error",icon:Vl,message:`Cannot parse JSON: ${n[2].message}`,actions:n[6]}}),{c(){se(e.$$.fragment)},m(i,s){ne(e,i,s),t=!0},p(i,s){const o={};s&4&&(o.message=`Cannot parse JSON: ${i[2].message}`),s&64&&(o.actions=i[6]),e.$set(o)},i(i){t||(k(e.$$.fragment,i),t=!0)},o(i){M(e.$$.fragment,i),t=!1},d(i){ie(e,i)}}}function pj(n){let e,t,i,s,o,r,l,a,c,f;t=new kg({props:{items:n[4],$$slots:{left:[dj]},$$scope:{ctx:n}}});const u=[mj,gj],h=[];function d(g,m){return g[2]?0:1}return s=d(n),o=h[s]=u[s](n),{c(){e=L("div"),se(t.$$.fragment),i=X(),o.c(),r=X(),l=L("textarea"),l.readOnly=n[1],_(l,"class","jse-json-text svelte-1d84pok"),_(l,"autocomplete","off"),_(l,"autocapitalize","off"),_(l,"spellcheck","false"),l.value=n[0],_(e,"class","jse-json-repair-component svelte-1d84pok")},m(g,m){j(g,e,m),ne(t,e,null),A(e,i),h[s].m(e,null),A(e,r),A(e,l),n[16](l),a=!0,c||(f=fe(l,"input",n[7]),c=!0)},p(g,[m]){const p={};m&16&&(p.items=g[4]),m&8388608&&(p.$$scope={dirty:m,ctx:g}),t.$set(p);let b=s;s=d(g),s===b?h[s].p(g,m):(me(),M(h[b],1,1,()=>{h[b]=null}),pe(),o=h[s],o?o.p(g,m):(o=h[s]=u[s](g),o.c()),k(o,1),o.m(e,r)),(!a||m&2)&&(l.readOnly=g[1]),(!a||m&1)&&(l.value=g[0])},i(g){a||(k(t.$$.fragment,g),k(o),a=!0)},o(g){M(t.$$.fragment,g),M(o),a=!1},d(g){g&&B(e),ie(t),h[s].d(),n[16](null),c=!1,f()}}}function bj(n,e,t){let i,s,o,r,l,a,{text:c=""}=e,{readOnly:f=!1}=e,{onParse:u}=e,{onRepair:h}=e,{onChange:d=null}=e,{onApply:g}=e,{onCancel:m}=e;const p=qn("jsoneditor:JSONRepair");let b;function y(D){try{return u(D),null}catch(O){return ja(D,O.message)}}function v(D){try{return h(D),!0}catch{return!1}}function C(){if(b&&i){const D=i.position!=null?i.position:0;b.setSelectionRange(D,D),b.focus()}}function w(D){p("handleChange");const O=D.target.value;c!==O&&(t(0,c=O),d&&d(c))}function S(){g(c)}function x(){try{t(0,c=h(c)),d&&d(c)}catch{}}let T;function P(D){st[D?"unshift":"push"](()=>{b=D,t(3,b)})}return n.$$set=D=>{"text"in D&&t(0,c=D.text),"readOnly"in D&&t(1,f=D.readOnly),"onParse"in D&&t(8,u=D.onParse),"onRepair"in D&&t(9,h=D.onRepair),"onChange"in D&&t(10,d=D.onChange),"onApply"in D&&t(11,g=D.onApply),"onCancel"in D&&t(12,m=D.onCancel)},n.$$.update=()=>{n.$$.dirty&1&&t(2,i=y(c)),n.$$.dirty&1&&t(15,s=v(c)),n.$$.dirty&4&&p("error",i),n.$$.dirty&4096&&t(4,T=[{type:"space"},{type:"button",icon:pf,title:"Cancel repair",className:"jse-cancel",onClick:m}]),n.$$.dirty&57344&&t(6,l=s?[o,r]:[o]),n.$$.dirty&2&&t(5,a=[{icon:bf,text:"Apply",title:"Apply fixed JSON",disabled:f,onClick:S}])},t(13,o={icon:Q9,text:"Show me",title:"Scroll to the error location",onClick:C}),t(14,r={icon:dg,text:"Auto repair",title:"Automatically repair JSON",onClick:x}),[c,f,i,b,T,a,l,w,u,h,d,g,m,o,r,s,P]}class yj extends Te{constructor(e){super(),Pe(this,e,bj,pj,ut,{text:0,readOnly:1,onParse:8,onRepair:9,onChange:10,onApply:11,onCancel:12})}}function _j(n){let e,t,i,s,o,r;function l(c){n[7](c)}let a={onParse:n[1],onRepair:n[2],onApply:n[4],onCancel:n[5]};return n[0]!==void 0&&(a.text=n[0]),t=new yj({props:a}),st.push(()=>Qn(t,"text",l)),{c(){e=L("div"),se(t.$$.fragment),_(e,"class","jse-modal jse-repair svelte-rn18r0")},m(c,f){j(c,e,f),ne(t,e,null),s=!0,o||(r=Nn(Zf.call(null,e,n[3])),o=!0)},p(c,[f]){const u={};f&2&&(u.onParse=c[1]),f&4&&(u.onRepair=c[2]),!i&&f&1&&(i=!0,u.text=c[0],Gn(()=>i=!1)),t.$set(u)},i(c){s||(k(t.$$.fragment,c),s=!0)},o(c){M(t.$$.fragment,c),s=!1},d(c){c&&B(e),ie(t),o=!1,r()}}}function wj(n,e,t){let{text:i}=e,{onParse:s}=e,{onRepair:o}=e,{onApply:r}=e;const{close:l}=Wn("simple-modal");function a(u){l(),r(u)}function c(){l()}function f(u){i=u,t(0,i)}return n.$$set=u=>{"text"in u&&t(0,i=u.text),"onParse"in u&&t(1,s=u.onParse),"onRepair"in u&&t(2,o=u.onRepair),"onApply"in u&&t(6,r=u.onApply)},[i,s,o,l,a,c,r,f]}class kM extends Te{constructor(e){super(),Pe(this,e,wj,_j,ut,{text:0,onParse:1,onRepair:2,onApply:6})}}function B_(n,e,t){const i=n.slice();return i[13]=e[t],i}function j_(n){let e,t,i=n[13].start+"",s,o,r=n[13].end+"",l,a,c,f;function u(){return n[12](n[13])}return{c(){e=L("button"),t=we("show "),s=we(i),o=we("-"),l=we(r),a=X(),_(e,"type","button"),_(e,"class","jse-expand-items svelte-lajpxi")},m(h,d){j(h,e,d),A(e,t),A(e,s),A(e,o),A(e,l),A(e,a),c||(f=fe(e,"click",u),c=!0)},p(h,d){n=h,d&16&&i!==(i=n[13].start+"")&&Ve(s,i),d&16&&r!==(r=n[13].end+"")&&Ve(l,r)},d(h){h&&B(e),c=!1,f()}}}function vj(n){let e,t,i,s,o,r,l,a,c,f,u=ct(n[4]),h=[];for(let d=0;d<u.length;d+=1)h[d]=j_(B_(n,u,d));return{c(){e=L("div"),t=L("div"),i=L("div"),s=we("Items "),o=we(n[3]),r=we("-"),l=we(n[2]),a=X();for(let d=0;d<h.length;d+=1)h[d].c();_(i,"class","jse-text svelte-lajpxi"),_(e,"role","none"),_(e,"class","jse-collapsed-items svelte-lajpxi"),$(e,"jse-selected",n[5]),gi(e,"--level",n[0].length+2)},m(d,g){j(d,e,g),A(e,t),A(t,i),A(i,s),A(i,o),A(i,r),A(i,l),A(t,a);for(let m=0;m<h.length;m+=1)h[m]&&h[m].m(t,null);c||(f=fe(e,"mousemove",kj),c=!0)},p(d,[g]){if(g&8&&Ve(o,d[3]),g&4&&Ve(l,d[2]),g&19){u=ct(d[4]);let m;for(m=0;m<u.length;m+=1){const p=B_(d,u,m);h[m]?h[m].p(p,g):(h[m]=j_(p),h[m].c(),h[m].m(t,null))}for(;m<h.length;m+=1)h[m].d(1);h.length=u.length}g&32&&$(e,"jse-selected",d[5]),g&1&&gi(e,"--level",d[0].length+2)},i:ge,o:ge,d(d){d&&B(e),Tn(h,d),c=!1,f()}}}function kj(n){n.stopPropagation()}function Sj(n,e,t){let i,s,o,r,l,{visibleSections:a}=e,{sectionIndex:c}=e,{total:f}=e,{path:u}=e,{selection:h}=e,{onExpandSection:d}=e,{context:g}=e;const m=p=>d(u,p);return n.$$set=p=>{"visibleSections"in p&&t(6,a=p.visibleSections),"sectionIndex"in p&&t(7,c=p.sectionIndex),"total"in p&&t(8,f=p.total),"path"in p&&t(0,u=p.path),"selection"in p&&t(9,h=p.selection),"onExpandSection"in p&&t(1,d=p.onExpandSection),"context"in p&&t(10,g=p.context)},n.$$.update=()=>{n.$$.dirty&192&&t(11,i=a[c]),n.$$.dirty&2048&&t(3,s=i.end),n.$$.dirty&448&&t(2,o=a[c+1]?a[c+1].start:f),n.$$.dirty&1545&&t(5,r=mf(g.getJson(),h,u.concat(String(s)))),n.$$.dirty&12&&t(4,l=NI(s,o))},[u,d,o,s,l,r,a,c,f,h,g,i,m]}class Cj extends Te{constructor(e){super(),Pe(this,e,Sj,vj,ut,{visibleSections:6,sectionIndex:7,total:8,path:0,selection:9,onExpandSection:1,context:10})}}function Mj(n){let e,t,i,s,o;return t=new St({props:{data:as}}),{c(){e=L("button"),se(t.$$.fragment),_(e,"type","button"),_(e,"class","jse-context-menu-pointer svelte-6k6355"),_(e,"title",Q1),$(e,"jse-selected",n[0])},m(r,l){j(r,e,l),ne(t,e,null),i=!0,s||(o=fe(e,"click",n[1]),s=!0)},p(r,[l]){(!i||l&1)&&$(e,"jse-selected",r[0])},i(r){i||(k(t.$$.fragment,r),i=!0)},o(r){M(t.$$.fragment,r),i=!1},d(r){r&&B(e),ie(t),s=!1,o()}}}function Aj(n,e,t){let{selected:i}=e,{onContextMenu:s}=e;function o(r){let l=r.target;for(;l&&l.nodeName!=="BUTTON";)l=l.parentNode;l&&s({anchor:l,left:0,top:0,width:Do,height:Ro,offsetTop:2,offsetLeft:0,showTip:!0})}return n.$$set=r=>{"selected"in r&&t(0,i=r.selected),"onContextMenu"in r&&t(2,s=r.onContextMenu)},[i,o,s]}class Vr extends Te{constructor(e){super(),Pe(this,e,Aj,Mj,ut,{selected:0,onContextMenu:2})}}function xj(n){let e,t,i,s,o,r,l;const a=[Tj,Pj],c=[];function f(u,h){return u[1]?0:1}return t=f(n),i=c[t]=a[t](n),{c(){e=L("div"),i.c(),_(e,"role","none"),_(e,"data-type","selectable-key"),_(e,"class",s=_n(n[6](n[0]))+" svelte-10xe8tv")},m(u,h){j(u,e,h),c[t].m(e,null),o=!0,r||(l=fe(e,"dblclick",n[5]),r=!0)},p(u,h){let d=t;t=f(u),t===d?c[t].p(u,h):(me(),M(c[d],1,1,()=>{c[d]=null}),pe(),i=c[t],i?i.p(u,h):(i=c[t]=a[t](u),i.c()),k(i,1),i.m(e,null)),(!o||h&1&&s!==(s=_n(u[6](u[0]))+" svelte-10xe8tv"))&&_(e,"class",s)},i(u){o||(k(i),o=!0)},o(u){M(i),o=!1},d(u){u&&B(e),c[t].d(),r=!1,l()}}}function Oj(n){let e,t;return e=new U4({props:{value:n[2].normalization.escapeValue(n[0]),shortText:!0,onChange:n[7],onCancel:n[8],onFind:n[2].onFind}}),{c(){se(e.$$.fragment)},m(i,s){ne(e,i,s),t=!0},p(i,s){const o={};s&5&&(o.value=i[2].normalization.escapeValue(i[0])),s&4&&(o.onFind=i[2].onFind),e.$set(o)},i(i){t||(k(e.$$.fragment,i),t=!0)},o(i){M(e.$$.fragment,i),t=!1},d(i){ie(e,i)}}}function Pj(n){let e=Al(n[2].normalization.escapeValue(n[0]))+"",t;return{c(){t=we(e)},m(i,s){j(i,t,s)},p(i,s){s&5&&e!==(e=Al(i[2].normalization.escapeValue(i[0]))+"")&&Ve(t,e)},i:ge,o:ge,d(i){i&&B(t)}}}function Tj(n){let e,t;return e=new Q4({props:{text:n[2].normalization.escapeValue(n[0]),searchResultItems:n[1]}}),{c(){se(e.$$.fragment)},m(i,s){ne(e,i,s),t=!0},p(i,s){const o={};s&5&&(o.text=i[2].normalization.escapeValue(i[0])),s&2&&(o.searchResultItems=i[1]),e.$set(o)},i(i){t||(k(e.$$.fragment,i),t=!0)},o(i){M(e.$$.fragment,i),t=!1},d(i){ie(e,i)}}}function z_(n){let e,t;return e=new Vr({props:{selected:!0,onContextMenu:n[2].onContextMenu}}),{c(){se(e.$$.fragment)},m(i,s){ne(e,i,s),t=!0},p(i,s){const o={};s&4&&(o.onContextMenu=i[2].onContextMenu),e.$set(o)},i(i){t||(k(e.$$.fragment,i),t=!0)},o(i){M(e.$$.fragment,i),t=!1},d(i){ie(e,i)}}}function Ej(n){let e,t,i,s,o;const r=[Oj,xj],l=[];function a(f,u){return!f[2].readOnly&&f[4]?0:1}e=a(n),t=l[e]=r[e](n);let c=!n[2].readOnly&&n[3]&&!n[4]&&z_(n);return{c(){t.c(),i=X(),c&&c.c(),s=gt()},m(f,u){l[e].m(f,u),j(f,i,u),c&&c.m(f,u),j(f,s,u),o=!0},p(f,[u]){let h=e;e=a(f),e===h?l[e].p(f,u):(me(),M(l[h],1,1,()=>{l[h]=null}),pe(),t=l[e],t?t.p(f,u):(t=l[e]=r[e](f),t.c()),k(t,1),t.m(i.parentNode,i)),!f[2].readOnly&&f[3]&&!f[4]?c?(c.p(f,u),u&28&&k(c,1)):(c=z_(f),c.c(),k(c,1),c.m(s.parentNode,s)):c&&(me(),M(c,1,1,()=>{c=null}),pe())},i(f){o||(k(t),k(c),o=!0)},o(f){M(t),M(c),o=!1},d(f){f&&(B(i),B(s)),l[e].d(f),c&&c.d(f)}}}function Rj(n,e,t){let i,s,{path:o}=e,{key:r}=e,{selection:l}=e,{searchResultItems:a}=e,{onUpdateKey:c}=e,{context:f}=e;function u(m){!s&&!f.readOnly&&(m.preventDefault(),f.onSelect(hs(o,!0)))}function h(m){return mo("jse-key",{"jse-empty":m===""})}function d(m,p){const b=c(r,f.normalization.unescapeValue(m)),y=vt(o).concat(b);f.onSelect(p===vr.nextInside?ht(y,!1):hs(y,!1)),p!==vr.self&&f.focus()}function g(){f.onSelect(hs(o,!1)),f.focus()}return n.$$set=m=>{"path"in m&&t(9,o=m.path),"key"in m&&t(0,r=m.key),"selection"in m&&t(10,l=m.selection),"searchResultItems"in m&&t(1,a=m.searchResultItems),"onUpdateKey"in m&&t(11,c=m.onUpdateKey),"context"in m&&t(2,f=m.context)},n.$$.update=()=>{n.$$.dirty&1536&&t(3,i=l?Mn(l)&&_t(l.path,o):!1),n.$$.dirty&1032&&t(4,s=i&&vi(l))},[r,a,f,i,s,u,h,d,g,o,l,c]}class Dj extends Te{constructor(e){super(),Pe(this,e,Rj,Ej,ut,{path:9,key:0,selection:10,searchResultItems:1,onUpdateKey:11,context:2})}}function F_(n,e,t){const i=n.slice();return i[8]=e[t],i}function Lj(n){const e=n.slice(),t=e[8].action;return e[11]=t,e}function Ij(n){let e=n[8].component,t,i,s=V_(n);return{c(){s.c(),t=gt()},m(o,r){s.m(o,r),j(o,t,r),i=!0},p(o,r){r&1&&ut(e,e=o[8].component)?(me(),M(s,1,1,ge),pe(),s=V_(o),s.c(),k(s,1),s.m(t.parentNode,t)):s.p(o,r)},i(o){i||(k(s),i=!0)},o(o){M(s),i=!1},d(o){o&&B(t),s.d(o)}}}function Nj(n){let e=n[8].action,t,i=H_(n);return{c(){i.c(),t=gt()},m(s,o){i.m(s,o),j(s,t,o)},p(s,o){o&1&&ut(e,e=s[8].action)?(i.d(1),i=H_(s),i.c(),i.m(t.parentNode,t)):i.p(s,o)},i:ge,o:ge,d(s){s&&B(t),i.d(s)}}}function V_(n){let e,t,i;const s=[n[8].props];var o=n[8].component;function r(l,a){let c={};for(let f=0;f<s.length;f+=1)c=nt(c,s[f]);return a!==void 0&&a&1&&(c=nt(c,pn(s,[vl(l[8].props)]))),{props:c}}return o&&(e=yi(o,r(n))),{c(){e&&se(e.$$.fragment),t=gt()},m(l,a){e&&ne(e,l,a),j(l,t,a),i=!0},p(l,a){if(a&1&&o!==(o=l[8].component)){if(e){me();const c=e;M(c.$$.fragment,1,0,()=>{ie(c,1)}),pe()}o?(e=yi(o,r(l,a)),se(e.$$.fragment),k(e.$$.fragment,1),ne(e,t.parentNode,t)):e=null}else if(o){const c=a&1?pn(s,[vl(l[8].props)]):{};e.$set(c)}},i(l){i||(e&&k(e.$$.fragment,l),i=!0)},o(l){e&&M(e.$$.fragment,l),i=!1},d(l){l&&B(t),e&&ie(e,l)}}}function H_(n){let e,t,i,s;return{c(){e=L("div"),_(e,"role","button"),_(e,"tabindex","-1"),_(e,"class","jse-value"),_(e,"data-type","selectable-value")},m(o,r){j(o,e,r),i||(s=Nn(t=n[11].call(null,e,n[8].props)),i=!0)},p(o,r){n=o,t&&Zn(t.update)&&r&1&&t.update.call(null,n[8].props)},d(o){o&&B(e),i=!1,s()}}}function W_(n){let e,t,i,s,o;const r=[Nj,Ij],l=[];function a(f,u){return u&1&&(e=null),e==null&&(e=!!vM(f[8])),e?0:1}function c(f,u){return u===0?Lj(f):f}return t=a(n,-1),i=l[t]=r[t](c(n,t)),{c(){i.c(),s=gt()},m(f,u){l[t].m(f,u),j(f,s,u),o=!0},p(f,u){let h=t;t=a(f,u),t===h?l[t].p(c(f,t),u):(me(),M(l[h],1,1,()=>{l[h]=null}),pe(),i=l[t],i?i.p(c(f,t),u):(i=l[t]=r[t](c(f,t)),i.c()),k(i,1),i.m(s.parentNode,s))},i(f){o||(k(i),o=!0)},o(f){M(i),o=!1},d(f){f&&B(s),l[t].d(f)}}}function Bj(n){let e,t,i=ct(n[0]),s=[];for(let r=0;r<i.length;r+=1)s[r]=W_(F_(n,i,r));const o=r=>M(s[r],1,1,()=>{s[r]=null});return{c(){for(let r=0;r<s.length;r+=1)s[r].c();e=gt()},m(r,l){for(let a=0;a<s.length;a+=1)s[a]&&s[a].m(r,l);j(r,e,l),t=!0},p(r,[l]){if(l&1){i=ct(r[0]);let a;for(a=0;a<i.length;a+=1){const c=F_(r,i,a);s[a]?(s[a].p(c,l),k(s[a],1)):(s[a]=W_(c),s[a].c(),k(s[a],1),s[a].m(e.parentNode,e))}for(me(),a=i.length;a<s.length;a+=1)o(a);pe()}},i(r){if(!t){for(let l=0;l<i.length;l+=1)k(s[l]);t=!0}},o(r){s=s.filter(Boolean);for(let l=0;l<s.length;l+=1)M(s[l]);t=!1},d(r){r&&B(e),Tn(s,r)}}}function jj(n,e,t){let i,s,{path:o}=e,{value:r}=e,{context:l}=e,{enforceString:a}=e,{selection:c}=e,{searchResultItems:f}=e;return n.$$set=u=>{"path"in u&&t(1,o=u.path),"value"in u&&t(2,r=u.value),"context"in u&&t(3,l=u.context),"enforceString"in u&&t(4,a=u.enforceString),"selection"in u&&t(5,c=u.selection),"searchResultItems"in u&&t(6,f=u.searchResultItems)},n.$$.update=()=>{n.$$.dirty&32&&t(7,i=Mt(c)&&vi(c)),n.$$.dirty&254&&t(0,s=l.onRenderValue({path:o,value:r,readOnly:l.readOnly,enforceString:a,isEditing:i,parser:l.parser,normalization:l.normalization,selection:c,searchResultItems:f,onPatch:l.onPatch,onPasteJson:l.onPasteJson,onSelect:l.onSelect,onFind:l.onFind,findNextInside:l.findNextInside,focus:l.focus}))},[s,o,r,l,a,c,f,i]}let zj=class extends Te{constructor(e){super(),Pe(this,e,jj,Bj,ut,{path:1,value:2,context:3,enforceString:4,selection:5,searchResultItems:6})}};const zn={selecting:!1,selectionAnchor:null,selectionAnchorType:null,selectionFocus:null,dragging:!1};function fm({json:n,documentState:e,deltaY:t,items:i}){if(!e.selection)return{operations:void 0,updatedSelection:null,offset:0};const s=e.selection,o=t<0?Fj({json:n,selection:s,deltaY:t,items:i}):Vj({json:n,selection:s,deltaY:t,items:i});if(!o||o.offset===0)return{operations:void 0,updatedSelection:null,offset:0};const r=r9(n,s,o),l=vt(qo(n,s)),a=ze(n,l);if(Array.isArray(a)){const c=Hj({items:i,json:n,selection:s,offset:o.offset});return{operations:r,updatedSelection:c,offset:o.offset}}else return{operations:r,updatedSelection:null,offset:o.offset}}function Fj({json:n,items:e,selection:t,deltaY:i}){const s=qo(n,t),o=e.findIndex(u=>_t(u.path,s)),r=()=>{var u;return(u=e[l-1])==null?void 0:u.height};let l=o,a=0;for(;r()!==void 0&&Math.abs(i)>a+r()/2;)a+=r(),l-=1;const c=e[l].path,f=l-o;return l!==o&&e[l]!==void 0?{beforePath:c,offset:f}:void 0}function Vj({json:n,items:e,selection:t,deltaY:i}){var m;const s=Fr(n,t),o=e.findIndex(p=>_t(p.path,s));let r=0,l=o;const a=()=>{var p;return(p=e[l+1])==null?void 0:p.height};for(;a()!==void 0&&Math.abs(i)>r+a()/2;)r+=a(),l+=1;const c=vt(s),f=ze(n,c),h=Array.isArray(f)?l:l+1,d=(m=e[h])==null?void 0:m.path,g=l-o;return d?{beforePath:d,offset:g}:{append:!0,offset:g}}function Hj({items:n,json:e,selection:t,offset:i}){var f,u;const s=qo(e,t),o=Fr(e,t),r=n.findIndex(h=>_t(h.path,s)),l=n.findIndex(h=>_t(h.path,o)),a=(f=n[r+i])==null?void 0:f.path,c=(u=n[l+i])==null?void 0:u.path;return pi(a,c)}function Wj(n,e){if(!n)return;const t={};for(const i of Object.keys(n))e(i,n[i])&&(t[i]=n[i]);return Object.keys(t).length>0?t:void 0}function is(n,e){return Wj(n,t=>Yd(t,e))}function qj(n){let e,t,i,s,o,r,l;return t=new St({props:{data:Vl}}),{c(){e=L("button"),se(t.$$.fragment),_(e,"type","button"),_(e,"class",i="jse-validation-"+n[0].severity+" svelte-1yy7qpj")},m(a,c){j(a,e,c),ne(t,e,null),o=!0,r||(l=[fe(e,"click",function(){Zn(n[1])&&n[1].apply(this,arguments)}),Nn(s=M0.call(null,e,{text:n[2],...n[3]}))],r=!0)},p(a,[c]){n=a,(!o||c&1&&i!==(i="jse-validation-"+n[0].severity+" svelte-1yy7qpj"))&&_(e,"class",i),s&&Zn(s.update)&&c&4&&s.update.call(null,{text:n[2],...n[3]})},i(a){o||(k(t.$$.fragment,a),o=!0)},o(a){M(t.$$.fragment,a),o=!1},d(a){a&&B(e),ie(t),r=!1,Tt(l)}}}function Uj(n,e,t){let i;const s=Wn("absolute-popup");let{validationError:o}=e,{onExpand:r}=e;return n.$$set=l=>{"validationError"in l&&t(0,o=l.validationError),"onExpand"in l&&t(1,r=l.onExpand)},n.$$.update=()=>{n.$$.dirty&1&&t(2,i=sj(o)&&o.isChildError?"Contains invalid data":o.message)},[o,r,i,s]}class ac extends Te{constructor(e){super(),Pe(this,e,Uj,qj,Ot,{validationError:0,onExpand:1})}}const Jj=n=>({}),q_=n=>({});function U_(n,e,t){const i=n.slice();return i[52]=e[t],i}const Kj=n=>({}),J_=n=>({});function K_(n,e,t){const i=n.slice();return i[46]=e[t],i[48]=t,i}function Y_(n,e,t){const i=n.slice();return i[49]=e[t],i}const Yj=n=>({}),X_=n=>({});function Xj(n){let e,t,i,s,o,r,l=!n[8].readOnly&&n[16]&&n[7]&&(Mt(n[7])||Ut(n[7]))&&!vi(n[7])&&_t(Xe(n[7]),n[1]),a,c,f;const u=n[33].identifier,h=Dt(u,n,n[34],q_);let d=!n[17]&&G_();o=new zj({props:{path:n[1],value:n[0],enforceString:n[13]||!1,selection:n[16]?n[7]:null,searchResultItems:Ap(n[6],n[9]),context:n[8]}});let g=l&&Q_(n),m=n[15]&&Z_(n),p=!n[17]&&$_(n);return{c(){e=L("div"),t=L("div"),h&&h.c(),i=X(),d&&d.c(),s=X(),se(o.$$.fragment),r=X(),g&&g.c(),a=X(),m&&m.c(),c=X(),p&&p.c(),_(t,"class","jse-contents svelte-6mjnsm"),_(e,"class","jse-contents-outer svelte-6mjnsm")},m(b,y){j(b,e,y),A(e,t),h&&h.m(t,null),A(t,i),d&&d.m(t,null),A(t,s),ne(o,t,null),A(t,r),g&&g.m(t,null),A(e,a),m&&m.m(e,null),A(e,c),p&&p.m(e,null),f=!0},p(b,y){h&&h.p&&(!f||y[1]&8)&&It(h,u,b,b[34],f?Lt(u,b[34],y,Jj):Nt(b[34]),q_),b[17]?d&&(d.d(1),d=null):d||(d=G_(),d.c(),d.m(t,s));const v={};y[0]&2&&(v.path=b[1]),y[0]&1&&(v.value=b[0]),y[0]&8192&&(v.enforceString=b[13]||!1),y[0]&65664&&(v.selection=b[16]?b[7]:null),y[0]&576&&(v.searchResultItems=Ap(b[6],b[9])),y[0]&256&&(v.context=b[8]),o.$set(v),y[0]&65922&&(l=!b[8].readOnly&&b[16]&&b[7]&&(Mt(b[7])||Ut(b[7]))&&!vi(b[7])&&_t(Xe(b[7]),b[1])),l?g?(g.p(b,y),y[0]&65922&&k(g,1)):(g=Q_(b),g.c(),k(g,1),g.m(t,null)):g&&(me(),M(g,1,1,()=>{g=null}),pe()),b[15]?m?(m.p(b,y),y[0]&32768&&k(m,1)):(m=Z_(b),m.c(),k(m,1),m.m(e,c)):m&&(me(),M(m,1,1,()=>{m=null}),pe()),b[17]?p&&(p.d(1),p=null):p?p.p(b,y):(p=$_(b),p.c(),p.m(e,null))},i(b){f||(k(h,b),k(o.$$.fragment,b),k(g),k(m),f=!0)},o(b){M(h,b),M(o.$$.fragment,b),M(g),M(m),f=!1},d(b){b&&B(e),h&&h.d(b),d&&d.d(),ie(o),g&&g.d(),m&&m.d(),p&&p.d()}}}function Gj(n){let e,t,i,s,o,r,l,a,c,f,u,h=!n[8].readOnly&&n[16]&&n[7]&&(Mt(n[7])||Ut(n[7]))&&!vi(n[7])&&_t(Xe(n[7]),n[1]),d,g,m,p,b,y,v;const C=[$j,Zj],w=[];function S(R,U){return R[12]?0:1}s=S(n),o=w[s]=C[s](n);const x=n[33].identifier,T=Dt(x,n,n[34],J_);let P=!n[17]&&ew();function D(R,U){return R[12]?tz:ez}let O=D(n),E=O(n),N=h&&tw(n),z=n[15]&&(!n[12]||!n[15].isChildError)&&nw(n);function F(R,U){if(R[12])return iz;if(!R[17])return nz}let q=F(n),Q=q&&q(n),G=n[12]&&iw(n);return{c(){e=L("div"),t=L("div"),i=L("button"),o.c(),r=X(),T&&T.c(),l=X(),P&&P.c(),a=X(),c=L("div"),f=L("div"),E.c(),u=X(),N&&N.c(),d=X(),z&&z.c(),g=X(),Q&&Q.c(),m=X(),G&&G.c(),p=gt(),_(i,"type","button"),_(i,"class","jse-expand svelte-6mjnsm"),_(i,"title","Expand or collapse this object (Ctrl+Click to expand/collapse recursively)"),_(f,"class","jse-meta-inner svelte-6mjnsm"),_(c,"class","jse-meta svelte-6mjnsm"),_(c,"data-type","selectable-value"),_(t,"class","jse-header svelte-6mjnsm"),_(e,"class","jse-header-outer svelte-6mjnsm")},m(R,U){j(R,e,U),A(e,t),A(t,i),w[s].m(i,null),A(t,r),T&&T.m(t,null),A(t,l),P&&P.m(t,null),A(t,a),A(t,c),A(c,f),E.m(f,null),A(t,u),N&&N.m(t,null),A(e,d),z&&z.m(e,null),A(e,g),Q&&Q.m(e,null),j(R,m,U),G&&G.m(R,U),j(R,p,U),b=!0,y||(v=fe(i,"click",n[20]),y=!0)},p(R,U){let Y=s;s=S(R),s!==Y&&(me(),M(w[Y],1,1,()=>{w[Y]=null}),pe(),o=w[s],o||(o=w[s]=C[s](R),o.c()),k(o,1),o.m(i,null)),T&&T.p&&(!b||U[1]&8)&&It(T,x,R,R[34],b?Lt(x,R[34],U,Kj):Nt(R[34]),J_),R[17]?P&&(P.d(1),P=null):P||(P=ew(),P.c(),P.m(t,a)),O===(O=D(R))&&E?E.p(R,U):(E.d(1),E=O(R),E&&(E.c(),E.m(f,null))),U[0]&65922&&(h=!R[8].readOnly&&R[16]&&R[7]&&(Mt(R[7])||Ut(R[7]))&&!vi(R[7])&&_t(Xe(R[7]),R[1])),h?N?(N.p(R,U),U[0]&65922&&k(N,1)):(N=tw(R),N.c(),k(N,1),N.m(t,null)):N&&(me(),M(N,1,1,()=>{N=null}),pe()),R[15]&&(!R[12]||!R[15].isChildError)?z?(z.p(R,U),U[0]&36864&&k(z,1)):(z=nw(R),z.c(),k(z,1),z.m(e,g)):z&&(me(),M(z,1,1,()=>{z=null}),pe()),q===(q=F(R))&&Q?Q.p(R,U):(Q&&Q.d(1),Q=q&&q(R),Q&&(Q.c(),Q.m(e,null))),R[12]?G?(G.p(R,U),U[0]&4096&&k(G,1)):(G=iw(R),G.c(),k(G,1),G.m(p.parentNode,p)):G&&(me(),M(G,1,1,()=>{G=null}),pe())},i(R){b||(k(o),k(T,R),k(N),k(z),k(G),b=!0)},o(R){M(o),M(T,R),M(N),M(z),M(G),b=!1},d(R){R&&(B(e),B(m),B(p)),w[s].d(),T&&T.d(R),P&&P.d(),E.d(),N&&N.d(),z&&z.d(),Q&&Q.d(),G&&G.d(R),y=!1,v()}}}function Qj(n){let e,t,i,s,o,r,l,a,c,f,u,h=!n[8].readOnly&&n[16]&&n[7]&&(Mt(n[7])||Ut(n[7]))&&!vi(n[7])&&_t(Xe(n[7]),n[1]),d,g,m,p,b,y,v;const C=[rz,oz],w=[];function S(R,U){return R[12]?0:1}s=S(n),o=w[s]=C[s](n);const x=n[33].identifier,T=Dt(x,n,n[34],X_);let P=!n[17]&&lw();function D(R,U){return R[12]?az:lz}let O=D(n),E=O(n),N=h&&aw(n),z=n[15]&&(!n[12]||!n[15].isChildError)&&cw(n);function F(R,U){return R[12]?fz:cz}let q=F(n),Q=q(n),G=n[12]&&fw(n);return{c(){e=L("div"),t=L("div"),i=L("button"),o.c(),r=X(),T&&T.c(),l=X(),P&&P.c(),a=X(),c=L("div"),f=L("div"),E.c(),u=X(),N&&N.c(),d=X(),z&&z.c(),g=X(),Q.c(),m=X(),G&&G.c(),p=gt(),_(i,"type","button"),_(i,"class","jse-expand svelte-6mjnsm"),_(i,"title","Expand or collapse this array (Ctrl+Click to expand/collapse recursively)"),_(f,"class","jse-meta-inner svelte-6mjnsm"),_(f,"data-type","selectable-value"),_(c,"class","jse-meta svelte-6mjnsm"),_(t,"class","jse-header svelte-6mjnsm"),_(e,"class","jse-header-outer svelte-6mjnsm")},m(R,U){j(R,e,U),A(e,t),A(t,i),w[s].m(i,null),A(t,r),T&&T.m(t,null),A(t,l),P&&P.m(t,null),A(t,a),A(t,c),A(c,f),E.m(f,null),A(t,u),N&&N.m(t,null),A(e,d),z&&z.m(e,null),A(e,g),Q.m(e,null),j(R,m,U),G&&G.m(R,U),j(R,p,U),b=!0,y||(v=fe(i,"click",n[20]),y=!0)},p(R,U){let Y=s;s=S(R),s!==Y&&(me(),M(w[Y],1,1,()=>{w[Y]=null}),pe(),o=w[s],o||(o=w[s]=C[s](R),o.c()),k(o,1),o.m(i,null)),T&&T.p&&(!b||U[1]&8)&&It(T,x,R,R[34],b?Lt(x,R[34],U,Yj):Nt(R[34]),X_),R[17]?P&&(P.d(1),P=null):P||(P=lw(),P.c(),P.m(t,a)),O===(O=D(R))&&E?E.p(R,U):(E.d(1),E=O(R),E&&(E.c(),E.m(f,null))),U[0]&65922&&(h=!R[8].readOnly&&R[16]&&R[7]&&(Mt(R[7])||Ut(R[7]))&&!vi(R[7])&&_t(Xe(R[7]),R[1])),h?N?(N.p(R,U),U[0]&65922&&k(N,1)):(N=aw(R),N.c(),k(N,1),N.m(t,null)):N&&(me(),M(N,1,1,()=>{N=null}),pe()),R[15]&&(!R[12]||!R[15].isChildError)?z?(z.p(R,U),U[0]&36864&&k(z,1)):(z=cw(R),z.c(),k(z,1),z.m(e,g)):z&&(me(),M(z,1,1,()=>{z=null}),pe()),q===(q=F(R))&&Q?Q.p(R,U):(Q.d(1),Q=q(R),Q&&(Q.c(),Q.m(e,null))),R[12]?G?(G.p(R,U),U[0]&4096&&k(G,1)):(G=fw(R),G.c(),k(G,1),G.m(p.parentNode,p)):G&&(me(),M(G,1,1,()=>{G=null}),pe())},i(R){b||(k(o),k(T,R),k(N),k(z),k(G),b=!0)},o(R){M(o),M(T,R),M(N),M(z),M(G),b=!1},d(R){R&&(B(e),B(m),B(p)),w[s].d(),T&&T.d(R),P&&P.d(),E.d(),N&&N.d(),z&&z.d(),Q.d(),G&&G.d(R),y=!1,v()}}}function G_(n){let e;return{c(){e=L("div"),e.textContent=":",_(e,"class","jse-separator svelte-6mjnsm")},m(t,i){j(t,e,i)},d(t){t&&B(e)}}}function Q_(n){let e,t,i;return t=new Vr({props:{selected:!0,onContextMenu:n[8].onContextMenu}}),{c(){e=L("div"),se(t.$$.fragment),_(e,"class","jse-context-menu-pointer-anchor svelte-6mjnsm")},m(s,o){j(s,e,o),ne(t,e,null),i=!0},p(s,o){const r={};o[0]&256&&(r.onContextMenu=s[8].onContextMenu),t.$set(r)},i(s){i||(k(t.$$.fragment,s),i=!0)},o(s){M(t.$$.fragment,s),i=!1},d(s){s&&B(e),ie(t)}}}function Z_(n){let e,t;return e=new ac({props:{validationError:n[15],onExpand:n[21]}}),{c(){se(e.$$.fragment)},m(i,s){ne(e,i,s),t=!0},p(i,s){const o={};s[0]&32768&&(o.validationError=i[15]),e.$set(o)},i(i){t||(k(e.$$.fragment,i),t=!0)},o(i){M(e.$$.fragment,i),t=!1},d(i){ie(e,i)}}}function $_(n){let e,t,i;return{c(){e=L("div"),_(e,"role","none"),_(e,"class","jse-insert-selection-area jse-after svelte-6mjnsm"),_(e,"data-type","insert-selection-area-after")},m(s,o){j(s,e,o),t||(i=fe(e,"click",n[29]),t=!0)},p:ge,d(s){s&&B(e),t=!1,i()}}}function Zj(n){let e,t;return e=new St({props:{data:hr}}),{c(){se(e.$$.fragment)},m(i,s){ne(e,i,s),t=!0},i(i){t||(k(e.$$.fragment,i),t=!0)},o(i){M(e.$$.fragment,i),t=!1},d(i){ie(e,i)}}}function $j(n){let e,t;return e=new St({props:{data:as}}),{c(){se(e.$$.fragment)},m(i,s){ne(e,i,s),t=!0},i(i){t||(k(e.$$.fragment,i),t=!0)},o(i){M(e.$$.fragment,i),t=!1},d(i){ie(e,i)}}}function ew(n){let e;return{c(){e=L("div"),e.textContent=":",_(e,"class","jse-separator svelte-6mjnsm")},m(t,i){j(t,e,i)},d(t){t&&B(e)}}}function ez(n){let e,t,i,s=Object.keys(n[0]).length+"",o,r,l=Object.keys(n[0]).length===1?"prop":"props",a,c,f,u,h;return{c(){e=L("div"),e.textContent="{",t=X(),i=L("button"),o=we(s),r=X(),a=we(l),c=X(),f=L("div"),f.textContent="}",_(e,"class","jse-bracket svelte-6mjnsm"),_(i,"type","button"),_(i,"class","jse-tag svelte-6mjnsm"),_(f,"class","jse-bracket svelte-6mjnsm")},m(d,g){j(d,e,g),j(d,t,g),j(d,i,g),A(i,o),A(i,r),A(i,a),j(d,c,g),j(d,f,g),u||(h=fe(i,"click",n[21]),u=!0)},p(d,g){g[0]&1&&s!==(s=Object.keys(d[0]).length+"")&&Ve(o,s),g[0]&1&&l!==(l=Object.keys(d[0]).length===1?"prop":"props")&&Ve(a,l)},d(d){d&&(B(e),B(t),B(i),B(c),B(f)),u=!1,h()}}}function tz(n){let e;return{c(){e=L("div"),e.textContent="{",_(e,"class","jse-bracket jse-expanded svelte-6mjnsm")},m(t,i){j(t,e,i)},p:ge,d(t){t&&B(e)}}}function tw(n){let e,t,i;return t=new Vr({props:{selected:!0,onContextMenu:n[8].onContextMenu}}),{c(){e=L("div"),se(t.$$.fragment),_(e,"class","jse-context-menu-pointer-anchor svelte-6mjnsm")},m(s,o){j(s,e,o),ne(t,e,null),i=!0},p(s,o){const r={};o[0]&256&&(r.onContextMenu=s[8].onContextMenu),t.$set(r)},i(s){i||(k(t.$$.fragment,s),i=!0)},o(s){M(t.$$.fragment,s),i=!1},d(s){s&&B(e),ie(t)}}}function nw(n){let e,t;return e=new ac({props:{validationError:n[15],onExpand:n[21]}}),{c(){se(e.$$.fragment)},m(i,s){ne(e,i,s),t=!0},p(i,s){const o={};s[0]&32768&&(o.validationError=i[15]),e.$set(o)},i(i){t||(k(e.$$.fragment,i),t=!0)},o(i){M(e.$$.fragment,i),t=!1},d(i){ie(e,i)}}}function nz(n){let e,t,i;return{c(){e=L("div"),_(e,"role","none"),_(e,"class","jse-insert-selection-area jse-after svelte-6mjnsm"),_(e,"data-type","insert-selection-area-after")},m(s,o){j(s,e,o),t||(i=fe(e,"click",n[29]),t=!0)},p:ge,d(s){s&&B(e),t=!1,i()}}}function iz(n){let e,t,i;return{c(){e=L("div"),_(e,"role","none"),_(e,"class","jse-insert-selection-area jse-inside svelte-6mjnsm"),_(e,"data-type","insert-selection-area-inside")},m(s,o){j(s,e,o),t||(i=fe(e,"click",n[28]),t=!0)},p:ge,d(s){s&&B(e),t=!1,i()}}}function iw(n){let e,t=!n[8].readOnly&&(n[10]===Fo||n[16]&&xn(n[7])),i,s,o,r,l,a,c=t&&sw(n),f=ct(n[18](n[1],n[0],n[2],n[3],n[4],n[5],n[6],n[7],n[11])),u=[];for(let g=0;g<f.length;g+=1)u[g]=ow(U_(n,f,g));const h=g=>M(u[g],1,1,()=>{u[g]=null});let d=!n[17]&&rw(n);return{c(){e=L("div"),c&&c.c(),i=X();for(let g=0;g<u.length;g+=1)u[g].c();s=X(),o=L("div"),r=L("div"),r.innerHTML='<div class="jse-bracket svelte-6mjnsm">}</div>',l=X(),d&&d.c(),_(e,"class","jse-props svelte-6mjnsm"),_(r,"data-type","selectable-value"),_(r,"class","jse-footer svelte-6mjnsm"),_(o,"class","jse-footer-outer svelte-6mjnsm")},m(g,m){j(g,e,m),c&&c.m(e,null),A(e,i);for(let p=0;p<u.length;p+=1)u[p]&&u[p].m(e,null);j(g,s,m),j(g,o,m),A(o,r),A(o,l),d&&d.m(o,null),a=!0},p(g,m){if(m[0]&66944&&(t=!g[8].readOnly&&(g[10]===Fo||g[16]&&xn(g[7]))),t?c?(c.p(g,m),m[0]&66944&&k(c,1)):(c=sw(g),c.c(),k(c,1),c.m(e,i)):c&&(me(),M(c,1,1,()=>{c=null}),pe()),m[0]&38013439){f=ct(g[18](g[1],g[0],g[2],g[3],g[4],g[5],g[6],g[7],g[11]));let p;for(p=0;p<f.length;p+=1){const b=U_(g,f,p);u[p]?(u[p].p(b,m),k(u[p],1)):(u[p]=ow(b),u[p].c(),k(u[p],1),u[p].m(e,null))}for(me(),p=f.length;p<u.length;p+=1)h(p);pe()}g[17]?d&&(d.d(1),d=null):d?d.p(g,m):(d=rw(g),d.c(),d.m(o,null))},i(g){if(!a){k(c);for(let m=0;m<f.length;m+=1)k(u[m]);a=!0}},o(g){M(c),u=u.filter(Boolean);for(let m=0;m<u.length;m+=1)M(u[m]);a=!1},d(g){g&&(B(e),B(s),B(o)),c&&c.d(),Tn(u,g),d&&d.d()}}}function sw(n){let e,t,i;return t=new Vr({props:{selected:n[16]&&xn(n[7]),onContextMenu:n[30]}}),{c(){e=L("div"),se(t.$$.fragment),_(e,"class","jse-insert-area jse-inside svelte-6mjnsm"),_(e,"data-type","insert-selection-area-inside"),_(e,"title",G1),$(e,"jse-hovered",n[10]===Fo),$(e,"jse-selected",n[16]&&xn(n[7])),gi(e,"--level",n[1].length+1)},m(s,o){j(s,e,o),ne(t,e,null),i=!0},p(s,o){const r={};o[0]&65664&&(r.selected=s[16]&&xn(s[7])),t.$set(r),(!i||o[0]&1024)&&$(e,"jse-hovered",s[10]===Fo),(!i||o[0]&65664)&&$(e,"jse-selected",s[16]&&xn(s[7])),o[0]&2&&gi(e,"--level",s[1].length+1)},i(s){i||(k(t.$$.fragment,s),i=!0)},o(s){M(t.$$.fragment,s),i=!1},d(s){s&&B(e),ie(t)}}}function sz(n){let e,t,i,s;return t=new Dj({props:{path:n[52].path,key:n[52].key,selection:n[52].selection,searchResultItems:n[52].keySearchResultItemsMap,context:n[8],onUpdateKey:n[22]}}),{c(){e=L("div"),se(t.$$.fragment),i=X(),_(e,"slot","identifier"),_(e,"class","jse-identifier svelte-6mjnsm")},m(o,r){j(o,e,r),ne(t,e,null),A(e,i),s=!0},p(o,r){const l={};r[0]&2303&&(l.path=o[52].path),r[0]&2303&&(l.key=o[52].key),r[0]&2303&&(l.selection=o[52].selection),r[0]&2303&&(l.searchResultItems=o[52].keySearchResultItemsMap),r[0]&256&&(l.context=o[8]),t.$set(l)},i(o){s||(k(t.$$.fragment,o),s=!0)},o(o){M(t.$$.fragment,o),s=!1},d(o){o&&B(e),ie(t)}}}function ow(n){let e,t;return e=new L0({props:{value:n[52].value,path:n[52].path,expandedMap:n[52].expandedMap,enforceStringMap:n[52].enforceStringMap,visibleSectionsMap:n[52].visibleSectionsMap,validationErrorsMap:n[52].validationErrorsMap,searchResultItemsMap:n[52].valueSearchResultItemsMap,selection:n[52].selection,context:n[8],onDragSelectionStart:n[25],$$slots:{identifier:[sz]},$$scope:{ctx:n}}}),{c(){se(e.$$.fragment)},m(i,s){ne(e,i,s),t=!0},p(i,s){const o={};s[0]&2303&&(o.value=i[52].value),s[0]&2303&&(o.path=i[52].path),s[0]&2303&&(o.expandedMap=i[52].expandedMap),s[0]&2303&&(o.enforceStringMap=i[52].enforceStringMap),s[0]&2303&&(o.visibleSectionsMap=i[52].visibleSectionsMap),s[0]&2303&&(o.validationErrorsMap=i[52].validationErrorsMap),s[0]&2303&&(o.searchResultItemsMap=i[52].valueSearchResultItemsMap),s[0]&2303&&(o.selection=i[52].selection),s[0]&256&&(o.context=i[8]),s[0]&2559|s[1]&8&&(o.$$scope={dirty:s,ctx:i}),e.$set(o)},i(i){t||(k(e.$$.fragment,i),t=!0)},o(i){M(e.$$.fragment,i),t=!1},d(i){ie(e,i)}}}function rw(n){let e,t,i;return{c(){e=L("div"),_(e,"role","none"),_(e,"class","jse-insert-selection-area jse-after svelte-6mjnsm"),_(e,"data-type","insert-selection-area-after")},m(s,o){j(s,e,o),t||(i=fe(e,"click",n[29]),t=!0)},p:ge,d(s){s&&B(e),t=!1,i()}}}function oz(n){let e,t;return e=new St({props:{data:hr}}),{c(){se(e.$$.fragment)},m(i,s){ne(e,i,s),t=!0},i(i){t||(k(e.$$.fragment,i),t=!0)},o(i){M(e.$$.fragment,i),t=!1},d(i){ie(e,i)}}}function rz(n){let e,t;return e=new St({props:{data:as}}),{c(){se(e.$$.fragment)},m(i,s){ne(e,i,s),t=!0},i(i){t||(k(e.$$.fragment,i),t=!0)},o(i){M(e.$$.fragment,i),t=!1},d(i){ie(e,i)}}}function lw(n){let e;return{c(){e=L("div"),e.textContent=":",_(e,"class","jse-separator svelte-6mjnsm")},m(t,i){j(t,e,i)},d(t){t&&B(e)}}}function lz(n){let e,t,i,s=n[0].length+"",o,r,l=n[0].length===1?"item":"items",a,c,f,u,h;return{c(){e=L("div"),e.textContent="[",t=X(),i=L("button"),o=we(s),r=X(),a=we(l),c=X(),f=L("div"),f.textContent="]",_(e,"class","jse-bracket svelte-6mjnsm"),_(i,"type","button"),_(i,"class","jse-tag svelte-6mjnsm"),_(f,"class","jse-bracket svelte-6mjnsm")},m(d,g){j(d,e,g),j(d,t,g),j(d,i,g),A(i,o),A(i,r),A(i,a),j(d,c,g),j(d,f,g),u||(h=fe(i,"click",n[21]),u=!0)},p(d,g){g[0]&1&&s!==(s=d[0].length+"")&&Ve(o,s),g[0]&1&&l!==(l=d[0].length===1?"item":"items")&&Ve(a,l)},d(d){d&&(B(e),B(t),B(i),B(c),B(f)),u=!1,h()}}}function az(n){let e,t,i,s=n[0].length+"",o,r,l=n[0].length===1?"item":"items",a,c;return{c(){e=L("div"),e.textContent="[",t=X(),i=L("span"),o=we(s),r=X(),a=we(l),c=we(`
               `),_(e,"class","jse-bracket svelte-6mjnsm"),_(i,"class","jse-tag jse-expanded svelte-6mjnsm")},m(f,u){j(f,e,u),j(f,t,u),j(f,i,u),A(i,o),A(i,r),A(i,a),j(f,c,u)},p(f,u){u[0]&1&&s!==(s=f[0].length+"")&&Ve(o,s),u[0]&1&&l!==(l=f[0].length===1?"item":"items")&&Ve(a,l)},d(f){f&&(B(e),B(t),B(i),B(c))}}}function aw(n){let e,t,i;return t=new Vr({props:{selected:!0,onContextMenu:n[8].onContextMenu}}),{c(){e=L("div"),se(t.$$.fragment),_(e,"class","jse-context-menu-pointer-anchor svelte-6mjnsm")},m(s,o){j(s,e,o),ne(t,e,null),i=!0},p(s,o){const r={};o[0]&256&&(r.onContextMenu=s[8].onContextMenu),t.$set(r)},i(s){i||(k(t.$$.fragment,s),i=!0)},o(s){M(t.$$.fragment,s),i=!1},d(s){s&&B(e),ie(t)}}}function cw(n){let e,t;return e=new ac({props:{validationError:n[15],onExpand:n[21]}}),{c(){se(e.$$.fragment)},m(i,s){ne(e,i,s),t=!0},p(i,s){const o={};s[0]&32768&&(o.validationError=i[15]),e.$set(o)},i(i){t||(k(e.$$.fragment,i),t=!0)},o(i){M(e.$$.fragment,i),t=!1},d(i){ie(e,i)}}}function cz(n){let e,t,i;return{c(){e=L("div"),_(e,"role","none"),_(e,"class","jse-insert-selection-area jse-after svelte-6mjnsm"),_(e,"data-type","insert-selection-area-after")},m(s,o){j(s,e,o),t||(i=fe(e,"click",n[29]),t=!0)},p:ge,d(s){s&&B(e),t=!1,i()}}}function fz(n){let e,t,i;return{c(){e=L("div"),_(e,"role","none"),_(e,"class","jse-insert-selection-area jse-inside svelte-6mjnsm"),_(e,"data-type","insert-selection-area-inside")},m(s,o){j(s,e,o),t||(i=fe(e,"click",n[28]),t=!0)},p:ge,d(s){s&&B(e),t=!1,i()}}}function fw(n){let e,t=!n[8].readOnly&&(n[10]===Fo||n[16]&&xn(n[7])),i,s=[],o=new Map,r,l,a,c,f,u=t&&uw(n),h=ct(n[14]||kl);const d=m=>m[48];for(let m=0;m<h.length;m+=1){let p=K_(n,h,m),b=d(p);o.set(b,s[m]=gw(b,p))}let g=!n[17]&&mw(n);return{c(){e=L("div"),u&&u.c(),i=X();for(let m=0;m<s.length;m+=1)s[m].c();r=X(),l=L("div"),a=L("div"),a.innerHTML='<span class="jse-bracket svelte-6mjnsm">]</span>',c=X(),g&&g.c(),_(e,"class","jse-items svelte-6mjnsm"),_(a,"data-type","selectable-value"),_(a,"class","jse-footer svelte-6mjnsm"),_(l,"class","jse-footer-outer svelte-6mjnsm")},m(m,p){j(m,e,p),u&&u.m(e,null),A(e,i);for(let b=0;b<s.length;b+=1)s[b]&&s[b].m(e,null);j(m,r,p),j(m,l,p),A(l,a),A(l,c),g&&g.m(l,null),f=!0},p(m,p){p[0]&66944&&(t=!m[8].readOnly&&(m[10]===Fo||m[16]&&xn(m[7]))),t?u?(u.p(m,p),p[0]&66944&&k(u,1)):(u=uw(m),u.c(),k(u,1),u.m(e,i)):u&&(me(),M(u,1,1,()=>{u=null}),pe()),p[0]&34097663&&(h=ct(m[14]||kl),me(),s=Kd(s,p,d,1,m,h,o,e,Y1,gw,null,K_),pe()),m[17]?g&&(g.d(1),g=null):g?g.p(m,p):(g=mw(m),g.c(),g.m(l,null))},i(m){if(!f){k(u);for(let p=0;p<h.length;p+=1)k(s[p]);f=!0}},o(m){M(u);for(let p=0;p<s.length;p+=1)M(s[p]);f=!1},d(m){m&&(B(e),B(r),B(l)),u&&u.d();for(let p=0;p<s.length;p+=1)s[p].d();g&&g.d()}}}function uw(n){let e,t,i;return t=new Vr({props:{selected:n[16]&&xn(n[7]),onContextMenu:n[30]}}),{c(){e=L("div"),se(t.$$.fragment),_(e,"class","jse-insert-area jse-inside svelte-6mjnsm"),_(e,"data-type","insert-selection-area-inside"),_(e,"title",G1),$(e,"jse-hovered",n[10]===Fo),$(e,"jse-selected",n[16]&&xn(n[7])),gi(e,"--level",n[1].length+1)},m(s,o){j(s,e,o),ne(t,e,null),i=!0},p(s,o){const r={};o[0]&65664&&(r.selected=s[16]&&xn(s[7])),t.$set(r),(!i||o[0]&1024)&&$(e,"jse-hovered",s[10]===Fo),(!i||o[0]&65664)&&$(e,"jse-selected",s[16]&&xn(s[7])),o[0]&2&&gi(e,"--level",s[1].length+1)},i(s){i||(k(t.$$.fragment,s),i=!0)},o(s){M(t.$$.fragment,s),i=!1},d(s){s&&B(e),ie(t)}}}function uz(n){let e,t,i=n[49].index+"",s;return{c(){e=L("div"),t=L("div"),s=we(i),_(t,"class","jse-index svelte-6mjnsm"),_(e,"slot","identifier"),_(e,"class","jse-identifier svelte-6mjnsm")},m(o,r){j(o,e,r),A(e,t),A(t,s)},p(o,r){r[0]&18687&&i!==(i=o[49].index+"")&&Ve(s,i)},d(o){o&&B(e)}}}function hw(n,e){let t,i,s;return i=new L0({props:{value:e[49].value,path:e[49].path,expandedMap:e[49].expandedMap,enforceStringMap:e[49].enforceStringMap,visibleSectionsMap:e[49].visibleSectionsMap,validationErrorsMap:e[49].validationErrorsMap,searchResultItemsMap:e[49].searchResultItemsMap,selection:e[49].selection,context:e[8],onDragSelectionStart:e[25],$$slots:{identifier:[uz]},$$scope:{ctx:e}}}),{key:n,first:null,c(){t=gt(),se(i.$$.fragment),this.first=t},m(o,r){j(o,t,r),ne(i,o,r),s=!0},p(o,r){e=o;const l={};r[0]&18687&&(l.value=e[49].value),r[0]&18687&&(l.path=e[49].path),r[0]&18687&&(l.expandedMap=e[49].expandedMap),r[0]&18687&&(l.enforceStringMap=e[49].enforceStringMap),r[0]&18687&&(l.visibleSectionsMap=e[49].visibleSectionsMap),r[0]&18687&&(l.validationErrorsMap=e[49].validationErrorsMap),r[0]&18687&&(l.searchResultItemsMap=e[49].searchResultItemsMap),r[0]&18687&&(l.selection=e[49].selection),r[0]&256&&(l.context=e[8]),r[0]&18687|r[1]&8&&(l.$$scope={dirty:r,ctx:e}),i.$set(l)},i(o){s||(k(i.$$.fragment,o),s=!0)},o(o){M(i.$$.fragment,o),s=!1},d(o){o&&B(t),ie(i,o)}}}function dw(n){let e,t;return e=new Cj({props:{visibleSections:n[14]||kl,sectionIndex:n[48],total:n[0].length,path:n[1],onExpandSection:n[8].onExpandSection,selection:n[7],context:n[8]}}),{c(){se(e.$$.fragment)},m(i,s){ne(e,i,s),t=!0},p(i,s){const o={};s[0]&16384&&(o.visibleSections=i[14]||kl),s[0]&16384&&(o.sectionIndex=i[48]),s[0]&1&&(o.total=i[0].length),s[0]&2&&(o.path=i[1]),s[0]&256&&(o.onExpandSection=i[8].onExpandSection),s[0]&128&&(o.selection=i[7]),s[0]&256&&(o.context=i[8]),e.$set(o)},i(i){t||(k(e.$$.fragment,i),t=!0)},o(i){M(e.$$.fragment,i),t=!1},d(i){ie(e,i)}}}function gw(n,e){let t,i=[],s=new Map,o,r,l,a=ct(e[19](e[1],e[0],e[46],e[2],e[3],e[4],e[5],e[6],e[7],e[11]));const c=u=>u[49].index;for(let u=0;u<a.length;u+=1){let h=Y_(e,a,u),d=c(h);s.set(d,i[u]=hw(d,h))}let f=e[46].end<e[0].length&&dw(e);return{key:n,first:null,c(){t=gt();for(let u=0;u<i.length;u+=1)i[u].c();o=X(),f&&f.c(),r=gt(),this.first=t},m(u,h){j(u,t,h);for(let d=0;d<i.length;d+=1)i[d]&&i[d].m(u,h);j(u,o,h),f&&f.m(u,h),j(u,r,h),l=!0},p(u,h){e=u,h[0]&34097663&&(a=ct(e[19](e[1],e[0],e[46],e[2],e[3],e[4],e[5],e[6],e[7],e[11])),me(),i=Kd(i,h,c,1,e,a,s,o.parentNode,Y1,hw,o,Y_),pe()),e[46].end<e[0].length?f?(f.p(e,h),h[0]&16385&&k(f,1)):(f=dw(e),f.c(),k(f,1),f.m(r.parentNode,r)):f&&(me(),M(f,1,1,()=>{f=null}),pe())},i(u){if(!l){for(let h=0;h<a.length;h+=1)k(i[h]);k(f),l=!0}},o(u){for(let h=0;h<i.length;h+=1)M(i[h]);M(f),l=!1},d(u){u&&(B(t),B(o),B(r));for(let h=0;h<i.length;h+=1)i[h].d(u);f&&f.d(u)}}}function mw(n){let e,t,i;return{c(){e=L("div"),_(e,"role","none"),_(e,"class","jse-insert-selection-area jse-after svelte-6mjnsm"),_(e,"data-type","insert-selection-area-after")},m(s,o){j(s,e,o),t||(i=fe(e,"click",n[29]),t=!0)},p:ge,d(s){s&&B(e),t=!1,i()}}}function pw(n){let e,t,i;return t=new Vr({props:{selected:n[16]&&Bi(n[7]),onContextMenu:n[31]}}),{c(){e=L("div"),se(t.$$.fragment),_(e,"class","jse-insert-area jse-after svelte-6mjnsm"),_(e,"data-type","insert-selection-area-after"),_(e,"title",G1),$(e,"jse-hovered",n[10]===cf),$(e,"jse-selected",n[16]&&Bi(n[7]))},m(s,o){j(s,e,o),ne(t,e,null),i=!0},p(s,o){const r={};o[0]&65664&&(r.selected=s[16]&&Bi(s[7])),t.$set(r),(!i||o[0]&1024)&&$(e,"jse-hovered",s[10]===cf),(!i||o[0]&65664)&&$(e,"jse-selected",s[16]&&Bi(s[7]))},i(s){i||(k(t.$$.fragment,s),i=!0)},o(s){M(t.$$.fragment,s),i=!1},d(s){s&&B(e),ie(t)}}}function hz(n){let e,t,i,s,o,r,l=!n[8].readOnly&&(n[10]===cf||n[16]&&Bi(n[7])),a,c,f,u,h;const d=[Qj,Gj,Xj],g=[];function m(b,y){return y[0]&1&&(t=null),y[0]&1&&(i=null),t==null&&(t=!!Array.isArray(b[0])),t?0:(i==null&&(i=!!Kt(b[0])),i?1:2)}s=m(n,[-1,-1]),o=g[s]=d[s](n);let p=l&&pw(n);return{c(){e=L("div"),o.c(),r=X(),p&&p.c(),_(e,"role","treeitem"),_(e,"tabindex","-1"),_(e,"class",a=_n(mo("jse-json-node",{"jse-expanded":n[12]},n[8].onClassName(n[1],n[0])))+" svelte-6mjnsm"),_(e,"data-path",c=Fa(n[1])),_(e,"aria-selected",n[16]),$(e,"jse-root",n[17]),$(e,"jse-selected",n[16]&&Ut(n[7])),$(e,"jse-selected-key",n[16]&&Mn(n[7])),$(e,"jse-selected-value",n[16]&&Mt(n[7])),$(e,"jse-readonly",n[8].readOnly),$(e,"jse-hovered",n[10]===np),gi(e,"--level",n[1].length)},m(b,y){j(b,e,y),g[s].m(e,null),A(e,r),p&&p.m(e,null),f=!0,u||(h=[fe(e,"mousedown",n[23]),fe(e,"mousemove",n[24]),fe(e,"mouseover",n[26]),fe(e,"mouseout",n[27]),fe(e,"focus",void 0),fe(e,"blur",void 0)],u=!0)},p(b,y){let v=s;s=m(b,y),s===v?g[s].p(b,y):(me(),M(g[v],1,1,()=>{g[v]=null}),pe(),o=g[s],o?o.p(b,y):(o=g[s]=d[s](b),o.c()),k(o,1),o.m(e,r)),y[0]&66944&&(l=!b[8].readOnly&&(b[10]===cf||b[16]&&Bi(b[7]))),l?p?(p.p(b,y),y[0]&66944&&k(p,1)):(p=pw(b),p.c(),k(p,1),p.m(e,null)):p&&(me(),M(p,1,1,()=>{p=null}),pe()),(!f||y[0]&4355&&a!==(a=_n(mo("jse-json-node",{"jse-expanded":b[12]},b[8].onClassName(b[1],b[0])))+" svelte-6mjnsm"))&&_(e,"class",a),(!f||y[0]&2&&c!==(c=Fa(b[1])))&&_(e,"data-path",c),(!f||y[0]&65536)&&_(e,"aria-selected",b[16]),(!f||y[0]&135427)&&$(e,"jse-root",b[17]),(!f||y[0]&70019)&&$(e,"jse-selected",b[16]&&Ut(b[7])),(!f||y[0]&70019)&&$(e,"jse-selected-key",b[16]&&Mn(b[7])),(!f||y[0]&70019)&&$(e,"jse-selected-value",b[16]&&Mt(b[7])),(!f||y[0]&4355)&&$(e,"jse-readonly",b[8].readOnly),(!f||y[0]&5379)&&$(e,"jse-hovered",b[10]===np),y[0]&2&&gi(e,"--level",b[1].length)},i(b){f||(k(o),k(p),f=!0)},o(b){M(o),M(p),f=!1},d(b){b&&B(e),g[s].d(),p&&p.d(),u=!1,Tt(h)}}}function dz(n,e,t){let i,{$$slots:s={},$$scope:o}=e,{value:r}=e,{path:l}=e,{expandedMap:a}=e,{enforceStringMap:c}=e,{visibleSectionsMap:f}=e,{validationErrorsMap:u}=e,{searchResultItemsMap:h}=e,{selection:d}=e,{context:g}=e,{onDragSelectionStart:m}=e;const p=qn("jsoneditor:JSONNode");let b,y,v;const C=lI();let w,S,x,T,P,D;function O(H,ae,Ie,Ne,Be,Re,de,at,kt){let De=Object.keys(ae).map(ot=>{const mt=C(H.concat(ot)),Ze=b2(w,ot);return{key:ot,value:ae[ot],path:mt,expandedMap:is(Ie,Ze),enforceStringMap:is(Ne,Ze),visibleSectionsMap:is(Be,Ze),validationErrorsMap:is(Re,Ze),keySearchResultItemsMap:g9(de,Ze),valueSearchResultItemsMap:is(de,Ze),selection:ky(g.getJson(),at,mt)}});return kt&&kt.offset!==0&&(De=oy(De,kt.selectionStartIndex,kt.selectionItemsCount,kt.offset)),De}function E(H,ae,Ie,Ne,Be,Re,de,at,kt,De){const ot=Ie.start,mt=Math.min(Ie.end,ae.length);let Ze=[];for(let Ht=ot;Ht<mt;Ht++){const qe=C(H.concat(String(Ht))),ft=b2(w,Ht);Ze.push({index:Ht,value:ae[Ht],path:qe,expandedMap:is(Ne,ft),enforceStringMap:is(Be,ft),visibleSectionsMap:is(Re,ft),validationErrorsMap:is(de,ft),searchResultItemsMap:is(at,ft),selection:ky(g.getJson(),kt,qe)})}if(De&&De.offset!==0){const Ht=Ze.map(qe=>qe.index);Ze=oy(Ze,De.selectionStartIndex,De.selectionItemsCount,De.offset);for(let qe=0;qe<Ze.length;qe++)Ze[qe].index=Ht[qe]}return Ze}function N(H){H.stopPropagation();const ae=w0(H);g.onExpand(l,!S,ae)}function z(H){H.stopPropagation(),g.onExpand(l,!0)}function F(H,ae){const Ie=Gf(l,Object.keys(r),H,ae);return g.onPatch(Ie),bt(Ls(Ie[0].path))}function q(H){if(H.buttons!==1&&H.buttons!==2||KL(H.target)||H.buttons===1&&M4(H.target,"BUTTON"))return;H.stopPropagation(),H.preventDefault(),g.focus(),document.addEventListener("mousemove",G,!0),document.addEventListener("mouseup",R);const ae=em(H.target),Ie=g.getJson(),Ne=g.getDocumentState();if(d&&ae!==Jt.after&&ae!==Jt.inside&&(d.type===ae||d.type===Jt.multi)&&mf(Ie,d,l)){H.button===0&&m(H);return}if(zn.selecting=!0,zn.selectionAnchor=l,zn.selectionAnchorType=ae,zn.selectionFocus=l,H.shiftKey){const Be=g.getDocumentState().selection;Be&&g.onSelect(pi(xl(Be),l))}else if(ae===Jt.multi)if(i&&H.target.hasAttribute("data-path")){const Be=bt(F4(r,Ne));g.onSelect(C0(Be))}else g.onSelect(pi(l,l));else Ie!==void 0&&g.onSelect(vy(Ie,ae,l))}function Q(H){if(zn.selecting){H.preventDefault(),H.stopPropagation(),zn.selectionFocus==null&&window.getSelection&&window.getSelection().empty();const ae=em(H.target);(!_t(l,zn.selectionFocus)||ae!==zn.selectionAnchorType)&&(zn.selectionFocus=l,zn.selectionAnchorType=ae,g.onSelect(pi(zn.selectionAnchor||zn.selectionFocus,zn.selectionFocus)))}}function G(H){g.onDrag(H)}function R(H){zn.selecting&&(zn.selecting=!1,H.stopPropagation()),g.onDragEnd(),document.removeEventListener("mousemove",G,!0),document.removeEventListener("mouseup",R)}function U(){var H,ae;return((ae=(H=g.findElement([]))==null?void 0:H.getBoundingClientRect())==null?void 0:ae.top)||0}function Y(H,ae){const Ne=U()-H.initialContentTop;return ae.clientY-H.initialClientY-Ne}function le(H){if(g.readOnly||!d)return;const ae=vt(Xe(d));if(!_t(l,ae)){m(H);return}const Ie=W(d,T||kl);if(p("dragSelectionStart",{selection:d,items:Ie}),!Ie){p("Cannot drag the current selection (probably spread over multiple sections)");return}const Ne=g.getJson();if(Ne===void 0)return;const Be=qo(Ne,d),Re=Ie.findIndex(kt=>_t(kt.path,Be)),de=g.getDocumentState(),{offset:at}=fm({json:Ne,documentState:de,deltaY:0,items:Ie});t(11,v={initialTarget:H.target,initialClientY:H.clientY,initialContentTop:U(),selectionStartIndex:Re,selectionItemsCount:Or(Ne,d).length,items:Ie,offset:at,didMoveItems:!1}),zn.dragging=!0,document.addEventListener("mousemove",Z,!0),document.addEventListener("mouseup",he)}function Z(H){if(v){const ae=g.getJson();if(ae===void 0)return;const Ie=g.getDocumentState(),Ne=Y(v,H),{offset:Be}=fm({json:ae,documentState:Ie,deltaY:Ne,items:v.items});Be!==v.offset&&(p("drag selection",Be,Ne),t(11,v={...v,offset:Be,didMoveItems:!0}))}}function he(H){if(v){const ae=g.getJson();if(ae===void 0)return;const Ie=g.getDocumentState(),Ne=Y(v,H),{operations:Be,updatedSelection:Re}=fm({json:ae,documentState:Ie,deltaY:Ne,items:v.items});if(Be)g.onPatch(Be,(de,at)=>({state:{...at,selection:Re||d}}));else if(H.target===v.initialTarget&&!v.didMoveItems){const de=em(H.target),at=O4(H.target);at&&g.onSelect(vy(ae,de,at))}t(11,v=void 0),zn.dragging=!1,document.removeEventListener("mousemove",Z,!0),document.removeEventListener("mouseup",he)}}function W(H,ae){const Ie=[];function Ne(Be){const Re=l.concat(Be),de=g.findElement(Re);de!=null&&Ie.push({path:Re,height:de.clientHeight})}if(Array.isArray(r)){const Be=g.getJson();if(Be===void 0)return null;const Re=qo(Be,H),de=Fr(Be,H),at=parseInt(bt(Re),10),kt=parseInt(bt(de),10),De=ae.find(Ze=>at>=Ze.start&&kt<=Ze.end);if(!De)return null;const{start:ot,end:mt}=De;m4(ot,Math.min(r.length,mt),Ze=>Ne(String(Ze)))}else Object.keys(r).forEach(Ne);return Ie}function ve(H){zn.selecting||zn.dragging||(H.stopPropagation(),fl(H.target,"data-type","selectable-value")?t(10,b=np):fl(H.target,"data-type","insert-selection-area-inside")?t(10,b=Fo):fl(H.target,"data-type","insert-selection-area-after")&&t(10,b=cf),clearTimeout(y))}function te(H){H.stopPropagation(),y=window.setTimeout(()=>t(10,b=void 0))}function be(H){H.shiftKey||(H.stopPropagation(),H.preventDefault(),g.onSelect(Jo(l)))}function tt(H){H.shiftKey||(H.stopPropagation(),H.preventDefault(),g.onSelect(Ko(l)))}function re(H){g.onSelect(Jo(l)),g.onContextMenu(H)}function Qe(H){g.onSelect(Ko(l)),g.onContextMenu(H)}return n.$$set=H=>{"value"in H&&t(0,r=H.value),"path"in H&&t(1,l=H.path),"expandedMap"in H&&t(2,a=H.expandedMap),"enforceStringMap"in H&&t(3,c=H.enforceStringMap),"visibleSectionsMap"in H&&t(4,f=H.visibleSectionsMap),"validationErrorsMap"in H&&t(5,u=H.validationErrorsMap),"searchResultItemsMap"in H&&t(6,h=H.searchResultItemsMap),"selection"in H&&t(7,d=H.selection),"context"in H&&t(8,g=H.context),"onDragSelectionStart"in H&&t(32,m=H.onDragSelectionStart),"$$scope"in H&&t(34,o=H.$$scope)},n.$$.update=()=>{n.$$.dirty[0]&2&&t(9,w=Oe(l)),n.$$.dirty[0]&516&&t(12,S=a?a[w]===!0:!1),n.$$.dirty[0]&777&&t(13,x=Wo(r,c,w,g.parser)),n.$$.dirty[0]&528&&t(14,T=f?f[w]:void 0),n.$$.dirty[0]&544&&t(15,P=u?u[w]:void 0),n.$$.dirty[0]&386&&t(16,D=mf(g.getJson(),d,l)),n.$$.dirty[0]&2&&t(17,i=l.length===0)},[r,l,a,c,f,u,h,d,g,w,b,v,S,x,T,P,D,i,O,E,N,z,F,q,Q,le,ve,te,be,tt,re,Qe,m,s,o]}class L0 extends Te{constructor(e){super(),Pe(this,e,dz,hz,ut,{value:0,path:1,expandedMap:2,enforceStringMap:3,visibleSectionsMap:4,validationErrorsMap:5,searchResultItemsMap:6,selection:7,context:8,onDragSelectionStart:32},null,[-1,-1])}}const gz={prefix:"fas",iconName:"jsoneditor-expand",icon:[512,512,[],"","M 0,448 V 512 h 512 v -64 z M 0,0 V 64 H 512 V 0 Z M 256,96 128,224 h 256 z M 256,416 384,288 H 128 Z"]},mz={prefix:"fas",iconName:"jsoneditor-collapse",icon:[512,512,[],"","m 0,224 v 64 h 512 v -64 z M 256,192 384,64 H 128 Z M 256,320 128,448 h 256 z"]},Tp={prefix:"fas",iconName:"jsoneditor-format",icon:[512,512,[],"","M 0,32 v 64 h 416 v -64 z M 160,160 v 64 h 352 v -64 z M 160,288 v 64 h 288 v -64 z M 0,416 v 64 h 320 v -64 z"]},pz={prefix:"fas",iconName:"jsoneditor-compact",icon:[512,512,[],"","M 0,32 v 64 h 512 v -64 z M 0,160 v 64 h 512 v -64 z M 0,288 v 64 h 352 v -64 z"]};function bz(n){let e,t;return e=new kg({props:{items:n[0]}}),{c(){se(e.$$.fragment)},m(i,s){ne(e,i,s),t=!0},p(i,[s]){const o={};s&1&&(o.items=i[0]),e.$set(o)},i(i){t||(k(e.$$.fragment,i),t=!0)},o(i){M(e.$$.fragment,i),t=!1},d(i){ie(e,i)}}}function yz(n,e,t){let i,s,o,{json:r}=e,{selection:l}=e,{readOnly:a}=e,{showSearch:c=!1}=e,{historyState:f}=e,{onExpandAll:u}=e,{onCollapseAll:h}=e,{onUndo:d}=e,{onRedo:g}=e,{onSort:m}=e,{onTransform:p}=e,{onContextMenu:b}=e,{onCopy:y}=e,{onRenderMenu:v}=e;function C(){t(1,c=!c)}let w,S,x,T;return n.$$set=P=>{"json"in P&&t(2,r=P.json),"selection"in P&&t(3,l=P.selection),"readOnly"in P&&t(4,a=P.readOnly),"showSearch"in P&&t(1,c=P.showSearch),"historyState"in P&&t(5,f=P.historyState),"onExpandAll"in P&&t(6,u=P.onExpandAll),"onCollapseAll"in P&&t(7,h=P.onCollapseAll),"onUndo"in P&&t(8,d=P.onUndo),"onRedo"in P&&t(9,g=P.onRedo),"onSort"in P&&t(10,m=P.onSort),"onTransform"in P&&t(11,p=P.onTransform),"onContextMenu"in P&&t(12,b=P.onContextMenu),"onCopy"in P&&t(13,y=P.onCopy),"onRenderMenu"in P&&t(14,v=P.onRenderMenu)},n.$$.update=()=>{n.$$.dirty&4&&t(20,i=r!==void 0),n.$$.dirty&1048584&&t(19,s=i&&(Ut(l)||Mn(l)||Mt(l))),n.$$.dirty&68&&t(15,w={type:"button",icon:gz,title:"Expand all",className:"jse-expand-all",onClick:u,disabled:!hn(r)}),n.$$.dirty&132&&t(16,S={type:"button",icon:mz,title:"Collapse all",className:"jse-collapse-all",onClick:h,disabled:!hn(r)}),n.$$.dirty&4&&t(17,x={type:"button",icon:mg,title:"Search (Ctrl+F)",className:"jse-search",onClick:C,disabled:r===void 0}),n.$$.dirty&769844&&t(18,T=a?[w,S,{type:"separator"},{type:"button",icon:kr,title:"Copy (Ctrl+C)",className:"jse-copy",onClick:y,disabled:!s},{type:"separator"},x,{type:"space"}]:[w,S,{type:"separator"},{type:"button",icon:gg,title:"Sort",className:"jse-sort",onClick:m,disabled:a||r===void 0},{type:"button",icon:hg,title:"Transform contents (filter, sort, project)",className:"jse-transform",onClick:p,disabled:a||r===void 0},x,{type:"button",icon:nM,title:Q1,className:"jse-contextmenu",onClick:b},{type:"separator"},{type:"button",icon:x0,title:"Undo (Ctrl+Z)",className:"jse-undo",onClick:d,disabled:!f.canUndo},{type:"button",icon:A0,title:"Redo (Ctrl+Shift+Z)",className:"jse-redo",onClick:g,disabled:!f.canRedo},{type:"space"}]),n.$$.dirty&278528&&t(0,o=v(T))},[o,c,r,l,a,f,u,h,d,g,m,p,b,y,v,w,S,x,T,s,i]}class _z extends Te{constructor(e){super(),Pe(this,e,yz,bz,ut,{json:2,selection:3,readOnly:4,showSearch:1,historyState:5,onExpandAll:6,onCollapseAll:7,onUndo:8,onRedo:9,onSort:10,onTransform:11,onContextMenu:12,onCopy:13,onRenderMenu:14})}}function bw(n){let e,t,i,s,o,r,l;return{c(){e=L("div"),e.innerHTML="You can paste clipboard data using <b>Ctrl+V</b>, or use the following options:",t=X(),i=L("button"),i.textContent="Create object",s=X(),o=L("button"),o.textContent="Create array",_(e,"class","jse-welcome-info svelte-s2toti"),_(i,"title","Create an empty JSON object (press '{')"),_(i,"class","svelte-s2toti"),_(o,"title","Create an empty JSON array (press '[')"),_(o,"class","svelte-s2toti")},m(a,c){j(a,e,c),j(a,t,c),j(a,i,c),j(a,s,c),j(a,o,c),r||(l=[fe(i,"click",Ds(n[4])),fe(o,"click",Ds(n[5]))],r=!0)},p:ge,d(a){a&&(B(e),B(t),B(i),B(s),B(o)),r=!1,Tt(l)}}}function wz(n){let e,t,i,s,o,r,l,a,c,f,u=!n[0]&&bw(n);return{c(){e=L("div"),t=L("div"),i=X(),s=L("div"),o=L("div"),o.textContent="Empty document",r=X(),u&&u.c(),l=X(),a=L("div"),_(t,"class","jse-space jse-before svelte-s2toti"),_(o,"class","jse-welcome-title"),_(s,"class","jse-contents svelte-s2toti"),_(a,"class","jse-space jse-after svelte-s2toti"),_(e,"class","jse-welcome svelte-s2toti"),_(e,"role","none")},m(h,d){j(h,e,d),A(e,t),A(e,i),A(e,s),A(s,o),A(s,r),u&&u.m(s,null),A(e,l),A(e,a),c||(f=fe(e,"click",n[6]),c=!0)},p(h,[d]){h[0]?u&&(u.d(1),u=null):u?u.p(h,d):(u=bw(h),u.c(),u.m(s,null))},i:ge,o:ge,d(h){h&&B(e),u&&u.d(),c=!1,f()}}}function vz(n,e,t){let{readOnly:i}=e,{onCreateArray:s}=e,{onCreateObject:o}=e,{onClick:r}=e;const l=()=>o(),a=()=>s(),c=()=>r();return n.$$set=f=>{"readOnly"in f&&t(0,i=f.readOnly),"onCreateArray"in f&&t(1,s=f.onCreateArray),"onCreateObject"in f&&t(2,o=f.onCreateObject),"onClick"in f&&t(3,r=f.onClick)},[i,s,o,r,l,a,c]}class kz extends Te{constructor(e){super(),Pe(this,e,vz,wz,ut,{readOnly:0,onCreateArray:1,onCreateObject:2,onClick:3})}}var SM={exports:{}};/*
 * @version    1.4.0
 * @date       2015-10-26
 * @stability  3 - Stable
 * @author     Lauri Rooden (https://github.com/litejs/natural-compare-lite)
 * @license    MIT License
 */var yw=function(n,e){var t,i,s=1,o=0,r=0,l=String.alphabet;function a(c,f,u){if(u){for(t=f;u=a(c,t),u<76&&u>65;)++t;return+c.slice(f-1,t)}return u=l&&l.indexOf(c.charAt(f)),u>-1?u+76:(u=c.charCodeAt(f)||0,u<45||u>127?u:u<46?65:u<48?u-1:u<58?u+18:u<65?u-11:u<91?u+11:u<97?u-37:u<123?u+5:u-63)}if((n+="")!=(e+="")){for(;s;)if(i=a(n,o++),s=a(e,r++),i<76&&s<76&&i>66&&s>66&&(i=a(n,o,o),s=a(e,r,o=t),r=t),i!=s)return i<s?-1:1}return 0};try{SM.exports=yw}catch{String.naturalCompare=yw}var Sz=SM.exports;const Cz=KO(Sz);function I0(n,e){const t=typeof n=="string"?n.toLowerCase():n,i=typeof e=="string"?e.toLowerCase():e;return Cz(t,i)}function CM(n,e=[],t=[],i=1){if(Yt(ze(n,e))){if(t===void 0)throw new Error("Cannot sort: no property selected by which to sort the array");return Az(n,e,t,i)}if(Kt(n))return Mz(n,e,i);throw new Error("Cannot sort: no array or object")}function Mz(n,e=[],t=1){const i=ze(n,e),o=Object.keys(i).slice();o.sort((l,a)=>t*I0(l,a));const r=[];for(let l=0;l<o.length;l++){const a=o[l],c=Oe(e.concat(a));r.push({op:"move",from:c,path:c})}return r}function Az(n,e=[],t=[],i=1){const s=xz(t,i),o=ze(n,e);return[{op:"replace",path:Oe(e),value:o.slice(0).sort(s)}]}function xz(n,e){return function(i,s){const o=ze(i,n),r=ze(s,n);return o===void 0?e:r===void 0?-e:typeof o!="string"&&typeof r!="string"?o>r?e:o<r?-e:0:e*I0(o,r)}}function _w(n,e,t){const i=n.slice();return i[4]=e[t],i}function ww(n,e){let t,i=Ho(e[4].toString(),kw)+"",s,o,r,l;function a(){return e[3](e[4])}return{key:n,first:null,c(){t=L("button"),s=we(i),_(t,"type","button"),_(t,"class","jse-navigation-bar-dropdown-item svelte-12glmu0"),_(t,"title",o=e[4].toString()),$(t,"jse-selected",e[4]===e[1]),this.first=t},m(c,f){j(c,t,f),A(t,s),r||(l=fe(t,"click",Ds(a)),r=!0)},p(c,f){e=c,f&1&&i!==(i=Ho(e[4].toString(),kw)+"")&&Ve(s,i),f&1&&o!==(o=e[4].toString())&&_(t,"title",o),f&3&&$(t,"jse-selected",e[4]===e[1])},d(c){c&&B(t),r=!1,l()}}}function vw(n){let e,t;return{c(){e=L("button"),t=we("..."),_(e,"type","button"),_(e,"class","jse-navigation-bar-dropdown-item svelte-12glmu0"),_(e,"title","Limited to "+Dc+" items")},m(i,s){j(i,e,s),A(e,t)},p:ge,d(i){i&&B(e)}}}function Oz(n){let e,t=[],i=new Map,s,o=ct(Yh(n[0],Dc));const r=a=>a[4];for(let a=0;a<o.length;a+=1){let c=_w(n,o,a),f=r(c);i.set(f,t[a]=ww(f,c))}let l=n[0].length>Dc&&vw();return{c(){e=L("div");for(let a=0;a<t.length;a+=1)t[a].c();s=X(),l&&l.c(),_(e,"class","jse-navigation-bar-dropdown svelte-12glmu0")},m(a,c){j(a,e,c);for(let f=0;f<t.length;f+=1)t[f]&&t[f].m(e,null);A(e,s),l&&l.m(e,null)},p(a,[c]){c&7&&(o=ct(Yh(a[0],Dc)),t=Kd(t,c,r,1,a,o,i,e,ax,ww,s,_w)),a[0].length>Dc?l?l.p(a,c):(l=vw(),l.c(),l.m(e,null)):l&&(l.d(1),l=null)},i:ge,o:ge,d(a){a&&B(e);for(let c=0;c<t.length;c+=1)t[c].d();l&&l.d()}}}const Dc=100,kw=30;function Pz(n,e,t){let{items:i}=e,{selectedItem:s}=e,{onSelect:o}=e;const r=l=>o(l);return n.$$set=l=>{"items"in l&&t(0,i=l.items),"selectedItem"in l&&t(1,s=l.selectedItem),"onSelect"in l&&t(2,o=l.onSelect)},[i,s,o,r]}class Tz extends Te{constructor(e){super(),Pe(this,e,Pz,Oz,ut,{items:0,selectedItem:1,onSelect:2})}}function Sw(n){let e,t,i,s;return{c(){e=L("button"),t=we(n[2]),_(e,"type","button"),_(e,"class","jse-navigation-bar-button svelte-x08607")},m(o,r){j(o,e,r),A(e,t),i||(s=fe(e,"click",n[9]),i=!0)},p(o,r){r&4&&Ve(t,o[2])},d(o){o&&B(e),i=!1,s()}}}function Ez(n){let e,t,i,s,o,r,l;i=new St({props:{data:eM}});let a=n[2]!==void 0&&Sw(n);return{c(){e=L("div"),t=L("button"),se(i.$$.fragment),s=X(),a&&a.c(),_(t,"type","button"),_(t,"class","jse-navigation-bar-button jse-navigation-bar-arrow svelte-x08607"),$(t,"jse-open",n[1]),_(e,"class","jse-navigation-bar-item svelte-x08607")},m(c,f){j(c,e,f),A(e,t),ne(i,t,null),A(e,s),a&&a.m(e,null),n[10](e),o=!0,r||(l=fe(t,"click",n[4]),r=!0)},p(c,[f]){(!o||f&2)&&$(t,"jse-open",c[1]),c[2]!==void 0?a?a.p(c,f):(a=Sw(c),a.c(),a.m(e,null)):a&&(a.d(1),a=null)},i(c){o||(k(i.$$.fragment,c),o=!0)},o(c){M(i.$$.fragment,c),o=!1},d(c){c&&B(e),ie(i),a&&a.d(),n[10](null),r=!1,l()}}}function Rz(n,e,t){let i,s;const{openAbsolutePopup:o,closeAbsolutePopup:r}=Wn("absolute-popup");let{path:l}=e,{index:a}=e,{onSelect:c}=e,{getItems:f}=e,u,h=!1,d;function g(y){r(d),c(i.concat(y))}function m(){if(u){t(1,h=!0);const y={items:f(i),selectedItem:s,onSelect:g};d=o(Tz,y,{anchor:u,closeOnOuterClick:!0,onClose:()=>{t(1,h=!1)}})}}const p=()=>g(s);function b(y){st[y?"unshift":"push"](()=>{u=y,t(0,u)})}return n.$$set=y=>{"path"in y&&t(5,l=y.path),"index"in y&&t(6,a=y.index),"onSelect"in y&&t(7,c=y.onSelect),"getItems"in y&&t(8,f=y.getItems)},n.$$.update=()=>{n.$$.dirty&96&&(i=l.slice(0,a)),n.$$.dirty&96&&t(2,s=l[a])},[u,h,s,g,m,l,a,c,f,p,b]}class MM extends Te{constructor(e){super(),Pe(this,e,Rz,Ez,ut,{path:5,index:6,onSelect:7,getItems:8})}}function N0(n){var e;if(navigator.clipboard)return navigator.clipboard.writeText(n);if((e=document.queryCommandSupported)!=null&&e.call(document,"copy")){const t=document.createElement("textarea");t.value=n,t.style.position="fixed",t.style.opacity="0",document.body.appendChild(t),t.select();try{document.execCommand("copy")}catch(i){console.error(i)}finally{document.body.removeChild(t)}}else console.error("Copy failed.")}function Cw(n){let e,t,i,s,o,r;return t=new St({props:{data:Vl}}),{c(){e=L("button"),se(t.$$.fragment),_(e,"type","button"),_(e,"class","jse-navigation-bar-validation-error svelte-1844qyt")},m(l,a){j(l,e,a),ne(t,e,null),s=!0,o||(r=Nn(i=M0.call(null,e,{text:String(n[3]||""),...n[4]})),o=!0)},p(l,a){i&&Zn(i.update)&&a&8&&i.update.call(null,{text:String(l[3]||""),...l[4]})},i(l){s||(k(t.$$.fragment,l),s=!0)},o(l){M(t.$$.fragment,l),s=!1},d(l){l&&B(e),ie(t),o=!1,r()}}}function Mw(n){let e;return{c(){e=L("div"),e.textContent="Copied!",_(e,"class","jse-copied-text svelte-1844qyt")},m(t,i){j(t,e,i)},d(t){t&&B(e)}}}function Dz(n){let e,t,i,s,o,r,l,a,c,f,u=n[3]&&Cw(n),h=n[2]&&Mw();return l=new St({props:{data:kr}}),{c(){e=L("div"),t=L("input"),i=X(),u&&u.c(),s=X(),h&&h.c(),o=X(),r=L("button"),se(l.$$.fragment),_(t,"type","text"),_(t,"class","jse-navigation-bar-text svelte-1844qyt"),t.value=n[0],_(r,"type","button"),_(r,"class","jse-navigation-bar-copy svelte-1844qyt"),_(r,"title","Copy selected path to the clipboard"),$(r,"copied",n[2]),_(e,"class","jse-navigation-bar-path-editor svelte-1844qyt"),$(e,"error",n[3])},m(d,g){j(d,e,g),A(e,t),n[15](t),A(e,i),u&&u.m(e,null),A(e,s),h&&h.m(e,null),A(e,o),A(e,r),ne(l,r,null),a=!0,c||(f=[fe(t,"keydown",Ds(n[6])),fe(t,"input",n[5]),fe(r,"click",n[7])],c=!0)},p(d,[g]){(!a||g&1&&t.value!==d[0])&&(t.value=d[0]),d[3]?u?(u.p(d,g),g&8&&k(u,1)):(u=Cw(d),u.c(),k(u,1),u.m(e,s)):u&&(me(),M(u,1,1,()=>{u=null}),pe()),d[2]?h||(h=Mw(),h.c(),h.m(e,o)):h&&(h.d(1),h=null),(!a||g&4)&&$(r,"copied",d[2]),(!a||g&8)&&$(e,"error",d[3])},i(d){a||(k(u),k(l.$$.fragment,d),a=!0)},o(d){M(u),M(l.$$.fragment,d),a=!1},d(d){d&&B(e),n[15](null),u&&u.d(),h&&h.d(),ie(l),c=!1,Tt(f)}}}const Lz=1e3;function Iz(n,e,t){let i;const s=Wn("absolute-popup");let{path:o}=e,{pathParser:r}=e,{onChange:l}=e,{onClose:a}=e,{onError:c}=e,{pathExists:f}=e,u,h,d=!1,g,m=!1;_i(()=>{p()}),Ti(()=>{clearTimeout(g)});function p(){u.focus()}function b(x){try{const T=r.parse(x);return y(T),{path:T,error:void 0}}catch(T){return{path:void 0,error:T}}}function y(x){if(!f(x))throw new Error("Path does not exist in current document")}function v(x){t(0,h=x.currentTarget.value)}function C(x){const T=Vo(x);if(T==="Escape"&&a(),T==="Enter"){t(14,d=!0);const P=b(h);P.path!==void 0?l(P.path):c(P.error)}}function w(){N0(h),t(2,m=!0),g=window.setTimeout(()=>t(2,m=!1),Lz),p()}function S(x){st[x?"unshift":"push"](()=>{u=x,t(1,u)})}return n.$$set=x=>{"path"in x&&t(8,o=x.path),"pathParser"in x&&t(9,r=x.pathParser),"onChange"in x&&t(10,l=x.onChange),"onClose"in x&&t(11,a=x.onClose),"onError"in x&&t(12,c=x.onError),"pathExists"in x&&t(13,f=x.pathExists)},n.$$.update=()=>{n.$$.dirty&768&&t(0,h=r.stringify(o)),n.$$.dirty&16385&&t(3,i=d?b(h).error:void 0)},[h,u,m,i,s,v,C,w,o,r,l,a,c,f,d,S]}class Nz extends Te{constructor(e){super(),Pe(this,e,Iz,Dz,Ot,{path:8,pathParser:9,onChange:10,onClose:11,onError:12,pathExists:13})}}function Aw(n,e,t){const i=n.slice();return i[18]=e[t],i[20]=t,i}function Bz(n){let e,t;return e=new Nz({props:{path:n[3],onClose:n[11],onChange:n[12],onError:n[1],pathExists:n[8],pathParser:n[2]}}),{c(){se(e.$$.fragment)},m(i,s){ne(e,i,s),t=!0},p(i,s){const o={};s&8&&(o.path=i[3]),s&2&&(o.onError=i[1]),s&4&&(o.pathParser=i[2]),e.$set(o)},i(i){t||(k(e.$$.fragment,i),t=!0)},o(i){M(e.$$.fragment,i),t=!1},d(i){ie(e,i)}}}function jz(n){let e=[],t=new Map,i,s,o,r=ct(n[3]);const l=c=>c[20];for(let c=0;c<r.length;c+=1){let f=Aw(n,r,c),u=l(f);t.set(u,e[c]=xw(u,f))}let a=n[6]&&Ow(n);return{c(){for(let c=0;c<e.length;c+=1)e[c].c();i=X(),a&&a.c(),s=gt()},m(c,f){for(let u=0;u<e.length;u+=1)e[u]&&e[u].m(c,f);j(c,i,f),a&&a.m(c,f),j(c,s,f),o=!0},p(c,f){f&648&&(r=ct(c[3]),me(),e=Kd(e,f,l,1,c,r,t,i.parentNode,Y1,xw,i,Aw),pe()),c[6]?a?(a.p(c,f),f&64&&k(a,1)):(a=Ow(c),a.c(),k(a,1),a.m(s.parentNode,s)):a&&(me(),M(a,1,1,()=>{a=null}),pe())},i(c){if(!o){for(let f=0;f<r.length;f+=1)k(e[f]);k(a),o=!0}},o(c){for(let f=0;f<e.length;f+=1)M(e[f]);M(a),o=!1},d(c){c&&(B(i),B(s));for(let f=0;f<e.length;f+=1)e[f].d(c);a&&a.d(c)}}}function xw(n,e){let t,i,s;return i=new MM({props:{getItems:e[7],path:e[3],index:e[20],onSelect:e[9]}}),{key:n,first:null,c(){t=gt(),se(i.$$.fragment),this.first=t},m(o,r){j(o,t,r),ne(i,o,r),s=!0},p(o,r){e=o;const l={};r&8&&(l.path=e[3]),r&8&&(l.index=e[20]),i.$set(l)},i(o){s||(k(i.$$.fragment,o),s=!0)},o(o){M(i.$$.fragment,o),s=!1},d(o){o&&B(t),ie(i,o)}}}function Ow(n){let e,t;return e=new MM({props:{getItems:n[7],path:n[3],index:n[3].length,onSelect:n[9]}}),{c(){se(e.$$.fragment)},m(i,s){ne(e,i,s),t=!0},p(i,s){const o={};s&8&&(o.path=i[3]),s&8&&(o.index=i[3].length),e.$set(o)},i(i){t||(k(e.$$.fragment,i),t=!0)},o(i){M(e.$$.fragment,i),t=!1},d(i){ie(e,i)}}}function zz(n){let e,t,i,s,o,r,l=!hn(n[0])&&!n[5]?"Navigation bar":" ",a,c,f,u,h,d,g;const m=[jz,Bz],p=[];function b(y,v){return y[5]?1:0}return t=b(n),i=p[t]=m[t](n),f=new St({props:{data:n[5]?Dy:Ey}}),{c(){e=L("div"),i.c(),s=X(),o=L("button"),r=L("span"),a=we(l),c=X(),se(f.$$.fragment),_(r,"class","jse-navigation-bar-space svelte-1aycet9"),_(o,"type","button"),_(o,"class","jse-navigation-bar-edit svelte-1aycet9"),_(o,"title",u=n[5]?"Cancel editing the selected path":"Edit the selected path"),$(o,"flex",!n[5]),$(o,"editing",n[5]),_(e,"class","jse-navigation-bar svelte-1aycet9")},m(y,v){j(y,e,v),p[t].m(e,null),A(e,s),A(e,o),A(o,r),A(r,a),A(o,c),ne(f,o,null),n[15](e),h=!0,d||(g=fe(o,"click",n[10]),d=!0)},p(y,[v]){let C=t;t=b(y),t===C?p[t].p(y,v):(me(),M(p[C],1,1,()=>{p[C]=null}),pe(),i=p[t],i?i.p(y,v):(i=p[t]=m[t](y),i.c()),k(i,1),i.m(e,s)),(!h||v&33)&&l!==(l=!hn(y[0])&&!y[5]?"Navigation bar":" ")&&Ve(a,l);const w={};v&32&&(w.data=y[5]?Dy:Ey),f.$set(w),(!h||v&32&&u!==(u=y[5]?"Cancel editing the selected path":"Edit the selected path"))&&_(o,"title",u),(!h||v&32)&&$(o,"flex",!y[5]),(!h||v&32)&&$(o,"editing",y[5])},i(y){h||(k(i),k(f.$$.fragment,y),h=!0)},o(y){M(i),M(f.$$.fragment,y),h=!1},d(y){y&&B(e),p[t].d(),ie(f),n[15](null),d=!1,g()}}}function Fz(n,e,t){let i,s;const o=qn("jsoneditor:NavigationBar");let{json:r}=e,{selection:l}=e,{onSelect:a}=e,{onError:c}=e,{pathParser:f}=e,u,h=!1;function d(w){setTimeout(()=>{if(u&&u.scrollTo){const S=u.scrollWidth-u.clientWidth;S>0&&(o("scrollTo ",S),u.scrollTo({left:S,behavior:"smooth"}))}})}function g(w){o("get items for path",w);const S=ze(r,w);if(Array.isArray(S))return SL(0,S.length).map(String);if(Kt(S)){const T=Object.keys(S).slice(0);return T.sort(I0),T}else return[]}function m(w){return us(r,w)}function p(w){o("select path",JSON.stringify(w)),a(pi(w,w))}function b(){t(5,h=!h)}function y(){t(5,h=!1)}function v(w){y(),p(w)}function C(w){st[w?"unshift":"push"](()=>{u=w,t(4,u)})}return n.$$set=w=>{"json"in w&&t(0,r=w.json),"selection"in w&&t(13,l=w.selection),"onSelect"in w&&t(14,a=w.onSelect),"onError"in w&&t(1,c=w.onError),"pathParser"in w&&t(2,f=w.pathParser)},n.$$.update=()=>{n.$$.dirty&8192&&t(3,i=l?Xe(l):[]),n.$$.dirty&9&&t(6,s=hn(ze(r,i))),n.$$.dirty&8&&d()},[r,c,f,i,u,h,s,g,m,p,b,y,v,l,a,C]}class Vz extends Te{constructor(e){super(),Pe(this,e,Fz,zz,ut,{json:0,selection:13,onSelect:14,onError:1,pathParser:2})}}function Pw(n){let e,t,i,s,o,r,l,a,c,f,u,h,d,g=n[7]!==-1&&n[7]<n[4]?`${n[7]+1}/`:"",m,p,b,y,v,C,w,S,x,T,P,D,O,E,N,z=!n[2]&&Tw(n);const F=[Wz,Hz],q=[];function Q(R,U){return R[6]?0:1}l=Q(n),a=q[l]=F[l](n),v=new St({props:{data:$9}}),S=new St({props:{data:j9}}),P=new St({props:{data:pf}});let G=n[0]&&!n[2]&&Ew(n);return{c(){e=L("div"),t=L("form"),z&&z.c(),i=X(),s=L("div"),o=L("div"),r=L("div"),a.c(),c=X(),f=L("label"),u=L("input"),h=X(),d=L("div"),m=we(g),p=we(n[8]),b=X(),y=L("button"),se(v.$$.fragment),C=X(),w=L("button"),se(S.$$.fragment),x=X(),T=L("button"),se(P.$$.fragment),D=X(),G&&G.c(),_(r,"class","jse-search-icon svelte-wnmp4a"),_(u,"class","jse-search-input svelte-wnmp4a"),_(u,"title","Enter text to search"),_(u,"type","text"),_(u,"placeholder","Find"),_(f,"class","jse-search-input-label svelte-wnmp4a"),_(f,"about","jse-search input"),_(d,"class","jse-search-count svelte-wnmp4a"),$(d,"jse-visible",n[3]!==""),_(y,"type","button"),_(y,"class","jse-search-next svelte-wnmp4a"),_(y,"title","Go to next search result (Enter)"),_(w,"type","button"),_(w,"class","jse-search-previous svelte-wnmp4a"),_(w,"title","Go to previous search result (Shift+Enter)"),_(T,"type","button"),_(T,"class","jse-search-clear svelte-wnmp4a"),_(T,"title","Close search box (Esc)"),_(o,"class","jse-search-section svelte-wnmp4a"),_(s,"class","jse-search-contents svelte-wnmp4a"),_(t,"class","jse-search-form svelte-wnmp4a"),_(e,"class","jse-search-box svelte-wnmp4a")},m(R,U){j(R,e,U),A(e,t),z&&z.m(t,null),A(t,i),A(t,s),A(s,o),A(o,r),q[l].m(r,null),A(o,c),A(o,f),A(f,u),Ar(u,n[3]),A(o,h),A(o,d),A(d,m),A(d,p),A(o,b),A(o,y),ne(v,y,null),A(o,C),A(o,w),ne(S,w,null),A(o,x),A(o,T),ne(P,T,null),A(s,D),G&&G.m(s,null),O=!0,E||(N=[fe(u,"input",n[27]),Nn(Uz.call(null,u)),fe(u,"paste",n[12]),fe(y,"click",n[15]),fe(w,"click",n[16]),fe(T,"click",n[17]),fe(t,"keydown",n[10])],E=!0)},p(R,U){R[2]?z&&(me(),M(z,1,1,()=>{z=null}),pe()):z?(z.p(R,U),U[0]&4&&k(z,1)):(z=Tw(R),z.c(),k(z,1),z.m(t,i));let Y=l;l=Q(R),l!==Y&&(me(),M(q[Y],1,1,()=>{q[Y]=null}),pe(),a=q[l],a||(a=q[l]=F[l](R),a.c()),k(a,1),a.m(r,null)),U[0]&8&&u.value!==R[3]&&Ar(u,R[3]),(!O||U[0]&144)&&g!==(g=R[7]!==-1&&R[7]<R[4]?`${R[7]+1}/`:"")&&Ve(m,g),(!O||U[0]&256)&&Ve(p,R[8]),(!O||U[0]&8)&&$(d,"jse-visible",R[3]!==""),R[0]&&!R[2]?G?G.p(R,U):(G=Ew(R),G.c(),G.m(s,null)):G&&(G.d(1),G=null)},i(R){O||(k(z),k(a),k(v.$$.fragment,R),k(S.$$.fragment,R),k(P.$$.fragment,R),O=!0)},o(R){M(z),M(a),M(v.$$.fragment,R),M(S.$$.fragment,R),M(P.$$.fragment,R),O=!1},d(R){R&&B(e),z&&z.d(),q[l].d(),ie(v),ie(S),ie(P),G&&G.d(),E=!1,Tt(N)}}}function Tw(n){let e,t,i,s,o;return t=new St({props:{data:n[0]?as:hr}}),{c(){e=L("button"),se(t.$$.fragment),_(e,"type","button"),_(e,"class","jse-replace-toggle svelte-wnmp4a"),_(e,"title","Toggle visibility of replace options (Ctrl+H)")},m(r,l){j(r,e,l),ne(t,e,null),i=!0,s||(o=fe(e,"click",n[9]),s=!0)},p(r,l){const a={};l[0]&1&&(a.data=r[0]?as:hr),t.$set(a)},i(r){i||(k(t.$$.fragment,r),i=!0)},o(r){M(t.$$.fragment,r),i=!1},d(r){r&&B(e),ie(t),s=!1,o()}}}function Hz(n){let e,t;return e=new St({props:{data:mg}}),{c(){se(e.$$.fragment)},m(i,s){ne(e,i,s),t=!0},i(i){t||(k(e.$$.fragment,i),t=!0)},o(i){M(e.$$.fragment,i),t=!1},d(i){ie(e,i)}}}function Wz(n){let e,t;return e=new St({props:{data:E9,spin:!0}}),{c(){se(e.$$.fragment)},m(i,s){ne(e,i,s),t=!0},i(i){t||(k(e.$$.fragment,i),t=!0)},o(i){M(e.$$.fragment,i),t=!1},d(i){ie(e,i)}}}function Ew(n){let e,t,i,s,o,r,l,a;return{c(){e=L("div"),t=L("input"),i=X(),s=L("button"),s.textContent="Replace",o=X(),r=L("button"),r.textContent="All",_(t,"class","jse-replace-input svelte-wnmp4a"),_(t,"title","Enter replacement text"),_(t,"type","text"),_(t,"placeholder","Replace"),_(s,"type","button"),_(s,"title","Replace current occurrence (Ctrl+Enter)"),_(s,"class","svelte-wnmp4a"),_(r,"type","button"),_(r,"title","Replace all occurrences"),_(r,"class","svelte-wnmp4a"),_(e,"class","jse-replace-section svelte-wnmp4a")},m(c,f){j(c,e,f),A(e,t),Ar(t,n[5]),A(e,i),A(e,s),A(e,o),A(e,r),l||(a=[fe(t,"input",n[28]),fe(t,"keydown",n[11]),fe(s,"click",n[13]),fe(r,"click",n[14])],l=!0)},p(c,f){f[0]&32&&t.value!==c[5]&&Ar(t,c[5])},d(c){c&&B(e),l=!1,Tt(a)}}}function qz(n){let e,t,i=n[1]&&Pw(n);return{c(){i&&i.c(),e=gt()},m(s,o){i&&i.m(s,o),j(s,e,o),t=!0},p(s,o){s[1]?i?(i.p(s,o),o[0]&2&&k(i,1)):(i=Pw(s),i.c(),k(i,1),i.m(e.parentNode,e)):i&&(me(),M(i,1,1,()=>{i=null}),pe())},i(s){t||(k(i),t=!0)},o(s){M(i),t=!1},d(s){s&&B(e),i&&i.d(s)}}}function Uz(n){n.select()}function Jz(n,e,t){let i,s,o;const r=qn("jsoneditor:SearchBox");let{json:l}=e,{documentState:a}=e,{parser:c}=e,{showSearch:f}=e,{showReplace:u}=e,{readOnly:h}=e,{columns:d}=e,{onSearch:g}=e,{onFocus:m}=e,{onPatch:p}=e,{onClose:b}=e,y="",v="",C="",w=!1,S;const x=Kh(R,$m),T=Kh(U,$m);function P(){t(0,u=!u&&!h)}function D(W){W.stopPropagation();const ve=Vo(W);ve==="Enter"&&(W.preventDefault(),y!==v?(x.flush(),v=y):F()),ve==="Shift+Enter"&&(W.preventDefault(),q()),ve==="Ctrl+Enter"&&(W.preventDefault(),u?N():F()),ve==="Ctrl+H"&&(W.preventDefault(),P()),ve==="Escape"&&(W.preventDefault(),le())}function O(W){Vo(W)==="Enter"&&(W.preventDefault(),W.stopPropagation(),N())}async function E(){await Cn(),setTimeout(()=>x.flush())}async function N(){if(h)return;const W=S==null?void 0:S.activeItem;if(r("handleReplace",{replaceText:C,activeItem:W}),!S||!W||l===void 0)return;t(26,S={...Cy(S),activeIndex:s});const{operations:ve,newSelection:te}=u9(l,a,C,W,c);p(ve,(be,tt)=>({state:{...tt,selection:te}})),await Cn(),await T.flush(),await Q()}async function z(){if(h)return;r("handleReplaceAll",{text:y,replaceText:C});const{operations:W,newSelection:ve}=h9(l,a,y,C,c);p(W,(te,be)=>({state:{...be,selection:ve}})),await Q()}async function F(){t(26,S=S?Cy(S):void 0),await Q()}async function q(){t(26,S=S?f9(S):void 0),await Q()}async function Q(){r("handleFocus",S);const W=S==null?void 0:S.activeItem;W&&l!==void 0&&await m(W.path)}async function G(W){await Y(W,y,l)}async function R(W){await Y(f,W,l),await Q()}async function U(W){await Y(f,y,W)}async function Y(W,ve,te){if(!W){S&&t(26,S=void 0);return}if(r("applySearch",{showSearch:W,text:ve}),ve===""){r("clearing search result"),S!==void 0&&t(26,S=void 0);return}return t(6,w=!0),new Promise(be=>{setTimeout(()=>{const tt=G4(ve,te,{maxResults:Ug,columns:d});t(26,S=c9(te,tt,S)),t(6,w=!1),be()})})}function le(){r("handleClose"),x.cancel(),T.cancel(),Y(!1,y,l),b()}function Z(){y=this.value,t(3,y)}function he(){C=this.value,t(5,C)}return n.$$set=W=>{"json"in W&&t(18,l=W.json),"documentState"in W&&t(19,a=W.documentState),"parser"in W&&t(20,c=W.parser),"showSearch"in W&&t(1,f=W.showSearch),"showReplace"in W&&t(0,u=W.showReplace),"readOnly"in W&&t(2,h=W.readOnly),"columns"in W&&t(21,d=W.columns),"onSearch"in W&&t(22,g=W.onSearch),"onFocus"in W&&t(23,m=W.onFocus),"onPatch"in W&&t(24,p=W.onPatch),"onClose"in W&&t(25,b=W.onClose)},n.$$.update=()=>{var W;n.$$.dirty[0]&67108864&&t(4,i=((W=S==null?void 0:S.items)==null?void 0:W.length)||0),n.$$.dirty[0]&67108864&&t(7,s=(S==null?void 0:S.activeIndex)||0),n.$$.dirty[0]&16&&t(8,o=i>=Ug?`${Ug-1}+`:String(i)),n.$$.dirty[0]&71303168&&g(S),n.$$.dirty[0]&2&&G(f),n.$$.dirty[0]&8&&x(y),n.$$.dirty[0]&262144&&T(l)},[u,f,h,y,i,C,w,s,o,P,D,O,E,N,z,F,q,le,l,a,c,d,g,m,p,b,S,Z,he]}class AM extends Te{constructor(e){super(),Pe(this,e,Jz,qz,ut,{json:18,documentState:19,parser:20,showSearch:1,showReplace:0,readOnly:2,columns:21,onSearch:22,onFocus:23,onPatch:24,onClose:25},null,[-1,-1])}}var Rw=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function Kz(n,e){return!!(n===e||Rw(n)&&Rw(e))}function Yz(n,e){if(n.length!==e.length)return!1;for(var t=0;t<n.length;t++)if(!Kz(n[t],e[t]))return!1;return!0}function eu(n,e){e===void 0&&(e=Yz);var t=null;function i(){for(var s=[],o=0;o<arguments.length;o++)s[o]=arguments[o];if(t&&t.lastThis===this&&e(s,t.lastArgs))return t.lastResult;var r=n.apply(this,s);return t={lastResult:r,lastArgs:s,lastThis:this},r}return i.clear=function(){t=null},i}const _f=Symbol("path");function Xz(n,e,t=1/0){const i={};Array.isArray(n)&&TL(n,t,o=>{Kt(o)?xM(o,i,e):i[_f]=!0});const s=[];return _f in i&&s.push([]),OM(i,[],s,e),s}function xM(n,e,t){for(const i in n){const s=n[i],o=e[i]||(e[i]={});Kt(s)&&t?xM(s,o,t):o[_f]===void 0&&(o[_f]=!0)}}function OM(n,e,t,i){for(const s in n){const o=e.concat(s),r=n[s];r&&r[_f]===!0&&t.push(o),bn(r)&&i&&OM(r,o,t,i)}}function Gz(n,e){const t=new Set(e.map(Oe)),i=new Set(n.map(Oe));for(const s of t)i.has(s)||t.delete(s);for(const s of i)t.has(s)||t.add(s);return[...t].map(Ls)}function Qz(n,e,t,i,s,o,r=80){const l=Yt(t)?t.length:0,a=Zz(i,s),c=n-r,f=e+2*r,u=y=>i[y]||s;let h=0,d=o;for(;d<c&&h<l;)d+=u(h),h++;h>0&&(h--,d-=u(h));let g=h,m=0;for(;m<f&&g<l;)m+=u(g),g++;let p=0;for(let y=g;y<l;y++)p+=u(y);const b=Yt(t)?t.slice(h,g):[];return{startIndex:h,endIndex:g,startHeight:d,endHeight:p,averageItemHeight:a,visibleHeight:m,visibleItems:b}}function Dw(n,e,t,i){const{rowIndex:s}=ys(n,e);let o=0;for(let r=0;r<s;r++)o+=t[r]||i;return o}function Zz(n,e){const t=Object.values(n);if(At(t))return e;const i=(o,r)=>o+r;return t.reduce(i)/t.length}function $z(n,e){const{rowIndex:t,columnIndex:i}=ys(Xe(e),n);if(t>0){const s={rowIndex:t-1,columnIndex:i},o=Hl(s,n);return ht(o,!1)}return e}function eF(n,e,t){const{rowIndex:i,columnIndex:s}=ys(Xe(t),e);if(i<n.length-1){const o={rowIndex:i+1,columnIndex:s},r=Hl(o,e);return ht(r,!1)}return t}function tF(n,e){const{rowIndex:t,columnIndex:i}=ys(Xe(e),n);if(i>0){const s={rowIndex:t,columnIndex:i-1},o=Hl(s,n);return ht(o,!1)}return e}function nF(n,e){const{rowIndex:t,columnIndex:i}=ys(Xe(e),n);if(i<n.length-1){const s={rowIndex:t,columnIndex:i+1},o=Hl(s,n);return ht(o,!1)}return e}function ys(n,e){const[t,...i]=n,s=parseInt(t,10);return{rowIndex:isNaN(s)?-1:s,columnIndex:e.findIndex(o=>Uo(i,o))}}function Hl(n,e){const{rowIndex:t,columnIndex:i}=n;return[String(t),...e[i]]}function iF(n,e){const[t,i]=yL(n,r=>o0(r.path[0])),s=ag(t,sF),o=hL(s,r=>{const l={row:[],columns:{}};return r.forEach(a=>{const c=oF(a,e);c!==-1?(l.columns[c]===void 0&&(l.columns[c]=[]),l.columns[c].push(a)):l.row.push(a)}),l});return{root:i,rows:o}}function B0(n,e){if(!(!e||e.length===0))return e.length===1?e[0]:{path:n,message:"Multiple validation issues: "+e.map(t=>zi(t.path)+" "+t.message).join(", "),severity:Ps.warning}}function sF(n){return parseInt(n.path[0],10)}function oF(n,e){const t=ys(n.path,e);return t.columnIndex!==-1?t.columnIndex:-1}function rF(n,e,t){return e.some(s=>lF(n.sortedColumn,s,t))?{...n,sortedColumn:null}:n}function lF(n,e,t){if(!n)return!1;if(e.op==="replace"){const i=Ls(e.path),{rowIndex:s,columnIndex:o}=ys(i,t),r=t.findIndex(l=>_t(l,n.path));if(s!==-1&&o!==-1&&o!==r)return!1}return!0}function aF(n,e=2){const t=[];function i(s,o){bn(s)&&o.length<e&&Object.keys(s).forEach(r=>{i(s[r],o.concat(r))}),Yt(s)&&t.push(o)}return i(n,[]),t}const bi=qn("jsoneditor:actions");async function PM({json:n,documentState:e,indentation:t,readOnly:i,parser:s,onPatch:o}){if(i||n===void 0||!e.selection||!rc(e.selection))return;const r=q4(n,e.selection,t,s);if(r==null)return;bi("cut",{selection:e.selection,clipboard:r,indentation:t}),await N0(r);const{operations:l,newSelection:a}=Y4(n,e.selection);o(l,(c,f)=>({state:{...f,selection:a}}))}async function TM({json:n,documentState:e,indentation:t,parser:i}){const s=q4(n,e.selection,t,i);s!=null&&(bi("copy",{clipboard:s,indentation:t}),await N0(s))}function EM({clipboardText:n,json:e,selection:t,readOnly:i,parser:s,onPatch:o,onChangeText:r,openRepairModal:l}){if(i)return;function a(c){if(e!==void 0){const f=t||ht([],!1),u=K4(e,f,c,s);bi("paste",{pastedText:c,operations:u,selectionNonNull:f}),o(u,(h,d)=>{let g=d;return u.filter(m=>(v3(m)||Z1(m))&&hn(m.value)).forEach(m=>{const p=ao(e,m.path);g=cr(h,g,p)}),{state:g}})}else bi("paste text",{pastedText:c}),r(n,(f,u)=>{if(f)return{state:cr(f,u,[])}})}try{a(n)}catch{l(n,f=>{bi("repaired pasted text: ",f),a(f)})}}function RM({json:n,text:e,documentState:t,keepSelection:i,readOnly:s,onChange:o,onPatch:r}){if(s||!t.selection)return;const l=n!==void 0&&(Mn(t.selection)||Mt(t.selection))?pi(t.selection.path,t.selection.path):t.selection;if(At(Xe(t.selection)))bi("remove root",{selection:t.selection}),o&&o({text:"",json:void 0},n!==void 0?{text:void 0,json:n}:{text:e||"",json:n},{contentErrors:null,patchResult:null});else if(n!==void 0){const{operations:a,newSelection:c}=Y4(n,l);bi("remove",{operations:a,selection:t.selection,newSelection:c}),r(a,(f,u)=>({state:{...u,selection:i?t.selection:c}}))}}function cF({json:n,documentState:e,columns:t,readOnly:i,onPatch:s}){if(i||n===void 0||!e.selection||!rc(e.selection))return;const{rowIndex:o,columnIndex:r}=ys(Xe(e.selection),t);bi("duplicate row",{rowIndex:o});const l=[String(o)],a=J4(n,[l]);s(a,(c,f)=>{const u=o<n.length?o+1:o,h=Hl({rowIndex:u,columnIndex:r},t),d=ht(h,!1);return{state:{...f,selection:d}}})}function fF({json:n,documentState:e,columns:t,readOnly:i,onPatch:s}){if(i||n===void 0||!e.selection||!rc(e.selection))return;const{rowIndex:o}=ys(Xe(e.selection),t);bi("insert before row",{rowIndex:o});const r=[String(o)],a=[{key:"",value:bn(n[0])?{}:""}],c=ga(n,r,a);s(c)}function uF({json:n,documentState:e,columns:t,readOnly:i,onPatch:s}){if(i||n===void 0||!e.selection||!rc(e.selection))return;const{rowIndex:o,columnIndex:r}=ys(Xe(e.selection),t);bi("insert after row",{rowIndex:o});const l=o+1,a=[String(l)],f=[{key:"",value:bn(n[0])?{}:""}],u=l<n.length?ga(n,a,f):Cp(n,[],f);s(u,(h,d)=>{const g=Hl({rowIndex:l,columnIndex:r},t),m=ht(g,!1);return{state:{...d,selection:m}}})}function hF({json:n,documentState:e,columns:t,readOnly:i,onPatch:s}){if(i||n===void 0||!e.selection||!rc(e.selection))return;const{rowIndex:o,columnIndex:r}=ys(Xe(e.selection),t);bi("remove row",{rowIndex:o});const l=[String(o)],a=$h([l]);s(a,(c,f)=>{const u=o<c.length?o:o>0?o-1:void 0,h=u!==void 0?ht(Hl({rowIndex:u,columnIndex:r},t),!1):null;return bi("remove row new selection",{rowIndex:o,newRowIndex:u,newSelection:h}),{state:{...f,selection:h}}})}function od({insertType:n,selectInside:e,refJsonEditor:t,json:i,selection:s,readOnly:o,parser:r,onPatch:l,onReplaceJson:a}){if(o)return;const c=l9(i,s,n);if(i!==void 0){const f=r.stringify(c),u=K4(i,s,f,r);bi("onInsert",{insertType:n,operations:u,newValue:c,data:f});const h=bt(u.filter(d=>d.op==="add"||d.op==="replace"));l(u,(d,g)=>{if(h){const m=ao(d,h.path);if(hn(c))return{state:{...os(d,g,m,gf),selection:e?Jo(m):g.selection}};if(c===""){const p=At(m)?null:ze(d,vt(m));return{state:vp(d,{...g,selection:Kt(p)?hs(m,!0):ht(m,!0)},m)}}return}}),bi("after patch"),h&&c===""&&rd(()=>Xh(t,"",!0,ld))}else{bi("onInsert",{insertType:n,newValue:c});const f=[];a(c,(u,h)=>({state:{...cr(u,h,f),selection:hn(c)?Jo(f):ht(f,!0)}}))}}async function DM({char:n,selectInside:e,refJsonEditor:t,json:i,selection:s,readOnly:o,parser:r,onPatch:l,onReplaceJson:a,onSelect:c}){if(!o){if(Mn(s)){const f=!s.edit;c({...s,edit:!0}),rd(()=>Xh(t,n,f,ld));return}if(n==="{")od({insertType:"object",selectInside:e,refJsonEditor:t,json:i,selection:s,readOnly:o,parser:r,onPatch:l,onReplaceJson:a});else if(n==="[")od({insertType:"array",selectInside:e,refJsonEditor:t,json:i,selection:s,readOnly:o,parser:r,onPatch:l,onReplaceJson:a});else if(Mt(s)&&i!==void 0){if(!hn(ze(i,s.path))){const f=!s.edit;c({...s,edit:!0}),rd(()=>Xh(t,n,f,ld))}}else bi("onInsertValueWithCharacter",{char:n}),await dF({char:n,refJsonEditor:t,json:i,selection:s,readOnly:o,parser:r,onPatch:l,onReplaceJson:a})}}async function dF({char:n,refJsonEditor:e,json:t,selection:i,readOnly:s,parser:o,onPatch:r,onReplaceJson:l}){if(s)return;od({insertType:"value",selectInside:!1,refJsonEditor:e,json:t,selection:i,readOnly:s,parser:o,onPatch:r,onReplaceJson:l});const a=!vi(i);rd(()=>Xh(e,n,a,ld))}function rd(n){setTimeout(()=>setTimeout(n))}function ld(n){n==null||n.refresh()}function gF(n){let e,t;return{c(){e=L("div"),t=we(n[0]),_(e,"class","jse-json-preview svelte-l2z0i3")},m(i,s){j(i,e,s),A(e,t)},p(i,[s]){s&1&&Ve(t,i[0])},i:ge,o:ge,d(i){i&&B(e)}}}function mF(n,e,t){let i,s,{text:o}=e,{json:r}=e,{indentation:l}=e,{parser:a}=e;return n.$$set=c=>{"text"in c&&t(1,o=c.text),"json"in c&&t(2,r=c.json),"indentation"in c&&t(3,l=c.indentation),"parser"in c&&t(4,a=c.parser)},n.$$.update=()=>{n.$$.dirty&6&&t(5,i=r!==void 0?{json:r}:{text:o||""}),n.$$.dirty&56&&t(0,s=Ho(bp(i,l,a),ep))},[s,o,r,l,a,i]}class LM extends Te{constructor(e){super(),Pe(this,e,mF,gF,Ot,{text:1,json:2,indentation:3,parser:4})}}function Lw(n){let e,t;return e=new St({props:{data:n[0].icon}}),{c(){se(e.$$.fragment)},m(i,s){ne(e,i,s),t=!0},p(i,s){const o={};s&1&&(o.data=i[0].icon),e.$set(o)},i(i){t||(k(e.$$.fragment,i),t=!0)},o(i){M(e.$$.fragment,i),t=!1},d(i){ie(e,i)}}}function Iw(n){let e=n[0].text+"",t;return{c(){t=we(e)},m(i,s){j(i,t,s)},p(i,s){s&1&&e!==(e=i[0].text+"")&&Ve(t,e)},d(i){i&&B(t)}}}function pF(n){let e,t,i,s,o,r,l,a,c=n[0].icon&&Lw(n),f=n[0].text&&Iw(n);return{c(){e=L("button"),c&&c.c(),t=X(),f&&f.c(),_(e,"type","button"),_(e,"class",i=_n(mo("jse-context-menu-button",n[1],n[0].className))+" svelte-szeu2l"),_(e,"title",s=n[0].title),e.disabled=o=n[0].disabled||!1},m(u,h){j(u,e,h),c&&c.m(e,null),A(e,t),f&&f.m(e,null),r=!0,l||(a=fe(e,"click",n[3]),l=!0)},p(u,[h]){u[0].icon?c?(c.p(u,h),h&1&&k(c,1)):(c=Lw(u),c.c(),k(c,1),c.m(e,t)):c&&(me(),M(c,1,1,()=>{c=null}),pe()),u[0].text?f?f.p(u,h):(f=Iw(u),f.c(),f.m(e,null)):f&&(f.d(1),f=null),(!r||h&3&&i!==(i=_n(mo("jse-context-menu-button",u[1],u[0].className))+" svelte-szeu2l"))&&_(e,"class",i),(!r||h&1&&s!==(s=u[0].title))&&_(e,"title",s),(!r||h&1&&o!==(o=u[0].disabled||!1))&&(e.disabled=o)},i(u){r||(k(c),r=!0)},o(u){M(c),r=!1},d(u){u&&B(e),c&&c.d(),f&&f.d(),l=!1,a()}}}function bF(n,e,t){let{item:i}=e,{className:s=void 0}=e,{onRequestClose:o}=e;const r=l=>{o(),i.onClick(l)};return n.$$set=l=>{"item"in l&&t(0,i=l.item),"className"in l&&t(1,s=l.className),"onRequestClose"in l&&t(2,o=l.onRequestClose)},[i,s,o,r]}class j0 extends Te{constructor(e){super(),Pe(this,e,bF,pF,Ot,{item:0,className:1,onRequestClose:2})}}function Nw(n,e,t){const i=n.slice();return i[11]=e[t],i}const yF=n=>({}),Bw=n=>({});function jw(n){let e,t;return e=new St({props:{data:n[11].icon}}),{c(){se(e.$$.fragment)},m(i,s){ne(e,i,s),t=!0},p(i,s){const o={};s&1&&(o.data=i[11].icon),e.$set(o)},i(i){t||(k(e.$$.fragment,i),t=!0)},o(i){M(e.$$.fragment,i),t=!1},d(i){ie(e,i)}}}function zw(n){let e,t,i,s=n[11].text+"",o,r,l,a,c,f,u,h,d=n[11].icon&&jw(n);function g(...m){return n[9](n[11],...m)}return{c(){e=L("li"),t=L("button"),d&&d.c(),i=X(),o=we(s),c=X(),_(t,"type","button"),_(t,"title",r=n[11].title),t.disabled=l=n[11].disabled,_(t,"class",a=_n(n[11].className)+" svelte-9i012w"),_(e,"class","svelte-9i012w")},m(m,p){j(m,e,p),A(e,t),d&&d.m(t,null),A(t,i),A(t,o),A(e,c),f=!0,u||(h=fe(t,"click",g),u=!0)},p(m,p){n=m,n[11].icon?d?(d.p(n,p),p&1&&k(d,1)):(d=jw(n),d.c(),k(d,1),d.m(t,i)):d&&(me(),M(d,1,1,()=>{d=null}),pe()),(!f||p&1)&&s!==(s=n[11].text+"")&&Ve(o,s),(!f||p&1&&r!==(r=n[11].title))&&_(t,"title",r),(!f||p&1&&l!==(l=n[11].disabled))&&(t.disabled=l),(!f||p&1&&a!==(a=_n(n[11].className)+" svelte-9i012w"))&&_(t,"class",a)},i(m){f||(k(d),f=!0)},o(m){M(d),f=!1},d(m){m&&B(e),d&&d.d(),u=!1,h()}}}function _F(n){let e,t,i,s,o,r,l,a,c,f;const u=n[8].defaultItem,h=Dt(u,n,n[7],Bw);s=new St({props:{data:as}});let d=ct(n[0]),g=[];for(let p=0;p<d.length;p+=1)g[p]=zw(Nw(n,d,p));const m=p=>M(g[p],1,1,()=>{g[p]=null});return{c(){e=L("div"),h&&h.c(),t=X(),i=L("button"),se(s.$$.fragment),o=X(),r=L("div"),l=L("ul");for(let p=0;p<g.length;p+=1)g[p].c();_(i,"type","button"),_(i,"class","jse-open-dropdown svelte-9i012w"),_(i,"data-type","jse-open-dropdown"),i.disabled=n[4],$(i,"jse-visible",n[3]),_(l,"class","svelte-9i012w"),_(r,"class","jse-dropdown-items svelte-9i012w"),gi(r,"width",n[2]),$(r,"jse-visible",n[3]),_(e,"role","button"),_(e,"tabindex","0"),_(e,"class","jse-dropdown-button svelte-9i012w"),_(e,"title",n[1])},m(p,b){j(p,e,b),h&&h.m(e,null),A(e,t),A(e,i),ne(s,i,null),A(e,o),A(e,r),A(r,l);for(let y=0;y<g.length;y+=1)g[y]&&g[y].m(l,null);a=!0,c||(f=[fe(i,"click",n[5]),fe(e,"click",n[6])],c=!0)},p(p,[b]){if(h&&h.p&&(!a||b&128)&&It(h,u,p,p[7],a?Lt(u,p[7],b,yF):Nt(p[7]),Bw),(!a||b&16)&&(i.disabled=p[4]),(!a||b&8)&&$(i,"jse-visible",p[3]),b&1){d=ct(p[0]);let y;for(y=0;y<d.length;y+=1){const v=Nw(p,d,y);g[y]?(g[y].p(v,b),k(g[y],1)):(g[y]=zw(v),g[y].c(),k(g[y],1),g[y].m(l,null))}for(me(),y=d.length;y<g.length;y+=1)m(y);pe()}(!a||b&4)&&gi(r,"width",p[2]),(!a||b&8)&&$(r,"jse-visible",p[3]),(!a||b&2)&&_(e,"title",p[1])},i(p){if(!a){k(h,p),k(s.$$.fragment,p);for(let b=0;b<d.length;b+=1)k(g[b]);a=!0}},o(p){M(h,p),M(s.$$.fragment,p),g=g.filter(Boolean);for(let b=0;b<g.length;b+=1)M(g[b]);a=!1},d(p){p&&B(e),h&&h.d(p),ie(s),Tn(g,p),c=!1,Tt(f)}}}function wF(n,e,t){let i,{$$slots:s={},$$scope:o}=e,{items:r=[]}=e,{title:l=void 0}=e,{width:a="120px"}=e,c=!1;function f(){const g=c;setTimeout(()=>t(3,c=!g))}function u(){t(3,c=!1)}function h(g){Vo(g)==="Escape"&&(g.preventDefault(),t(3,c=!1))}_i(()=>{document.addEventListener("click",u),document.addEventListener("keydown",h)}),Ti(()=>{document.removeEventListener("click",u),document.removeEventListener("keydown",h)});const d=(g,m)=>g.onClick(m);return n.$$set=g=>{"items"in g&&t(0,r=g.items),"title"in g&&t(1,l=g.title),"width"in g&&t(2,a=g.width),"$$scope"in g&&t(7,o=g.$$scope)},n.$$.update=()=>{n.$$.dirty&1&&t(4,i=r.every(g=>g.disabled===!0))},[r,l,a,c,i,f,u,o,s,d]}class vF extends Te{constructor(e){super(),Pe(this,e,wF,_F,ut,{items:0,title:1,width:2})}}function Fw(n){let e,t;return e=new St({props:{data:n[0].main.icon}}),{c(){se(e.$$.fragment)},m(i,s){ne(e,i,s),t=!0},p(i,s){const o={};s&1&&(o.data=i[0].main.icon),e.$set(o)},i(i){t||(k(e.$$.fragment,i),t=!0)},o(i){M(e.$$.fragment,i),t=!1},d(i){ie(e,i)}}}function kF(n){let e,t,i=n[0].main.text+"",s,o,r,l,a,c,f,u=n[0].main.icon&&Fw(n);return{c(){e=L("button"),u&&u.c(),t=X(),s=we(i),_(e,"class",o=_n(mo("jse-context-menu-button",n[1],n[0].main.className))+" svelte-szeu2l"),_(e,"type","button"),_(e,"slot","defaultItem"),_(e,"title",r=n[0].main.title),e.disabled=l=n[0].main.disabled||!1},m(h,d){j(h,e,d),u&&u.m(e,null),A(e,t),A(e,s),a=!0,c||(f=fe(e,"click",n[4]),c=!0)},p(h,d){h[0].main.icon?u?(u.p(h,d),d&1&&k(u,1)):(u=Fw(h),u.c(),k(u,1),u.m(e,t)):u&&(me(),M(u,1,1,()=>{u=null}),pe()),(!a||d&1)&&i!==(i=h[0].main.text+"")&&Ve(s,i),(!a||d&3&&o!==(o=_n(mo("jse-context-menu-button",h[1],h[0].main.className))+" svelte-szeu2l"))&&_(e,"class",o),(!a||d&1&&r!==(r=h[0].main.title))&&_(e,"title",r),(!a||d&1&&l!==(l=h[0].main.disabled||!1))&&(e.disabled=l)},i(h){a||(k(u),a=!0)},o(h){M(u),a=!1},d(h){h&&B(e),u&&u.d(),c=!1,f()}}}function SF(n){let e,t;return e=new vF({props:{width:n[0].width,items:n[3],$$slots:{defaultItem:[kF]},$$scope:{ctx:n}}}),{c(){se(e.$$.fragment)},m(i,s){ne(e,i,s),t=!0},p(i,[s]){const o={};s&1&&(o.width=i[0].width),s&8&&(o.items=i[3]),s&39&&(o.$$scope={dirty:s,ctx:i}),e.$set(o)},i(i){t||(k(e.$$.fragment,i),t=!0)},o(i){M(e.$$.fragment,i),t=!1},d(i){ie(e,i)}}}function CF(n,e,t){let i,{item:s}=e,{className:o=void 0}=e,{onRequestClose:r}=e;const l=a=>{r(),s.main.onClick(a)};return n.$$set=a=>{"item"in a&&t(0,s=a.item),"className"in a&&t(1,o=a.className),"onRequestClose"in a&&t(2,r=a.onRequestClose)},n.$$.update=()=>{n.$$.dirty&5&&t(3,i=s.items.map(a=>({...a,onClick:c=>{r(),a.onClick(c)}})))},[s,o,r,i,l]}class z0 extends Te{constructor(e){super(),Pe(this,e,CF,SF,Ot,{item:0,className:1,onRequestClose:2})}}function Vw(n,e,t){const i=n.slice();return i[7]=e[t],i}function Hw(n,e,t){const i=n.slice();return i[10]=e[t],i}function Ww(n,e,t){const i=n.slice();return i[13]=e[t],i}function MF(n){let e=qa(n[7])+"",t;return{c(){t=we(e)},m(i,s){j(i,t,s)},p(i,s){s&1&&e!==(e=qa(i[7])+"")&&Ve(t,e)},i:ge,o:ge,d(i){i&&B(t)}}}function AF(n){let e;return{c(){e=L("div"),_(e,"class","jse-separator svelte-fnyc8j")},m(t,i){j(t,e,i)},p:ge,i:ge,o:ge,d(t){t&&B(e)}}}function xF(n){let e,t,i=ct(n[7].items),s=[];for(let r=0;r<i.length;r+=1)s[r]=Uw(Hw(n,i,r));const o=r=>M(s[r],1,1,()=>{s[r]=null});return{c(){e=L("div");for(let r=0;r<s.length;r+=1)s[r].c();_(e,"class","jse-row svelte-fnyc8j")},m(r,l){j(r,e,l);for(let a=0;a<s.length;a+=1)s[a]&&s[a].m(e,null);t=!0},p(r,l){if(l&3){i=ct(r[7].items);let a;for(a=0;a<i.length;a+=1){const c=Hw(r,i,a);s[a]?(s[a].p(c,l),k(s[a],1)):(s[a]=Uw(c),s[a].c(),k(s[a],1),s[a].m(e,null))}for(me(),a=i.length;a<s.length;a+=1)o(a);pe()}},i(r){if(!t){for(let l=0;l<i.length;l+=1)k(s[l]);t=!0}},o(r){s=s.filter(Boolean);for(let l=0;l<s.length;l+=1)M(s[l]);t=!1},d(r){r&&B(e),Tn(s,r)}}}function OF(n){let e,t;return e=new z0({props:{item:n[7],onRequestClose:n[1]}}),{c(){se(e.$$.fragment)},m(i,s){ne(e,i,s),t=!0},p(i,s){const o={};s&1&&(o.item=i[7]),s&2&&(o.onRequestClose=i[1]),e.$set(o)},i(i){t||(k(e.$$.fragment,i),t=!0)},o(i){M(e.$$.fragment,i),t=!1},d(i){ie(e,i)}}}function PF(n){let e,t;return e=new j0({props:{item:n[7],onRequestClose:n[1]}}),{c(){se(e.$$.fragment)},m(i,s){ne(e,i,s),t=!0},p(i,s){const o={};s&1&&(o.item=i[7]),s&2&&(o.onRequestClose=i[1]),e.$set(o)},i(i){t||(k(e.$$.fragment,i),t=!0)},o(i){M(e.$$.fragment,i),t=!1},d(i){ie(e,i)}}}function TF(n){let e=qa(n[10])+"",t;return{c(){t=we(e)},m(i,s){j(i,t,s)},p(i,s){s&1&&e!==(e=qa(i[10])+"")&&Ve(t,e)},i:ge,o:ge,d(i){i&&B(t)}}}function EF(n){let e;return{c(){e=L("div"),_(e,"class","jse-separator svelte-fnyc8j")},m(t,i){j(t,e,i)},p:ge,i:ge,o:ge,d(t){t&&B(e)}}}function RF(n){let e,t,i=ct(n[10].items),s=[];for(let r=0;r<i.length;r+=1)s[r]=qw(Ww(n,i,r));const o=r=>M(s[r],1,1,()=>{s[r]=null});return{c(){e=L("div");for(let r=0;r<s.length;r+=1)s[r].c();_(e,"class","jse-column svelte-fnyc8j")},m(r,l){j(r,e,l);for(let a=0;a<s.length;a+=1)s[a]&&s[a].m(e,null);t=!0},p(r,l){if(l&3){i=ct(r[10].items);let a;for(a=0;a<i.length;a+=1){const c=Ww(r,i,a);s[a]?(s[a].p(c,l),k(s[a],1)):(s[a]=qw(c),s[a].c(),k(s[a],1),s[a].m(e,null))}for(me(),a=i.length;a<s.length;a+=1)o(a);pe()}},i(r){if(!t){for(let l=0;l<i.length;l+=1)k(s[l]);t=!0}},o(r){s=s.filter(Boolean);for(let l=0;l<s.length;l+=1)M(s[l]);t=!1},d(r){r&&B(e),Tn(s,r)}}}function DF(n){let e,t;return e=new z0({props:{item:n[10],onRequestClose:n[1]}}),{c(){se(e.$$.fragment)},m(i,s){ne(e,i,s),t=!0},p(i,s){const o={};s&1&&(o.item=i[10]),s&2&&(o.onRequestClose=i[1]),e.$set(o)},i(i){t||(k(e.$$.fragment,i),t=!0)},o(i){M(e.$$.fragment,i),t=!1},d(i){ie(e,i)}}}function LF(n){let e,t;return e=new j0({props:{item:n[10],onRequestClose:n[1]}}),{c(){se(e.$$.fragment)},m(i,s){ne(e,i,s),t=!0},p(i,s){const o={};s&1&&(o.item=i[10]),s&2&&(o.onRequestClose=i[1]),e.$set(o)},i(i){t||(k(e.$$.fragment,i),t=!0)},o(i){M(e.$$.fragment,i),t=!1},d(i){ie(e,i)}}}function IF(n){let e=qa(n[13])+"",t;return{c(){t=we(e)},m(i,s){j(i,t,s)},p(i,s){s&1&&e!==(e=qa(i[13])+"")&&Ve(t,e)},i:ge,o:ge,d(i){i&&B(t)}}}function NF(n){let e,t=n[13].text+"",i;return{c(){e=L("div"),i=we(t),_(e,"class","jse-label svelte-fnyc8j")},m(s,o){j(s,e,o),A(e,i)},p(s,o){o&1&&t!==(t=s[13].text+"")&&Ve(i,t)},i:ge,o:ge,d(s){s&&B(e)}}}function BF(n){let e;return{c(){e=L("div"),_(e,"class","jse-separator svelte-fnyc8j")},m(t,i){j(t,e,i)},p:ge,i:ge,o:ge,d(t){t&&B(e)}}}function jF(n){let e,t;return e=new z0({props:{className:"left",item:n[13],onRequestClose:n[1]}}),{c(){se(e.$$.fragment)},m(i,s){ne(e,i,s),t=!0},p(i,s){const o={};s&1&&(o.item=i[13]),s&2&&(o.onRequestClose=i[1]),e.$set(o)},i(i){t||(k(e.$$.fragment,i),t=!0)},o(i){M(e.$$.fragment,i),t=!1},d(i){ie(e,i)}}}function zF(n){let e,t;return e=new j0({props:{className:"left",item:n[13],onRequestClose:n[1]}}),{c(){se(e.$$.fragment)},m(i,s){ne(e,i,s),t=!0},p(i,s){const o={};s&1&&(o.item=i[13]),s&2&&(o.onRequestClose=i[1]),e.$set(o)},i(i){t||(k(e.$$.fragment,i),t=!0)},o(i){M(e.$$.fragment,i),t=!1},d(i){ie(e,i)}}}function qw(n){let e,t,i,s,o,r,l,a;const c=[zF,jF,BF,NF,IF],f=[];function u(h,d){return d&1&&(e=null),d&1&&(t=null),d&1&&(i=null),d&1&&(s=null),e==null&&(e=!!$f(h[13])),e?0:(t==null&&(t=!!D0(h[13])),t?1:(i==null&&(i=!!vg(h[13])),i?2:(s==null&&(s=!!$B(h[13])),s?3:4)))}return o=u(n,-1),r=f[o]=c[o](n),{c(){r.c(),l=gt()},m(h,d){f[o].m(h,d),j(h,l,d),a=!0},p(h,d){let g=o;o=u(h,d),o===g?f[o].p(h,d):(me(),M(f[g],1,1,()=>{f[g]=null}),pe(),r=f[o],r?r.p(h,d):(r=f[o]=c[o](h),r.c()),k(r,1),r.m(l.parentNode,l))},i(h){a||(k(r),a=!0)},o(h){M(r),a=!1},d(h){h&&B(l),f[o].d(h)}}}function Uw(n){let e,t,i,s,o,r,l,a;const c=[LF,DF,RF,EF,TF],f=[];function u(h,d){return d&1&&(e=null),d&1&&(t=null),d&1&&(i=null),d&1&&(s=null),e==null&&(e=!!$f(h[10])),e?0:(t==null&&(t=!!D0(h[10])),t?1:(i==null&&(i=!!tj(h[10])),i?2:(s==null&&(s=!!vg(h[10])),s?3:4)))}return o=u(n,-1),r=f[o]=c[o](n),{c(){r.c(),l=gt()},m(h,d){f[o].m(h,d),j(h,l,d),a=!0},p(h,d){let g=o;o=u(h,d),o===g?f[o].p(h,d):(me(),M(f[g],1,1,()=>{f[g]=null}),pe(),r=f[o],r?r.p(h,d):(r=f[o]=c[o](h),r.c()),k(r,1),r.m(l.parentNode,l))},i(h){a||(k(r),a=!0)},o(h){M(r),a=!1},d(h){h&&B(l),f[o].d(h)}}}function Jw(n){let e,t,i,s,o,r,l,a;const c=[PF,OF,xF,AF,MF],f=[];function u(h,d){return d&1&&(e=null),d&1&&(t=null),d&1&&(i=null),d&1&&(s=null),e==null&&(e=!!$f(h[7])),e?0:(t==null&&(t=!!D0(h[7])),t?1:(i==null&&(i=!!ej(h[7])),i?2:(s==null&&(s=!!vg(h[7])),s?3:4)))}return o=u(n,-1),r=f[o]=c[o](n),{c(){r.c(),l=gt()},m(h,d){f[o].m(h,d),j(h,l,d),a=!0},p(h,d){let g=o;o=u(h,d),o===g?f[o].p(h,d):(me(),M(f[g],1,1,()=>{f[g]=null}),pe(),r=f[o],r?r.p(h,d):(r=f[o]=c[o](h),r.c()),k(r,1),r.m(l.parentNode,l))},i(h){a||(k(r),a=!0)},o(h){M(r),a=!1},d(h){h&&B(l),f[o].d(h)}}}function Kw(n){let e,t,i,s,o,r,l,a;return s=new St({props:{data:dI}}),{c(){e=L("div"),t=L("div"),i=L("div"),se(s.$$.fragment),o=X(),r=L("div"),l=we(n[2]),_(i,"class","jse-tip-icon svelte-fnyc8j"),_(r,"class","jse-tip-text"),_(t,"class","jse-tip svelte-fnyc8j"),_(e,"class","jse-row svelte-fnyc8j")},m(c,f){j(c,e,f),A(e,t),A(t,i),ne(s,i,null),A(t,o),A(t,r),A(r,l),a=!0},p(c,f){(!a||f&4)&&Ve(l,c[2])},i(c){a||(k(s.$$.fragment,c),a=!0)},o(c){M(s.$$.fragment,c),a=!1},d(c){c&&B(e),ie(s)}}}function FF(n){let e,t,i,s,o,r=ct(n[0]),l=[];for(let f=0;f<r.length;f+=1)l[f]=Jw(Vw(n,r,f));const a=f=>M(l[f],1,1,()=>{l[f]=null});let c=n[2]&&Kw(n);return{c(){e=L("div");for(let f=0;f<l.length;f+=1)l[f].c();t=X(),c&&c.c(),_(e,"role","menu"),_(e,"tabindex","-1"),_(e,"class","jse-contextmenu svelte-fnyc8j")},m(f,u){j(f,e,u);for(let h=0;h<l.length;h+=1)l[h]&&l[h].m(e,null);A(e,t),c&&c.m(e,null),n[5](e),i=!0,s||(o=fe(e,"keydown",n[4]),s=!0)},p(f,[u]){if(u&3){r=ct(f[0]);let h;for(h=0;h<r.length;h+=1){const d=Vw(f,r,h);l[h]?(l[h].p(d,u),k(l[h],1)):(l[h]=Jw(d),l[h].c(),k(l[h],1),l[h].m(e,t))}for(me(),h=r.length;h<l.length;h+=1)a(h);pe()}f[2]?c?(c.p(f,u),u&4&&k(c,1)):(c=Kw(f),c.c(),k(c,1),c.m(e,null)):c&&(me(),M(c,1,1,()=>{c=null}),pe())},i(f){if(!i){for(let u=0;u<r.length;u+=1)k(l[u]);k(c),i=!0}},o(f){l=l.filter(Boolean);for(let u=0;u<l.length;u+=1)M(l[u]);M(c),i=!1},d(f){f&&B(e),Tn(l,f),c&&c.d(),n[5](null),s=!1,o()}}}function qa(n){return console.error("Unknown type of context menu item",n),"???"}function VF(n,e,t){let{items:i}=e,{onRequestClose:s}=e,{tip:o}=e,r;_i(()=>{const f=Array.from(r.querySelectorAll("button")).find(u=>!u.disabled);f&&f.focus()});const l={ArrowUp:"Up",ArrowDown:"Down",ArrowLeft:"Left",ArrowRight:"Right"};function a(f){const u=Vo(f),h=l[u];if(h&&f.target){f.preventDefault();const d=Array.from(r.querySelectorAll("button:not([disabled])")),g=GL({allElements:d,currentElement:f.target,direction:h,hasPrio:m=>m.getAttribute("data-type")!=="jse-open-dropdown"});g&&g.focus()}}function c(f){st[f?"unshift":"push"](()=>{r=f,t(3,r)})}return n.$$set=f=>{"items"in f&&t(0,i=f.items),"onRequestClose"in f&&t(1,s=f.onRequestClose),"tip"in f&&t(2,o=f.tip)},[i,s,o,r,a,c]}class IM extends Te{constructor(e){super(),Pe(this,e,VF,FF,ut,{items:0,onRequestClose:1,tip:2})}}function HF({json:n,documentState:e,readOnly:t,parser:i,onEditKey:s,onEditValue:o,onToggleEnforceString:r,onCut:l,onCopy:a,onPaste:c,onRemove:f,onDuplicate:u,onExtract:h,onInsertBefore:d,onInsert:g,onConvert:m,onInsertAfter:p,onSort:b,onTransform:y}){const v=e.selection,C=n!==void 0,w=!!v,S=v?At(Xe(v)):!1,x=v?ze(n,Xe(v)):void 0,T=Array.isArray(x)?"Edit array":Kt(x)?"Edit object":"Edit value",P=C&&(Ut(v)||Mn(v)||Mt(v)),D=!t&&C&&v!=null&&Zh(v)&&!S&&!Array.isArray(ze(n,vt(Xe(v)))),O=!t&&C&&v!=null&&Zh(v),E=O&&!hn(x),N=!t&&P,z=P,F=!t&&w,q=!t&&C&&P&&!S,Q=!t&&C&&v!=null&&(Ut(v)||Mt(v))&&!S,G=P,R=G?"Convert to:":"Insert:",U=t||G?!1:w,Y=!t&&(G?wh(v)&&!Kt(x):w),le=!t&&(G?wh(v)&&!Array.isArray(x):w),Z=!t&&(G?wh(v)&&hn(x):w),he=v!=null&&x?Wo(x,e.enforceStringMap,Oe(Xe(v)),i):!1;function W(ve){P?ve!=="structure"&&m(ve):g(ve)}return[{type:"row",items:[{type:"button",onClick:()=>s(),icon:Ma,text:"Edit key",title:"Edit the key (Double-click on the key)",disabled:!D},{type:"dropdown-button",main:{type:"button",onClick:()=>o(),icon:Ma,text:T,title:"Edit the value (Double-click on the value)",disabled:!O},width:"11em",items:[{type:"button",icon:Ma,text:T,title:"Edit the value (Double-click on the value)",onClick:()=>o(),disabled:!O},{type:"button",icon:he?$4:tM,text:"Enforce string",title:"Enforce keeping the value as string when it contains a numeric value",onClick:()=>r(),disabled:!E}]}]},{type:"separator"},{type:"row",items:[{type:"dropdown-button",main:{type:"button",onClick:()=>l(!0),icon:Ca,text:"Cut",title:"Cut selected contents, formatted with indentation (Ctrl+X)",disabled:!N},width:"10em",items:[{type:"button",icon:Ca,text:"Cut formatted",title:"Cut selected contents, formatted with indentation (Ctrl+X)",onClick:()=>l(!0),disabled:!N},{type:"button",icon:Ca,text:"Cut compacted",title:"Cut selected contents, without indentation (Ctrl+Shift+X)",onClick:()=>l(!1),disabled:!N}]},{type:"dropdown-button",main:{type:"button",onClick:()=>a(!0),icon:kr,text:"Copy",title:"Copy selected contents, formatted with indentation (Ctrl+C)",disabled:!z},width:"12em",items:[{type:"button",icon:kr,text:"Copy formatted",title:"Copy selected contents, formatted with indentation (Ctrl+C)",onClick:()=>a(!0),disabled:!z},{type:"button",icon:kr,text:"Copy compacted",title:"Copy selected contents, without indentation (Ctrl+Shift+C)",onClick:()=>a(!1),disabled:!z}]},{type:"button",onClick:()=>c(),icon:Z4,text:"Paste",title:"Paste clipboard contents (Ctrl+V)",disabled:!F}]},{type:"separator"},{type:"row",items:[{type:"column",items:[{type:"button",onClick:()=>u(),icon:sM,text:"Duplicate",title:"Duplicate selected contents (Ctrl+D)",disabled:!q},{type:"button",onClick:()=>h(),icon:U9,text:"Extract",title:"Extract selected contents",disabled:!Q},{type:"button",onClick:()=>b(),icon:gg,text:"Sort",title:"Sort array or object contents",disabled:t||!P},{type:"button",onClick:()=>y(),icon:hg,text:"Transform",title:"Transform array or object contents (filter, sort, project)",disabled:t||!P},{type:"button",onClick:()=>f(),icon:xp,text:"Remove",title:"Remove selected contents (Delete)",disabled:t||!P}]},{type:"column",items:[{type:"label",text:R},{type:"button",onClick:()=>W("structure"),icon:G?vu:ma,text:"Structure",title:R+" structure",disabled:!U},{type:"button",onClick:()=>W("object"),icon:G?vu:ma,text:"Object",title:R+" structure",disabled:!Y},{type:"button",onClick:()=>W("array"),icon:G?vu:ma,text:"Array",title:R+" array",disabled:!le},{type:"button",onClick:()=>W("value"),icon:G?vu:ma,text:"Value",title:R+" value",disabled:!Z}]}]},{type:"separator"},{type:"row",items:[{type:"button",onClick:()=>d(),icon:F9,text:"Insert before",title:"Select area before current entry to insert or paste contents",disabled:t||!P||S},{type:"button",onClick:()=>p(),icon:L9,text:"Insert after",title:"Select area after current entry to insert or paste contents",disabled:t||!P||S}]}]}const{window:WF}=J1;function Yw(n){let e,t,i;function s(r){n[75](r)}let o={json:n[11],selection:n[12].selection,readOnly:n[0],historyState:n[22],onExpandAll:n[38],onCollapseAll:n[39],onUndo:n[33],onRedo:n[34],onSort:n[35],onTransform:n[36],onContextMenu:n[43],onCopy:n[30],onRenderMenu:n[7]};return n[13]!==void 0&&(o.showSearch=n[13]),e=new _z({props:o}),st.push(()=>Qn(e,"showSearch",s)),{c(){se(e.$$.fragment)},m(r,l){ne(e,r,l),i=!0},p(r,l){const a={};l[0]&2048&&(a.json=r[11]),l[0]&4096&&(a.selection=r[12].selection),l[0]&1&&(a.readOnly=r[0]),l[0]&4194304&&(a.historyState=r[22]),l[0]&128&&(a.onRenderMenu=r[7]),!t&&l[0]&8192&&(t=!0,a.showSearch=r[13],Gn(()=>t=!1)),e.$set(a)},i(r){i||(k(e.$$.fragment,r),i=!0)},o(r){M(e.$$.fragment,r),i=!1},d(r){ie(e,r)}}}function Xw(n){let e,t;return e=new Vz({props:{json:n[11],selection:n[12].selection,onSelect:n[47],onError:n[6],pathParser:n[4]}}),{c(){se(e.$$.fragment)},m(i,s){ne(e,i,s),t=!0},p(i,s){const o={};s[0]&2048&&(o.json=i[11]),s[0]&4096&&(o.selection=i[12].selection),s[0]&64&&(o.onError=i[6]),s[0]&16&&(o.pathParser=i[4]),e.$set(o)},i(i){t||(k(e.$$.fragment,i),t=!0)},o(i){M(e.$$.fragment,i),t=!1},d(i){ie(e,i)}}}function qF(n){let e;return{c(){e=L("div"),e.innerHTML='<div class="jse-loading-space svelte-1ig7ktu"></div> <div class="jse-loading svelte-1ig7ktu">loading...</div>',_(e,"class","jse-contents svelte-1ig7ktu")},m(t,i){j(t,e,i)},p:ge,i:ge,o:ge,d(t){t&&B(e)}}}function UF(n){let e,t,i,s,o,r,l,a,c;const f=[KF,JF],u=[];function h(d,g){return d[11]===void 0?0:1}return s=h(n),o=u[s]=f[s](n),{c(){e=L("label"),t=L("input"),i=X(),o.c(),r=gt(),_(t,"type","text"),t.readOnly=!0,_(t,"tabindex","-1"),_(t,"class","jse-hidden-input svelte-1ig7ktu"),_(e,"class","jse-hidden-input-label")},m(d,g){j(d,e,g),A(e,t),n[76](t),j(d,i,g),u[s].m(d,g),j(d,r,g),l=!0,a||(c=fe(t,"paste",n[31]),a=!0)},p(d,g){let m=s;s=h(d),s===m?u[s].p(d,g):(me(),M(u[m],1,1,()=>{u[m]=null}),pe(),o=u[s],o?o.p(d,g):(o=u[s]=f[s](d),o.c()),k(o,1),o.m(r.parentNode,r))},i(d){l||(k(o),l=!0)},o(d){M(o),l=!1},d(d){d&&(B(e),B(i),B(r)),n[76](null),u[s].d(d),a=!1,c()}}}function JF(n){var d;let e,t,i,s,o,r,l,a,c,f;t=new AM({props:{json:n[11],documentState:n[12],parser:n[3],showSearch:n[13],showReplace:n[21],readOnly:n[0],columns:void 0,onSearch:n[26],onFocus:n[27],onPatch:n[37],onClose:n[28]}}),o=new L0({props:{value:n[11],path:[],expandedMap:n[12].expandedMap,enforceStringMap:n[12].enforceStringMap,visibleSectionsMap:n[12].visibleSectionsMap,validationErrorsMap:n[24],searchResultItemsMap:(d=n[20])==null?void 0:d.itemsMap,selection:n[12].selection,context:n[15],onDragSelectionStart:Kn}});let u=n[19]&&Gw(n),h=n[23]&&Qw(n);return c=new R0({props:{validationErrors:n[14],selectError:n[29]}}),{c(){e=L("div"),se(t.$$.fragment),i=X(),s=L("div"),se(o.$$.fragment),r=X(),u&&u.c(),l=X(),h&&h.c(),a=X(),se(c.$$.fragment),_(e,"class","jse-search-box-container svelte-1ig7ktu"),_(s,"class","jse-contents svelte-1ig7ktu"),_(s,"data-jsoneditor-scrollable-contents",!0)},m(g,m){j(g,e,m),ne(t,e,null),j(g,i,m),j(g,s,m),ne(o,s,null),n[80](s),j(g,r,m),u&&u.m(g,m),j(g,l,m),h&&h.m(g,m),j(g,a,m),ne(c,g,m),f=!0},p(g,m){var v;const p={};m[0]&2048&&(p.json=g[11]),m[0]&4096&&(p.documentState=g[12]),m[0]&8&&(p.parser=g[3]),m[0]&8192&&(p.showSearch=g[13]),m[0]&2097152&&(p.showReplace=g[21]),m[0]&1&&(p.readOnly=g[0]),t.$set(p);const b={};m[0]&2048&&(b.value=g[11]),m[0]&4096&&(b.expandedMap=g[12].expandedMap),m[0]&4096&&(b.enforceStringMap=g[12].enforceStringMap),m[0]&4096&&(b.visibleSectionsMap=g[12].visibleSectionsMap),m[0]&16777216&&(b.validationErrorsMap=g[24]),m[0]&1048576&&(b.searchResultItemsMap=(v=g[20])==null?void 0:v.itemsMap),m[0]&4096&&(b.selection=g[12].selection),m[0]&32768&&(b.context=g[15]),o.$set(b),g[19]?u?(u.p(g,m),m[0]&524288&&k(u,1)):(u=Gw(g),u.c(),k(u,1),u.m(l.parentNode,l)):u&&(me(),M(u,1,1,()=>{u=null}),pe()),g[23]?h?(h.p(g,m),m[0]&8388608&&k(h,1)):(h=Qw(g),h.c(),k(h,1),h.m(a.parentNode,a)):h&&(me(),M(h,1,1,()=>{h=null}),pe());const y={};m[0]&16384&&(y.validationErrors=g[14]),c.$set(y)},i(g){f||(k(t.$$.fragment,g),k(o.$$.fragment,g),k(u),k(h),k(c.$$.fragment,g),f=!0)},o(g){M(t.$$.fragment,g),M(o.$$.fragment,g),M(u),M(h),M(c.$$.fragment,g),f=!1},d(g){g&&(B(e),B(i),B(s),B(r),B(l),B(a)),ie(t),ie(o),n[80](null),u&&u.d(g),h&&h.d(g),ie(c,g)}}}function KF(n){let e,t,i,s;const o=[XF,YF],r=[];function l(a,c){return a[18]===""||a[18]===void 0?0:1}return e=l(n),t=r[e]=o[e](n),{c(){t.c(),i=gt()},m(a,c){r[e].m(a,c),j(a,i,c),s=!0},p(a,c){let f=e;e=l(a),e===f?r[e].p(a,c):(me(),M(r[f],1,1,()=>{r[f]=null}),pe(),t=r[e],t?t.p(a,c):(t=r[e]=o[e](a),t.c()),k(t,1),t.m(i.parentNode,i))},i(a){s||(k(t),s=!0)},o(a){M(t),s=!1},d(a){a&&B(i),r[e].d(a)}}}function Gw(n){let e,t;return e=new Fs({props:{type:"info",message:`You pasted a JSON ${Array.isArray(n[19].contents)?"array":"object"} as text`,actions:[{icon:dg,text:"Paste as JSON instead",title:"Replace the value with the pasted JSON",onMouseDown:n[44]},{text:"Leave as is",title:"Keep the JSON embedded in the value",onClick:n[45]}]}}),{c(){se(e.$$.fragment)},m(i,s){ne(e,i,s),t=!0},p(i,s){const o={};s[0]&524288&&(o.message=`You pasted a JSON ${Array.isArray(i[19].contents)?"array":"object"} as text`),e.$set(o)},i(i){t||(k(e.$$.fragment,i),t=!0)},o(i){M(e.$$.fragment,i),t=!1},d(i){ie(e,i)}}}function Qw(n){let e,t;return e=new Fs({props:{type:"success",message:"The loaded JSON document was invalid but is successfully repaired.",actions:n[0]?[]:[{icon:bf,text:"Ok",title:"Accept the repaired document",onClick:n[8]},{icon:Pr,text:"Repair manually instead",title:"Leave the document unchanged and repair it manually instead",onClick:n[46]}],onClose:n[9]}}),{c(){se(e.$$.fragment)},m(i,s){ne(e,i,s),t=!0},p(i,s){const o={};s[0]&1&&(o.actions=i[0]?[]:[{icon:bf,text:"Ok",title:"Accept the repaired document",onClick:i[8]},{icon:Pr,text:"Repair manually instead",title:"Leave the document unchanged and repair it manually instead",onClick:i[46]}]),e.$set(o)},i(i){t||(k(e.$$.fragment,i),t=!0)},o(i){M(e.$$.fragment,i),t=!1},d(i){ie(e,i)}}}function YF(n){let e,t,i,s;return e=new Fs({props:{type:"error",message:"The loaded JSON document is invalid and could not be repaired automatically.",actions:n[0]?[]:[{icon:Pr,text:"Repair manually",title:'Open the document in "code" mode and repair it manually',onClick:n[46]}]}}),i=new LM({props:{text:n[18],json:n[11],indentation:n[5],parser:n[3]}}),{c(){se(e.$$.fragment),t=X(),se(i.$$.fragment)},m(o,r){ne(e,o,r),j(o,t,r),ne(i,o,r),s=!0},p(o,r){const l={};r[0]&1&&(l.actions=o[0]?[]:[{icon:Pr,text:"Repair manually",title:'Open the document in "code" mode and repair it manually',onClick:o[46]}]),e.$set(l);const a={};r[0]&262144&&(a.text=o[18]),r[0]&2048&&(a.json=o[11]),r[0]&32&&(a.indentation=o[5]),r[0]&8&&(a.parser=o[3]),i.$set(a)},i(o){s||(k(e.$$.fragment,o),k(i.$$.fragment,o),s=!0)},o(o){M(e.$$.fragment,o),M(i.$$.fragment,o),s=!1},d(o){o&&B(t),ie(e,o),ie(i,o)}}}function XF(n){let e,t;return e=new kz({props:{readOnly:n[0],onCreateObject:n[77],onCreateArray:n[78],onClick:n[79]}}),{c(){se(e.$$.fragment)},m(i,s){ne(e,i,s),t=!0},p(i,s){const o={};s[0]&1&&(o.readOnly=i[0]),e.$set(o)},i(i){t||(k(e.$$.fragment,i),t=!0)},o(i){M(e.$$.fragment,i),t=!1},d(i){ie(e,i)}}}function GF(n){let e,t,i,s,o,r,l,a,c=n[1]&&Yw(n),f=n[2]&&Xw(n);const u=[UF,qF],h=[];function d(g,m){return g[25]?1:0}return s=d(n),o=h[s]=u[s](n),{c(){e=L("div"),c&&c.c(),t=X(),f&&f.c(),i=X(),o.c(),_(e,"role","tree"),_(e,"tabindex","-1"),_(e,"class","jse-tree-mode svelte-1ig7ktu"),$(e,"no-main-menu",!n[1])},m(g,m){j(g,e,m),c&&c.m(e,null),A(e,t),f&&f.m(e,null),A(e,i),h[s].m(e,null),n[81](e),r=!0,l||(a=[fe(WF,"mousedown",n[48]),fe(e,"keydown",n[40]),fe(e,"mousedown",n[41]),fe(e,"contextmenu",n[42])],l=!0)},p(g,m){g[1]?c?(c.p(g,m),m[0]&2&&k(c,1)):(c=Yw(g),c.c(),k(c,1),c.m(e,t)):c&&(me(),M(c,1,1,()=>{c=null}),pe()),g[2]?f?(f.p(g,m),m[0]&4&&k(f,1)):(f=Xw(g),f.c(),k(f,1),f.m(e,i)):f&&(me(),M(f,1,1,()=>{f=null}),pe()),o.p(g,m),(!r||m[0]&2)&&$(e,"no-main-menu",!g[1])},i(g){r||(k(c),k(f),k(o),r=!0)},o(g){M(c),M(f),M(o),r=!1},d(g){g&&B(e),c&&c.d(),f&&f.d(),h[s].d(),n[81](null),l=!1,Tt(a)}}}function QF(n,e,t){let i;const s=qn("jsoneditor:TreeMode"),o=typeof window>"u";s("isSSR:",o);const{open:r}=Wn("simple-modal"),l=Ba(),a=Ba(),{openAbsolutePopup:c,closeAbsolutePopup:f}=Wn("absolute-popup");let u,h,d,g=!1;const m=pM();let{readOnly:p}=e,{externalContent:b}=e,{externalSelection:y}=e,{mainMenuBar:v}=e,{navigationBar:C}=e,{escapeControlCharacters:w}=e,{escapeUnicodeCharacters:S}=e,{parser:x}=e,{parseMemoizeOne:T}=e,{validator:P}=e,{validationParser:D}=e,{pathParser:O}=e,{indentation:E}=e,{onError:N}=e,{onChange:z}=e,{onChangeMode:F}=e,{onSelect:q}=e,{onRenderValue:Q}=e,{onRenderMenu:G}=e,{onRenderContextMenu:R}=e,{onClassName:U}=e,{onFocus:Y}=e,{onBlur:le}=e,{onSortModal:Z}=e,{onTransformModal:he}=e,{onJSONEditorModal:W}=e,ve=!1;E0({onMount:_i,onDestroy:Ti,getWindow:()=>oc(d),hasFocus:()=>ve&&document.hasFocus()||y0(d),onFocus:()=>{g=!0,Y&&Y()},onBlur:()=>{g=!1,le&&le()}});let te,be,tt;function re(I){s("updateSelection",I);const ce=typeof I=="function"?I(H.selection)||null:I;_t(ce,H.selection)||(t(12,H={...H,selection:ce}),q(ce))}let Qe=!1,H=Qh(),ae,Ie,Ne,Be=!1,Re=!1;function de(I){if(u)if(I){const ce=parseInt(getComputedStyle(u).padding)??0;t(10,u.style.overflowAnchor="none",u),t(10,u.style.paddingTop=ce+cl+"px",u),t(10,u.scrollTop+=cl,u),t(10,u.style.overflowAnchor="",u)}else t(10,u.style.overflowAnchor="none",u),t(10,u.style.paddingTop="",u),t(10,u.scrollTop-=cl,u),t(10,u.style.overflowAnchor="",u)}function at(I){t(20,Ne=I)}async function kt(I){t(12,H={...vp(te,H,I),selection:null}),await zt(I)}function De(){t(13,Be=!1),t(21,Re=!1),Sn()}function ot(I){s("select validation error",I),re(ht(I.path,!1)),zt(I.path)}const mt=bM({onChange:I=>{t(22,Ze=I)}});let Ze=mt.getState();function Ht(I=gf){s("expand");const ce={...H,expandedMap:{},visibleSectionsMap:{}};t(12,H=os(te,ce,[],I))}let qe=!1,ft=[],K;const Se=eu(yM);function Ue(I,ce,ye,et){pa(()=>{let Ye;try{Ye=Se(I,ce,ye,et)}catch(Wt){Ye=[{path:[],message:"Failed to validate: "+Wt.message,severity:Ps.warning}]}_t(Ye,ft)||(s("validationErrors changed:",Ye),t(14,ft=Ye))},Ye=>s(`validationErrors updated in ${Ye} ms`))}function Ce(){return s("validate"),tt?{parseError:tt,isRepairable:!1}:(Ue(te,P,x,D),At(ft)?null:{validationErrors:ft})}function ee(){return te}function Ae(){return H}function Ee(I){df(I)?Ge(I.json):za(I)&&rt(I.text)}function Ge(I){if(I===void 0)return;const ce=!_t(te,I);if(s("update external json",{isChanged:ce,currentlyText:te===void 0}),!ce)return;const ye=H,et=te,Ye=be,Wt=qe;t(11,te=I),Bt(te),t(18,be=void 0),t(23,qe=!1),tt=void 0,Et(te),it({previousJson:et,previousState:ye,previousText:Ye,previousTextIsRepaired:Wt})}function rt(I){if(I===void 0||df(b))return;const ce=I!==be;if(s("update external text",{isChanged:ce}),!ce)return;const ye=te,et=H,Ye=be,Wt=qe;try{t(11,te=T(I)),Bt(te),t(18,be=I),t(23,qe=!1),tt=void 0}catch(Rn){try{t(11,te=T(co(I))),Bt(te),t(18,be=I),t(23,qe=!0),tt=void 0,Et(te)}catch{t(11,te=void 0),t(18,be=b.text),t(23,qe=!1),tt=be!==void 0&&be!==""?ja(be,Rn.message||String(Rn)):void 0}}Et(te),it({previousJson:ye,previousState:et,previousText:Ye,previousTextIsRepaired:Wt})}function ue(I){_t(H.selection,I)||(s("applyExternalSelection",I),(S0(I)||I===null)&&re(I))}function Bt(I){Qe||(Qe=!0,t(12,H=os(I,H,[],qI(I))))}function Et(I){H.selection&&(us(I,xl(H.selection))&&us(I,Xe(H.selection))||(s("clearing selection: path does not exist anymore",H.selection),t(12,H={...H,selection:ta(I,H)})))}function it({previousJson:I,previousState:ce,previousText:ye,previousTextIsRepaired:et}){I===void 0&&ye===void 0||(te!==void 0?I!==void 0?mt.add({undo:{patch:[{op:"replace",path:"",value:I}],state:ui(ce),json:void 0,text:ye,textIsRepaired:et},redo:{patch:[{op:"replace",path:"",value:te}],state:ui(H),json:void 0,text:be,textIsRepaired:qe}}):mt.add({undo:{patch:void 0,json:void 0,text:ye,state:ui(ce),textIsRepaired:et},redo:{patch:void 0,json:te,state:ui(H),text:be,textIsRepaired:qe}}):I!==void 0&&mt.add({undo:{patch:void 0,json:I,state:ui(ce),text:ye,textIsRepaired:et},redo:{patch:void 0,json:void 0,text:be,textIsRepaired:qe,state:ui(H)}}))}function Gt(){s("createDefaultSelection"),t(12,H={...H,selection:ht([],!1)})}function Qt(I,ce){if(s("patch",I,ce),te===void 0)throw new Error("Cannot apply patch: no JSON");const ye=te,et=H,Ye=be,Wt=qe,Rn=X4(te,I),ts=I4(te,H,I),Dn=Va(te,I),Yr=QI(ts.documentState,Dn,!1);s("patch updatedSelection",Dn);const rr=typeof ce=="function"?ce(ts.json,Yr):void 0;t(11,te=rr&&rr.json!==void 0?rr.json:ts.json);const uu=rr&&rr.state!==void 0?rr.state:Yr;return t(12,H=uu),t(18,be=void 0),t(23,qe=!1),t(19,Ie=void 0),tt=void 0,Et(te),mt.add({undo:{patch:Rn,json:void 0,text:Ye,state:ui(et),textIsRepaired:Wt},redo:{patch:I,json:void 0,state:ui(uu),text:be,textIsRepaired:qe}}),{json:te,previousJson:ye,undo:Rn,redo:I}}function Mi(){p||!H.selection||re(hs(Xe(H.selection),!0))}function vs(){if(p||!H.selection)return;const I=Xe(H.selection),ce=ze(te,I);hn(ce)?tn(I,ce):re(ht(I,!0))}function tr(){if(p||!Mt(H.selection))return;const I=Xe(H.selection),ce=Oe(I),ye=ze(te,I),et=!Wo(ye,H.enforceStringMap,ce,x),Ye=et?String(ye):tc(String(ye),x);s("handleToggleEnforceString",{enforceString:et,value:ye,updatedValue:Ye}),cn([{op:"replace",path:ce,value:Ye}],(Wt,Rn)=>({state:L4(Rn,ce,et)}))}function Ur(){return qe&&te!==void 0&&Ys(te),te!==void 0?{json:te}:{text:be||""}}async function en(I=!0){await PM({json:te,documentState:H,indentation:I?E:void 0,readOnly:p,parser:x,onPatch:cn})}async function Hs(I=!0){te!==void 0&&await TM({json:te,documentState:H,indentation:I?E:void 0,parser:x})}function Ws(I){var ye;I.preventDefault();const ce=(ye=I.clipboardData)==null?void 0:ye.getData("text/plain");ce!==void 0&&EM({clipboardText:ce,json:te,selection:H.selection,readOnly:p,parser:x,onPatch:cn,onChangeText:uc,openRepairModal:ks})}function wo(){r(_M,{},{...Sl,styleWindow:{width:"450px"}},{onClose:()=>Sn()})}function ks(I,ce){r(kM,{text:I,onParse:ye=>cg(ye,et=>Jf(et,x)),onRepair:b4,onApply:ce},{...Sl,styleWindow:{width:"600px",height:"500px"},styleContent:{padding:0,height:"100%"}},{onClose:()=>Sn()})}function qs(){RM({json:te,text:be,documentState:H,keepSelection:!1,readOnly:p,onChange:z,onPatch:cn})}function Vi(){if(p||te===void 0||!H.selection||!rc||At(Xe(H.selection)))return;s("duplicate",{selection:H.selection});const I=J4(te,Or(te,H.selection));cn(I)}function li(){if(p||!H.selection||!Ut(H.selection)&&!Mt(H.selection)||At(Xe(H.selection)))return;s("extract",{selection:H.selection});const I=o9(te,H.selection);cn(I,(ce,ye)=>{if(hn(ce))return{state:cr(ce,ye,[])}})}function ai(I){od({insertType:I,selectInside:!0,refJsonEditor:d,json:te,selection:H.selection,readOnly:p,parser:x,onPatch:cn,onReplaceJson:Ys})}function ci(I){Mn(H.selection)&&re(ht(H.selection.path,!1)),H.selection||re(ta(te,H)),ai(I)}function ei(I){if(!(p||!H.selection)){if(!wh(H.selection)){N(new Error(`Cannot convert current selection to ${I}`));return}try{const ce=xl(H.selection),ye=ze(te,ce),et=LL(ye,I,x);if(et===ye)return;const Ye=[{op:"replace",path:Oe(ce),value:et}];s("handleConvert",{selection:H.selection,path:ce,type:I,operations:Ye}),cn(Ye,(Wt,Rn)=>({state:H.selection?cr(Wt,Rn,Xe(H.selection)):H}))}catch(ce){N(ce)}}}function Ss(){if(!H.selection)return;const I=_y(te,H,!1),ce=vt(Xe(H.selection));I&&!At(Xe(I))&&_t(ce,vt(Xe(I)))?re(Ko(Xe(I))):re(Jo(ce)),s("insert before",{selection:H.selection,selectionBefore:I,parentPath:ce}),Cn().then(()=>or())}function Us(){if(!H.selection)return;const I=Fr(te,H.selection);s("insert after",I),re(Ko(I)),Cn().then(()=>or())}async function yn(I){await DM({char:I,selectInside:!0,refJsonEditor:d,json:te,selection:H.selection,readOnly:p,parser:x,onPatch:cn,onReplaceJson:Ys,onSelect:re})}function Js(){if(p||!mt.getState().canUndo)return;const I=mt.undo();if(!I)return;const ce={json:te,text:be};t(11,te=I.undo.patch?Es(te,I.undo.patch):I.undo.json),t(12,H=I.undo.state),t(18,be=I.undo.text),t(23,qe=I.undo.textIsRepaired),tt=void 0,s("undo",{item:I,json:te,documentState:H});const ye=I.undo.patch&&I.redo.patch?{json:te,previousJson:ce.json,redo:I.undo.patch,undo:I.redo.patch}:null;Ai(ce,ye),Sn(),H.selection&&zt(Xe(H.selection),!1)}function Ks(){if(p||!mt.getState().canRedo)return;const I=mt.redo();if(!I)return;const ce={json:te,text:be};t(11,te=I.redo.patch?Es(te,I.redo.patch):I.redo.json),t(12,H=I.redo.state),t(18,be=I.redo.text),t(23,qe=I.redo.textIsRepaired),tt=void 0,s("redo",{item:I,json:te,documentState:H});const ye=I.undo.patch&&I.redo.patch?{json:te,previousJson:ce.json,redo:I.redo.patch,undo:I.undo.patch}:null;Ai(ce,ye),Sn(),H.selection&&zt(Xe(H.selection),!1)}function nr(I){p||te===void 0||(ve=!0,Z({id:l,json:te,rootPath:I,onSort:async({operations:ce})=>{s("onSort",I,ce),cn(ce,(ye,et)=>({state:{...cr(ye,et,I),selection:ht(I,!1)}}))},onClose:()=>{ve=!1,Sn()}}))}function vo(){if(!H.selection)return;const I=wy(te,H.selection);nr(I)}function ko(){nr([])}function oe(I){if(te===void 0)return;const{id:ce,onTransform:ye,onClose:et}=I,Ye=I.rootPath||[];ve=!0,he({id:ce||a,json:te,rootPath:Ye,onTransform:Wt=>{ye?ye({operations:Wt,json:te,transformedJson:Es(te,Wt)}):(s("onTransform",Ye,Wt),cn(Wt,(Rn,ts)=>({state:{...cr(Rn,ts,Ye),selection:ht(Ye,!1)}})))},onClose:()=>{ve=!1,Sn(),et&&et()}})}function $e(){if(!H.selection)return;const I=wy(te,H.selection);oe({rootPath:I})}function dt(){oe({rootPath:[]})}function tn(I,ce){s("openJSONEditorModal",{path:I,value:ce}),ve=!0,W({content:{json:ce},path:I,onPatch:Wi.onPatch,onClose:()=>{ve=!1,Sn()}})}async function zt(I,ce=!0){t(12,H=vp(te,H,I)),await Cn();const ye=Zt(I);if(s("scrollTo",{path:I,elem:ye,refContents:u}),!ye||!u)return Promise.resolve();const et=u.getBoundingClientRect(),Ye=ye.getBoundingClientRect();if(!ce&&Ye.bottom>et.top&&Ye.top<et.bottom)return Promise.resolve();const Wt=-(et.height/4);return new Promise(Rn=>{m(ye,{container:u,offset:Wt,duration:Zm,callback:()=>Rn()})})}function Zt(I){return u?u.querySelector(`div[data-path="${Fa(I)}"]`):null}function Jn(I){const ce=Zt(I);if(!ce||!u)return;const ye=u.getBoundingClientRect(),et=ce.getBoundingClientRect(),Ye=20,Wt=hn(ze(te,I))?Ye:et.height;et.top<ye.top+Ye?m(ce,{container:u,offset:-Ye,duration:0}):et.top+Wt>ye.bottom-Ye&&m(ce,{container:u,offset:-(ye.height-Wt-Ye),duration:0})}function Ai(I,ce){if(!(I.json===void 0&&(I==null?void 0:I.text)===void 0)){if(be!==void 0){const ye={text:be,json:void 0};z==null||z(ye,I,{contentErrors:Ce(),patchResult:ce})}else if(te!==void 0){const ye={text:void 0,json:te};z==null||z(ye,I,{contentErrors:Ce(),patchResult:ce})}}}function cn(I,ce){s("handlePatch",I,ce);const ye={json:te,text:be},et=Qt(I,ce);return Ai(ye,et),et}function Ys(I,ce){const ye=H,et=te,Ye=be,Wt={json:te,text:be},Rn=qe,ts=os(te,H,[],so),Dn=typeof ce=="function"?ce(I,ts):void 0;t(11,te=Dn&&Dn.json!==void 0?Dn.json:I),t(12,H=Dn&&Dn.state!==void 0?Dn.state:ts),t(18,be=void 0),t(23,qe=!1),tt=void 0,Et(te),it({previousJson:et,previousState:ye,previousText:Ye,previousTextIsRepaired:Rn}),Ai(Wt,null)}function uc(I,ce){s("handleChangeText");const ye=H,et=te,Ye=be,Wt={json:te,text:be},Rn=qe;try{t(11,te=T(I)),t(12,H=os(te,H,[],so)),t(18,be=void 0),t(23,qe=!1),tt=void 0}catch(Dn){try{t(11,te=T(co(I))),t(12,H=os(te,H,[],so)),t(18,be=I),t(23,qe=!0),tt=void 0}catch{t(11,te=void 0),t(12,H=Qh({json:te,expand:so})),t(18,be=I),t(23,qe=!1),tt=be!==""?ja(be,Dn.message||String(Dn)):void 0}}if(typeof ce=="function"){const Dn=ce(te,H);t(11,te=Dn&&Dn.json?Dn.json:te),t(12,H=Dn&&Dn.state?Dn.state:H)}Et(te),it({previousJson:et,previousState:ye,previousText:Ye,previousTextIsRepaired:Rn}),Ai(Wt,null)}function ir(I,ce,ye=!1){s("expand",{path:I,expanded:ce,recursive:ye}),ce?ye?t(12,H=os(te,H,I,gf)):t(12,H=jI(H,I)):t(12,H=D4(H,I)),H.selection&&!ce&&JI(H.selection,I)&&re(null),Sn()}function Jr(){ir([],!0,!0)}function hc(){ir([],!1,!0)}function Kr(I){s("openFind",{findAndReplace:I}),t(13,Be=!1),t(21,Re=!1),Cn().then(()=>{t(13,Be=!0),t(21,Re=I)})}function dc(I,ce){s("handleExpandSection",I,ce);const ye=Oe(I);t(12,H=zI(te,H,ye,ce))}function Jl(I){s("pasted json as text",I),t(19,Ie=I)}function sr(I){const ce=Vo(I),ye=I.shiftKey;if(s("keydown",{combo:ce,key:I.key}),ce==="Ctrl+X"&&(I.preventDefault(),en(!0)),ce==="Ctrl+Shift+X"&&(I.preventDefault(),en(!1)),ce==="Ctrl+C"&&(I.preventDefault(),Hs(!0)),ce==="Ctrl+Shift+C"&&(I.preventDefault(),Hs(!1)),ce==="Ctrl+D"&&(I.preventDefault(),Vi()),(ce==="Delete"||ce==="Backspace")&&(I.preventDefault(),qs()),ce==="Insert"&&(I.preventDefault(),ai("structure")),ce==="Ctrl+A"&&(I.preventDefault(),re(ZI())),ce==="Ctrl+Q"&&or(I),ce==="ArrowUp"||ce==="Shift+ArrowUp"){I.preventDefault();const Ye=H.selection?_y(te,H,ye)||H.selection:ta(te,H);re(Ye),Jn(Xe(Ye))}if(ce==="ArrowDown"||ce==="Shift+ArrowDown"){I.preventDefault();const Ye=H.selection?KI(te,H,ye)||H.selection:ta(te,H);re(Ye),Jn(Xe(Ye))}if(ce==="ArrowLeft"||ce==="Shift+ArrowLeft"){I.preventDefault();const Ye=H.selection?XI(te,H,ye,!p)||H.selection:ta(te,H);re(Ye),Jn(Xe(Ye))}if(ce==="ArrowRight"||ce==="Shift+ArrowRight"){I.preventDefault();const Ye=H.selection&&te!==void 0?GI(te,H,ye,!p)||H.selection:ta(te,H);re(Ye),Jn(Xe(Ye))}if(ce==="Enter"&&H.selection){if(ug(H.selection)){const Ye=H.selection.focusPath,Wt=ze(te,vt(Ye));Array.isArray(Wt)&&re(ht(Ye,!1))}if(Mn(H.selection)&&(I.preventDefault(),re({...H.selection,edit:!0})),Mt(H.selection)){I.preventDefault();const Ye=ze(te,H.selection.path);hn(Ye)?ir(H.selection.path,!0):re({...H.selection,edit:!0})}}if(ce.replace(/^Shift\+/,"").length===1&&H.selection){I.preventDefault(),yn(I.key);return}if(ce==="Enter"&&(Bi(H.selection)||xn(H.selection))){I.preventDefault(),yn("");return}if(ce==="Ctrl+Enter"&&Mt(H.selection)){const Ye=ze(te,H.selection.path);Gd(Ye)&&window.open(String(Ye),"_blank")}ce==="Escape"&&H.selection&&(I.preventDefault(),re(null)),ce==="Ctrl+F"&&(I.preventDefault(),Kr(!1)),ce==="Ctrl+H"&&(I.preventDefault(),Kr(!0)),ce==="Ctrl+Z"&&(I.preventDefault(),Js()),ce==="Ctrl+Shift+Z"&&(I.preventDefault(),Ks())}function gc(I){s("handleMouseDown",I);const ce=I.target;!M4(ce,"BUTTON")&&!ce.isContentEditable&&(Sn(),!H.selection&&te===void 0&&(be===""||be===void 0)&&Gt())}function So({anchor:I,left:ce,top:ye,width:et,height:Ye,offsetTop:Wt,offsetLeft:Rn,showTip:ts}){const Dn=HF({json:te,documentState:H,readOnly:p,parser:x,onEditKey:Mi,onEditValue:vs,onToggleEnforceString:tr,onCut:en,onCopy:Hs,onPaste:wo,onRemove:qs,onDuplicate:Vi,onExtract:li,onInsertBefore:Ss,onInsert:ci,onInsertAfter:Us,onConvert:ei,onSort:vo,onTransform:$e}),Yr=R(Dn);if(Yr===!1)return;const rr={tip:ts?"Tip: you can open this context menu via right-click or with Ctrl+Q":void 0,items:Yr,onRequestClose:()=>f(Fb)},uu={left:ce,top:ye,offsetTop:Wt,offsetLeft:Rn,width:et,height:Ye,anchor:I,closeOnOuterClick:!0,onClose:()=>{ve=!1,Sn()}};ve=!0;const Fb=c(IM,rr,uu)}function or(I){if(!vi(H.selection)){if(I&&(I.stopPropagation(),I.preventDefault()),I&&I.type==="contextmenu"&&I.target!==h)So({left:I.clientX,top:I.clientY,width:Do,height:Ro,showTip:!1});else{const ce=u==null?void 0:u.querySelector(".jse-context-menu-pointer.jse-selected");if(ce)So({anchor:ce,offsetTop:2,width:Do,height:Ro,showTip:!1});else{const ye=u==null?void 0:u.getBoundingClientRect();ye&&So({top:ye.top+2,left:ye.left+2,width:Do,height:Ro,showTip:!1})}}return!1}}function Kl(I){So({anchor:x4(I.target,"BUTTON"),offsetTop:0,width:Do,height:Ro,showTip:!0})}async function Yl(){if(s("apply pasted json",Ie),!Ie)return;const{path:I,contents:ce}=Ie;t(19,Ie=void 0);const ye=(u==null?void 0:u.querySelector(".jse-editable-div"))||null;P4(ye)&&ye.cancel();const et=[{op:"replace",path:Oe(I),value:ce}];cn(et,(Ye,Wt)=>({state:cr(Ye,Wt,I)})),setTimeout(Sn)}function Xl(){s("clear pasted json"),t(19,Ie=void 0),Sn()}function mc(){F(Yn.text)}function Gl(I){re(I),Sn(),zt(Xe(I))}function Sn(){s("focus"),h&&(h.focus(),h.select())}function J(I){!Kf(I.target,ye=>ye===d)&&vi(H.selection)&&(s("click outside the editor, stop edit mode"),re(ye=>Mn(ye)?{...ye,edit:!1}:Mt(ye)?{...ye,edit:!1}:ye),g&&h&&(h.focus(),h.blur()),s("blur (outside editor)"),h&&h.blur())}function Je(I){return YI(te,H,I)}function nn(I){i&&i.onDrag(I)}function Hi(){i&&i.onDragEnd()}let Wi;function qi(I){Be=I,t(13,Be)}function V(I){st[I?"unshift":"push"](()=>{h=I,t(16,h)})}const ke=()=>{Sn(),yn("{")},je=()=>{Sn(),yn("[")},We=()=>{Sn()};function Ct(I){st[I?"unshift":"push"](()=>{u=I,t(10,u)})}function Ft(I){st[I?"unshift":"push"](()=>{d=I,t(17,d)})}return n.$$set=I=>{"readOnly"in I&&t(0,p=I.readOnly),"externalContent"in I&&t(49,b=I.externalContent),"externalSelection"in I&&t(50,y=I.externalSelection),"mainMenuBar"in I&&t(1,v=I.mainMenuBar),"navigationBar"in I&&t(2,C=I.navigationBar),"escapeControlCharacters"in I&&t(51,w=I.escapeControlCharacters),"escapeUnicodeCharacters"in I&&t(52,S=I.escapeUnicodeCharacters),"parser"in I&&t(3,x=I.parser),"parseMemoizeOne"in I&&t(53,T=I.parseMemoizeOne),"validator"in I&&t(54,P=I.validator),"validationParser"in I&&t(55,D=I.validationParser),"pathParser"in I&&t(4,O=I.pathParser),"indentation"in I&&t(5,E=I.indentation),"onError"in I&&t(6,N=I.onError),"onChange"in I&&t(56,z=I.onChange),"onChangeMode"in I&&t(57,F=I.onChangeMode),"onSelect"in I&&t(58,q=I.onSelect),"onRenderValue"in I&&t(59,Q=I.onRenderValue),"onRenderMenu"in I&&t(7,G=I.onRenderMenu),"onRenderContextMenu"in I&&t(60,R=I.onRenderContextMenu),"onClassName"in I&&t(61,U=I.onClassName),"onFocus"in I&&t(62,Y=I.onFocus),"onBlur"in I&&t(63,le=I.onBlur),"onSortModal"in I&&t(64,Z=I.onSortModal),"onTransformModal"in I&&t(65,he=I.onTransformModal),"onJSONEditorModal"in I&&t(66,W=I.onJSONEditorModal)},n.$$.update=()=>{n.$$.dirty[1]&3145728&&t(74,ae=p0({escapeControlCharacters:w,escapeUnicodeCharacters:S})),n.$$.dirty[0]&4096&&s("selection",H.selection),n.$$.dirty[0]&8192&&de(Be),n.$$.dirty[1]&262144&&Ee(b),n.$$.dirty[1]&524288&&ue(y),n.$$.dirty[0]&2056|n.$$.dirty[1]&25165824&&Ue(te,P,x,D),n.$$.dirty[0]&16384&&t(24,K=HB(ft)),n.$$.dirty[0]&1024&&(i=u?zB(u):void 0),n.$$.dirty[0]&9|n.$$.dirty[1]&1342177280|n.$$.dirty[2]&4096&&t(15,Wi={readOnly:p,parser:x,normalization:ae,getJson:ee,getDocumentState:Ae,findElement:Zt,findNextInside:Je,focus:Sn,onPatch:cn,onInsert:ai,onExpand:ir,onSelect:re,onFind:Kr,onExpandSection:dc,onPasteJson:Jl,onRenderValue:Q,onContextMenu:So,onClassName:U||(()=>{}),onDrag:nn,onDragEnd:Hi}),n.$$.dirty[0]&32768&&s("context changed",Wi)},[p,v,C,x,O,E,N,G,Ur,Sn,u,te,H,Be,ft,Wi,h,d,be,Ie,Ne,Re,Ze,qe,K,o,at,kt,De,ot,Hs,Ws,yn,Js,Ks,ko,dt,cn,Jr,hc,sr,gc,or,Kl,Yl,Xl,mc,Gl,J,b,y,w,S,T,P,D,z,F,q,Q,R,U,Y,le,Z,he,W,Ht,Ce,ee,Qt,oe,zt,Zt,ae,qi,V,ke,je,We,Ct,Ft]}class F0 extends Te{constructor(e){super(),Pe(this,e,QF,GF,ut,{readOnly:0,externalContent:49,externalSelection:50,mainMenuBar:1,navigationBar:2,escapeControlCharacters:51,escapeUnicodeCharacters:52,parser:3,parseMemoizeOne:53,validator:54,validationParser:55,pathParser:4,indentation:5,onError:6,onChange:56,onChangeMode:57,onSelect:58,onRenderValue:59,onRenderMenu:7,onRenderContextMenu:60,onClassName:61,onFocus:62,onBlur:63,onSortModal:64,onTransformModal:65,onJSONEditorModal:66,expand:67,validate:68,getJson:69,patch:70,acceptAutoRepair:8,openTransformModal:71,scrollTo:72,findElement:73,focus:9},null,[-1,-1,-1,-1,-1])}get expand(){return this.$$.ctx[67]}get validate(){return this.$$.ctx[68]}get getJson(){return this.$$.ctx[69]}get patch(){return this.$$.ctx[70]}get acceptAutoRepair(){return this.$$.ctx[8]}get openTransformModal(){return this.$$.ctx[71]}get scrollTo(){return this.$$.ctx[72]}get findElement(){return this.$$.ctx[73]}get focus(){return this.$$.ctx[9]}}function NM(n){return ZF(n)?new Proxy(n,{get(e,t,i){const s=Reflect.get(e,t,i);return NM(s)},set(){return!1},deleteProperty(){return!1}}):n}function ZF(n){return typeof n=="object"&&n!==null}function Zw(n){let e,t,i,s,o;const r=[eV,$F],l=[];function a(c,f){return f[0]&16384&&(e=null),e==null&&(e=!!Array.isArray(c[14])),e?0:1}return t=a(n,[-1,-1]),i=l[t]=r[t](n),{c(){i.c(),s=gt()},m(c,f){l[t].m(c,f),j(c,s,f),o=!0},p(c,f){let u=t;t=a(c,f),t===u?l[t].p(c,f):(me(),M(l[u],1,1,()=>{l[u]=null}),pe(),i=l[t],i?i.p(c,f):(i=l[t]=r[t](c),i.c()),k(i,1),i.m(s.parentNode,s))},i(c){o||(k(i),o=!0)},o(c){M(i),o=!1},d(c){c&&B(s),l[t].d(c)}}}function $F(n){let e;return{c(){e=we("(Only available for arrays, not for objects)")},m(t,i){j(t,e,i)},p:ge,i:ge,o:ge,d(t){t&&B(e)}}}function eV(n){let e,t;return e=new AB({props:{queryOptions:n[15],json:n[14],onChange:n[24]}}),{c(){se(e.$$.fragment)},m(i,s){ne(e,i,s),t=!0},p(i,s){const o={};s[0]&32768&&(o.queryOptions=i[15]),s[0]&16384&&(o.json=i[14]),e.$set(o)},i(i){t||(k(e.$$.fragment,i),t=!0)},o(i){M(e.$$.fragment,i),t=!1},d(i){ie(e,i)}}}function $w(n){let e,t;return e=new F0({props:{externalContent:n[17],externalSelection:null,readOnly:!0,mainMenuBar:!1,navigationBar:!1,indentation:n[2],escapeControlCharacters:n[3],escapeUnicodeCharacters:n[4],parser:n[5],parseMemoizeOne:n[6],onRenderValue:n[10],onRenderMenu:n[11],onRenderContextMenu:n[12],onError:console.error,onChange:Kn,onChangeMode:Kn,onSelect:Kn,onFocus:Kn,onBlur:Kn,onSortModal:Kn,onTransformModal:Kn,onJSONEditorModal:Kn,onClassName:n[13],validator:null,validationParser:n[7],pathParser:n[8]}}),{c(){se(e.$$.fragment)},m(i,s){ne(e,i,s),t=!0},p(i,s){const o={};s[0]&131072&&(o.externalContent=i[17]),s[0]&4&&(o.indentation=i[2]),s[0]&8&&(o.escapeControlCharacters=i[3]),s[0]&16&&(o.escapeUnicodeCharacters=i[4]),s[0]&32&&(o.parser=i[5]),s[0]&64&&(o.parseMemoizeOne=i[6]),s[0]&1024&&(o.onRenderValue=i[10]),s[0]&2048&&(o.onRenderMenu=i[11]),s[0]&4096&&(o.onRenderContextMenu=i[12]),s[0]&8192&&(o.onClassName=i[13]),s[0]&128&&(o.validationParser=i[7]),s[0]&256&&(o.pathParser=i[8]),e.$set(o)},i(i){t||(k(e.$$.fragment,i),t=!0)},o(i){M(e.$$.fragment,i),t=!1},d(i){ie(e,i)}}}function tV(n){let e,t;return{c(){e=L("div"),t=we(n[21]),_(e,"class","jse-preview jse-error svelte-1mpf6w7")},m(i,s){j(i,e,s),A(e,t)},p(i,s){s[0]&2097152&&Ve(t,i[21])},i:ge,o:ge,d(i){i&&B(e)}}}function nV(n){let e,t;return e=new F0({props:{externalContent:n[22],externalSelection:null,readOnly:!0,mainMenuBar:!1,navigationBar:!1,indentation:n[2],escapeControlCharacters:n[3],escapeUnicodeCharacters:n[4],parser:n[5],parseMemoizeOne:n[6],onRenderValue:n[10],onRenderMenu:n[11],onRenderContextMenu:n[12],onError:console.error,onChange:Kn,onChangeMode:Kn,onSelect:Kn,onFocus:Kn,onBlur:Kn,onSortModal:Kn,onTransformModal:Kn,onJSONEditorModal:Kn,onClassName:n[13],validator:null,validationParser:n[7],pathParser:n[8]}}),{c(){se(e.$$.fragment)},m(i,s){ne(e,i,s),t=!0},p(i,s){const o={};s[0]&4194304&&(o.externalContent=i[22]),s[0]&4&&(o.indentation=i[2]),s[0]&8&&(o.escapeControlCharacters=i[3]),s[0]&16&&(o.escapeUnicodeCharacters=i[4]),s[0]&32&&(o.parser=i[5]),s[0]&64&&(o.parseMemoizeOne=i[6]),s[0]&1024&&(o.onRenderValue=i[10]),s[0]&2048&&(o.onRenderMenu=i[11]),s[0]&4096&&(o.onRenderContextMenu=i[12]),s[0]&8192&&(o.onClassName=i[13]),s[0]&128&&(o.validationParser=i[7]),s[0]&256&&(o.pathParser=i[8]),e.$set(o)},i(i){t||(k(e.$$.fragment,i),t=!0)},o(i){M(e.$$.fragment,i),t=!1},d(i){ie(e,i)}}}function iV(n){let e,t,i,s,o,r,l,a,c,f=n[23](n[0]).description+"",u,h,d,g,m,p,b,y,v,C,w,S,x,T,P,D,O,E,N,z,F,q,Q,G,R,U,Y,le,Z,he,W,ve,te,be,tt,re,Qe,H,ae;function Ie(De){n[37](De)}let Ne={queryLanguages:n[9],queryLanguageId:n[0],onChangeQueryLanguage:n[29]};n[18]!==void 0&&(Ne.fullscreen=n[18]),e=new jB({props:Ne}),st.push(()=>Qn(e,"fullscreen",Ie)),C=new St({props:{data:n[19]?as:hr}});let Be=n[19]&&Zw(n);Q=new St({props:{data:n[20]?as:hr}});let Re=n[20]&&$w(n);const de=[nV,tV],at=[];function kt(De,ot){return De[21]?1:0}return he=kt(n),W=at[he]=de[he](n),{c(){se(e.$$.fragment),i=X(),s=L("div"),o=L("div"),r=L("div"),l=L("div"),l.innerHTML='<div class="jse-label-inner svelte-1mpf6w7">Language</div>',a=X(),c=L("div"),u=X(),h=L("div"),h.innerHTML='<div class="jse-label-inner svelte-1mpf6w7">Path</div>',d=X(),g=L("input"),p=X(),b=L("div"),y=L("div"),v=L("button"),se(C.$$.fragment),w=we(`
                Wizard`),S=X(),Be&&Be.c(),x=X(),T=L("div"),T.innerHTML='<div class="jse-label-inner svelte-1mpf6w7">Query</div>',P=X(),D=L("textarea"),O=X(),E=L("div"),N=L("div"),z=L("div"),F=L("div"),q=L("button"),se(Q.$$.fragment),G=we(`
                  Original`),R=X(),Re&&Re.c(),U=X(),Y=L("div"),le=L("div"),le.innerHTML='<div class="jse-label-inner svelte-1mpf6w7">Preview</div>',Z=X(),W.c(),ve=X(),te=L("div"),be=L("button"),tt=we("Transform"),_(l,"class","jse-label svelte-1mpf6w7"),_(c,"class","jse-description svelte-1mpf6w7"),_(h,"class","jse-label svelte-1mpf6w7"),_(g,"class","jse-path svelte-1mpf6w7"),_(g,"type","text"),g.readOnly=!0,_(g,"title","Selected path"),g.value=m=At(n[1])?"(document root)":zi(n[1]),_(v,"type","button"),_(v,"class","svelte-1mpf6w7"),_(y,"class","jse-label-inner svelte-1mpf6w7"),_(b,"class","jse-label svelte-1mpf6w7"),_(T,"class","jse-label svelte-1mpf6w7"),_(D,"class","jse-query svelte-1mpf6w7"),_(D,"spellcheck","false"),D.value=n[16],_(r,"class","jse-query-contents svelte-1mpf6w7"),_(q,"type","button"),_(q,"class","svelte-1mpf6w7"),_(F,"class","jse-label-inner svelte-1mpf6w7"),_(z,"class","jse-label svelte-1mpf6w7"),_(N,"class","jse-original-data svelte-1mpf6w7"),$(N,"jse-hide",!n[20]),_(le,"class","jse-label svelte-1mpf6w7"),_(Y,"class","jse-preview-data svelte-1mpf6w7"),_(E,"class","jse-data-contents svelte-1mpf6w7"),$(E,"jse-hide-original-data",!n[20]),_(o,"class","jse-main-contents svelte-1mpf6w7"),_(be,"type","button"),_(be,"class","jse-primary svelte-1mpf6w7"),be.disabled=re=!!n[21],_(te,"class","jse-actions svelte-1mpf6w7"),_(s,"class","jse-modal-contents svelte-1mpf6w7")},m(De,ot){ne(e,De,ot),j(De,i,ot),j(De,s,ot),A(s,o),A(o,r),A(r,l),A(r,a),A(r,c),c.innerHTML=f,A(r,u),A(r,h),A(r,d),A(r,g),A(r,p),A(r,b),A(b,y),A(y,v),ne(C,v,null),A(v,w),A(r,S),Be&&Be.m(r,null),A(r,x),A(r,T),A(r,P),A(r,D),A(o,O),A(o,E),A(E,N),A(N,z),A(z,F),A(F,q),ne(Q,q,null),A(q,G),A(N,R),Re&&Re.m(N,null),A(E,U),A(E,Y),A(Y,le),A(Y,Z),at[he].m(Y,null),A(s,ve),A(s,te),A(te,be),A(be,tt),Qe=!0,H||(ae=[fe(v,"click",n[27]),fe(D,"input",n[25]),fe(q,"click",n[28]),fe(be,"click",n[26]),Nn(oV.call(null,be))],H=!0)},p(De,ot){const mt={};ot[0]&512&&(mt.queryLanguages=De[9]),ot[0]&1&&(mt.queryLanguageId=De[0]),!t&&ot[0]&262144&&(t=!0,mt.fullscreen=De[18],Gn(()=>t=!1)),e.$set(mt),(!Qe||ot[0]&1)&&f!==(f=De[23](De[0]).description+"")&&(c.innerHTML=f),(!Qe||ot[0]&2&&m!==(m=At(De[1])?"(document root)":zi(De[1]))&&g.value!==m)&&(g.value=m);const Ze={};ot[0]&524288&&(Ze.data=De[19]?as:hr),C.$set(Ze),De[19]?Be?(Be.p(De,ot),ot[0]&524288&&k(Be,1)):(Be=Zw(De),Be.c(),k(Be,1),Be.m(r,x)):Be&&(me(),M(Be,1,1,()=>{Be=null}),pe()),(!Qe||ot[0]&65536)&&(D.value=De[16]);const Ht={};ot[0]&1048576&&(Ht.data=De[20]?as:hr),Q.$set(Ht),De[20]?Re?(Re.p(De,ot),ot[0]&1048576&&k(Re,1)):(Re=$w(De),Re.c(),k(Re,1),Re.m(N,null)):Re&&(me(),M(Re,1,1,()=>{Re=null}),pe()),(!Qe||ot[0]&1048576)&&$(N,"jse-hide",!De[20]);let qe=he;he=kt(De),he===qe?at[he].p(De,ot):(me(),M(at[qe],1,1,()=>{at[qe]=null}),pe(),W=at[he],W?W.p(De,ot):(W=at[he]=de[he](De),W.c()),k(W,1),W.m(Y,null)),(!Qe||ot[0]&1048576)&&$(E,"jse-hide-original-data",!De[20]),(!Qe||ot[0]&2097152&&re!==(re=!!De[21]))&&(be.disabled=re)},i(De){Qe||(k(e.$$.fragment,De),k(C.$$.fragment,De),k(Be),k(Q.$$.fragment,De),k(Re),k(W),Qe=!0)},o(De){M(e.$$.fragment,De),M(C.$$.fragment,De),M(Be),M(Q.$$.fragment,De),M(Re),M(W),Qe=!1},d(De){De&&(B(i),B(s)),ie(e,De),ie(C),Be&&Be.d(),ie(Q),Re&&Re.d(),at[he].d(),H=!1,Tt(ae)}}}function sV(n){let e,t,i,s,o;return t=new T4({props:{$$slots:{default:[iV]},$$scope:{ctx:n}}}),{c(){e=L("div"),se(t.$$.fragment),_(e,"class","jse-modal jse-transform svelte-1mpf6w7"),$(e,"fullscreen",n[18])},m(r,l){j(r,e,l),ne(t,e,null),i=!0,s||(o=Nn(Zf.call(null,e,n[30])),s=!0)},p(r,l){const a={};l[0]&8388607|l[1]&16384&&(a.$$scope={dirty:l,ctx:r}),t.$set(a),(!i||l[0]&262144)&&$(e,"fullscreen",r[18])},i(r){i||(k(t.$$.fragment,r),i=!0)},o(r){M(t.$$.fragment,r),i=!1},d(r){r&&B(e),ie(t),s=!1,o()}}}function oV(n){n.focus()}function rV(n,e,t){const i=qn("jsoneditor:TransformModal");let{id:s="transform-modal-"+Jc()}=e,{json:o}=e,{rootPath:r=[]}=e,{indentation:l}=e,{escapeControlCharacters:a}=e,{escapeUnicodeCharacters:c}=e,{parser:f}=e,{parseMemoizeOne:u}=e,{validationParser:h}=e,{pathParser:d}=e,{queryLanguages:g}=e,{queryLanguageId:m}=e,{onChangeQueryLanguage:p}=e,{onRenderValue:b}=e,{onRenderMenu:y}=e,{onRenderContextMenu:v}=e,{onClassName:C}=e,{onTransform:w}=e,S,x;const{close:T}=Wn("simple-modal");let P=!1;const D=`${s}:${Oe(r)}`,O=wc[D]||{};let E=ku.showWizard!==!1,N=ku.showOriginal!==!1,z=O.queryOptions||{},F=m===O.queryLanguageId&&O.query?O.query:R(m).createQuery(S,O.queryOptions||{}),q=O.isManual||!1,Q,G={text:""};function R(re){return g.find(Qe=>Qe.id===re)||g[0]}function U(re){t(15,z=re),t(16,F=R(m).createQuery(S,re)),t(36,q=!1),i("updateQueryByWizard",{queryOptions:z,query:F,isManual:q})}function Y(re){t(16,F=re.target.value),t(36,q=!0),i("handleChangeQuery",{query:F,isManual:q})}function le(re,Qe){if(re===void 0){t(22,G={text:""}),t(21,Q="Error: No JSON");return}try{i("previewTransform",{query:Qe});const H=R(m).executeQuery(re,Qe,f);t(22,G={json:H}),t(21,Q=void 0)}catch(H){t(22,G={text:""}),t(21,Q=String(H))}}const Z=Kh(le,$m);function he(){if(S===void 0){t(22,G={text:""}),t(21,Q="Error: No JSON");return}try{i("handleTransform",{query:F});const re=R(m).executeQuery(S,F,f);w([{op:"replace",path:Oe(r),value:re}]),T()}catch(re){console.error(re),t(22,G={text:""}),t(21,Q=String(re))}}function W(){t(19,E=!E),ku.showWizard=E}function ve(){t(20,N=!N),ku.showOriginal=N}function te(re){i("handleChangeQueryLanguage",re),t(0,m=re),p(re);const Qe=R(m);t(16,F=Qe.createQuery(S,z)),t(36,q=!1)}function be(){P?t(18,P=!P):T()}function tt(re){P=re,t(18,P)}return n.$$set=re=>{"id"in re&&t(31,s=re.id),"json"in re&&t(32,o=re.json),"rootPath"in re&&t(1,r=re.rootPath),"indentation"in re&&t(2,l=re.indentation),"escapeControlCharacters"in re&&t(3,a=re.escapeControlCharacters),"escapeUnicodeCharacters"in re&&t(4,c=re.escapeUnicodeCharacters),"parser"in re&&t(5,f=re.parser),"parseMemoizeOne"in re&&t(6,u=re.parseMemoizeOne),"validationParser"in re&&t(7,h=re.validationParser),"pathParser"in re&&t(8,d=re.pathParser),"queryLanguages"in re&&t(9,g=re.queryLanguages),"queryLanguageId"in re&&t(0,m=re.queryLanguageId),"onChangeQueryLanguage"in re&&t(33,p=re.onChangeQueryLanguage),"onRenderValue"in re&&t(10,b=re.onRenderValue),"onRenderMenu"in re&&t(11,y=re.onRenderMenu),"onRenderContextMenu"in re&&t(12,v=re.onRenderContextMenu),"onClassName"in re&&t(13,C=re.onClassName),"onTransform"in re&&t(34,w=re.onTransform)},n.$$.update=()=>{n.$$.dirty[0]&2|n.$$.dirty[1]&2&&t(14,S=NM(ze(o,r))),n.$$.dirty[0]&16384&&t(17,x=S?{json:S}:{text:""}),n.$$.dirty[0]&81920&&Z(S,F),n.$$.dirty[0]&98305|n.$$.dirty[1]&48&&(t(35,wc[D]={queryOptions:z,query:F,queryLanguageId:m,isManual:q},wc),i("store state in memory",D,wc[D]))},[m,r,l,a,c,f,u,h,d,g,b,y,v,C,S,z,F,x,P,E,N,Q,G,R,U,Y,he,W,ve,te,be,s,o,p,w,wc,q,tt]}class lV extends Te{constructor(e){super(),Pe(this,e,rV,sV,ut,{id:31,json:32,rootPath:1,indentation:2,escapeControlCharacters:3,escapeUnicodeCharacters:4,parser:5,parseMemoizeOne:6,validationParser:7,pathParser:8,queryLanguages:9,queryLanguageId:0,onChangeQueryLanguage:33,onRenderValue:10,onRenderMenu:11,onRenderContextMenu:12,onClassName:13,onTransform:34},null,[-1,-1])}}const na={};function ev(n){let e,t,i,s,o,r,l;function a(f){n[14](f)}let c={showChevron:!0,items:n[5]};return n[1]!==void 0&&(c.value=n[1]),o=new rl({props:c}),st.push(()=>Qn(o,"value",a)),{c(){e=L("tr"),t=L("th"),t.textContent="Property",i=X(),s=L("td"),se(o.$$.fragment),_(t,"class","svelte-jdii8g"),_(s,"class","svelte-jdii8g")},m(f,u){j(f,e,u),A(e,t),A(e,i),A(e,s),ne(o,s,null),l=!0},p(f,u){const h={};u&32&&(h.items=f[5]),!r&&u&2&&(r=!0,h.value=f[1],Gn(()=>r=!1)),o.$set(h)},i(f){l||(k(o.$$.fragment,f),l=!0)},o(f){M(o.$$.fragment,f),l=!1},d(f){f&&B(e),ie(o)}}}function tv(n){let e,t;return{c(){e=L("div"),t=we(n[4]),_(e,"class","jse-error svelte-jdii8g")},m(i,s){j(i,e,s),A(e,t)},p(i,s){s&16&&Ve(t,i[4])},d(i){i&&B(e)}}}function aV(n){var Y;let e,t,i,s,o,r,l,a,c,f,u,h,d,g,m,p,b,y,v,C,w,S,x,T,P,D,O,E,N,z,F,q;t=new wg({props:{title:n[3]?"Sort array items":"Sort object keys"}});let Q=n[3]&&(n[5]&&((Y=n[5])==null?void 0:Y.length)>1||n[1]===void 0)&&ev(n);function G(le){n[15](le)}let R={showChevron:!0,clearable:!1,items:n[7]};n[2]!==void 0&&(R.value=n[2]),w=new rl({props:R}),st.push(()=>Qn(w,"value",G));let U=n[4]&&tv(n);return{c(){var le;e=L("div"),se(t.$$.fragment),i=X(),s=L("div"),o=L("table"),r=L("colgroup"),r.innerHTML='<col width="25%"/> <col width="75%"/>',l=X(),a=L("tbody"),c=L("tr"),f=L("th"),f.textContent="Path",u=X(),h=L("td"),d=L("input"),m=X(),Q&&Q.c(),p=X(),b=L("tr"),y=L("th"),y.textContent="Direction",v=X(),C=L("td"),se(w.$$.fragment),x=X(),T=L("div"),U&&U.c(),P=X(),D=L("div"),O=L("button"),E=we("Sort"),_(f,"class","svelte-jdii8g"),_(d,"class","jse-path svelte-jdii8g"),_(d,"type","text"),d.readOnly=!0,_(d,"title","Selected path"),d.value=g=At(n[0])?"(document root)":zi(n[0]),_(h,"class","svelte-jdii8g"),_(y,"class","svelte-jdii8g"),_(C,"class","svelte-jdii8g"),_(o,"class","svelte-jdii8g"),_(T,"class","jse-space svelte-jdii8g"),_(O,"type","button"),_(O,"class","jse-primary svelte-jdii8g"),O.disabled=N=n[3]&&n[5]&&((le=n[5])==null?void 0:le.length)>1?!n[1]:!1,_(D,"class","jse-actions svelte-jdii8g"),_(s,"class","jse-modal-contents svelte-jdii8g"),_(e,"class","jse-modal jse-sort svelte-jdii8g")},m(le,Z){j(le,e,Z),ne(t,e,null),A(e,i),A(e,s),A(s,o),A(o,r),A(o,l),A(o,a),A(a,c),A(c,f),A(c,u),A(c,h),A(h,d),A(a,m),Q&&Q.m(a,null),A(a,p),A(a,b),A(b,y),A(b,v),A(b,C),ne(w,C,null),A(s,x),A(s,T),U&&U.m(T,null),A(s,P),A(s,D),A(D,O),A(O,E),z=!0,F||(q=[fe(O,"click",n[8]),Nn(cV.call(null,O)),Nn(Zf.call(null,e,n[6]))],F=!0)},p(le,[Z]){var ve,te;const he={};Z&8&&(he.title=le[3]?"Sort array items":"Sort object keys"),t.$set(he),(!z||Z&1&&g!==(g=At(le[0])?"(document root)":zi(le[0]))&&d.value!==g)&&(d.value=g),le[3]&&(le[5]&&((ve=le[5])==null?void 0:ve.length)>1||le[1]===void 0)?Q?(Q.p(le,Z),Z&42&&k(Q,1)):(Q=ev(le),Q.c(),k(Q,1),Q.m(a,p)):Q&&(me(),M(Q,1,1,()=>{Q=null}),pe());const W={};!S&&Z&4&&(S=!0,W.value=le[2],Gn(()=>S=!1)),w.$set(W),le[4]?U?U.p(le,Z):(U=tv(le),U.c(),U.m(T,null)):U&&(U.d(1),U=null),(!z||Z&42&&N!==(N=le[3]&&le[5]&&((te=le[5])==null?void 0:te.length)>1?!le[1]:!1))&&(O.disabled=N)},i(le){z||(k(t.$$.fragment,le),k(Q),k(w.$$.fragment,le),z=!0)},o(le){M(t.$$.fragment,le),M(Q),M(w.$$.fragment,le),z=!1},d(le){le&&B(e),ie(t),Q&&Q.d(),ie(w),U&&U.d(),F=!1,Tt(q)}}}function cV(n){n.focus()}function fV(n,e,t){var x,T;let i,s,o;const r=qn("jsoneditor:SortModal");let{id:l}=e,{json:a}=e,{rootPath:c}=e,{onSort:f}=e;const{close:u}=Wn("simple-modal"),h=`${l}:${Oe(c)}`,d=ze(a,c),g={value:1,label:"ascending"},p=[g,{value:-1,label:"descending"}];let b=(x=na[h])==null?void 0:x.selectedProperty,y=((T=na[h])==null?void 0:T.selectedDirection)||g,v;function C(){var P;try{t(4,v=void 0);const D=(b==null?void 0:b.value)||((P=o==null?void 0:o[0])==null?void 0:P.value)||[],O=y==null?void 0:y.value,E=CM(a,c,D,O);f({operations:E,rootPath:c,itemPath:D,direction:O}),u()}catch(D){t(4,v=String(D))}}function w(P){b=P,t(1,b)}function S(P){y=P,t(2,y)}return n.$$set=P=>{"id"in P&&t(9,l=P.id),"json"in P&&t(10,a=P.json),"rootPath"in P&&t(0,c=P.rootPath),"onSort"in P&&t(11,f=P.onSort)},n.$$.update=()=>{n.$$.dirty&8&&t(13,s=i&&d!==void 0?pp(d):void 0),n.$$.dirty&8192&&t(5,o=s?s.map(Rc):void 0),n.$$.dirty&4102&&(t(12,na[h]={selectedProperty:b,selectedDirection:y},na),r("store state in memory",h,na[h]))},t(3,i=Array.isArray(d)),[c,b,y,i,v,o,u,p,C,l,a,f,na,s,w,S]}class uV extends Te{constructor(e){super(),Pe(this,e,fV,aV,ut,{id:9,json:10,rootPath:0,onSort:11})}}function Ms(){}function Au(n,e=1e3){if(n<.9*e)return n.toFixed()+" B";const t=n/e;if(t<.9*e)return t.toFixed(1)+" KB";const i=t/e;if(i<.9*e)return i.toFixed(1)+" MB";const s=i/e;return s<.9*e?s.toFixed(1)+" GB":(s/e).toFixed(1)+" TB"}function hV(n){let e,t;return e=new kg({props:{items:n[0]}}),{c(){se(e.$$.fragment)},m(i,s){ne(e,i,s),t=!0},p(i,[s]){const o={};s&1&&(o.items=i[0]),e.$set(o)},i(i){t||(k(e.$$.fragment,i),t=!0)},o(i){M(e.$$.fragment,i),t=!1},d(i){ie(e,i)}}}function dV(n,e,t){let i,{readOnly:s=!1}=e,{onFormat:o}=e,{onCompact:r}=e,{onSort:l}=e,{onTransform:a}=e,{onToggleSearch:c}=e,{onUndo:f}=e,{onRedo:u}=e,{canUndo:h}=e,{canRedo:d}=e,{canFormat:g}=e,{canCompact:m}=e,{canSort:p}=e,{canTransform:b}=e,{onRenderMenu:y}=e;const v={type:"button",icon:mg,title:"Search (Ctrl+F)",className:"jse-search",onClick:c};let C;return n.$$set=w=>{"readOnly"in w&&t(1,s=w.readOnly),"onFormat"in w&&t(2,o=w.onFormat),"onCompact"in w&&t(3,r=w.onCompact),"onSort"in w&&t(4,l=w.onSort),"onTransform"in w&&t(5,a=w.onTransform),"onToggleSearch"in w&&t(6,c=w.onToggleSearch),"onUndo"in w&&t(7,f=w.onUndo),"onRedo"in w&&t(8,u=w.onRedo),"canUndo"in w&&t(9,h=w.canUndo),"canRedo"in w&&t(10,d=w.canRedo),"canFormat"in w&&t(11,g=w.canFormat),"canCompact"in w&&t(12,m=w.canCompact),"canSort"in w&&t(13,p=w.canSort),"canTransform"in w&&t(14,b=w.canTransform),"onRenderMenu"in w&&t(15,y=w.onRenderMenu)},n.$$.update=()=>{n.$$.dirty&32702&&t(16,C=s?[v,{type:"space"}]:[{type:"button",icon:Tp,title:"Format JSON: add proper indentation and new lines (Ctrl+I)",className:"jse-format",onClick:o,disabled:s||!g},{type:"button",icon:pz,title:"Compact JSON: remove all white spacing and new lines (Ctrl+Shift+I)",className:"jse-compact",onClick:r,disabled:s||!m},{type:"separator"},{type:"button",icon:gg,title:"Sort",className:"jse-sort",onClick:l,disabled:s||!p},{type:"button",icon:hg,title:"Transform contents (filter, sort, project)",className:"jse-transform",onClick:a,disabled:s||!b},v,{type:"separator"},{type:"button",icon:x0,title:"Undo (Ctrl+Z)",className:"jse-undo",onClick:f,disabled:!h},{type:"button",icon:A0,title:"Redo (Ctrl+Shift+Z)",className:"jse-redo",onClick:u,disabled:!d},{type:"space"}]),n.$$.dirty&98304&&t(0,i=y(C)||C)},[i,s,o,r,l,a,c,f,u,h,d,g,m,p,b,y,C]}class gV extends Te{constructor(e){super(),Pe(this,e,dV,hV,ut,{readOnly:1,onFormat:2,onCompact:3,onSort:4,onTransform:5,onToggleSearch:6,onUndo:7,onRedo:8,canUndo:9,canRedo:10,canFormat:11,canCompact:12,canSort:13,canTransform:14,onRenderMenu:15})}}class qt{lineAt(e){if(e<0||e>this.length)throw new RangeError(`Invalid position ${e} in document of length ${this.length}`);return this.lineInner(e,!1,1,0)}line(e){if(e<1||e>this.lines)throw new RangeError(`Invalid line number ${e} in ${this.lines}-line document`);return this.lineInner(e,!0,1,0)}replace(e,t,i){[e,t]=Ua(this,e,t);let s=[];return this.decompose(0,e,s,2),i.length&&i.decompose(0,i.length,s,3),this.decompose(t,this.length,s,1),no.from(s,this.length-(t-e)+i.length)}append(e){return this.replace(this.length,this.length,e)}slice(e,t=this.length){[e,t]=Ua(this,e,t);let i=[];return this.decompose(e,t,i,0),no.from(i,t-e)}eq(e){if(e==this)return!0;if(e.length!=this.length||e.lines!=this.lines)return!1;let t=this.scanIdentical(e,1),i=this.length-this.scanIdentical(e,-1),s=new Gc(this),o=new Gc(e);for(let r=t,l=t;;){if(s.next(r),o.next(r),r=0,s.lineBreak!=o.lineBreak||s.done!=o.done||s.value!=o.value)return!1;if(l+=s.value.length,s.done||l>=i)return!0}}iter(e=1){return new Gc(this,e)}iterRange(e,t=this.length){return new BM(this,e,t)}iterLines(e,t){let i;if(e==null)i=this.iter();else{t==null&&(t=this.lines+1);let s=this.line(e).from;i=this.iterRange(s,Math.max(s,t==this.lines+1?this.length:t<=1?0:this.line(t-1).to))}return new jM(i)}toString(){return this.sliceString(0)}toJSON(){let e=[];return this.flatten(e),e}constructor(){}static of(e){if(e.length==0)throw new RangeError("A document must have at least one line");return e.length==1&&!e[0]?qt.empty:e.length<=32?new Ln(e):no.from(Ln.split(e,[]))}}class Ln extends qt{constructor(e,t=mV(e)){super(),this.text=e,this.length=t}get lines(){return this.text.length}get children(){return null}lineInner(e,t,i,s){for(let o=0;;o++){let r=this.text[o],l=s+r.length;if((t?i:l)>=e)return new pV(s,l,i,r);s=l+1,i++}}decompose(e,t,i,s){let o=e<=0&&t>=this.length?this:new Ln(nv(this.text,e,t),Math.min(t,this.length)-Math.max(0,e));if(s&1){let r=i.pop(),l=vh(o.text,r.text.slice(),0,o.length);if(l.length<=32)i.push(new Ln(l,r.length+o.length));else{let a=l.length>>1;i.push(new Ln(l.slice(0,a)),new Ln(l.slice(a)))}}else i.push(o)}replace(e,t,i){if(!(i instanceof Ln))return super.replace(e,t,i);[e,t]=Ua(this,e,t);let s=vh(this.text,vh(i.text,nv(this.text,0,e)),t),o=this.length+i.length-(t-e);return s.length<=32?new Ln(s,o):no.from(Ln.split(s,[]),o)}sliceString(e,t=this.length,i=`
`){[e,t]=Ua(this,e,t);let s="";for(let o=0,r=0;o<=t&&r<this.text.length;r++){let l=this.text[r],a=o+l.length;o>e&&r&&(s+=i),e<a&&t>o&&(s+=l.slice(Math.max(0,e-o),t-o)),o=a+1}return s}flatten(e){for(let t of this.text)e.push(t)}scanIdentical(){return 0}static split(e,t){let i=[],s=-1;for(let o of e)i.push(o),s+=o.length+1,i.length==32&&(t.push(new Ln(i,s)),i=[],s=-1);return s>-1&&t.push(new Ln(i,s)),t}}class no extends qt{constructor(e,t){super(),this.children=e,this.length=t,this.lines=0;for(let i of e)this.lines+=i.lines}lineInner(e,t,i,s){for(let o=0;;o++){let r=this.children[o],l=s+r.length,a=i+r.lines-1;if((t?a:l)>=e)return r.lineInner(e,t,i,s);s=l+1,i=a+1}}decompose(e,t,i,s){for(let o=0,r=0;r<=t&&o<this.children.length;o++){let l=this.children[o],a=r+l.length;if(e<=a&&t>=r){let c=s&((r<=e?1:0)|(a>=t?2:0));r>=e&&a<=t&&!c?i.push(l):l.decompose(e-r,t-r,i,c)}r=a+1}}replace(e,t,i){if([e,t]=Ua(this,e,t),i.lines<this.lines)for(let s=0,o=0;s<this.children.length;s++){let r=this.children[s],l=o+r.length;if(e>=o&&t<=l){let a=r.replace(e-o,t-o,i),c=this.lines-r.lines+a.lines;if(a.lines<c>>4&&a.lines>c>>6){let f=this.children.slice();return f[s]=a,new no(f,this.length-(t-e)+i.length)}return super.replace(o,l,a)}o=l+1}return super.replace(e,t,i)}sliceString(e,t=this.length,i=`
`){[e,t]=Ua(this,e,t);let s="";for(let o=0,r=0;o<this.children.length&&r<=t;o++){let l=this.children[o],a=r+l.length;r>e&&o&&(s+=i),e<a&&t>r&&(s+=l.sliceString(e-r,t-r,i)),r=a+1}return s}flatten(e){for(let t of this.children)t.flatten(e)}scanIdentical(e,t){if(!(e instanceof no))return 0;let i=0,[s,o,r,l]=t>0?[0,0,this.children.length,e.children.length]:[this.children.length-1,e.children.length-1,-1,-1];for(;;s+=t,o+=t){if(s==r||o==l)return i;let a=this.children[s],c=e.children[o];if(a!=c)return i+a.scanIdentical(c,t);i+=a.length+1}}static from(e,t=e.reduce((i,s)=>i+s.length+1,-1)){let i=0;for(let d of e)i+=d.lines;if(i<32){let d=[];for(let g of e)g.flatten(d);return new Ln(d,t)}let s=Math.max(32,i>>5),o=s<<1,r=s>>1,l=[],a=0,c=-1,f=[];function u(d){let g;if(d.lines>o&&d instanceof no)for(let m of d.children)u(m);else d.lines>r&&(a>r||!a)?(h(),l.push(d)):d instanceof Ln&&a&&(g=f[f.length-1])instanceof Ln&&d.lines+g.lines<=32?(a+=d.lines,c+=d.length+1,f[f.length-1]=new Ln(g.text.concat(d.text),g.length+1+d.length)):(a+d.lines>s&&h(),a+=d.lines,c+=d.length+1,f.push(d))}function h(){a!=0&&(l.push(f.length==1?f[0]:no.from(f,c)),c=-1,a=f.length=0)}for(let d of e)u(d);return h(),l.length==1?l[0]:new no(l,t)}}qt.empty=new Ln([""],0);function mV(n){let e=-1;for(let t of n)e+=t.length+1;return e}function vh(n,e,t=0,i=1e9){for(let s=0,o=0,r=!0;o<n.length&&s<=i;o++){let l=n[o],a=s+l.length;a>=t&&(a>i&&(l=l.slice(0,i-s)),s<t&&(l=l.slice(t-s)),r?(e[e.length-1]+=l,r=!1):e.push(l)),s=a+1}return e}function nv(n,e,t){return vh(n,[""],e,t)}class Gc{constructor(e,t=1){this.dir=t,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[e],this.offsets=[t>0?1:(e instanceof Ln?e.text.length:e.children.length)<<1]}nextInner(e,t){for(this.done=this.lineBreak=!1;;){let i=this.nodes.length-1,s=this.nodes[i],o=this.offsets[i],r=o>>1,l=s instanceof Ln?s.text.length:s.children.length;if(r==(t>0?l:0)){if(i==0)return this.done=!0,this.value="",this;t>0&&this.offsets[i-1]++,this.nodes.pop(),this.offsets.pop()}else if((o&1)==(t>0?0:1)){if(this.offsets[i]+=t,e==0)return this.lineBreak=!0,this.value=`
`,this;e--}else if(s instanceof Ln){let a=s.text[r+(t<0?-1:0)];if(this.offsets[i]+=t,a.length>Math.max(0,e))return this.value=e==0?a:t>0?a.slice(e):a.slice(0,a.length-e),this;e-=a.length}else{let a=s.children[r+(t<0?-1:0)];e>a.length?(e-=a.length,this.offsets[i]+=t):(t<0&&this.offsets[i]--,this.nodes.push(a),this.offsets.push(t>0?1:(a instanceof Ln?a.text.length:a.children.length)<<1))}}}next(e=0){return e<0&&(this.nextInner(-e,-this.dir),e=this.value.length),this.nextInner(e,this.dir)}}class BM{constructor(e,t,i){this.value="",this.done=!1,this.cursor=new Gc(e,t>i?-1:1),this.pos=t>i?e.length:0,this.from=Math.min(t,i),this.to=Math.max(t,i)}nextInner(e,t){if(t<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;e+=Math.max(0,t<0?this.pos-this.to:this.from-this.pos);let i=t<0?this.pos-this.from:this.to-this.pos;e>i&&(e=i),i-=e;let{value:s}=this.cursor.next(e);return this.pos+=(s.length+e)*t,this.value=s.length<=i?s:t<0?s.slice(s.length-i):s.slice(0,i),this.done=!this.value,this}next(e=0){return e<0?e=Math.max(e,this.from-this.pos):e>0&&(e=Math.min(e,this.to-this.pos)),this.nextInner(e,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&this.value!=""}}class jM{constructor(e){this.inner=e,this.afterBreak=!0,this.value="",this.done=!1}next(e=0){let{done:t,lineBreak:i,value:s}=this.inner.next(e);return t&&this.afterBreak?(this.value="",this.afterBreak=!1):t?(this.done=!0,this.value=""):i?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=s,this.afterBreak=!1),this}get lineBreak(){return!1}}typeof Symbol<"u"&&(qt.prototype[Symbol.iterator]=function(){return this.iter()},Gc.prototype[Symbol.iterator]=BM.prototype[Symbol.iterator]=jM.prototype[Symbol.iterator]=function(){return this});class pV{constructor(e,t,i,s){this.from=e,this.to=t,this.number=i,this.text=s}get length(){return this.to-this.from}}function Ua(n,e,t){return e=Math.max(0,Math.min(n.length,e)),[e,Math.max(e,Math.min(n.length,t))]}let xa="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map(n=>n?parseInt(n,36):1);for(let n=1;n<xa.length;n++)xa[n]+=xa[n-1];function bV(n){for(let e=1;e<xa.length;e+=2)if(xa[e]>n)return xa[e-1]<=n;return!1}function iv(n){return n>=127462&&n<=127487}const sv=8205;function oi(n,e,t=!0,i=!0){return(t?zM:yV)(n,e,i)}function zM(n,e,t){if(e==n.length)return e;e&&FM(n.charCodeAt(e))&&VM(n.charCodeAt(e-1))&&e--;let i=ni(n,e);for(e+=ls(i);e<n.length;){let s=ni(n,e);if(i==sv||s==sv||t&&bV(s))e+=ls(s),i=s;else if(iv(s)){let o=0,r=e-2;for(;r>=0&&iv(ni(n,r));)o++,r-=2;if(o%2==0)break;e+=2}else break}return e}function yV(n,e,t){for(;e>0;){let i=zM(n,e-2,t);if(i<e)return i;e--}return 0}function FM(n){return n>=56320&&n<57344}function VM(n){return n>=55296&&n<56320}function ni(n,e){let t=n.charCodeAt(e);if(!VM(t)||e+1==n.length)return t;let i=n.charCodeAt(e+1);return FM(i)?(t-55296<<10)+(i-56320)+65536:t}function V0(n){return n<=65535?String.fromCharCode(n):(n-=65536,String.fromCharCode((n>>10)+55296,(n&1023)+56320))}function ls(n){return n<65536?1:2}const Ep=/\r\n?|\n/;var xi=function(n){return n[n.Simple=0]="Simple",n[n.TrackDel=1]="TrackDel",n[n.TrackBefore=2]="TrackBefore",n[n.TrackAfter=3]="TrackAfter",n}(xi||(xi={}));class uo{constructor(e){this.sections=e}get length(){let e=0;for(let t=0;t<this.sections.length;t+=2)e+=this.sections[t];return e}get newLength(){let e=0;for(let t=0;t<this.sections.length;t+=2){let i=this.sections[t+1];e+=i<0?this.sections[t]:i}return e}get empty(){return this.sections.length==0||this.sections.length==2&&this.sections[1]<0}iterGaps(e){for(let t=0,i=0,s=0;t<this.sections.length;){let o=this.sections[t++],r=this.sections[t++];r<0?(e(i,s,o),s+=o):s+=r,i+=o}}iterChangedRanges(e,t=!1){Rp(this,e,t)}get invertedDesc(){let e=[];for(let t=0;t<this.sections.length;){let i=this.sections[t++],s=this.sections[t++];s<0?e.push(i,s):e.push(s,i)}return new uo(e)}composeDesc(e){return this.empty?e:e.empty?this:HM(this,e)}mapDesc(e,t=!1){return e.empty?this:Dp(this,e,t)}mapPos(e,t=-1,i=xi.Simple){let s=0,o=0;for(let r=0;r<this.sections.length;){let l=this.sections[r++],a=this.sections[r++],c=s+l;if(a<0){if(c>e)return o+(e-s);o+=l}else{if(i!=xi.Simple&&c>=e&&(i==xi.TrackDel&&s<e&&c>e||i==xi.TrackBefore&&s<e||i==xi.TrackAfter&&c>e))return null;if(c>e||c==e&&t<0&&!l)return e==s||t<0?o:o+a;o+=a}s=c}if(e>s)throw new RangeError(`Position ${e} is out of range for changeset of length ${s}`);return o}touchesRange(e,t=e){for(let i=0,s=0;i<this.sections.length&&s<=t;){let o=this.sections[i++],r=this.sections[i++],l=s+o;if(r>=0&&s<=t&&l>=e)return s<e&&l>t?"cover":!0;s=l}return!1}toString(){let e="";for(let t=0;t<this.sections.length;){let i=this.sections[t++],s=this.sections[t++];e+=(e?" ":"")+i+(s>=0?":"+s:"")}return e}toJSON(){return this.sections}static fromJSON(e){if(!Array.isArray(e)||e.length%2||e.some(t=>typeof t!="number"))throw new RangeError("Invalid JSON representation of ChangeDesc");return new uo(e)}static create(e){return new uo(e)}}class Fn extends uo{constructor(e,t){super(e),this.inserted=t}apply(e){if(this.length!=e.length)throw new RangeError("Applying change set to a document with the wrong length");return Rp(this,(t,i,s,o,r)=>e=e.replace(s,s+(i-t),r),!1),e}mapDesc(e,t=!1){return Dp(this,e,t,!0)}invert(e){let t=this.sections.slice(),i=[];for(let s=0,o=0;s<t.length;s+=2){let r=t[s],l=t[s+1];if(l>=0){t[s]=l,t[s+1]=r;let a=s>>1;for(;i.length<a;)i.push(qt.empty);i.push(r?e.slice(o,o+r):qt.empty)}o+=r}return new Fn(t,i)}compose(e){return this.empty?e:e.empty?this:HM(this,e,!0)}map(e,t=!1){return e.empty?this:Dp(this,e,t,!0)}iterChanges(e,t=!1){Rp(this,e,t)}get desc(){return uo.create(this.sections)}filter(e){let t=[],i=[],s=[],o=new wf(this);e:for(let r=0,l=0;;){let a=r==e.length?1e9:e[r++];for(;l<a||l==a&&o.len==0;){if(o.done)break e;let f=Math.min(o.len,a-l);hi(s,f,-1);let u=o.ins==-1?-1:o.off==0?o.ins:0;hi(t,f,u),u>0&&dr(i,t,o.text),o.forward(f),l+=f}let c=e[r++];for(;l<c;){if(o.done)break e;let f=Math.min(o.len,c-l);hi(t,f,-1),hi(s,f,o.ins==-1?-1:o.off==0?o.ins:0),o.forward(f),l+=f}}return{changes:new Fn(t,i),filtered:uo.create(s)}}toJSON(){let e=[];for(let t=0;t<this.sections.length;t+=2){let i=this.sections[t],s=this.sections[t+1];s<0?e.push(i):s==0?e.push([i]):e.push([i].concat(this.inserted[t>>1].toJSON()))}return e}static of(e,t,i){let s=[],o=[],r=0,l=null;function a(f=!1){if(!f&&!s.length)return;r<t&&hi(s,t-r,-1);let u=new Fn(s,o);l=l?l.compose(u.map(l)):u,s=[],o=[],r=0}function c(f){if(Array.isArray(f))for(let u of f)c(u);else if(f instanceof Fn){if(f.length!=t)throw new RangeError(`Mismatched change set length (got ${f.length}, expected ${t})`);a(),l=l?l.compose(f.map(l)):f}else{let{from:u,to:h=u,insert:d}=f;if(u>h||u<0||h>t)throw new RangeError(`Invalid change range ${u} to ${h} (in doc of length ${t})`);let g=d?typeof d=="string"?qt.of(d.split(i||Ep)):d:qt.empty,m=g.length;if(u==h&&m==0)return;u<r&&a(),u>r&&hi(s,u-r,-1),hi(s,h-u,m),dr(o,s,g),r=h}}return c(e),a(!l),l}static empty(e){return new Fn(e?[e,-1]:[],[])}static fromJSON(e){if(!Array.isArray(e))throw new RangeError("Invalid JSON representation of ChangeSet");let t=[],i=[];for(let s=0;s<e.length;s++){let o=e[s];if(typeof o=="number")t.push(o,-1);else{if(!Array.isArray(o)||typeof o[0]!="number"||o.some((r,l)=>l&&typeof r!="string"))throw new RangeError("Invalid JSON representation of ChangeSet");if(o.length==1)t.push(o[0],0);else{for(;i.length<s;)i.push(qt.empty);i[s]=qt.of(o.slice(1)),t.push(o[0],i[s].length)}}}return new Fn(t,i)}static createSet(e,t){return new Fn(e,t)}}function hi(n,e,t,i=!1){if(e==0&&t<=0)return;let s=n.length-2;s>=0&&t<=0&&t==n[s+1]?n[s]+=e:e==0&&n[s]==0?n[s+1]+=t:i?(n[s]+=e,n[s+1]+=t):n.push(e,t)}function dr(n,e,t){if(t.length==0)return;let i=e.length-2>>1;if(i<n.length)n[n.length-1]=n[n.length-1].append(t);else{for(;n.length<i;)n.push(qt.empty);n.push(t)}}function Rp(n,e,t){let i=n.inserted;for(let s=0,o=0,r=0;r<n.sections.length;){let l=n.sections[r++],a=n.sections[r++];if(a<0)s+=l,o+=l;else{let c=s,f=o,u=qt.empty;for(;c+=l,f+=a,a&&i&&(u=u.append(i[r-2>>1])),!(t||r==n.sections.length||n.sections[r+1]<0);)l=n.sections[r++],a=n.sections[r++];e(s,c,o,f,u),s=c,o=f}}}function Dp(n,e,t,i=!1){let s=[],o=i?[]:null,r=new wf(n),l=new wf(e);for(let a=-1;;)if(r.ins==-1&&l.ins==-1){let c=Math.min(r.len,l.len);hi(s,c,-1),r.forward(c),l.forward(c)}else if(l.ins>=0&&(r.ins<0||a==r.i||r.off==0&&(l.len<r.len||l.len==r.len&&!t))){let c=l.len;for(hi(s,l.ins,-1);c;){let f=Math.min(r.len,c);r.ins>=0&&a<r.i&&r.len<=f&&(hi(s,0,r.ins),o&&dr(o,s,r.text),a=r.i),r.forward(f),c-=f}l.next()}else if(r.ins>=0){let c=0,f=r.len;for(;f;)if(l.ins==-1){let u=Math.min(f,l.len);c+=u,f-=u,l.forward(u)}else if(l.ins==0&&l.len<f)f-=l.len,l.next();else break;hi(s,c,a<r.i?r.ins:0),o&&a<r.i&&dr(o,s,r.text),a=r.i,r.forward(r.len-f)}else{if(r.done&&l.done)return o?Fn.createSet(s,o):uo.create(s);throw new Error("Mismatched change set lengths")}}function HM(n,e,t=!1){let i=[],s=t?[]:null,o=new wf(n),r=new wf(e);for(let l=!1;;){if(o.done&&r.done)return s?Fn.createSet(i,s):uo.create(i);if(o.ins==0)hi(i,o.len,0,l),o.next();else if(r.len==0&&!r.done)hi(i,0,r.ins,l),s&&dr(s,i,r.text),r.next();else{if(o.done||r.done)throw new Error("Mismatched change set lengths");{let a=Math.min(o.len2,r.len),c=i.length;if(o.ins==-1){let f=r.ins==-1?-1:r.off?0:r.ins;hi(i,a,f,l),s&&f&&dr(s,i,r.text)}else r.ins==-1?(hi(i,o.off?0:o.len,a,l),s&&dr(s,i,o.textBit(a))):(hi(i,o.off?0:o.len,r.off?0:r.ins,l),s&&!r.off&&dr(s,i,r.text));l=(o.ins>a||r.ins>=0&&r.len>a)&&(l||i.length>c),o.forward2(a),r.forward(a)}}}}class wf{constructor(e){this.set=e,this.i=0,this.next()}next(){let{sections:e}=this.set;this.i<e.length?(this.len=e[this.i++],this.ins=e[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return this.ins==-2}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:e}=this.set,t=this.i-2>>1;return t>=e.length?qt.empty:e[t]}textBit(e){let{inserted:t}=this.set,i=this.i-2>>1;return i>=t.length&&!e?qt.empty:t[i].slice(this.off,e==null?void 0:this.off+e)}forward(e){e==this.len?this.next():(this.len-=e,this.off+=e)}forward2(e){this.ins==-1?this.forward(e):e==this.ins?this.next():(this.ins-=e,this.off+=e)}}class ul{constructor(e,t,i){this.from=e,this.to=t,this.flags=i}get anchor(){return this.flags&32?this.to:this.from}get head(){return this.flags&32?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return this.flags&8?-1:this.flags&16?1:0}get bidiLevel(){let e=this.flags&7;return e==7?null:e}get goalColumn(){let e=this.flags>>6;return e==16777215?void 0:e}map(e,t=-1){let i,s;return this.empty?i=s=e.mapPos(this.from,t):(i=e.mapPos(this.from,1),s=e.mapPos(this.to,-1)),i==this.from&&s==this.to?this:new ul(i,s,this.flags)}extend(e,t=e){if(e<=this.anchor&&t>=this.anchor)return _e.range(e,t);let i=Math.abs(e-this.anchor)>Math.abs(t-this.anchor)?e:t;return _e.range(this.anchor,i)}eq(e,t=!1){return this.anchor==e.anchor&&this.head==e.head&&(!t||!this.empty||this.assoc==e.assoc)}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(e){if(!e||typeof e.anchor!="number"||typeof e.head!="number")throw new RangeError("Invalid JSON representation for SelectionRange");return _e.range(e.anchor,e.head)}static create(e,t,i){return new ul(e,t,i)}}class _e{constructor(e,t){this.ranges=e,this.mainIndex=t}map(e,t=-1){return e.empty?this:_e.create(this.ranges.map(i=>i.map(e,t)),this.mainIndex)}eq(e,t=!1){if(this.ranges.length!=e.ranges.length||this.mainIndex!=e.mainIndex)return!1;for(let i=0;i<this.ranges.length;i++)if(!this.ranges[i].eq(e.ranges[i],t))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return this.ranges.length==1?this:new _e([this.main],0)}addRange(e,t=!0){return _e.create([e].concat(this.ranges),t?0:this.mainIndex+1)}replaceRange(e,t=this.mainIndex){let i=this.ranges.slice();return i[t]=e,_e.create(i,this.mainIndex)}toJSON(){return{ranges:this.ranges.map(e=>e.toJSON()),main:this.mainIndex}}static fromJSON(e){if(!e||!Array.isArray(e.ranges)||typeof e.main!="number"||e.main>=e.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new _e(e.ranges.map(t=>ul.fromJSON(t)),e.main)}static single(e,t=e){return new _e([_e.range(e,t)],0)}static create(e,t=0){if(e.length==0)throw new RangeError("A selection needs at least one range");for(let i=0,s=0;s<e.length;s++){let o=e[s];if(o.empty?o.from<=i:o.from<i)return _e.normalized(e.slice(),t);i=o.to}return new _e(e,t)}static cursor(e,t=0,i,s){return ul.create(e,e,(t==0?0:t<0?8:16)|(i==null?7:Math.min(6,i))|(s??16777215)<<6)}static range(e,t,i,s){let o=(i??16777215)<<6|(s==null?7:Math.min(6,s));return t<e?ul.create(t,e,48|o):ul.create(e,t,(t>e?8:0)|o)}static normalized(e,t=0){let i=e[t];e.sort((s,o)=>s.from-o.from),t=e.indexOf(i);for(let s=1;s<e.length;s++){let o=e[s],r=e[s-1];if(o.empty?o.from<=r.to:o.from<r.to){let l=r.from,a=Math.max(o.to,r.to);s<=t&&t--,e.splice(--s,2,o.anchor>o.head?_e.range(a,l):_e.range(l,a))}}return new _e(e,t)}}function WM(n,e){for(let t of n.ranges)if(t.to>e)throw new RangeError("Selection points outside of document")}let H0=0;class He{constructor(e,t,i,s,o){this.combine=e,this.compareInput=t,this.compare=i,this.isStatic=s,this.id=H0++,this.default=e([]),this.extensions=typeof o=="function"?o(this):o}get reader(){return this}static define(e={}){return new He(e.combine||(t=>t),e.compareInput||((t,i)=>t===i),e.compare||(e.combine?(t,i)=>t===i:W0),!!e.static,e.enables)}of(e){return new kh([],this,0,e)}compute(e,t){if(this.isStatic)throw new Error("Can't compute a static facet");return new kh(e,this,1,t)}computeN(e,t){if(this.isStatic)throw new Error("Can't compute a static facet");return new kh(e,this,2,t)}from(e,t){return t||(t=i=>i),this.compute([e],i=>t(i.field(e)))}}function W0(n,e){return n==e||n.length==e.length&&n.every((t,i)=>t===e[i])}class kh{constructor(e,t,i,s){this.dependencies=e,this.facet=t,this.type=i,this.value=s,this.id=H0++}dynamicSlot(e){var t;let i=this.value,s=this.facet.compareInput,o=this.id,r=e[o]>>1,l=this.type==2,a=!1,c=!1,f=[];for(let u of this.dependencies)u=="doc"?a=!0:u=="selection"?c=!0:((t=e[u.id])!==null&&t!==void 0?t:1)&1||f.push(e[u.id]);return{create(u){return u.values[r]=i(u),1},update(u,h){if(a&&h.docChanged||c&&(h.docChanged||h.selection)||Lp(u,f)){let d=i(u);if(l?!ov(d,u.values[r],s):!s(d,u.values[r]))return u.values[r]=d,1}return 0},reconfigure:(u,h)=>{let d,g=h.config.address[o];if(g!=null){let m=cd(h,g);if(this.dependencies.every(p=>p instanceof He?h.facet(p)===u.facet(p):p instanceof Un?h.field(p,!1)==u.field(p,!1):!0)||(l?ov(d=i(u),m,s):s(d=i(u),m)))return u.values[r]=m,0}else d=i(u);return u.values[r]=d,1}}}}function ov(n,e,t){if(n.length!=e.length)return!1;for(let i=0;i<n.length;i++)if(!t(n[i],e[i]))return!1;return!0}function Lp(n,e){let t=!1;for(let i of e)Qc(n,i)&1&&(t=!0);return t}function _V(n,e,t){let i=t.map(a=>n[a.id]),s=t.map(a=>a.type),o=i.filter(a=>!(a&1)),r=n[e.id]>>1;function l(a){let c=[];for(let f=0;f<i.length;f++){let u=cd(a,i[f]);if(s[f]==2)for(let h of u)c.push(h);else c.push(u)}return e.combine(c)}return{create(a){for(let c of i)Qc(a,c);return a.values[r]=l(a),1},update(a,c){if(!Lp(a,o))return 0;let f=l(a);return e.compare(f,a.values[r])?0:(a.values[r]=f,1)},reconfigure(a,c){let f=Lp(a,i),u=c.config.facets[e.id],h=c.facet(e);if(u&&!f&&W0(t,u))return a.values[r]=h,0;let d=l(a);return e.compare(d,h)?(a.values[r]=h,0):(a.values[r]=d,1)}}}const rv=He.define({static:!0});class Un{constructor(e,t,i,s,o){this.id=e,this.createF=t,this.updateF=i,this.compareF=s,this.spec=o,this.provides=void 0}static define(e){let t=new Un(H0++,e.create,e.update,e.compare||((i,s)=>i===s),e);return e.provide&&(t.provides=e.provide(t)),t}create(e){let t=e.facet(rv).find(i=>i.field==this);return((t==null?void 0:t.create)||this.createF)(e)}slot(e){let t=e[this.id]>>1;return{create:i=>(i.values[t]=this.create(i),1),update:(i,s)=>{let o=i.values[t],r=this.updateF(o,s);return this.compareF(o,r)?0:(i.values[t]=r,1)},reconfigure:(i,s)=>s.config.address[this.id]!=null?(i.values[t]=s.field(this),0):(i.values[t]=this.create(i),1)}}init(e){return[this,rv.of({field:this,create:e})]}get extension(){return this}}const ll={lowest:4,low:3,default:2,high:1,highest:0};function vc(n){return e=>new qM(e,n)}const Wl={highest:vc(ll.highest),high:vc(ll.high),default:vc(ll.default),low:vc(ll.low),lowest:vc(ll.lowest)};class qM{constructor(e,t){this.inner=e,this.prec=t}}class To{of(e){return new Ip(this,e)}reconfigure(e){return To.reconfigure.of({compartment:this,extension:e})}get(e){return e.config.compartments.get(this)}}class Ip{constructor(e,t){this.compartment=e,this.inner=t}}class ad{constructor(e,t,i,s,o,r){for(this.base=e,this.compartments=t,this.dynamicSlots=i,this.address=s,this.staticValues=o,this.facets=r,this.statusTemplate=[];this.statusTemplate.length<i.length;)this.statusTemplate.push(0)}staticFacet(e){let t=this.address[e.id];return t==null?e.default:this.staticValues[t>>1]}static resolve(e,t,i){let s=[],o=Object.create(null),r=new Map;for(let h of wV(e,t,r))h instanceof Un?s.push(h):(o[h.facet.id]||(o[h.facet.id]=[])).push(h);let l=Object.create(null),a=[],c=[];for(let h of s)l[h.id]=c.length<<1,c.push(d=>h.slot(d));let f=i==null?void 0:i.config.facets;for(let h in o){let d=o[h],g=d[0].facet,m=f&&f[h]||[];if(d.every(p=>p.type==0))if(l[g.id]=a.length<<1|1,W0(m,d))a.push(i.facet(g));else{let p=g.combine(d.map(b=>b.value));a.push(i&&g.compare(p,i.facet(g))?i.facet(g):p)}else{for(let p of d)p.type==0?(l[p.id]=a.length<<1|1,a.push(p.value)):(l[p.id]=c.length<<1,c.push(b=>p.dynamicSlot(b)));l[g.id]=c.length<<1,c.push(p=>_V(p,g,d))}}let u=c.map(h=>h(l));return new ad(e,r,u,l,a,o)}}function wV(n,e,t){let i=[[],[],[],[],[]],s=new Map;function o(r,l){let a=s.get(r);if(a!=null){if(a<=l)return;let c=i[a].indexOf(r);c>-1&&i[a].splice(c,1),r instanceof Ip&&t.delete(r.compartment)}if(s.set(r,l),Array.isArray(r))for(let c of r)o(c,l);else if(r instanceof Ip){if(t.has(r.compartment))throw new RangeError("Duplicate use of compartment in extensions");let c=e.get(r.compartment)||r.inner;t.set(r.compartment,c),o(c,l)}else if(r instanceof qM)o(r.inner,r.prec);else if(r instanceof Un)i[l].push(r),r.provides&&o(r.provides,l);else if(r instanceof kh)i[l].push(r),r.facet.extensions&&o(r.facet.extensions,ll.default);else{let c=r.extension;if(!c)throw new Error(`Unrecognized extension value in extension set (${r}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);o(c,l)}}return o(n,ll.default),i.reduce((r,l)=>r.concat(l))}function Qc(n,e){if(e&1)return 2;let t=e>>1,i=n.status[t];if(i==4)throw new Error("Cyclic dependency between fields and/or facets");if(i&2)return i;n.status[t]=4;let s=n.computeSlot(n,n.config.dynamicSlots[t]);return n.status[t]=2|s}function cd(n,e){return e&1?n.config.staticValues[e>>1]:n.values[e>>1]}const UM=He.define(),Np=He.define({combine:n=>n.some(e=>e),static:!0}),JM=He.define({combine:n=>n.length?n[0]:void 0,static:!0}),KM=He.define(),YM=He.define(),XM=He.define(),GM=He.define({combine:n=>n.length?n[0]:!1});class $o{constructor(e,t){this.type=e,this.value=t}static define(){return new vV}}class vV{of(e){return new $o(this,e)}}class kV{constructor(e){this.map=e}of(e){return new yt(this,e)}}class yt{constructor(e,t){this.type=e,this.value=t}map(e){let t=this.type.map(this.value,e);return t===void 0?void 0:t==this.value?this:new yt(this.type,t)}is(e){return this.type==e}static define(e={}){return new kV(e.map||(t=>t))}static mapEffects(e,t){if(!e.length)return e;let i=[];for(let s of e){let o=s.map(t);o&&i.push(o)}return i}}yt.reconfigure=yt.define();yt.appendConfig=yt.define();class Vn{constructor(e,t,i,s,o,r){this.startState=e,this.changes=t,this.selection=i,this.effects=s,this.annotations=o,this.scrollIntoView=r,this._doc=null,this._state=null,i&&WM(i,t.newLength),o.some(l=>l.type==Vn.time)||(this.annotations=o.concat(Vn.time.of(Date.now())))}static create(e,t,i,s,o,r){return new Vn(e,t,i,s,o,r)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(e){for(let t of this.annotations)if(t.type==e)return t.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(e){let t=this.annotation(Vn.userEvent);return!!(t&&(t==e||t.length>e.length&&t.slice(0,e.length)==e&&t[e.length]=="."))}}Vn.time=$o.define();Vn.userEvent=$o.define();Vn.addToHistory=$o.define();Vn.remote=$o.define();function SV(n,e){let t=[];for(let i=0,s=0;;){let o,r;if(i<n.length&&(s==e.length||e[s]>=n[i]))o=n[i++],r=n[i++];else if(s<e.length)o=e[s++],r=e[s++];else return t;!t.length||t[t.length-1]<o?t.push(o,r):t[t.length-1]<r&&(t[t.length-1]=r)}}function QM(n,e,t){var i;let s,o,r;return t?(s=e.changes,o=Fn.empty(e.changes.length),r=n.changes.compose(e.changes)):(s=e.changes.map(n.changes),o=n.changes.mapDesc(e.changes,!0),r=n.changes.compose(s)),{changes:r,selection:e.selection?e.selection.map(o):(i=n.selection)===null||i===void 0?void 0:i.map(s),effects:yt.mapEffects(n.effects,s).concat(yt.mapEffects(e.effects,o)),annotations:n.annotations.length?n.annotations.concat(e.annotations):e.annotations,scrollIntoView:n.scrollIntoView||e.scrollIntoView}}function Bp(n,e,t){let i=e.selection,s=Oa(e.annotations);return e.userEvent&&(s=s.concat(Vn.userEvent.of(e.userEvent))),{changes:e.changes instanceof Fn?e.changes:Fn.of(e.changes||[],t,n.facet(JM)),selection:i&&(i instanceof _e?i:_e.single(i.anchor,i.head)),effects:Oa(e.effects),annotations:s,scrollIntoView:!!e.scrollIntoView}}function ZM(n,e,t){let i=Bp(n,e.length?e[0]:{},n.doc.length);e.length&&e[0].filter===!1&&(t=!1);for(let o=1;o<e.length;o++){e[o].filter===!1&&(t=!1);let r=!!e[o].sequential;i=QM(i,Bp(n,e[o],r?i.changes.newLength:n.doc.length),r)}let s=Vn.create(n,i.changes,i.selection,i.effects,i.annotations,i.scrollIntoView);return MV(t?CV(s):s)}function CV(n){let e=n.startState,t=!0;for(let s of e.facet(KM)){let o=s(n);if(o===!1){t=!1;break}Array.isArray(o)&&(t=t===!0?o:SV(t,o))}if(t!==!0){let s,o;if(t===!1)o=n.changes.invertedDesc,s=Fn.empty(e.doc.length);else{let r=n.changes.filter(t);s=r.changes,o=r.filtered.mapDesc(r.changes).invertedDesc}n=Vn.create(e,s,n.selection&&n.selection.map(o),yt.mapEffects(n.effects,o),n.annotations,n.scrollIntoView)}let i=e.facet(YM);for(let s=i.length-1;s>=0;s--){let o=i[s](n);o instanceof Vn?n=o:Array.isArray(o)&&o.length==1&&o[0]instanceof Vn?n=o[0]:n=ZM(e,Oa(o),!1)}return n}function MV(n){let e=n.startState,t=e.facet(XM),i=n;for(let s=t.length-1;s>=0;s--){let o=t[s](n);o&&Object.keys(o).length&&(i=QM(i,Bp(e,o,n.changes.newLength),!0))}return i==n?n:Vn.create(e,n.changes,n.selection,i.effects,i.annotations,i.scrollIntoView)}const AV=[];function Oa(n){return n==null?AV:Array.isArray(n)?n:[n]}var vn=function(n){return n[n.Word=0]="Word",n[n.Space=1]="Space",n[n.Other=2]="Other",n}(vn||(vn={}));const xV=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let jp;try{jp=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch{}function OV(n){if(jp)return jp.test(n);for(let e=0;e<n.length;e++){let t=n[e];if(/\w/.test(t)||t>""&&(t.toUpperCase()!=t.toLowerCase()||xV.test(t)))return!0}return!1}function PV(n){return e=>{if(!/\S/.test(e))return vn.Space;if(OV(e))return vn.Word;for(let t=0;t<n.length;t++)if(e.indexOf(n[t])>-1)return vn.Word;return vn.Other}}class Pt{constructor(e,t,i,s,o,r){this.config=e,this.doc=t,this.selection=i,this.values=s,this.status=e.statusTemplate.slice(),this.computeSlot=o,r&&(r._state=this);for(let l=0;l<this.config.dynamicSlots.length;l++)Qc(this,l<<1);this.computeSlot=null}field(e,t=!0){let i=this.config.address[e.id];if(i==null){if(t)throw new RangeError("Field is not present in this state");return}return Qc(this,i),cd(this,i)}update(...e){return ZM(this,e,!0)}applyTransaction(e){let t=this.config,{base:i,compartments:s}=t;for(let l of e.effects)l.is(To.reconfigure)?(t&&(s=new Map,t.compartments.forEach((a,c)=>s.set(c,a)),t=null),s.set(l.value.compartment,l.value.extension)):l.is(yt.reconfigure)?(t=null,i=l.value):l.is(yt.appendConfig)&&(t=null,i=Oa(i).concat(l.value));let o;t?o=e.startState.values.slice():(t=ad.resolve(i,s,this),o=new Pt(t,this.doc,this.selection,t.dynamicSlots.map(()=>null),(a,c)=>c.reconfigure(a,this),null).values);let r=e.startState.facet(Np)?e.newSelection:e.newSelection.asSingle();new Pt(t,e.newDoc,r,o,(l,a)=>a.update(l,e),e)}replaceSelection(e){return typeof e=="string"&&(e=this.toText(e)),this.changeByRange(t=>({changes:{from:t.from,to:t.to,insert:e},range:_e.cursor(t.from+e.length)}))}changeByRange(e){let t=this.selection,i=e(t.ranges[0]),s=this.changes(i.changes),o=[i.range],r=Oa(i.effects);for(let l=1;l<t.ranges.length;l++){let a=e(t.ranges[l]),c=this.changes(a.changes),f=c.map(s);for(let h=0;h<l;h++)o[h]=o[h].map(f);let u=s.mapDesc(c,!0);o.push(a.range.map(u)),s=s.compose(f),r=yt.mapEffects(r,f).concat(yt.mapEffects(Oa(a.effects),u))}return{changes:s,selection:_e.create(o,t.mainIndex),effects:r}}changes(e=[]){return e instanceof Fn?e:Fn.of(e,this.doc.length,this.facet(Pt.lineSeparator))}toText(e){return qt.of(e.split(this.facet(Pt.lineSeparator)||Ep))}sliceDoc(e=0,t=this.doc.length){return this.doc.sliceString(e,t,this.lineBreak)}facet(e){let t=this.config.address[e.id];return t==null?e.default:(Qc(this,t),cd(this,t))}toJSON(e){let t={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(e)for(let i in e){let s=e[i];s instanceof Un&&this.config.address[s.id]!=null&&(t[i]=s.spec.toJSON(this.field(e[i]),this))}return t}static fromJSON(e,t={},i){if(!e||typeof e.doc!="string")throw new RangeError("Invalid JSON representation for EditorState");let s=[];if(i){for(let o in i)if(Object.prototype.hasOwnProperty.call(e,o)){let r=i[o],l=e[o];s.push(r.init(a=>r.spec.fromJSON(l,a)))}}return Pt.create({doc:e.doc,selection:_e.fromJSON(e.selection),extensions:t.extensions?s.concat([t.extensions]):s})}static create(e={}){let t=ad.resolve(e.extensions||[],new Map),i=e.doc instanceof qt?e.doc:qt.of((e.doc||"").split(t.staticFacet(Pt.lineSeparator)||Ep)),s=e.selection?e.selection instanceof _e?e.selection:_e.single(e.selection.anchor,e.selection.head):_e.single(0);return WM(s,i.length),t.staticFacet(Np)||(s=s.asSingle()),new Pt(t,i,s,t.dynamicSlots.map(()=>null),(o,r)=>r.create(o),null)}get tabSize(){return this.facet(Pt.tabSize)}get lineBreak(){return this.facet(Pt.lineSeparator)||`
`}get readOnly(){return this.facet(GM)}phrase(e,...t){for(let i of this.facet(Pt.phrases))if(Object.prototype.hasOwnProperty.call(i,e)){e=i[e];break}return t.length&&(e=e.replace(/\$(\$|\d*)/g,(i,s)=>{if(s=="$")return"$";let o=+(s||1);return!o||o>t.length?i:t[o-1]})),e}languageDataAt(e,t,i=-1){let s=[];for(let o of this.facet(UM))for(let r of o(this,t,i))Object.prototype.hasOwnProperty.call(r,e)&&s.push(r[e]);return s}charCategorizer(e){return PV(this.languageDataAt("wordChars",e).join(""))}wordAt(e){let{text:t,from:i,length:s}=this.doc.lineAt(e),o=this.charCategorizer(e),r=e-i,l=e-i;for(;r>0;){let a=oi(t,r,!1);if(o(t.slice(a,r))!=vn.Word)break;r=a}for(;l<s;){let a=oi(t,l);if(o(t.slice(l,a))!=vn.Word)break;l=a}return r==l?null:_e.range(r+i,l+i)}}Pt.allowMultipleSelections=Np;Pt.tabSize=He.define({combine:n=>n.length?n[0]:4});Pt.lineSeparator=JM;Pt.readOnly=GM;Pt.phrases=He.define({compare(n,e){let t=Object.keys(n),i=Object.keys(e);return t.length==i.length&&t.every(s=>n[s]==e[s])}});Pt.languageData=UM;Pt.changeFilter=KM;Pt.transactionFilter=YM;Pt.transactionExtender=XM;To.reconfigure=yt.define();function _s(n,e,t={}){let i={};for(let s of n)for(let o of Object.keys(s)){let r=s[o],l=i[o];if(l===void 0)i[o]=r;else if(!(l===r||r===void 0))if(Object.hasOwnProperty.call(t,o))i[o]=t[o](l,r);else throw new Error("Config merge conflict for field "+o)}for(let s in e)i[s]===void 0&&(i[s]=e[s]);return i}class El{eq(e){return this==e}range(e,t=e){return zp.create(e,t,this)}}El.prototype.startSide=El.prototype.endSide=0;El.prototype.point=!1;El.prototype.mapMode=xi.TrackDel;let zp=class $M{constructor(e,t,i){this.from=e,this.to=t,this.value=i}static create(e,t,i){return new $M(e,t,i)}};function Fp(n,e){return n.from-e.from||n.value.startSide-e.value.startSide}class q0{constructor(e,t,i,s){this.from=e,this.to=t,this.value=i,this.maxPoint=s}get length(){return this.to[this.to.length-1]}findIndex(e,t,i,s=0){let o=i?this.to:this.from;for(let r=s,l=o.length;;){if(r==l)return r;let a=r+l>>1,c=o[a]-e||(i?this.value[a].endSide:this.value[a].startSide)-t;if(a==r)return c>=0?r:l;c>=0?l=a:r=a+1}}between(e,t,i,s){for(let o=this.findIndex(t,-1e9,!0),r=this.findIndex(i,1e9,!1,o);o<r;o++)if(s(this.from[o]+e,this.to[o]+e,this.value[o])===!1)return!1}map(e,t){let i=[],s=[],o=[],r=-1,l=-1;for(let a=0;a<this.value.length;a++){let c=this.value[a],f=this.from[a]+e,u=this.to[a]+e,h,d;if(f==u){let g=t.mapPos(f,c.startSide,c.mapMode);if(g==null||(h=d=g,c.startSide!=c.endSide&&(d=t.mapPos(f,c.endSide),d<h)))continue}else if(h=t.mapPos(f,c.startSide),d=t.mapPos(u,c.endSide),h>d||h==d&&c.startSide>0&&c.endSide<=0)continue;(d-h||c.endSide-c.startSide)<0||(r<0&&(r=h),c.point&&(l=Math.max(l,d-h)),i.push(c),s.push(h-r),o.push(d-r))}return{mapped:i.length?new q0(s,o,i,l):null,pos:r}}}class jt{constructor(e,t,i,s){this.chunkPos=e,this.chunk=t,this.nextLayer=i,this.maxPoint=s}static create(e,t,i,s){return new jt(e,t,i,s)}get length(){let e=this.chunk.length-1;return e<0?0:Math.max(this.chunkEnd(e),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let e=this.nextLayer.size;for(let t of this.chunk)e+=t.value.length;return e}chunkEnd(e){return this.chunkPos[e]+this.chunk[e].length}update(e){let{add:t=[],sort:i=!1,filterFrom:s=0,filterTo:o=this.length}=e,r=e.filter;if(t.length==0&&!r)return this;if(i&&(t=t.slice().sort(Fp)),this.isEmpty)return t.length?jt.of(t):this;let l=new e6(this,null,-1).goto(0),a=0,c=[],f=new bo;for(;l.value||a<t.length;)if(a<t.length&&(l.from-t[a].from||l.startSide-t[a].value.startSide)>=0){let u=t[a++];f.addInner(u.from,u.to,u.value)||c.push(u)}else l.rangeIndex==1&&l.chunkIndex<this.chunk.length&&(a==t.length||this.chunkEnd(l.chunkIndex)<t[a].from)&&(!r||s>this.chunkEnd(l.chunkIndex)||o<this.chunkPos[l.chunkIndex])&&f.addChunk(this.chunkPos[l.chunkIndex],this.chunk[l.chunkIndex])?l.nextChunk():((!r||s>l.to||o<l.from||r(l.from,l.to,l.value))&&(f.addInner(l.from,l.to,l.value)||c.push(zp.create(l.from,l.to,l.value))),l.next());return f.finishInner(this.nextLayer.isEmpty&&!c.length?jt.empty:this.nextLayer.update({add:c,filter:r,filterFrom:s,filterTo:o}))}map(e){if(e.empty||this.isEmpty)return this;let t=[],i=[],s=-1;for(let r=0;r<this.chunk.length;r++){let l=this.chunkPos[r],a=this.chunk[r],c=e.touchesRange(l,l+a.length);if(c===!1)s=Math.max(s,a.maxPoint),t.push(a),i.push(e.mapPos(l));else if(c===!0){let{mapped:f,pos:u}=a.map(l,e);f&&(s=Math.max(s,f.maxPoint),t.push(f),i.push(u))}}let o=this.nextLayer.map(e);return t.length==0?o:new jt(i,t,o||jt.empty,s)}between(e,t,i){if(!this.isEmpty){for(let s=0;s<this.chunk.length;s++){let o=this.chunkPos[s],r=this.chunk[s];if(t>=o&&e<=o+r.length&&r.between(o,e-o,t-o,i)===!1)return}this.nextLayer.between(e,t,i)}}iter(e=0){return vf.from([this]).goto(e)}get isEmpty(){return this.nextLayer==this}static iter(e,t=0){return vf.from(e).goto(t)}static compare(e,t,i,s,o=-1){let r=e.filter(u=>u.maxPoint>0||!u.isEmpty&&u.maxPoint>=o),l=t.filter(u=>u.maxPoint>0||!u.isEmpty&&u.maxPoint>=o),a=lv(r,l,i),c=new kc(r,a,o),f=new kc(l,a,o);i.iterGaps((u,h,d)=>av(c,u,f,h,d,s)),i.empty&&i.length==0&&av(c,0,f,0,0,s)}static eq(e,t,i=0,s){s==null&&(s=999999999);let o=e.filter(f=>!f.isEmpty&&t.indexOf(f)<0),r=t.filter(f=>!f.isEmpty&&e.indexOf(f)<0);if(o.length!=r.length)return!1;if(!o.length)return!0;let l=lv(o,r),a=new kc(o,l,0).goto(i),c=new kc(r,l,0).goto(i);for(;;){if(a.to!=c.to||!Vp(a.active,c.active)||a.point&&(!c.point||!a.point.eq(c.point)))return!1;if(a.to>s)return!0;a.next(),c.next()}}static spans(e,t,i,s,o=-1){let r=new kc(e,null,o).goto(t),l=t,a=r.openStart;for(;;){let c=Math.min(r.to,i);if(r.point){let f=r.activeForPoint(r.to),u=r.pointFrom<t?f.length+1:r.point.startSide<0?f.length:Math.min(f.length,a);s.point(l,c,r.point,f,u,r.pointRank),a=Math.min(r.openEnd(c),f.length)}else c>l&&(s.span(l,c,r.active,a),a=r.openEnd(c));if(r.to>i)return a+(r.point&&r.to>i?1:0);l=r.to,r.next()}}static of(e,t=!1){let i=new bo;for(let s of e instanceof zp?[e]:t?TV(e):e)i.add(s.from,s.to,s.value);return i.finish()}static join(e){if(!e.length)return jt.empty;let t=e[e.length-1];for(let i=e.length-2;i>=0;i--)for(let s=e[i];s!=jt.empty;s=s.nextLayer)t=new jt(s.chunkPos,s.chunk,t,Math.max(s.maxPoint,t.maxPoint));return t}}jt.empty=new jt([],[],null,-1);function TV(n){if(n.length>1)for(let e=n[0],t=1;t<n.length;t++){let i=n[t];if(Fp(e,i)>0)return n.slice().sort(Fp);e=i}return n}jt.empty.nextLayer=jt.empty;class bo{finishChunk(e){this.chunks.push(new q0(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,e&&(this.from=[],this.to=[],this.value=[])}constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}add(e,t,i){this.addInner(e,t,i)||(this.nextLayer||(this.nextLayer=new bo)).add(e,t,i)}addInner(e,t,i){let s=e-this.lastTo||i.startSide-this.last.endSide;if(s<=0&&(e-this.lastFrom||i.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return s<0?!1:(this.from.length==250&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=e),this.from.push(e-this.chunkStart),this.to.push(t-this.chunkStart),this.last=i,this.lastFrom=e,this.lastTo=t,this.value.push(i),i.point&&(this.maxPoint=Math.max(this.maxPoint,t-e)),!0)}addChunk(e,t){if((e-this.lastTo||t.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,t.maxPoint),this.chunks.push(t),this.chunkPos.push(e);let i=t.value.length-1;return this.last=t.value[i],this.lastFrom=t.from[i]+e,this.lastTo=t.to[i]+e,!0}finish(){return this.finishInner(jt.empty)}finishInner(e){if(this.from.length&&this.finishChunk(!1),this.chunks.length==0)return e;let t=jt.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(e):e,this.setMaxPoint);return this.from=null,t}}function lv(n,e,t){let i=new Map;for(let o of n)for(let r=0;r<o.chunk.length;r++)o.chunk[r].maxPoint<=0&&i.set(o.chunk[r],o.chunkPos[r]);let s=new Set;for(let o of e)for(let r=0;r<o.chunk.length;r++){let l=i.get(o.chunk[r]);l!=null&&(t?t.mapPos(l):l)==o.chunkPos[r]&&!(t!=null&&t.touchesRange(l,l+o.chunk[r].length))&&s.add(o.chunk[r])}return s}class e6{constructor(e,t,i,s=0){this.layer=e,this.skip=t,this.minPoint=i,this.rank=s}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(e,t=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(e,t,!1),this}gotoInner(e,t,i){for(;this.chunkIndex<this.layer.chunk.length;){let s=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(s)||this.layer.chunkEnd(this.chunkIndex)<e||s.maxPoint<this.minPoint))break;this.chunkIndex++,i=!1}if(this.chunkIndex<this.layer.chunk.length){let s=this.layer.chunk[this.chunkIndex].findIndex(e-this.layer.chunkPos[this.chunkIndex],t,!0);(!i||this.rangeIndex<s)&&this.setRangeIndex(s)}this.next()}forward(e,t){(this.to-e||this.endSide-t)<0&&this.gotoInner(e,t,!0)}next(){for(;;)if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}else{let e=this.layer.chunkPos[this.chunkIndex],t=this.layer.chunk[this.chunkIndex],i=e+t.from[this.rangeIndex];if(this.from=i,this.to=e+t.to[this.rangeIndex],this.value=t.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}setRangeIndex(e){if(e==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=e}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(e){return this.from-e.from||this.startSide-e.startSide||this.rank-e.rank||this.to-e.to||this.endSide-e.endSide}}class vf{constructor(e){this.heap=e}static from(e,t=null,i=-1){let s=[];for(let o=0;o<e.length;o++)for(let r=e[o];!r.isEmpty;r=r.nextLayer)r.maxPoint>=i&&s.push(new e6(r,t,i,o));return s.length==1?s[0]:new vf(s)}get startSide(){return this.value?this.value.startSide:0}goto(e,t=-1e9){for(let i of this.heap)i.goto(e,t);for(let i=this.heap.length>>1;i>=0;i--)um(this.heap,i);return this.next(),this}forward(e,t){for(let i of this.heap)i.forward(e,t);for(let i=this.heap.length>>1;i>=0;i--)um(this.heap,i);(this.to-e||this.value.endSide-t)<0&&this.next()}next(){if(this.heap.length==0)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let e=this.heap[0];this.from=e.from,this.to=e.to,this.value=e.value,this.rank=e.rank,e.value&&e.next(),um(this.heap,0)}}}function um(n,e){for(let t=n[e];;){let i=(e<<1)+1;if(i>=n.length)break;let s=n[i];if(i+1<n.length&&s.compare(n[i+1])>=0&&(s=n[i+1],i++),t.compare(s)<0)break;n[i]=t,n[e]=s,e=i}}class kc{constructor(e,t,i){this.minPoint=i,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=vf.from(e,t,i)}goto(e,t=-1e9){return this.cursor.goto(e,t),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=e,this.endSide=t,this.openStart=-1,this.next(),this}forward(e,t){for(;this.minActive>-1&&(this.activeTo[this.minActive]-e||this.active[this.minActive].endSide-t)<0;)this.removeActive(this.minActive);this.cursor.forward(e,t)}removeActive(e){xu(this.active,e),xu(this.activeTo,e),xu(this.activeRank,e),this.minActive=cv(this.active,this.activeTo)}addActive(e){let t=0,{value:i,to:s,rank:o}=this.cursor;for(;t<this.activeRank.length&&(o-this.activeRank[t]||s-this.activeTo[t])>0;)t++;Ou(this.active,t,i),Ou(this.activeTo,t,s),Ou(this.activeRank,t,o),e&&Ou(e,t,this.cursor.from),this.minActive=cv(this.active,this.activeTo)}next(){let e=this.to,t=this.point;this.point=null;let i=this.openStart<0?[]:null;for(;;){let s=this.minActive;if(s>-1&&(this.activeTo[s]-this.cursor.from||this.active[s].endSide-this.cursor.startSide)<0){if(this.activeTo[s]>e){this.to=this.activeTo[s],this.endSide=this.active[s].endSide;break}this.removeActive(s),i&&xu(i,s)}else if(this.cursor.value)if(this.cursor.from>e){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}else{let o=this.cursor.value;if(!o.point)this.addActive(i),this.cursor.next();else if(t&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)this.cursor.next();else{this.point=o,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=o.endSide,this.cursor.next(),this.forward(this.to,this.endSide);break}}else{this.to=this.endSide=1e9;break}}if(i){this.openStart=0;for(let s=i.length-1;s>=0&&i[s]<e;s--)this.openStart++}}activeForPoint(e){if(!this.active.length)return this.active;let t=[];for(let i=this.active.length-1;i>=0&&!(this.activeRank[i]<this.pointRank);i--)(this.activeTo[i]>e||this.activeTo[i]==e&&this.active[i].endSide>=this.point.endSide)&&t.push(this.active[i]);return t.reverse()}openEnd(e){let t=0;for(let i=this.activeTo.length-1;i>=0&&this.activeTo[i]>e;i--)t++;return t}}function av(n,e,t,i,s,o){n.goto(e),t.goto(i);let r=i+s,l=i,a=i-e;for(;;){let c=n.to+a-t.to||n.endSide-t.endSide,f=c<0?n.to+a:t.to,u=Math.min(f,r);if(n.point||t.point?n.point&&t.point&&(n.point==t.point||n.point.eq(t.point))&&Vp(n.activeForPoint(n.to),t.activeForPoint(t.to))||o.comparePoint(l,u,n.point,t.point):u>l&&!Vp(n.active,t.active)&&o.compareRange(l,u,n.active,t.active),f>r)break;l=f,c<=0&&n.next(),c>=0&&t.next()}}function Vp(n,e){if(n.length!=e.length)return!1;for(let t=0;t<n.length;t++)if(n[t]!=e[t]&&!n[t].eq(e[t]))return!1;return!0}function xu(n,e){for(let t=e,i=n.length-1;t<i;t++)n[t]=n[t+1];n.pop()}function Ou(n,e,t){for(let i=n.length-1;i>=e;i--)n[i+1]=n[i];n[e]=t}function cv(n,e){let t=-1,i=1e9;for(let s=0;s<e.length;s++)(e[s]-i||n[s].endSide-n[t].endSide)<0&&(t=s,i=e[s]);return t}function cc(n,e,t=n.length){let i=0;for(let s=0;s<t;)n.charCodeAt(s)==9?(i+=e-i%e,s++):(i++,s=oi(n,s));return i}function Hp(n,e,t,i){for(let s=0,o=0;;){if(o>=e)return s;if(s==n.length)break;o+=n.charCodeAt(s)==9?t-o%t:1,s=oi(n,s)}return i===!0?-1:n.length}const Wp="ͼ",fv=typeof Symbol>"u"?"__"+Wp:Symbol.for(Wp),qp=typeof Symbol>"u"?"__styleSet"+Math.floor(Math.random()*1e8):Symbol("styleSet"),uv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:{};class Rr{constructor(e,t){this.rules=[];let{finish:i}=t||{};function s(r){return/^@/.test(r)?[r]:r.split(/,\s*/)}function o(r,l,a,c){let f=[],u=/^@(\w+)\b/.exec(r[0]),h=u&&u[1]=="keyframes";if(u&&l==null)return a.push(r[0]+";");for(let d in l){let g=l[d];if(/&/.test(d))o(d.split(/,\s*/).map(m=>r.map(p=>m.replace(/&/,p))).reduce((m,p)=>m.concat(p)),g,a);else if(g&&typeof g=="object"){if(!u)throw new RangeError("The value of a property ("+d+") should be a primitive value.");o(s(d),g,f,h)}else g!=null&&f.push(d.replace(/_.*/,"").replace(/[A-Z]/g,m=>"-"+m.toLowerCase())+": "+g+";")}(f.length||h)&&a.push((i&&!u&&!c?r.map(i):r).join(", ")+" {"+f.join(" ")+"}")}for(let r in e)o(s(r),e[r],this.rules)}getRules(){return this.rules.join(`
`)}static newName(){let e=uv[fv]||1;return uv[fv]=e+1,Wp+e.toString(36)}static mount(e,t,i){let s=e[qp],o=i&&i.nonce;s?o&&s.setNonce(o):s=new EV(e,o),s.mount(Array.isArray(t)?t:[t],e)}}let hv=new Map;class EV{constructor(e,t){let i=e.ownerDocument||e,s=i.defaultView;if(!e.head&&e.adoptedStyleSheets&&s.CSSStyleSheet){let o=hv.get(i);if(o)return e[qp]=o;this.sheet=new s.CSSStyleSheet,hv.set(i,this)}else this.styleTag=i.createElement("style"),t&&this.styleTag.setAttribute("nonce",t);this.modules=[],e[qp]=this}mount(e,t){let i=this.sheet,s=0,o=0;for(let r=0;r<e.length;r++){let l=e[r],a=this.modules.indexOf(l);if(a<o&&a>-1&&(this.modules.splice(a,1),o--,a=-1),a==-1){if(this.modules.splice(o++,0,l),i)for(let c=0;c<l.rules.length;c++)i.insertRule(l.rules[c],s++)}else{for(;o<a;)s+=this.modules[o++].rules.length;s+=l.rules.length,o++}}if(i)t.adoptedStyleSheets.indexOf(this.sheet)<0&&(t.adoptedStyleSheets=[this.sheet,...t.adoptedStyleSheets]);else{let r="";for(let a=0;a<this.modules.length;a++)r+=this.modules[a].getRules()+`
`;this.styleTag.textContent=r;let l=t.head||t;this.styleTag.parentNode!=l&&l.insertBefore(this.styleTag,l.firstChild)}}setNonce(e){this.styleTag&&this.styleTag.getAttribute("nonce")!=e&&this.styleTag.setAttribute("nonce",e)}}var Dr={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},kf={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},RV=typeof navigator<"u"&&/Mac/.test(navigator.platform),DV=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var ii=0;ii<10;ii++)Dr[48+ii]=Dr[96+ii]=String(ii);for(var ii=1;ii<=24;ii++)Dr[ii+111]="F"+ii;for(var ii=65;ii<=90;ii++)Dr[ii]=String.fromCharCode(ii+32),kf[ii]=String.fromCharCode(ii);for(var hm in Dr)kf.hasOwnProperty(hm)||(kf[hm]=Dr[hm]);function LV(n){var e=RV&&n.metaKey&&n.shiftKey&&!n.ctrlKey&&!n.altKey||DV&&n.shiftKey&&n.key&&n.key.length==1||n.key=="Unidentified",t=!e&&n.key||(n.shiftKey?kf:Dr)[n.keyCode]||n.key||"Unidentified";return t=="Esc"&&(t="Escape"),t=="Del"&&(t="Delete"),t=="Left"&&(t="ArrowLeft"),t=="Up"&&(t="ArrowUp"),t=="Right"&&(t="ArrowRight"),t=="Down"&&(t="ArrowDown"),t}function Sf(n){let e;return n.nodeType==11?e=n.getSelection?n:n.ownerDocument:e=n,e.getSelection()}function Up(n,e){return e?n==e||n.contains(e.nodeType!=1?e.parentNode:e):!1}function IV(n){let e=n.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function Sh(n,e){if(!e.anchorNode)return!1;try{return Up(n,e.anchorNode)}catch{return!1}}function Cf(n){return n.nodeType==3?Dl(n,0,n.nodeValue.length).getClientRects():n.nodeType==1?n.getClientRects():[]}function Zc(n,e,t,i){return t?dv(n,e,t,i,-1)||dv(n,e,t,i,1):!1}function Rl(n){for(var e=0;;e++)if(n=n.previousSibling,!n)return e}function fd(n){return n.nodeType==1&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(n.nodeName)}function dv(n,e,t,i,s){for(;;){if(n==t&&e==i)return!0;if(e==(s<0?0:Yo(n))){if(n.nodeName=="DIV")return!1;let o=n.parentNode;if(!o||o.nodeType!=1)return!1;e=Rl(n)+(s<0?0:1),n=o}else if(n.nodeType==1){if(n=n.childNodes[e+(s<0?-1:0)],n.nodeType==1&&n.contentEditable=="false")return!1;e=s<0?Yo(n):0}else return!1}}function Yo(n){return n.nodeType==3?n.nodeValue.length:n.childNodes.length}function Sg(n,e){let t=e?n.left:n.right;return{left:t,right:t,top:n.top,bottom:n.bottom}}function NV(n){let e=n.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:n.innerWidth,top:0,bottom:n.innerHeight}}function t6(n,e){let t=e.width/n.offsetWidth,i=e.height/n.offsetHeight;return(t>.995&&t<1.005||!isFinite(t)||Math.abs(e.width-n.offsetWidth)<1)&&(t=1),(i>.995&&i<1.005||!isFinite(i)||Math.abs(e.height-n.offsetHeight)<1)&&(i=1),{scaleX:t,scaleY:i}}function BV(n,e,t,i,s,o,r,l){let a=n.ownerDocument,c=a.defaultView||window;for(let f=n,u=!1;f&&!u;)if(f.nodeType==1){let h,d=f==a.body,g=1,m=1;if(d)h=NV(c);else{if(/^(fixed|sticky)$/.test(getComputedStyle(f).position)&&(u=!0),f.scrollHeight<=f.clientHeight&&f.scrollWidth<=f.clientWidth){f=f.assignedSlot||f.parentNode;continue}let y=f.getBoundingClientRect();({scaleX:g,scaleY:m}=t6(f,y)),h={left:y.left,right:y.left+f.clientWidth*g,top:y.top,bottom:y.top+f.clientHeight*m}}let p=0,b=0;if(s=="nearest")e.top<h.top?(b=-(h.top-e.top+r),t>0&&e.bottom>h.bottom+b&&(b=e.bottom-h.bottom+b+r)):e.bottom>h.bottom&&(b=e.bottom-h.bottom+r,t<0&&e.top-b<h.top&&(b=-(h.top+b-e.top+r)));else{let y=e.bottom-e.top,v=h.bottom-h.top;b=(s=="center"&&y<=v?e.top+y/2-v/2:s=="start"||s=="center"&&t<0?e.top-r:e.bottom-v+r)-h.top}if(i=="nearest"?e.left<h.left?(p=-(h.left-e.left+o),t>0&&e.right>h.right+p&&(p=e.right-h.right+p+o)):e.right>h.right&&(p=e.right-h.right+o,t<0&&e.left<h.left+p&&(p=-(h.left+p-e.left+o))):p=(i=="center"?e.left+(e.right-e.left)/2-(h.right-h.left)/2:i=="start"==l?e.left-o:e.right-(h.right-h.left)+o)-h.left,p||b)if(d)c.scrollBy(p,b);else{let y=0,v=0;if(b){let C=f.scrollTop;f.scrollTop+=b/m,v=(f.scrollTop-C)*m}if(p){let C=f.scrollLeft;f.scrollLeft+=p/g,y=(f.scrollLeft-C)*g}e={left:e.left-y,top:e.top-v,right:e.right-y,bottom:e.bottom-v},y&&Math.abs(y-p)<1&&(i="nearest"),v&&Math.abs(v-b)<1&&(s="nearest")}if(d)break;f=f.assignedSlot||f.parentNode}else if(f.nodeType==11)f=f.host;else break}function jV(n){let e=n.ownerDocument,t,i;for(let s=n.parentNode;s&&!(s==e.body||t&&i);)if(s.nodeType==1)!i&&s.scrollHeight>s.clientHeight&&(i=s),!t&&s.scrollWidth>s.clientWidth&&(t=s),s=s.assignedSlot||s.parentNode;else if(s.nodeType==11)s=s.host;else break;return{x:t,y:i}}class zV{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(e){return this.anchorNode==e.anchorNode&&this.anchorOffset==e.anchorOffset&&this.focusNode==e.focusNode&&this.focusOffset==e.focusOffset}setRange(e){let{anchorNode:t,focusNode:i}=e;this.set(t,Math.min(e.anchorOffset,t?Yo(t):0),i,Math.min(e.focusOffset,i?Yo(i):0))}set(e,t,i,s){this.anchorNode=e,this.anchorOffset=t,this.focusNode=i,this.focusOffset=s}}let ia=null;function n6(n){if(n.setActive)return n.setActive();if(ia)return n.focus(ia);let e=[];for(let t=n;t&&(e.push(t,t.scrollTop,t.scrollLeft),t!=t.ownerDocument);t=t.parentNode);if(n.focus(ia==null?{get preventScroll(){return ia={preventScroll:!0},!0}}:void 0),!ia){ia=!1;for(let t=0;t<e.length;){let i=e[t++],s=e[t++],o=e[t++];i.scrollTop!=s&&(i.scrollTop=s),i.scrollLeft!=o&&(i.scrollLeft=o)}}}let gv;function Dl(n,e,t=e){let i=gv||(gv=document.createRange());return i.setEnd(n,t),i.setStart(n,e),i}function Pa(n,e,t,i){let s={key:e,code:e,keyCode:t,which:t,cancelable:!0};i&&({altKey:s.altKey,ctrlKey:s.ctrlKey,shiftKey:s.shiftKey,metaKey:s.metaKey}=i);let o=new KeyboardEvent("keydown",s);o.synthetic=!0,n.dispatchEvent(o);let r=new KeyboardEvent("keyup",s);return r.synthetic=!0,n.dispatchEvent(r),o.defaultPrevented||r.defaultPrevented}function FV(n){for(;n;){if(n&&(n.nodeType==9||n.nodeType==11&&n.host))return n;n=n.assignedSlot||n.parentNode}return null}function i6(n){for(;n.attributes.length;)n.removeAttributeNode(n.attributes[0])}function VV(n,e){let t=e.focusNode,i=e.focusOffset;if(!t||e.anchorNode!=t||e.anchorOffset!=i)return!1;for(i=Math.min(i,Yo(t));;)if(i){if(t.nodeType!=1)return!1;let s=t.childNodes[i-1];s.contentEditable=="false"?i--:(t=s,i=Yo(t))}else{if(t==n)return!0;i=Rl(t),t=t.parentNode}}function s6(n){return n.scrollTop>Math.max(1,n.scrollHeight-n.clientHeight-4)}function o6(n,e){for(let t=n,i=e;;){if(t.nodeType==3&&i>0)return{node:t,offset:i};if(t.nodeType==1&&i>0){if(t.contentEditable=="false")return null;t=t.childNodes[i-1],i=Yo(t)}else if(t.parentNode&&!fd(t))i=Rl(t),t=t.parentNode;else return null}}function r6(n,e){for(let t=n,i=e;;){if(t.nodeType==3&&i<t.nodeValue.length)return{node:t,offset:i};if(t.nodeType==1&&i<t.childNodes.length){if(t.contentEditable=="false")return null;t=t.childNodes[i],i=0}else if(t.parentNode&&!fd(t))i=Rl(t)+1,t=t.parentNode;else return null}}class di{constructor(e,t,i=!0){this.node=e,this.offset=t,this.precise=i}static before(e,t){return new di(e.parentNode,Rl(e),t)}static after(e,t){return new di(e.parentNode,Rl(e)+1,t)}}const U0=[];class on{constructor(){this.parent=null,this.dom=null,this.flags=2}get overrideDOMText(){return null}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(e){let t=this.posAtStart;for(let i of this.children){if(i==e)return t;t+=i.length+i.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(e){return this.posBefore(e)+e.length}sync(e,t){if(this.flags&2){let i=this.dom,s=null,o;for(let r of this.children){if(r.flags&7){if(!r.dom&&(o=s?s.nextSibling:i.firstChild)){let l=on.get(o);(!l||!l.parent&&l.canReuseDOM(r))&&r.reuseDOM(o)}r.sync(e,t),r.flags&=-8}if(o=s?s.nextSibling:i.firstChild,t&&!t.written&&t.node==i&&o!=r.dom&&(t.written=!0),r.dom.parentNode==i)for(;o&&o!=r.dom;)o=mv(o);else i.insertBefore(r.dom,o);s=r.dom}for(o=s?s.nextSibling:i.firstChild,o&&t&&t.node==i&&(t.written=!0);o;)o=mv(o)}else if(this.flags&1)for(let i of this.children)i.flags&7&&(i.sync(e,t),i.flags&=-8)}reuseDOM(e){}localPosFromDOM(e,t){let i;if(e==this.dom)i=this.dom.childNodes[t];else{let s=Yo(e)==0?0:t==0?-1:1;for(;;){let o=e.parentNode;if(o==this.dom)break;s==0&&o.firstChild!=o.lastChild&&(e==o.firstChild?s=-1:s=1),e=o}s<0?i=e:i=e.nextSibling}if(i==this.dom.firstChild)return 0;for(;i&&!on.get(i);)i=i.nextSibling;if(!i)return this.length;for(let s=0,o=0;;s++){let r=this.children[s];if(r.dom==i)return o;o+=r.length+r.breakAfter}}domBoundsAround(e,t,i=0){let s=-1,o=-1,r=-1,l=-1;for(let a=0,c=i,f=i;a<this.children.length;a++){let u=this.children[a],h=c+u.length;if(c<e&&h>t)return u.domBoundsAround(e,t,c);if(h>=e&&s==-1&&(s=a,o=c),c>t&&u.dom.parentNode==this.dom){r=a,l=f;break}f=h,c=h+u.breakAfter}return{from:o,to:l<0?i+this.length:l,startDOM:(s?this.children[s-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:r<this.children.length&&r>=0?this.children[r].dom:null}}markDirty(e=!1){this.flags|=2,this.markParentsDirty(e)}markParentsDirty(e){for(let t=this.parent;t;t=t.parent){if(e&&(t.flags|=2),t.flags&1)return;t.flags|=1,e=!1}}setParent(e){this.parent!=e&&(this.parent=e,this.flags&7&&this.markParentsDirty(!0))}setDOM(e){this.dom!=e&&(this.dom&&(this.dom.cmView=null),this.dom=e,e.cmView=this)}get rootView(){for(let e=this;;){let t=e.parent;if(!t)return e;e=t}}replaceChildren(e,t,i=U0){this.markDirty();for(let s=e;s<t;s++){let o=this.children[s];o.parent==this&&i.indexOf(o)<0&&o.destroy()}this.children.splice(e,t-e,...i);for(let s=0;s<i.length;s++)i[s].setParent(this)}ignoreMutation(e){return!1}ignoreEvent(e){return!1}childCursor(e=this.length){return new l6(this.children,e,this.children.length)}childPos(e,t=1){return this.childCursor().findPos(e,t)}toString(){let e=this.constructor.name.replace("View","");return e+(this.children.length?"("+this.children.join()+")":this.length?"["+(e=="Text"?this.text:this.length)+"]":"")+(this.breakAfter?"#":"")}static get(e){return e.cmView}get isEditable(){return!0}get isWidget(){return!1}get isHidden(){return!1}merge(e,t,i,s,o,r){return!1}become(e){return!1}canReuseDOM(e){return e.constructor==this.constructor&&!((this.flags|e.flags)&8)}getSide(){return 0}destroy(){for(let e of this.children)e.parent==this&&e.destroy();this.parent=null}}on.prototype.breakAfter=0;function mv(n){let e=n.nextSibling;return n.parentNode.removeChild(n),e}class l6{constructor(e,t,i){this.children=e,this.pos=t,this.i=i,this.off=0}findPos(e,t=1){for(;;){if(e>this.pos||e==this.pos&&(t>0||this.i==0||this.children[this.i-1].breakAfter))return this.off=e-this.pos,this;let i=this.children[--this.i];this.pos-=i.length+i.breakAfter}}}function a6(n,e,t,i,s,o,r,l,a){let{children:c}=n,f=c.length?c[e]:null,u=o.length?o[o.length-1]:null,h=u?u.breakAfter:r;if(!(e==i&&f&&!r&&!h&&o.length<2&&f.merge(t,s,o.length?u:null,t==0,l,a))){if(i<c.length){let d=c[i];d&&(s<d.length||d.breakAfter&&(u!=null&&u.breakAfter))?(e==i&&(d=d.split(s),s=0),!h&&u&&d.merge(0,s,u,!0,0,a)?o[o.length-1]=d:((s||d.children.length&&!d.children[0].length)&&d.merge(0,s,null,!1,0,a),o.push(d))):d!=null&&d.breakAfter&&(u?u.breakAfter=1:r=1),i++}for(f&&(f.breakAfter=r,t>0&&(!r&&o.length&&f.merge(t,f.length,o[0],!1,l,0)?f.breakAfter=o.shift().breakAfter:(t<f.length||f.children.length&&f.children[f.children.length-1].length==0)&&f.merge(t,f.length,null,!1,l,0),e++));e<i&&o.length;)if(c[i-1].become(o[o.length-1]))i--,o.pop(),a=o.length?0:l;else if(c[e].become(o[0]))e++,o.shift(),l=o.length?0:a;else break;!o.length&&e&&i<c.length&&!c[e-1].breakAfter&&c[i].merge(0,0,c[e-1],!1,l,a)&&e--,(e<i||o.length)&&n.replaceChildren(e,i,o)}}function c6(n,e,t,i,s,o){let r=n.childCursor(),{i:l,off:a}=r.findPos(t,1),{i:c,off:f}=r.findPos(e,-1),u=e-t;for(let h of i)u+=h.length;n.length+=u,a6(n,c,f,l,a,i,0,s,o)}let Li=typeof navigator<"u"?navigator:{userAgent:"",vendor:"",platform:""},Jp=typeof document<"u"?document:{documentElement:{style:{}}};const Kp=/Edge\/(\d+)/.exec(Li.userAgent),f6=/MSIE \d/.test(Li.userAgent),Yp=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Li.userAgent),Cg=!!(f6||Yp||Kp),pv=!Cg&&/gecko\/(\d+)/i.test(Li.userAgent),dm=!Cg&&/Chrome\/(\d+)/.exec(Li.userAgent),bv="webkitFontSmoothing"in Jp.documentElement.style,u6=!Cg&&/Apple Computer/.test(Li.vendor),yv=u6&&(/Mobile\/\w+/.test(Li.userAgent)||Li.maxTouchPoints>2);var Ke={mac:yv||/Mac/.test(Li.platform),windows:/Win/.test(Li.platform),linux:/Linux|X11/.test(Li.platform),ie:Cg,ie_version:f6?Jp.documentMode||6:Yp?+Yp[1]:Kp?+Kp[1]:0,gecko:pv,gecko_version:pv?+(/Firefox\/(\d+)/.exec(Li.userAgent)||[0,0])[1]:0,chrome:!!dm,chrome_version:dm?+dm[1]:0,ios:yv,android:/Android\b/.test(Li.userAgent),webkit:bv,safari:u6,webkit_version:bv?+(/\bAppleWebKit\/(\d+)/.exec(Li.userAgent)||[0,0])[1]:0,tabSize:Jp.documentElement.style.tabSize!=null?"tab-size":"-moz-tab-size"};const HV=256;class Bs extends on{constructor(e){super(),this.text=e}get length(){return this.text.length}createDOM(e){this.setDOM(e||document.createTextNode(this.text))}sync(e,t){this.dom||this.createDOM(),this.dom.nodeValue!=this.text&&(t&&t.node==this.dom&&(t.written=!0),this.dom.nodeValue=this.text)}reuseDOM(e){e.nodeType==3&&this.createDOM(e)}merge(e,t,i){return this.flags&8||i&&(!(i instanceof Bs)||this.length-(t-e)+i.length>HV||i.flags&8)?!1:(this.text=this.text.slice(0,e)+(i?i.text:"")+this.text.slice(t),this.markDirty(),!0)}split(e){let t=new Bs(this.text.slice(e));return this.text=this.text.slice(0,e),this.markDirty(),t.flags|=this.flags&8,t}localPosFromDOM(e,t){return e==this.dom?t:t?this.text.length:0}domAtPos(e){return new di(this.dom,e)}domBoundsAround(e,t,i){return{from:i,to:i+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}}coordsAt(e,t){return WV(this.dom,e,t)}}class Xo extends on{constructor(e,t=[],i=0){super(),this.mark=e,this.children=t,this.length=i;for(let s of t)s.setParent(this)}setAttrs(e){if(i6(e),this.mark.class&&(e.className=this.mark.class),this.mark.attrs)for(let t in this.mark.attrs)e.setAttribute(t,this.mark.attrs[t]);return e}canReuseDOM(e){return super.canReuseDOM(e)&&!((this.flags|e.flags)&8)}reuseDOM(e){e.nodeName==this.mark.tagName.toUpperCase()&&(this.setDOM(e),this.flags|=6)}sync(e,t){this.dom?this.flags&4&&this.setAttrs(this.dom):this.setDOM(this.setAttrs(document.createElement(this.mark.tagName))),super.sync(e,t)}merge(e,t,i,s,o,r){return i&&(!(i instanceof Xo&&i.mark.eq(this.mark))||e&&o<=0||t<this.length&&r<=0)?!1:(c6(this,e,t,i?i.children.slice():[],o-1,r-1),this.markDirty(),!0)}split(e){let t=[],i=0,s=-1,o=0;for(let l of this.children){let a=i+l.length;a>e&&t.push(i<e?l.split(e-i):l),s<0&&i>=e&&(s=o),i=a,o++}let r=this.length-e;return this.length=e,s>-1&&(this.children.length=s,this.markDirty()),new Xo(this.mark,t,r)}domAtPos(e){return h6(this,e)}coordsAt(e,t){return g6(this,e,t)}}function WV(n,e,t){let i=n.nodeValue.length;e>i&&(e=i);let s=e,o=e,r=0;e==0&&t<0||e==i&&t>=0?Ke.chrome||Ke.gecko||(e?(s--,r=1):o<i&&(o++,r=-1)):t<0?s--:o<i&&o++;let l=Dl(n,s,o).getClientRects();if(!l.length)return null;let a=l[(r?r<0:t>=0)?0:l.length-1];return Ke.safari&&!r&&a.width==0&&(a=Array.prototype.find.call(l,c=>c.width)||a),r?Sg(a,r<0):a||null}class gr extends on{static create(e,t,i){return new gr(e,t,i)}constructor(e,t,i){super(),this.widget=e,this.length=t,this.side=i,this.prevWidget=null}split(e){let t=gr.create(this.widget,this.length-e,this.side);return this.length-=e,t}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.widget.editable||(this.dom.contentEditable="false"))}getSide(){return this.side}merge(e,t,i,s,o,r){return i&&(!(i instanceof gr)||!this.widget.compare(i.widget)||e>0&&o<=0||t<this.length&&r<=0)?!1:(this.length=e+(i?i.length:0)+(this.length-t),!0)}become(e){return e instanceof gr&&e.side==this.side&&this.widget.constructor==e.widget.constructor?(this.widget.compare(e.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get overrideDOMText(){if(this.length==0)return qt.empty;let e=this;for(;e.parent;)e=e.parent;let{view:t}=e,i=t&&t.state.doc,s=this.posAtStart;return i?i.slice(s,s+this.length):qt.empty}domAtPos(e){return(this.length?e==0:this.side>0)?di.before(this.dom):di.after(this.dom,e==this.length)}domBoundsAround(){return null}coordsAt(e,t){let i=this.widget.coordsAt(this.dom,e,t);if(i)return i;let s=this.dom.getClientRects(),o=null;if(!s.length)return null;let r=this.side?this.side<0:e>0;for(let l=r?s.length-1:0;o=s[l],!(e>0?l==0:l==s.length-1||o.top<o.bottom);l+=r?-1:1);return Sg(o,!r)}get isEditable(){return!1}get isWidget(){return!0}get isHidden(){return this.widget.isHidden}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class Ja extends on{constructor(e){super(),this.side=e}get length(){return 0}merge(){return!1}become(e){return e instanceof Ja&&e.side==this.side}split(){return new Ja(this.side)}sync(){if(!this.dom){let e=document.createElement("img");e.className="cm-widgetBuffer",e.setAttribute("aria-hidden","true"),this.setDOM(e)}}getSide(){return this.side}domAtPos(e){return this.side>0?di.before(this.dom):di.after(this.dom)}localPosFromDOM(){return 0}domBoundsAround(){return null}coordsAt(e){return this.dom.getBoundingClientRect()}get overrideDOMText(){return qt.empty}get isHidden(){return!0}}Bs.prototype.children=gr.prototype.children=Ja.prototype.children=U0;function h6(n,e){let t=n.dom,{children:i}=n,s=0;for(let o=0;s<i.length;s++){let r=i[s],l=o+r.length;if(!(l==o&&r.getSide()<=0)){if(e>o&&e<l&&r.dom.parentNode==t)return r.domAtPos(e-o);if(e<=o)break;o=l}}for(let o=s;o>0;o--){let r=i[o-1];if(r.dom.parentNode==t)return r.domAtPos(r.length)}for(let o=s;o<i.length;o++){let r=i[o];if(r.dom.parentNode==t)return r.domAtPos(0)}return new di(t,0)}function d6(n,e,t){let i,{children:s}=n;t>0&&e instanceof Xo&&s.length&&(i=s[s.length-1])instanceof Xo&&i.mark.eq(e.mark)?d6(i,e.children[0],t-1):(s.push(e),e.setParent(n)),n.length+=e.length}function g6(n,e,t){let i=null,s=-1,o=null,r=-1;function l(c,f){for(let u=0,h=0;u<c.children.length&&h<=f;u++){let d=c.children[u],g=h+d.length;g>=f&&(d.children.length?l(d,f-h):(!o||o.isHidden&&t>0)&&(g>f||h==g&&d.getSide()>0)?(o=d,r=f-h):(h<f||h==g&&d.getSide()<0&&!d.isHidden)&&(i=d,s=f-h)),h=g}}l(n,e);let a=(t<0?i:o)||i||o;return a?a.coordsAt(Math.max(0,a==i?s:r),t):qV(n)}function qV(n){let e=n.dom.lastChild;if(!e)return n.dom.getBoundingClientRect();let t=Cf(e);return t[t.length-1]||null}function Xp(n,e){for(let t in n)t=="class"&&e.class?e.class+=" "+n.class:t=="style"&&e.style?e.style+=";"+n.style:e[t]=n[t];return e}const _v=Object.create(null);function ud(n,e,t){if(n==e)return!0;n||(n=_v),e||(e=_v);let i=Object.keys(n),s=Object.keys(e);if(i.length-(t&&i.indexOf(t)>-1?1:0)!=s.length-(t&&s.indexOf(t)>-1?1:0))return!1;for(let o of i)if(o!=t&&(s.indexOf(o)==-1||n[o]!==e[o]))return!1;return!0}function Gp(n,e,t){let i=!1;if(e)for(let s in e)t&&s in t||(i=!0,s=="style"?n.style.cssText="":n.removeAttribute(s));if(t)for(let s in t)e&&e[s]==t[s]||(i=!0,s=="style"?n.style.cssText=t[s]:n.setAttribute(s,t[s]));return i}function UV(n){let e=Object.create(null);for(let t=0;t<n.attributes.length;t++){let i=n.attributes[t];e[i.name]=i.value}return e}class Hr{eq(e){return!1}updateDOM(e,t){return!1}compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}get estimatedHeight(){return-1}get lineBreaks(){return 0}ignoreEvent(e){return!0}coordsAt(e,t,i){return null}get isHidden(){return!1}get editable(){return!1}destroy(e){}}var Ei=function(n){return n[n.Text=0]="Text",n[n.WidgetBefore=1]="WidgetBefore",n[n.WidgetAfter=2]="WidgetAfter",n[n.WidgetRange=3]="WidgetRange",n}(Ei||(Ei={}));class lt extends El{constructor(e,t,i,s){super(),this.startSide=e,this.endSide=t,this.widget=i,this.spec=s}get heightRelevant(){return!1}static mark(e){return new tu(e)}static widget(e){let t=Math.max(-1e4,Math.min(1e4,e.side||0)),i=!!e.block;return t+=i&&!e.inlineOrder?t>0?3e8:-4e8:t>0?1e8:-1e8,new Lr(e,t,t,i,e.widget||null,!1)}static replace(e){let t=!!e.block,i,s;if(e.isBlockGap)i=-5e8,s=4e8;else{let{start:o,end:r}=m6(e,t);i=(o?t?-3e8:-1:5e8)-1,s=(r?t?2e8:1:-6e8)+1}return new Lr(e,i,s,t,e.widget||null,!0)}static line(e){return new nu(e)}static set(e,t=!1){return jt.of(e,t)}hasHeight(){return this.widget?this.widget.estimatedHeight>-1:!1}}lt.none=jt.empty;class tu extends lt{constructor(e){let{start:t,end:i}=m6(e);super(t?-1:5e8,i?1:-6e8,null,e),this.tagName=e.tagName||"span",this.class=e.class||"",this.attrs=e.attributes||null}eq(e){var t,i;return this==e||e instanceof tu&&this.tagName==e.tagName&&(this.class||((t=this.attrs)===null||t===void 0?void 0:t.class))==(e.class||((i=e.attrs)===null||i===void 0?void 0:i.class))&&ud(this.attrs,e.attrs,"class")}range(e,t=e){if(e>=t)throw new RangeError("Mark decorations may not be empty");return super.range(e,t)}}tu.prototype.point=!1;class nu extends lt{constructor(e){super(-2e8,-2e8,null,e)}eq(e){return e instanceof nu&&this.spec.class==e.spec.class&&ud(this.spec.attributes,e.spec.attributes)}range(e,t=e){if(t!=e)throw new RangeError("Line decoration ranges must be zero-length");return super.range(e,t)}}nu.prototype.mapMode=xi.TrackBefore;nu.prototype.point=!0;class Lr extends lt{constructor(e,t,i,s,o,r){super(t,i,o,e),this.block=s,this.isReplace=r,this.mapMode=s?t<=0?xi.TrackBefore:xi.TrackAfter:xi.TrackDel}get type(){return this.startSide!=this.endSide?Ei.WidgetRange:this.startSide<=0?Ei.WidgetBefore:Ei.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&(this.widget.estimatedHeight>=5||this.widget.lineBreaks>0)}eq(e){return e instanceof Lr&&JV(this.widget,e.widget)&&this.block==e.block&&this.startSide==e.startSide&&this.endSide==e.endSide}range(e,t=e){if(this.isReplace&&(e>t||e==t&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&t!=e)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(e,t)}}Lr.prototype.point=!0;function m6(n,e=!1){let{inclusiveStart:t,inclusiveEnd:i}=n;return t==null&&(t=n.inclusive),i==null&&(i=n.inclusive),{start:t??e,end:i??e}}function JV(n,e){return n==e||!!(n&&e&&n.compare(e))}function Qp(n,e,t,i=0){let s=t.length-1;s>=0&&t[s]+i>=n?t[s]=Math.max(t[s],e):t.push(n,e)}class Bn extends on{constructor(){super(...arguments),this.children=[],this.length=0,this.prevAttrs=void 0,this.attrs=null,this.breakAfter=0}merge(e,t,i,s,o,r){if(i){if(!(i instanceof Bn))return!1;this.dom||i.transferDOM(this)}return s&&this.setDeco(i?i.attrs:null),c6(this,e,t,i?i.children.slice():[],o,r),!0}split(e){let t=new Bn;if(t.breakAfter=this.breakAfter,this.length==0)return t;let{i,off:s}=this.childPos(e);s&&(t.append(this.children[i].split(s),0),this.children[i].merge(s,this.children[i].length,null,!1,0,0),i++);for(let o=i;o<this.children.length;o++)t.append(this.children[o],0);for(;i>0&&this.children[i-1].length==0;)this.children[--i].destroy();return this.children.length=i,this.markDirty(),this.length=e,t}transferDOM(e){this.dom&&(this.markDirty(),e.setDOM(this.dom),e.prevAttrs=this.prevAttrs===void 0?this.attrs:this.prevAttrs,this.prevAttrs=void 0,this.dom=null)}setDeco(e){ud(this.attrs,e)||(this.dom&&(this.prevAttrs=this.attrs,this.markDirty()),this.attrs=e)}append(e,t){d6(this,e,t)}addLineDeco(e){let t=e.spec.attributes,i=e.spec.class;t&&(this.attrs=Xp(t,this.attrs||{})),i&&(this.attrs=Xp({class:i},this.attrs||{}))}domAtPos(e){return h6(this,e)}reuseDOM(e){e.nodeName=="DIV"&&(this.setDOM(e),this.flags|=6)}sync(e,t){var i;this.dom?this.flags&4&&(i6(this.dom),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0):(this.setDOM(document.createElement("div")),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0),this.prevAttrs!==void 0&&(Gp(this.dom,this.prevAttrs,this.attrs),this.dom.classList.add("cm-line"),this.prevAttrs=void 0),super.sync(e,t);let s=this.dom.lastChild;for(;s&&on.get(s)instanceof Xo;)s=s.lastChild;if(!s||!this.length||s.nodeName!="BR"&&((i=on.get(s))===null||i===void 0?void 0:i.isEditable)==!1&&(!Ke.ios||!this.children.some(o=>o instanceof Bs))){let o=document.createElement("BR");o.cmIgnore=!0,this.dom.appendChild(o)}}measureTextSize(){if(this.children.length==0||this.length>20)return null;let e=0,t;for(let i of this.children){if(!(i instanceof Bs)||/[^ -~]/.test(i.text))return null;let s=Cf(i.dom);if(s.length!=1)return null;e+=s[0].width,t=s[0].height}return e?{lineHeight:this.dom.getBoundingClientRect().height,charWidth:e/this.length,textHeight:t}:null}coordsAt(e,t){let i=g6(this,e,t);if(!this.children.length&&i&&this.parent){let{heightOracle:s}=this.parent.view.viewState,o=i.bottom-i.top;if(Math.abs(o-s.lineHeight)<2&&s.textHeight<o){let r=(o-s.textHeight)/2;return{top:i.top+r,bottom:i.bottom-r,left:i.left,right:i.left}}}return i}become(e){return e instanceof Bn&&this.children.length==0&&e.children.length==0&&ud(this.attrs,e.attrs)&&this.breakAfter==e.breakAfter}covers(){return!0}static find(e,t){for(let i=0,s=0;i<e.children.length;i++){let o=e.children[i],r=s+o.length;if(r>=t){if(o instanceof Bn)return o;if(r>t)break}s=r+o.breakAfter}return null}}class zo extends on{constructor(e,t,i){super(),this.widget=e,this.length=t,this.deco=i,this.breakAfter=0,this.prevWidget=null}merge(e,t,i,s,o,r){return i&&(!(i instanceof zo)||!this.widget.compare(i.widget)||e>0&&o<=0||t<this.length&&r<=0)?!1:(this.length=e+(i?i.length:0)+(this.length-t),!0)}domAtPos(e){return e==0?di.before(this.dom):di.after(this.dom,e==this.length)}split(e){let t=this.length-e;this.length=e;let i=new zo(this.widget,t,this.deco);return i.breakAfter=this.breakAfter,i}get children(){return U0}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.widget.editable||(this.dom.contentEditable="false"))}get overrideDOMText(){return this.parent?this.parent.view.state.doc.slice(this.posAtStart,this.posAtEnd):qt.empty}domBoundsAround(){return null}become(e){return e instanceof zo&&e.widget.constructor==this.widget.constructor?(e.widget.compare(this.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,this.deco=e.deco,this.breakAfter=e.breakAfter,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get isEditable(){return!1}get isWidget(){return!0}coordsAt(e,t){let i=this.widget.coordsAt(this.dom,e,t);return i||(this.widget instanceof Zp?null:Sg(this.dom.getBoundingClientRect(),this.length?e==0:t<=0))}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}covers(e){let{startSide:t,endSide:i}=this.deco;return t==i?!1:e<0?t<0:i>0}}class Zp extends Hr{constructor(e){super(),this.height=e}toDOM(){let e=document.createElement("div");return e.className="cm-gap",this.updateDOM(e),e}eq(e){return e.height==this.height}updateDOM(e){return e.style.height=this.height+"px",!0}get editable(){return!0}get estimatedHeight(){return this.height}ignoreEvent(){return!1}}class $c{constructor(e,t,i,s){this.doc=e,this.pos=t,this.end=i,this.disallowBlockEffectsFor=s,this.content=[],this.curLine=null,this.breakAtStart=0,this.pendingBuffer=0,this.bufferMarks=[],this.atCursorPos=!0,this.openStart=-1,this.openEnd=-1,this.text="",this.textOff=0,this.cursor=e.iter(),this.skip=t}posCovered(){if(this.content.length==0)return!this.breakAtStart&&this.doc.lineAt(this.pos).from!=this.pos;let e=this.content[this.content.length-1];return!(e.breakAfter||e instanceof zo&&e.deco.endSide<0)}getLine(){return this.curLine||(this.content.push(this.curLine=new Bn),this.atCursorPos=!0),this.curLine}flushBuffer(e=this.bufferMarks){this.pendingBuffer&&(this.curLine.append(Pu(new Ja(-1),e),e.length),this.pendingBuffer=0)}addBlockWidget(e){this.flushBuffer(),this.curLine=null,this.content.push(e)}finish(e){this.pendingBuffer&&e<=this.bufferMarks.length?this.flushBuffer():this.pendingBuffer=0,!this.posCovered()&&!(e&&this.content.length&&this.content[this.content.length-1]instanceof zo)&&this.getLine()}buildText(e,t,i){for(;e>0;){if(this.textOff==this.text.length){let{value:o,lineBreak:r,done:l}=this.cursor.next(this.skip);if(this.skip=0,l)throw new Error("Ran out of text content when drawing inline views");if(r){this.posCovered()||this.getLine(),this.content.length?this.content[this.content.length-1].breakAfter=1:this.breakAtStart=1,this.flushBuffer(),this.curLine=null,this.atCursorPos=!0,e--;continue}else this.text=o,this.textOff=0}let s=Math.min(this.text.length-this.textOff,e,512);this.flushBuffer(t.slice(t.length-i)),this.getLine().append(Pu(new Bs(this.text.slice(this.textOff,this.textOff+s)),t),i),this.atCursorPos=!0,this.textOff+=s,e-=s,i=0}}span(e,t,i,s){this.buildText(t-e,i,s),this.pos=t,this.openStart<0&&(this.openStart=s)}point(e,t,i,s,o,r){if(this.disallowBlockEffectsFor[r]&&i instanceof Lr){if(i.block)throw new RangeError("Block decorations may not be specified via plugins");if(t>this.doc.lineAt(this.pos).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}let l=t-e;if(i instanceof Lr)if(i.block)i.startSide>0&&!this.posCovered()&&this.getLine(),this.addBlockWidget(new zo(i.widget||Ka.block,l,i));else{let a=gr.create(i.widget||Ka.inline,l,l?0:i.startSide),c=this.atCursorPos&&!a.isEditable&&o<=s.length&&(e<t||i.startSide>0),f=!a.isEditable&&(e<t||o>s.length||i.startSide<=0),u=this.getLine();this.pendingBuffer==2&&!c&&!a.isEditable&&(this.pendingBuffer=0),this.flushBuffer(s),c&&(u.append(Pu(new Ja(1),s),o),o=s.length+Math.max(0,o-s.length)),u.append(Pu(a,s),o),this.atCursorPos=f,this.pendingBuffer=f?e<t||o>s.length?1:2:0,this.pendingBuffer&&(this.bufferMarks=s.slice())}else this.doc.lineAt(this.pos).from==this.pos&&this.getLine().addLineDeco(i);l&&(this.textOff+l<=this.text.length?this.textOff+=l:(this.skip+=l-(this.text.length-this.textOff),this.text="",this.textOff=0),this.pos=t),this.openStart<0&&(this.openStart=o)}static build(e,t,i,s,o){let r=new $c(e,t,i,o);return r.openEnd=jt.spans(s,t,i,r),r.openStart<0&&(r.openStart=r.openEnd),r.finish(r.openEnd),r}}function Pu(n,e){for(let t of e)n=new Xo(t,[n],n.length);return n}class Ka extends Hr{constructor(e){super(),this.tag=e}eq(e){return e.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(e){return e.nodeName.toLowerCase()==this.tag}get isHidden(){return!0}}Ka.inline=new Ka("span");Ka.block=new Ka("div");var dn=function(n){return n[n.LTR=0]="LTR",n[n.RTL=1]="RTL",n}(dn||(dn={}));const Ll=dn.LTR,J0=dn.RTL;function p6(n){let e=[];for(let t=0;t<n.length;t++)e.push(1<<+n[t]);return e}const KV=p6("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),YV=p6("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),$p=Object.create(null),Gs=[];for(let n of["()","[]","{}"]){let e=n.charCodeAt(0),t=n.charCodeAt(1);$p[e]=t,$p[t]=-e}function b6(n){return n<=247?KV[n]:1424<=n&&n<=1524?2:1536<=n&&n<=1785?YV[n-1536]:1774<=n&&n<=2220?4:8192<=n&&n<=8204?256:64336<=n&&n<=65023?4:1}const XV=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/;class mr{get dir(){return this.level%2?J0:Ll}constructor(e,t,i){this.from=e,this.to=t,this.level=i}side(e,t){return this.dir==t==e?this.to:this.from}forward(e,t){return e==(this.dir==t)}static find(e,t,i,s){let o=-1;for(let r=0;r<e.length;r++){let l=e[r];if(l.from<=t&&l.to>=t){if(l.level==i)return r;(o<0||(s!=0?s<0?l.from<t:l.to>t:e[o].level>l.level))&&(o=r)}}if(o<0)throw new RangeError("Index out of range");return o}}function y6(n,e){if(n.length!=e.length)return!1;for(let t=0;t<n.length;t++){let i=n[t],s=e[t];if(i.from!=s.from||i.to!=s.to||i.direction!=s.direction||!y6(i.inner,s.inner))return!1}return!0}const sn=[];function GV(n,e,t,i,s){for(let o=0;o<=i.length;o++){let r=o?i[o-1].to:e,l=o<i.length?i[o].from:t,a=o?256:s;for(let c=r,f=a,u=a;c<l;c++){let h=b6(n.charCodeAt(c));h==512?h=f:h==8&&u==4&&(h=16),sn[c]=h==4?2:h,h&7&&(u=h),f=h}for(let c=r,f=a,u=a;c<l;c++){let h=sn[c];if(h==128)c<l-1&&f==sn[c+1]&&f&24?h=sn[c]=f:sn[c]=256;else if(h==64){let d=c+1;for(;d<l&&sn[d]==64;)d++;let g=c&&f==8||d<t&&sn[d]==8?u==1?1:8:256;for(let m=c;m<d;m++)sn[m]=g;c=d-1}else h==8&&u==1&&(sn[c]=1);f=h,h&7&&(u=h)}}}function QV(n,e,t,i,s){let o=s==1?2:1;for(let r=0,l=0,a=0;r<=i.length;r++){let c=r?i[r-1].to:e,f=r<i.length?i[r].from:t;for(let u=c,h,d,g;u<f;u++)if(d=$p[h=n.charCodeAt(u)])if(d<0){for(let m=l-3;m>=0;m-=3)if(Gs[m+1]==-d){let p=Gs[m+2],b=p&2?s:p&4?p&1?o:s:0;b&&(sn[u]=sn[Gs[m]]=b),l=m;break}}else{if(Gs.length==189)break;Gs[l++]=u,Gs[l++]=h,Gs[l++]=a}else if((g=sn[u])==2||g==1){let m=g==s;a=m?0:1;for(let p=l-3;p>=0;p-=3){let b=Gs[p+2];if(b&2)break;if(m)Gs[p+2]|=2;else{if(b&4)break;Gs[p+2]|=4}}}}}function ZV(n,e,t,i){for(let s=0,o=i;s<=t.length;s++){let r=s?t[s-1].to:n,l=s<t.length?t[s].from:e;for(let a=r;a<l;){let c=sn[a];if(c==256){let f=a+1;for(;;)if(f==l){if(s==t.length)break;f=t[s++].to,l=s<t.length?t[s].from:e}else if(sn[f]==256)f++;else break;let u=o==1,h=(f<e?sn[f]:i)==1,d=u==h?u?1:2:i;for(let g=f,m=s,p=m?t[m-1].to:n;g>a;)g==p&&(g=t[--m].from,p=m?t[m-1].to:n),sn[--g]=d;a=f}else o=c,a++}}}function e1(n,e,t,i,s,o,r){let l=i%2?2:1;if(i%2==s%2)for(let a=e,c=0;a<t;){let f=!0,u=!1;if(c==o.length||a<o[c].from){let m=sn[a];m!=l&&(f=!1,u=m==16)}let h=!f&&l==1?[]:null,d=f?i:i+1,g=a;e:for(;;)if(c<o.length&&g==o[c].from){if(u)break e;let m=o[c];if(!f)for(let p=m.to,b=c+1;;){if(p==t)break e;if(b<o.length&&o[b].from==p)p=o[b++].to;else{if(sn[p]==l)break e;break}}if(c++,h)h.push(m);else{m.from>a&&r.push(new mr(a,m.from,d));let p=m.direction==Ll!=!(d%2);t1(n,p?i+1:i,s,m.inner,m.from,m.to,r),a=m.to}g=m.to}else{if(g==t||(f?sn[g]!=l:sn[g]==l))break;g++}h?e1(n,a,g,i+1,s,h,r):a<g&&r.push(new mr(a,g,d)),a=g}else for(let a=t,c=o.length;a>e;){let f=!0,u=!1;if(!c||a>o[c-1].to){let m=sn[a-1];m!=l&&(f=!1,u=m==16)}let h=!f&&l==1?[]:null,d=f?i:i+1,g=a;e:for(;;)if(c&&g==o[c-1].to){if(u)break e;let m=o[--c];if(!f)for(let p=m.from,b=c;;){if(p==e)break e;if(b&&o[b-1].to==p)p=o[--b].from;else{if(sn[p-1]==l)break e;break}}if(h)h.push(m);else{m.to<a&&r.push(new mr(m.to,a,d));let p=m.direction==Ll!=!(d%2);t1(n,p?i+1:i,s,m.inner,m.from,m.to,r),a=m.from}g=m.from}else{if(g==e||(f?sn[g-1]!=l:sn[g-1]==l))break;g--}h?e1(n,g,a,i+1,s,h,r):g<a&&r.push(new mr(g,a,d)),a=g}}function t1(n,e,t,i,s,o,r){let l=e%2?2:1;GV(n,s,o,i,l),QV(n,s,o,i,l),ZV(s,o,i,l),e1(n,s,o,e,t,i,r)}function $V(n,e,t){if(!n)return[new mr(0,0,e==J0?1:0)];if(e==Ll&&!t.length&&!XV.test(n))return _6(n.length);if(t.length)for(;n.length>sn.length;)sn[sn.length]=256;let i=[],s=e==Ll?0:1;return t1(n,s,s,t,0,n.length,i),i}function _6(n){return[new mr(0,n,0)]}let w6="";function eH(n,e,t,i,s){var o;let r=i.head-n.from,l=mr.find(e,r,(o=i.bidiLevel)!==null&&o!==void 0?o:-1,i.assoc),a=e[l],c=a.side(s,t);if(r==c){let h=l+=s?1:-1;if(h<0||h>=e.length)return null;a=e[l=h],r=a.side(!s,t),c=a.side(s,t)}let f=oi(n.text,r,a.forward(s,t));(f<a.from||f>a.to)&&(f=c),w6=n.text.slice(Math.min(r,f),Math.max(r,f));let u=l==(s?e.length-1:0)?null:e[l+(s?1:-1)];return u&&f==c&&u.level+(s?0:1)<a.level?_e.cursor(u.side(!s,t)+n.from,u.forward(s,t)?1:-1,u.level):_e.cursor(f+n.from,a.forward(s,t)?-1:1,a.level)}function tH(n,e,t){for(let i=e;i<t;i++){let s=b6(n.charCodeAt(i));if(s==1)return Ll;if(s==2||s==4)return J0}return Ll}const v6=He.define(),k6=He.define(),S6=He.define(),C6=He.define(),n1=He.define(),M6=He.define(),A6=He.define(),K0=He.define(),Y0=He.define(),x6=He.define({combine:n=>n.some(e=>e)}),O6=He.define({combine:n=>n.some(e=>e)}),P6=He.define();class Ta{constructor(e,t="nearest",i="nearest",s=5,o=5,r=!1){this.range=e,this.y=t,this.x=i,this.yMargin=s,this.xMargin=o,this.isSnapshot=r}map(e){return e.empty?this:new Ta(this.range.map(e),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}clip(e){return this.range.to<=e.doc.length?this:new Ta(_e.cursor(e.doc.length),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}}const Tu=yt.define({map:(n,e)=>n.map(e)}),T6=yt.define();function Pi(n,e,t){let i=n.facet(C6);i.length?i[0](e):window.onerror?window.onerror(String(e),t,void 0,void 0,e):t?console.error(t+":",e):console.error(e)}const fr=He.define({combine:n=>n.length?n[0]:!0});let nH=0;const Lc=He.define();class An{constructor(e,t,i,s,o){this.id=e,this.create=t,this.domEventHandlers=i,this.domEventObservers=s,this.extension=o(this)}static define(e,t){const{eventHandlers:i,eventObservers:s,provide:o,decorations:r}=t||{};return new An(nH++,e,i,s,l=>{let a=[Lc.of(l)];return r&&a.push(Mf.of(c=>{let f=c.plugin(l);return f?r(f):lt.none})),o&&a.push(o(l)),a})}static fromClass(e,t){return An.define(i=>new e(i),t)}}class gm{constructor(e){this.spec=e,this.mustUpdate=null,this.value=null}update(e){if(this.value){if(this.mustUpdate){let t=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(t)}catch(i){if(Pi(t.state,i,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch{}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.create(e)}catch(t){Pi(e.state,t,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(e){var t;if(!((t=this.value)===null||t===void 0)&&t.destroy)try{this.value.destroy()}catch(i){Pi(e.state,i,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}}const E6=He.define(),X0=He.define(),Mf=He.define(),R6=He.define(),G0=He.define(),D6=He.define();function wv(n,e){let t=n.state.facet(D6);if(!t.length)return t;let i=t.map(o=>o instanceof Function?o(n):o),s=[];return jt.spans(i,e.from,e.to,{point(){},span(o,r,l,a){let c=o-e.from,f=r-e.from,u=s;for(let h=l.length-1;h>=0;h--,a--){let d=l[h].spec.bidiIsolate,g;if(d==null&&(d=tH(e.text,c,f)),a>0&&u.length&&(g=u[u.length-1]).to==c&&g.direction==d)g.to=f,u=g.inner;else{let m={from:c,to:f,direction:d,inner:[]};u.push(m),u=m.inner}}}}),s}const L6=He.define();function I6(n){let e=0,t=0,i=0,s=0;for(let o of n.state.facet(L6)){let r=o(n);r&&(r.left!=null&&(e=Math.max(e,r.left)),r.right!=null&&(t=Math.max(t,r.right)),r.top!=null&&(i=Math.max(i,r.top)),r.bottom!=null&&(s=Math.max(s,r.bottom)))}return{left:e,right:t,top:i,bottom:s}}const Ic=He.define();class ds{constructor(e,t,i,s){this.fromA=e,this.toA=t,this.fromB=i,this.toB=s}join(e){return new ds(Math.min(this.fromA,e.fromA),Math.max(this.toA,e.toA),Math.min(this.fromB,e.fromB),Math.max(this.toB,e.toB))}addToSet(e){let t=e.length,i=this;for(;t>0;t--){let s=e[t-1];if(!(s.fromA>i.toA)){if(s.toA<i.fromA)break;i=i.join(s),e.splice(t-1,1)}}return e.splice(t,0,i),e}static extendWithRanges(e,t){if(t.length==0)return e;let i=[];for(let s=0,o=0,r=0,l=0;;s++){let a=s==e.length?null:e[s],c=r-l,f=a?a.fromB:1e9;for(;o<t.length&&t[o]<f;){let u=t[o],h=t[o+1],d=Math.max(l,u),g=Math.min(f,h);if(d<=g&&new ds(d+c,g+c,d,g).addToSet(i),h>f)break;o+=2}if(!a)return i;new ds(a.fromA,a.toA,a.fromB,a.toB).addToSet(i),r=a.toA,l=a.toB}}}class hd{constructor(e,t,i){this.view=e,this.state=t,this.transactions=i,this.flags=0,this.startState=e.state,this.changes=Fn.empty(this.startState.doc.length);for(let o of i)this.changes=this.changes.compose(o.changes);let s=[];this.changes.iterChangedRanges((o,r,l,a)=>s.push(new ds(o,r,l,a))),this.changedRanges=s}static create(e,t,i){return new hd(e,t,i)}get viewportChanged(){return(this.flags&4)>0}get heightChanged(){return(this.flags&2)>0}get geometryChanged(){return this.docChanged||(this.flags&10)>0}get focusChanged(){return(this.flags&1)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some(e=>e.selection)}get empty(){return this.flags==0&&this.transactions.length==0}}class vv extends on{get length(){return this.view.state.doc.length}constructor(e){super(),this.view=e,this.decorations=[],this.dynamicDecorationMap=[!1],this.domChanged=null,this.hasComposition=null,this.markedForComposition=new Set,this.editContextFormatting=lt.none,this.lastCompositionAfterCursor=!1,this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.setDOM(e.contentDOM),this.children=[new Bn],this.children[0].setParent(this),this.updateDeco(),this.updateInner([new ds(0,0,0,e.state.doc.length)],0,null)}update(e){var t;let i=e.changedRanges;this.minWidth>0&&i.length&&(i.every(({fromA:c,toA:f})=>f<this.minWidthFrom||c>this.minWidthTo)?(this.minWidthFrom=e.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=e.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0),this.updateEditContextFormatting(e);let s=-1;this.view.inputState.composing>=0&&!this.view.observer.editContext&&(!((t=this.domChanged)===null||t===void 0)&&t.newSel?s=this.domChanged.newSel.head:!cH(e.changes,this.hasComposition)&&!e.selectionSet&&(s=e.state.selection.main.head));let o=s>-1?sH(this.view,e.changes,s):null;if(this.domChanged=null,this.hasComposition){this.markedForComposition.clear();let{from:c,to:f}=this.hasComposition;i=new ds(c,f,e.changes.mapPos(c,-1),e.changes.mapPos(f,1)).addToSet(i.slice())}this.hasComposition=o?{from:o.range.fromB,to:o.range.toB}:null,(Ke.ie||Ke.chrome)&&!o&&e&&e.state.doc.lines!=e.startState.doc.lines&&(this.forceSelection=!0);let r=this.decorations,l=this.updateDeco(),a=lH(r,l,e.changes);return i=ds.extendWithRanges(i,a),!(this.flags&7)&&i.length==0?!1:(this.updateInner(i,e.startState.doc.length,o),e.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(e,t,i){this.view.viewState.mustMeasureContent=!0,this.updateChildren(e,t,i);let{observer:s}=this.view;s.ignore(()=>{this.dom.style.height=this.view.viewState.contentHeight/this.view.scaleY+"px",this.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let r=Ke.chrome||Ke.ios?{node:s.selectionRange.focusNode,written:!1}:void 0;this.sync(this.view,r),this.flags&=-8,r&&(r.written||s.selectionRange.focusNode!=r.node)&&(this.forceSelection=!0),this.dom.style.height=""}),this.markedForComposition.forEach(r=>r.flags&=-9);let o=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let r of this.children)r instanceof zo&&r.widget instanceof Zp&&o.push(r.dom);s.updateGaps(o)}updateChildren(e,t,i){let s=i?i.range.addToSet(e.slice()):e,o=this.childCursor(t);for(let r=s.length-1;;r--){let l=r>=0?s[r]:null;if(!l)break;let{fromA:a,toA:c,fromB:f,toB:u}=l,h,d,g,m;if(i&&i.range.fromB<u&&i.range.toB>f){let C=$c.build(this.view.state.doc,f,i.range.fromB,this.decorations,this.dynamicDecorationMap),w=$c.build(this.view.state.doc,i.range.toB,u,this.decorations,this.dynamicDecorationMap);d=C.breakAtStart,g=C.openStart,m=w.openEnd;let S=this.compositionView(i);w.breakAtStart?S.breakAfter=1:w.content.length&&S.merge(S.length,S.length,w.content[0],!1,w.openStart,0)&&(S.breakAfter=w.content[0].breakAfter,w.content.shift()),C.content.length&&S.merge(0,0,C.content[C.content.length-1],!0,0,C.openEnd)&&C.content.pop(),h=C.content.concat(S).concat(w.content)}else({content:h,breakAtStart:d,openStart:g,openEnd:m}=$c.build(this.view.state.doc,f,u,this.decorations,this.dynamicDecorationMap));let{i:p,off:b}=o.findPos(c,1),{i:y,off:v}=o.findPos(a,-1);a6(this,y,v,p,b,h,d,g,m)}i&&this.fixCompositionDOM(i)}updateEditContextFormatting(e){this.editContextFormatting=this.editContextFormatting.map(e.changes);for(let t of e.transactions)for(let i of t.effects)i.is(T6)&&(this.editContextFormatting=i.value)}compositionView(e){let t=new Bs(e.text.nodeValue);t.flags|=8;for(let{deco:s}of e.marks)t=new Xo(s,[t],t.length);let i=new Bn;return i.append(t,0),i}fixCompositionDOM(e){let t=(o,r)=>{r.flags|=8|(r.children.some(a=>a.flags&7)?1:0),this.markedForComposition.add(r);let l=on.get(o);l&&l!=r&&(l.dom=null),r.setDOM(o)},i=this.childPos(e.range.fromB,1),s=this.children[i.i];t(e.line,s);for(let o=e.marks.length-1;o>=-1;o--)i=s.childPos(i.off,1),s=s.children[i.i],t(o>=0?e.marks[o].node:e.text,s)}updateSelection(e=!1,t=!1){(e||!this.view.observer.selectionRange.focusNode)&&this.view.observer.readSelectionRange();let i=this.view.root.activeElement,s=i==this.dom,o=!s&&Sh(this.dom,this.view.observer.selectionRange)&&!(i&&this.dom.contains(i));if(!(s||t||o))return;let r=this.forceSelection;this.forceSelection=!1;let l=this.view.state.selection.main,a=this.moveToLine(this.domAtPos(l.anchor)),c=l.empty?a:this.moveToLine(this.domAtPos(l.head));if(Ke.gecko&&l.empty&&!this.hasComposition&&iH(a)){let u=document.createTextNode("");this.view.observer.ignore(()=>a.node.insertBefore(u,a.node.childNodes[a.offset]||null)),a=c=new di(u,0),r=!0}let f=this.view.observer.selectionRange;(r||!f.focusNode||(!Zc(a.node,a.offset,f.anchorNode,f.anchorOffset)||!Zc(c.node,c.offset,f.focusNode,f.focusOffset))&&!this.suppressWidgetCursorChange(f,l))&&(this.view.observer.ignore(()=>{Ke.android&&Ke.chrome&&this.dom.contains(f.focusNode)&&aH(f.focusNode,this.dom)&&(this.dom.blur(),this.dom.focus({preventScroll:!0}));let u=Sf(this.view.root);if(u)if(l.empty){if(Ke.gecko){let h=oH(a.node,a.offset);if(h&&h!=3){let d=(h==1?o6:r6)(a.node,a.offset);d&&(a=new di(d.node,d.offset))}}u.collapse(a.node,a.offset),l.bidiLevel!=null&&u.caretBidiLevel!==void 0&&(u.caretBidiLevel=l.bidiLevel)}else if(u.extend){u.collapse(a.node,a.offset);try{u.extend(c.node,c.offset)}catch{}}else{let h=document.createRange();l.anchor>l.head&&([a,c]=[c,a]),h.setEnd(c.node,c.offset),h.setStart(a.node,a.offset),u.removeAllRanges(),u.addRange(h)}o&&this.view.root.activeElement==this.dom&&(this.dom.blur(),i&&i.focus())}),this.view.observer.setSelectionRange(a,c)),this.impreciseAnchor=a.precise?null:new di(f.anchorNode,f.anchorOffset),this.impreciseHead=c.precise?null:new di(f.focusNode,f.focusOffset)}suppressWidgetCursorChange(e,t){return this.hasComposition&&t.empty&&Zc(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset)&&this.posFromDOM(e.focusNode,e.focusOffset)==t.head}enforceCursorAssoc(){if(this.hasComposition)return;let{view:e}=this,t=e.state.selection.main,i=Sf(e.root),{anchorNode:s,anchorOffset:o}=e.observer.selectionRange;if(!i||!t.empty||!t.assoc||!i.modify)return;let r=Bn.find(this,t.head);if(!r)return;let l=r.posAtStart;if(t.head==l||t.head==l+r.length)return;let a=this.coordsAt(t.head,-1),c=this.coordsAt(t.head,1);if(!a||!c||a.bottom>c.top)return;let f=this.domAtPos(t.head+t.assoc);i.collapse(f.node,f.offset),i.modify("move",t.assoc<0?"forward":"backward","lineboundary"),e.observer.readSelectionRange();let u=e.observer.selectionRange;e.docView.posFromDOM(u.anchorNode,u.anchorOffset)!=t.from&&i.collapse(s,o)}moveToLine(e){let t=this.dom,i;if(e.node!=t)return e;for(let s=e.offset;!i&&s<t.childNodes.length;s++){let o=on.get(t.childNodes[s]);o instanceof Bn&&(i=o.domAtPos(0))}for(let s=e.offset-1;!i&&s>=0;s--){let o=on.get(t.childNodes[s]);o instanceof Bn&&(i=o.domAtPos(o.length))}return i?new di(i.node,i.offset,!0):e}nearest(e){for(let t=e;t;){let i=on.get(t);if(i&&i.rootView==this)return i;t=t.parentNode}return null}posFromDOM(e,t){let i=this.nearest(e);if(!i)throw new RangeError("Trying to find position for a DOM position outside of the document");return i.localPosFromDOM(e,t)+i.posAtStart}domAtPos(e){let{i:t,off:i}=this.childCursor().findPos(e,-1);for(;t<this.children.length-1;){let s=this.children[t];if(i<s.length||s instanceof Bn)break;t++,i=0}return this.children[t].domAtPos(i)}coordsAt(e,t){let i=null,s=0;for(let o=this.length,r=this.children.length-1;r>=0;r--){let l=this.children[r],a=o-l.breakAfter,c=a-l.length;if(a<e)break;if(c<=e&&(c<e||l.covers(-1))&&(a>e||l.covers(1))&&(!i||l instanceof Bn&&!(i instanceof Bn&&t>=0)))i=l,s=c;else if(i&&c==e&&a==e&&l instanceof zo&&Math.abs(t)<2){if(l.deco.startSide<0)break;r&&(i=null)}o=c}return i?i.coordsAt(e-s,t):null}coordsForChar(e){let{i:t,off:i}=this.childPos(e,1),s=this.children[t];if(!(s instanceof Bn))return null;for(;s.children.length;){let{i:l,off:a}=s.childPos(i,1);for(;;l++){if(l==s.children.length)return null;if((s=s.children[l]).length)break}i=a}if(!(s instanceof Bs))return null;let o=oi(s.text,i);if(o==i)return null;let r=Dl(s.dom,i,o).getClientRects();for(let l=0;l<r.length;l++){let a=r[l];if(l==r.length-1||a.top<a.bottom&&a.left<a.right)return a}return null}measureVisibleLineHeights(e){let t=[],{from:i,to:s}=e,o=this.view.contentDOM.clientWidth,r=o>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,l=-1,a=this.view.textDirection==dn.LTR;for(let c=0,f=0;f<this.children.length;f++){let u=this.children[f],h=c+u.length;if(h>s)break;if(c>=i){let d=u.dom.getBoundingClientRect();if(t.push(d.height),r){let g=u.dom.lastChild,m=g?Cf(g):[];if(m.length){let p=m[m.length-1],b=a?p.right-d.left:d.right-p.left;b>l&&(l=b,this.minWidth=o,this.minWidthFrom=c,this.minWidthTo=h)}}}c=h+u.breakAfter}return t}textDirectionAt(e){let{i:t}=this.childPos(e,1);return getComputedStyle(this.children[t].dom).direction=="rtl"?dn.RTL:dn.LTR}measureTextSize(){for(let o of this.children)if(o instanceof Bn){let r=o.measureTextSize();if(r)return r}let e=document.createElement("div"),t,i,s;return e.className="cm-line",e.style.width="99999px",e.style.position="absolute",e.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore(()=>{this.dom.appendChild(e);let o=Cf(e.firstChild)[0];t=e.getBoundingClientRect().height,i=o?o.width/27:7,s=o?o.height:t,e.remove()}),{lineHeight:t,charWidth:i,textHeight:s}}childCursor(e=this.length){let t=this.children.length;return t&&(e-=this.children[--t].length),new l6(this.children,e,t)}computeBlockGapDeco(){let e=[],t=this.view.viewState;for(let i=0,s=0;;s++){let o=s==t.viewports.length?null:t.viewports[s],r=o?o.from-1:this.length;if(r>i){let l=(t.lineBlockAt(r).bottom-t.lineBlockAt(i).top)/this.view.scaleY;e.push(lt.replace({widget:new Zp(l),block:!0,inclusive:!0,isBlockGap:!0}).range(i,r))}if(!o)break;i=o.to+1}return lt.set(e)}updateDeco(){let e=1,t=this.view.state.facet(Mf).map(o=>(this.dynamicDecorationMap[e++]=typeof o=="function")?o(this.view):o),i=!1,s=this.view.state.facet(R6).map((o,r)=>{let l=typeof o=="function";return l&&(i=!0),l?o(this.view):o});for(s.length&&(this.dynamicDecorationMap[e++]=i,t.push(jt.join(s))),this.decorations=[this.editContextFormatting,...t,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco];e<this.decorations.length;)this.dynamicDecorationMap[e++]=!1;return this.decorations}scrollIntoView(e){if(e.isSnapshot){let c=this.view.viewState.lineBlockAt(e.range.head);this.view.scrollDOM.scrollTop=c.top-e.yMargin,this.view.scrollDOM.scrollLeft=e.xMargin;return}for(let c of this.view.state.facet(P6))try{if(c(this.view,e.range,e))return!0}catch(f){Pi(this.view.state,f,"scroll handler")}let{range:t}=e,i=this.coordsAt(t.head,t.empty?t.assoc:t.head>t.anchor?-1:1),s;if(!i)return;!t.empty&&(s=this.coordsAt(t.anchor,t.anchor>t.head?-1:1))&&(i={left:Math.min(i.left,s.left),top:Math.min(i.top,s.top),right:Math.max(i.right,s.right),bottom:Math.max(i.bottom,s.bottom)});let o=I6(this.view),r={left:i.left-o.left,top:i.top-o.top,right:i.right+o.right,bottom:i.bottom+o.bottom},{offsetWidth:l,offsetHeight:a}=this.view.scrollDOM;BV(this.view.scrollDOM,r,t.head<t.anchor?-1:1,e.x,e.y,Math.max(Math.min(e.xMargin,l),-l),Math.max(Math.min(e.yMargin,a),-a),this.view.textDirection==dn.LTR)}}function iH(n){return n.node.nodeType==1&&n.node.firstChild&&(n.offset==0||n.node.childNodes[n.offset-1].contentEditable=="false")&&(n.offset==n.node.childNodes.length||n.node.childNodes[n.offset].contentEditable=="false")}function N6(n,e){let t=n.observer.selectionRange;if(!t.focusNode)return null;let i=o6(t.focusNode,t.focusOffset),s=r6(t.focusNode,t.focusOffset),o=i||s;if(s&&i&&s.node!=i.node){let l=on.get(s.node);if(!l||l instanceof Bs&&l.text!=s.node.nodeValue)o=s;else if(n.docView.lastCompositionAfterCursor){let a=on.get(i.node);!a||a instanceof Bs&&a.text!=i.node.nodeValue||(o=s)}}if(n.docView.lastCompositionAfterCursor=o!=i,!o)return null;let r=e-o.offset;return{from:r,to:r+o.node.nodeValue.length,node:o.node}}function sH(n,e,t){let i=N6(n,t);if(!i)return null;let{node:s,from:o,to:r}=i,l=s.nodeValue;if(/[\n\r]/.test(l)||n.state.doc.sliceString(i.from,i.to)!=l)return null;let a=e.invertedDesc,c=new ds(a.mapPos(o),a.mapPos(r),o,r),f=[];for(let u=s.parentNode;;u=u.parentNode){let h=on.get(u);if(h instanceof Xo)f.push({node:u,deco:h.mark});else{if(h instanceof Bn||u.nodeName=="DIV"&&u.parentNode==n.contentDOM)return{range:c,text:s,marks:f,line:u};if(u!=n.contentDOM)f.push({node:u,deco:new tu({inclusive:!0,attributes:UV(u),tagName:u.tagName.toLowerCase()})});else return null}}}function oH(n,e){return n.nodeType!=1?0:(e&&n.childNodes[e-1].contentEditable=="false"?1:0)|(e<n.childNodes.length&&n.childNodes[e].contentEditable=="false"?2:0)}let rH=class{constructor(){this.changes=[]}compareRange(e,t){Qp(e,t,this.changes)}comparePoint(e,t){Qp(e,t,this.changes)}};function lH(n,e,t){let i=new rH;return jt.compare(n,e,t,i),i.changes}function aH(n,e){for(let t=n;t&&t!=e;t=t.assignedSlot||t.parentNode)if(t.nodeType==1&&t.contentEditable=="false")return!0;return!1}function cH(n,e){let t=!1;return e&&n.iterChangedRanges((i,s)=>{i<e.to&&s>e.from&&(t=!0)}),t}function fH(n,e,t=1){let i=n.charCategorizer(e),s=n.doc.lineAt(e),o=e-s.from;if(s.length==0)return _e.cursor(e);o==0?t=1:o==s.length&&(t=-1);let r=o,l=o;t<0?r=oi(s.text,o,!1):l=oi(s.text,o);let a=i(s.text.slice(r,l));for(;r>0;){let c=oi(s.text,r,!1);if(i(s.text.slice(c,r))!=a)break;r=c}for(;l<s.length;){let c=oi(s.text,l);if(i(s.text.slice(l,c))!=a)break;l=c}return _e.range(r+s.from,l+s.from)}function uH(n,e){return e.left>n?e.left-n:Math.max(0,n-e.right)}function hH(n,e){return e.top>n?e.top-n:Math.max(0,n-e.bottom)}function mm(n,e){return n.top<e.bottom-1&&n.bottom>e.top+1}function kv(n,e){return e<n.top?{top:e,left:n.left,right:n.right,bottom:n.bottom}:n}function Sv(n,e){return e>n.bottom?{top:n.top,left:n.left,right:n.right,bottom:e}:n}function i1(n,e,t){let i,s,o,r,l=!1,a,c,f,u;for(let g=n.firstChild;g;g=g.nextSibling){let m=Cf(g);for(let p=0;p<m.length;p++){let b=m[p];s&&mm(s,b)&&(b=kv(Sv(b,s.bottom),s.top));let y=uH(e,b),v=hH(t,b);if(y==0&&v==0)return g.nodeType==3?Cv(g,e,t):i1(g,e,t);if(!i||r>v||r==v&&o>y){i=g,s=b,o=y,r=v;let C=v?t<b.top?-1:1:y?e<b.left?-1:1:0;l=!C||(C>0?p<m.length-1:p>0)}y==0?t>b.bottom&&(!f||f.bottom<b.bottom)?(a=g,f=b):t<b.top&&(!u||u.top>b.top)&&(c=g,u=b):f&&mm(f,b)?f=Sv(f,b.bottom):u&&mm(u,b)&&(u=kv(u,b.top))}}if(f&&f.bottom>=t?(i=a,s=f):u&&u.top<=t&&(i=c,s=u),!i)return{node:n,offset:0};let h=Math.max(s.left,Math.min(s.right,e));if(i.nodeType==3)return Cv(i,h,t);if(l&&i.contentEditable!="false")return i1(i,h,t);let d=Array.prototype.indexOf.call(n.childNodes,i)+(e>=(s.left+s.right)/2?1:0);return{node:n,offset:d}}function Cv(n,e,t){let i=n.nodeValue.length,s=-1,o=1e9,r=0;for(let l=0;l<i;l++){let a=Dl(n,l,l+1).getClientRects();for(let c=0;c<a.length;c++){let f=a[c];if(f.top==f.bottom)continue;r||(r=e-f.left);let u=(f.top>t?f.top-t:t-f.bottom)-1;if(f.left-1<=e&&f.right+1>=e&&u<o){let h=e>=(f.left+f.right)/2,d=h;if((Ke.chrome||Ke.gecko)&&Dl(n,l).getBoundingClientRect().left==f.right&&(d=!h),u<=0)return{node:n,offset:l+(d?1:0)};s=l+(d?1:0),o=u}}}return{node:n,offset:s>-1?s:r>0?n.nodeValue.length:0}}function B6(n,e,t,i=-1){var s,o;let r=n.contentDOM.getBoundingClientRect(),l=r.top+n.viewState.paddingTop,a,{docHeight:c}=n.viewState,{x:f,y:u}=e,h=u-l;if(h<0)return 0;if(h>c)return n.state.doc.length;for(let C=n.viewState.heightOracle.textHeight/2,w=!1;a=n.elementAtHeight(h),a.type!=Ei.Text;)for(;h=i>0?a.bottom+C:a.top-C,!(h>=0&&h<=c);){if(w)return t?null:0;w=!0,i=-i}u=l+h;let d=a.from;if(d<n.viewport.from)return n.viewport.from==0?0:t?null:Mv(n,r,a,f,u);if(d>n.viewport.to)return n.viewport.to==n.state.doc.length?n.state.doc.length:t?null:Mv(n,r,a,f,u);let g=n.dom.ownerDocument,m=n.root.elementFromPoint?n.root:g,p=m.elementFromPoint(f,u);p&&!n.contentDOM.contains(p)&&(p=null),p||(f=Math.max(r.left+1,Math.min(r.right-1,f)),p=m.elementFromPoint(f,u),p&&!n.contentDOM.contains(p)&&(p=null));let b,y=-1;if(p&&((s=n.docView.nearest(p))===null||s===void 0?void 0:s.isEditable)!=!1){if(g.caretPositionFromPoint){let C=g.caretPositionFromPoint(f,u);C&&({offsetNode:b,offset:y}=C)}else if(g.caretRangeFromPoint){let C=g.caretRangeFromPoint(f,u);C&&({startContainer:b,startOffset:y}=C,(!n.contentDOM.contains(b)||Ke.safari&&dH(b,y,f)||Ke.chrome&&gH(b,y,f))&&(b=void 0))}}if(!b||!n.docView.dom.contains(b)){let C=Bn.find(n.docView,d);if(!C)return h>a.top+a.height/2?a.to:a.from;({node:b,offset:y}=i1(C.dom,f,u))}let v=n.docView.nearest(b);if(!v)return null;if(v.isWidget&&((o=v.dom)===null||o===void 0?void 0:o.nodeType)==1){let C=v.dom.getBoundingClientRect();return e.y<C.top||e.y<=C.bottom&&e.x<=(C.left+C.right)/2?v.posAtStart:v.posAtEnd}else return v.localPosFromDOM(b,y)+v.posAtStart}function Mv(n,e,t,i,s){let o=Math.round((i-e.left)*n.defaultCharacterWidth);if(n.lineWrapping&&t.height>n.defaultLineHeight*1.5){let l=n.viewState.heightOracle.textHeight,a=Math.floor((s-t.top-(n.defaultLineHeight-l)*.5)/l);o+=a*n.viewState.heightOracle.lineLength}let r=n.state.sliceDoc(t.from,t.to);return t.from+Hp(r,o,n.state.tabSize)}function dH(n,e,t){let i;if(n.nodeType!=3||e!=(i=n.nodeValue.length))return!1;for(let s=n.nextSibling;s;s=s.nextSibling)if(s.nodeType!=1||s.nodeName!="BR")return!1;return Dl(n,i-1,i).getBoundingClientRect().left>t}function gH(n,e,t){if(e!=0)return!1;for(let s=n;;){let o=s.parentNode;if(!o||o.nodeType!=1||o.firstChild!=s)return!1;if(o.classList.contains("cm-line"))break;s=o}let i=n.nodeType==1?n.getBoundingClientRect():Dl(n,0,Math.max(n.nodeValue.length,1)).getBoundingClientRect();return t-i.left>5}function s1(n,e){let t=n.lineBlockAt(e);if(Array.isArray(t.type)){for(let i of t.type)if(i.to>e||i.to==e&&(i.to==t.to||i.type==Ei.Text))return i}return t}function mH(n,e,t,i){let s=s1(n,e.head),o=!i||s.type!=Ei.Text||!(n.lineWrapping||s.widgetLineBreaks)?null:n.coordsAtPos(e.assoc<0&&e.head>s.from?e.head-1:e.head);if(o){let r=n.dom.getBoundingClientRect(),l=n.textDirectionAt(s.from),a=n.posAtCoords({x:t==(l==dn.LTR)?r.right-1:r.left+1,y:(o.top+o.bottom)/2});if(a!=null)return _e.cursor(a,t?-1:1)}return _e.cursor(t?s.to:s.from,t?-1:1)}function Av(n,e,t,i){let s=n.state.doc.lineAt(e.head),o=n.bidiSpans(s),r=n.textDirectionAt(s.from);for(let l=e,a=null;;){let c=eH(s,o,r,l,t),f=w6;if(!c){if(s.number==(t?n.state.doc.lines:1))return l;f=`
`,s=n.state.doc.line(s.number+(t?1:-1)),o=n.bidiSpans(s),c=n.visualLineSide(s,!t)}if(a){if(!a(f))return l}else{if(!i)return c;a=i(f)}l=c}}function pH(n,e,t){let i=n.state.charCategorizer(e),s=i(t);return o=>{let r=i(o);return s==vn.Space&&(s=r),s==r}}function bH(n,e,t,i){let s=e.head,o=t?1:-1;if(s==(t?n.state.doc.length:0))return _e.cursor(s,e.assoc);let r=e.goalColumn,l,a=n.contentDOM.getBoundingClientRect(),c=n.coordsAtPos(s,e.assoc||-1),f=n.documentTop;if(c)r==null&&(r=c.left-a.left),l=o<0?c.top:c.bottom;else{let d=n.viewState.lineBlockAt(s);r==null&&(r=Math.min(a.right-a.left,n.defaultCharacterWidth*(s-d.from))),l=(o<0?d.top:d.bottom)+f}let u=a.left+r,h=i??n.viewState.heightOracle.textHeight>>1;for(let d=0;;d+=10){let g=l+(h+d)*o,m=B6(n,{x:u,y:g},!1,o);if(g<a.top||g>a.bottom||(o<0?m<s:m>s)){let p=n.docView.coordsForChar(m),b=!p||g<p.top?-1:1;return _e.cursor(m,b,void 0,r)}}}function Ch(n,e,t){for(;;){let i=0;for(let s of n)s.between(e-1,e+1,(o,r,l)=>{if(e>o&&e<r){let a=i||t||(e-o<r-e?-1:1);e=a<0?o:r,i=a}});if(!i)return e}}function pm(n,e,t){let i=Ch(n.state.facet(G0).map(s=>s(n)),t.from,e.head>t.from?-1:1);return i==t.from?t:_e.cursor(i,i<t.from?1:-1)}const Nc="￿";class yH{constructor(e,t){this.points=e,this.text="",this.lineSeparator=t.facet(Pt.lineSeparator)}append(e){this.text+=e}lineBreak(){this.text+=Nc}readRange(e,t){if(!e)return this;let i=e.parentNode;for(let s=e;;){this.findPointBefore(i,s);let o=this.text.length;this.readNode(s);let r=s.nextSibling;if(r==t)break;let l=on.get(s),a=on.get(r);(l&&a?l.breakAfter:(l?l.breakAfter:fd(s))||fd(r)&&(s.nodeName!="BR"||s.cmIgnore)&&this.text.length>o)&&this.lineBreak(),s=r}return this.findPointBefore(i,t),this}readTextNode(e){let t=e.nodeValue;for(let i of this.points)i.node==e&&(i.pos=this.text.length+Math.min(i.offset,t.length));for(let i=0,s=this.lineSeparator?null:/\r\n?|\n/g;;){let o=-1,r=1,l;if(this.lineSeparator?(o=t.indexOf(this.lineSeparator,i),r=this.lineSeparator.length):(l=s.exec(t))&&(o=l.index,r=l[0].length),this.append(t.slice(i,o<0?t.length:o)),o<0)break;if(this.lineBreak(),r>1)for(let a of this.points)a.node==e&&a.pos>this.text.length&&(a.pos-=r-1);i=o+r}}readNode(e){if(e.cmIgnore)return;let t=on.get(e),i=t&&t.overrideDOMText;if(i!=null){this.findPointInside(e,i.length);for(let s=i.iter();!s.next().done;)s.lineBreak?this.lineBreak():this.append(s.value)}else e.nodeType==3?this.readTextNode(e):e.nodeName=="BR"?e.nextSibling&&this.lineBreak():e.nodeType==1&&this.readRange(e.firstChild,null)}findPointBefore(e,t){for(let i of this.points)i.node==e&&e.childNodes[i.offset]==t&&(i.pos=this.text.length)}findPointInside(e,t){for(let i of this.points)(e.nodeType==3?i.node==e:e.contains(i.node))&&(i.pos=this.text.length+(_H(e,i.node,i.offset)?t:0))}}function _H(n,e,t){for(;;){if(!e||t<Yo(e))return!1;if(e==n)return!0;t=Rl(e)+1,e=e.parentNode}}class xv{constructor(e,t){this.node=e,this.offset=t,this.pos=-1}}class wH{constructor(e,t,i,s){this.typeOver=s,this.bounds=null,this.text="",this.domChanged=t>-1;let{impreciseHead:o,impreciseAnchor:r}=e.docView;if(e.state.readOnly&&t>-1)this.newSel=null;else if(t>-1&&(this.bounds=e.docView.domBoundsAround(t,i,0))){let l=o||r?[]:SH(e),a=new yH(l,e.state);a.readRange(this.bounds.startDOM,this.bounds.endDOM),this.text=a.text,this.newSel=CH(l,this.bounds.from)}else{let l=e.observer.selectionRange,a=o&&o.node==l.focusNode&&o.offset==l.focusOffset||!Up(e.contentDOM,l.focusNode)?e.state.selection.main.head:e.docView.posFromDOM(l.focusNode,l.focusOffset),c=r&&r.node==l.anchorNode&&r.offset==l.anchorOffset||!Up(e.contentDOM,l.anchorNode)?e.state.selection.main.anchor:e.docView.posFromDOM(l.anchorNode,l.anchorOffset),f=e.viewport;if((Ke.ios||Ke.chrome)&&e.state.selection.main.empty&&a!=c&&(f.from>0||f.to<e.state.doc.length)){let u=Math.min(a,c),h=Math.max(a,c),d=f.from-u,g=f.to-h;(d==0||d==1||u==0)&&(g==0||g==-1||h==e.state.doc.length)&&(a=0,c=e.state.doc.length)}this.newSel=_e.single(c,a)}}}function j6(n,e){let t,{newSel:i}=e,s=n.state.selection.main,o=n.inputState.lastKeyTime>Date.now()-100?n.inputState.lastKeyCode:-1;if(e.bounds){let{from:r,to:l}=e.bounds,a=s.from,c=null;(o===8||Ke.android&&e.text.length<l-r)&&(a=s.to,c="end");let f=kH(n.state.doc.sliceString(r,l,Nc),e.text,a-r,c);f&&(Ke.chrome&&o==13&&f.toB==f.from+2&&e.text.slice(f.from,f.toB)==Nc+Nc&&f.toB--,t={from:r+f.from,to:r+f.toA,insert:qt.of(e.text.slice(f.from,f.toB).split(Nc))})}else i&&(!n.hasFocus&&n.state.facet(fr)||i.main.eq(s))&&(i=null);if(!t&&!i)return!1;if(!t&&e.typeOver&&!s.empty&&i&&i.main.empty?t={from:s.from,to:s.to,insert:n.state.doc.slice(s.from,s.to)}:t&&t.from>=s.from&&t.to<=s.to&&(t.from!=s.from||t.to!=s.to)&&s.to-s.from-(t.to-t.from)<=4?t={from:s.from,to:s.to,insert:n.state.doc.slice(s.from,t.from).append(t.insert).append(n.state.doc.slice(t.to,s.to))}:(Ke.mac||Ke.android)&&t&&t.from==t.to&&t.from==s.head-1&&/^\. ?$/.test(t.insert.toString())&&n.contentDOM.getAttribute("autocorrect")=="off"?(i&&t.insert.length==2&&(i=_e.single(i.main.anchor-1,i.main.head-1)),t={from:s.from,to:s.to,insert:qt.of([" "])}):Ke.chrome&&t&&t.from==t.to&&t.from==s.head&&t.insert.toString()==`
 `&&n.lineWrapping&&(i&&(i=_e.single(i.main.anchor-1,i.main.head-1)),t={from:s.from,to:s.to,insert:qt.of([" "])}),t)return Q0(n,t,i,o);if(i&&!i.main.eq(s)){let r=!1,l="select";return n.inputState.lastSelectionTime>Date.now()-50&&(n.inputState.lastSelectionOrigin=="select"&&(r=!0),l=n.inputState.lastSelectionOrigin),n.dispatch({selection:i,scrollIntoView:r,userEvent:l}),!0}else return!1}function Q0(n,e,t,i=-1){if(Ke.ios&&n.inputState.flushIOSKey(e))return!0;let s=n.state.selection.main;if(Ke.android&&(e.to==s.to&&(e.from==s.from||e.from==s.from-1&&n.state.sliceDoc(e.from,s.from)==" ")&&e.insert.length==1&&e.insert.lines==2&&Pa(n.contentDOM,"Enter",13)||(e.from==s.from-1&&e.to==s.to&&e.insert.length==0||i==8&&e.insert.length<e.to-e.from&&e.to>s.head)&&Pa(n.contentDOM,"Backspace",8)||e.from==s.from&&e.to==s.to+1&&e.insert.length==0&&Pa(n.contentDOM,"Delete",46)))return!0;let o=e.insert.toString();n.inputState.composing>=0&&n.inputState.composing++;let r,l=()=>r||(r=vH(n,e,t));return n.state.facet(M6).some(a=>a(n,e.from,e.to,o,l))||n.dispatch(l()),!0}function vH(n,e,t){let i,s=n.state,o=s.selection.main;if(e.from>=o.from&&e.to<=o.to&&e.to-e.from>=(o.to-o.from)/3&&(!t||t.main.empty&&t.main.from==e.from+e.insert.length)&&n.inputState.composing<0){let l=o.from<e.from?s.sliceDoc(o.from,e.from):"",a=o.to>e.to?s.sliceDoc(e.to,o.to):"";i=s.replaceSelection(n.state.toText(l+e.insert.sliceString(0,void 0,n.state.lineBreak)+a))}else{let l=s.changes(e),a=t&&t.main.to<=l.newLength?t.main:void 0;if(s.selection.ranges.length>1&&n.inputState.composing>=0&&e.to<=o.to&&e.to>=o.to-10){let c=n.state.sliceDoc(e.from,e.to),f,u=t&&N6(n,t.main.head);if(u){let g=e.insert.length-(e.to-e.from);f={from:u.from,to:u.to-g}}else f=n.state.doc.lineAt(o.head);let h=o.to-e.to,d=o.to-o.from;i=s.changeByRange(g=>{if(g.from==o.from&&g.to==o.to)return{changes:l,range:a||g.map(l)};let m=g.to-h,p=m-c.length;if(g.to-g.from!=d||n.state.sliceDoc(p,m)!=c||g.to>=f.from&&g.from<=f.to)return{range:g};let b=s.changes({from:p,to:m,insert:e.insert}),y=g.to-o.to;return{changes:b,range:a?_e.range(Math.max(0,a.anchor+y),Math.max(0,a.head+y)):g.map(b)}})}else i={changes:l,selection:a&&s.selection.replaceRange(a)}}let r="input.type";return(n.composing||n.inputState.compositionPendingChange&&n.inputState.compositionEndedAt>Date.now()-50)&&(n.inputState.compositionPendingChange=!1,r+=".compose",n.inputState.compositionFirstChange&&(r+=".start",n.inputState.compositionFirstChange=!1)),s.update(i,{userEvent:r,scrollIntoView:!0})}function kH(n,e,t,i){let s=Math.min(n.length,e.length),o=0;for(;o<s&&n.charCodeAt(o)==e.charCodeAt(o);)o++;if(o==s&&n.length==e.length)return null;let r=n.length,l=e.length;for(;r>0&&l>0&&n.charCodeAt(r-1)==e.charCodeAt(l-1);)r--,l--;if(i=="end"){let a=Math.max(0,o-Math.min(r,l));t-=r+a-o}if(r<o&&n.length<e.length){let a=t<=o&&t>=r?o-t:0;o-=a,l=o+(l-r),r=o}else if(l<o){let a=t<=o&&t>=l?o-t:0;o-=a,r=o+(r-l),l=o}return{from:o,toA:r,toB:l}}function SH(n){let e=[];if(n.root.activeElement!=n.contentDOM)return e;let{anchorNode:t,anchorOffset:i,focusNode:s,focusOffset:o}=n.observer.selectionRange;return t&&(e.push(new xv(t,i)),(s!=t||o!=i)&&e.push(new xv(s,o))),e}function CH(n,e){if(n.length==0)return null;let t=n[0].pos,i=n.length==2?n[1].pos:t;return t>-1&&i>-1?_e.single(t+e,i+e):null}class MH{setSelectionOrigin(e){this.lastSelectionOrigin=e,this.lastSelectionTime=Date.now()}constructor(e){this.view=e,this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.pendingIOSKey=void 0,this.tabFocusMode=-1,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastContextMenu=0,this.scrollHandlers=[],this.handlers=Object.create(null),this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.compositionPendingKey=!1,this.compositionPendingChange=!1,this.mouseSelection=null,this.draggedContent=null,this.handleEvent=this.handleEvent.bind(this),this.notifiedFocused=e.hasFocus,Ke.safari&&e.contentDOM.addEventListener("input",()=>null),Ke.gecko&&VH(e.contentDOM.ownerDocument)}handleEvent(e){!DH(this.view,e)||this.ignoreDuringComposition(e)||e.type=="keydown"&&this.keydown(e)||this.runHandlers(e.type,e)}runHandlers(e,t){let i=this.handlers[e];if(i){for(let s of i.observers)s(this.view,t);for(let s of i.handlers){if(t.defaultPrevented)break;if(s(this.view,t)){t.preventDefault();break}}}}ensureHandlers(e){let t=AH(e),i=this.handlers,s=this.view.contentDOM;for(let o in t)if(o!="scroll"){let r=!t[o].handlers.length,l=i[o];l&&r!=!l.handlers.length&&(s.removeEventListener(o,this.handleEvent),l=null),l||s.addEventListener(o,this.handleEvent,{passive:r})}for(let o in i)o!="scroll"&&!t[o]&&s.removeEventListener(o,this.handleEvent);this.handlers=t}keydown(e){if(this.lastKeyCode=e.keyCode,this.lastKeyTime=Date.now(),e.keyCode==9&&this.tabFocusMode>-1&&(!this.tabFocusMode||Date.now()<=this.tabFocusMode))return!0;if(this.tabFocusMode>0&&e.keyCode!=27&&F6.indexOf(e.keyCode)<0&&(this.tabFocusMode=-1),Ke.android&&Ke.chrome&&!e.synthetic&&(e.keyCode==13||e.keyCode==8))return this.view.observer.delayAndroidKey(e.key,e.keyCode),!0;let t;return Ke.ios&&!e.synthetic&&!e.altKey&&!e.metaKey&&((t=z6.find(i=>i.keyCode==e.keyCode))&&!e.ctrlKey||xH.indexOf(e.key)>-1&&e.ctrlKey&&!e.shiftKey)?(this.pendingIOSKey=t||e,setTimeout(()=>this.flushIOSKey(),250),!0):(e.keyCode!=229&&this.view.observer.forceFlush(),!1)}flushIOSKey(e){let t=this.pendingIOSKey;return!t||t.key=="Enter"&&e&&e.from<e.to&&/^\S+$/.test(e.insert.toString())?!1:(this.pendingIOSKey=void 0,Pa(this.view.contentDOM,t.key,t.keyCode,t instanceof KeyboardEvent?t:void 0))}ignoreDuringComposition(e){return/^key/.test(e.type)?this.composing>0?!0:Ke.safari&&!Ke.ios&&this.compositionPendingKey&&Date.now()-this.compositionEndedAt<100?(this.compositionPendingKey=!1,!0):!1:!1}startMouseSelection(e){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=e}update(e){this.view.observer.update(e),this.mouseSelection&&this.mouseSelection.update(e),this.draggedContent&&e.docChanged&&(this.draggedContent=this.draggedContent.map(e.changes)),e.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}}function Ov(n,e){return(t,i)=>{try{return e.call(n,i,t)}catch(s){Pi(t.state,s)}}}function AH(n){let e=Object.create(null);function t(i){return e[i]||(e[i]={observers:[],handlers:[]})}for(let i of n){let s=i.spec;if(s&&s.domEventHandlers)for(let o in s.domEventHandlers){let r=s.domEventHandlers[o];r&&t(o).handlers.push(Ov(i.value,r))}if(s&&s.domEventObservers)for(let o in s.domEventObservers){let r=s.domEventObservers[o];r&&t(o).observers.push(Ov(i.value,r))}}for(let i in js)t(i).handlers.push(js[i]);for(let i in bs)t(i).observers.push(bs[i]);return e}const z6=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Enter",keyCode:13,inputType:"insertLineBreak"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],xH="dthko",F6=[16,17,18,20,91,92,224,225],Eu=6;function Ru(n){return Math.max(0,n)*.7+8}function OH(n,e){return Math.max(Math.abs(n.clientX-e.clientX),Math.abs(n.clientY-e.clientY))}class PH{constructor(e,t,i,s){this.view=e,this.startEvent=t,this.style=i,this.mustSelect=s,this.scrollSpeed={x:0,y:0},this.scrolling=-1,this.lastEvent=t,this.scrollParents=jV(e.contentDOM),this.atoms=e.state.facet(G0).map(r=>r(e));let o=e.contentDOM.ownerDocument;o.addEventListener("mousemove",this.move=this.move.bind(this)),o.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=t.shiftKey,this.multiple=e.state.facet(Pt.allowMultipleSelections)&&TH(e,t),this.dragging=RH(e,t)&&W6(t)==1?null:!1}start(e){this.dragging===!1&&this.select(e)}move(e){if(e.buttons==0)return this.destroy();if(this.dragging||this.dragging==null&&OH(this.startEvent,e)<10)return;this.select(this.lastEvent=e);let t=0,i=0,s=0,o=0,r=this.view.win.innerWidth,l=this.view.win.innerHeight;this.scrollParents.x&&({left:s,right:r}=this.scrollParents.x.getBoundingClientRect()),this.scrollParents.y&&({top:o,bottom:l}=this.scrollParents.y.getBoundingClientRect());let a=I6(this.view);e.clientX-a.left<=s+Eu?t=-Ru(s-e.clientX):e.clientX+a.right>=r-Eu&&(t=Ru(e.clientX-r)),e.clientY-a.top<=o+Eu?i=-Ru(o-e.clientY):e.clientY+a.bottom>=l-Eu&&(i=Ru(e.clientY-l)),this.setScrollSpeed(t,i)}up(e){this.dragging==null&&this.select(this.lastEvent),this.dragging||e.preventDefault(),this.destroy()}destroy(){this.setScrollSpeed(0,0);let e=this.view.contentDOM.ownerDocument;e.removeEventListener("mousemove",this.move),e.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=this.view.inputState.draggedContent=null}setScrollSpeed(e,t){this.scrollSpeed={x:e,y:t},e||t?this.scrolling<0&&(this.scrolling=setInterval(()=>this.scroll(),50)):this.scrolling>-1&&(clearInterval(this.scrolling),this.scrolling=-1)}scroll(){let{x:e,y:t}=this.scrollSpeed;e&&this.scrollParents.x&&(this.scrollParents.x.scrollLeft+=e,e=0),t&&this.scrollParents.y&&(this.scrollParents.y.scrollTop+=t,t=0),(e||t)&&this.view.win.scrollBy(e,t),this.dragging===!1&&this.select(this.lastEvent)}skipAtoms(e){let t=null;for(let i=0;i<e.ranges.length;i++){let s=e.ranges[i],o=null;if(s.empty){let r=Ch(this.atoms,s.from,0);r!=s.from&&(o=_e.cursor(r,-1))}else{let r=Ch(this.atoms,s.from,-1),l=Ch(this.atoms,s.to,1);(r!=s.from||l!=s.to)&&(o=_e.range(s.from==s.anchor?r:l,s.from==s.head?r:l))}o&&(t||(t=e.ranges.slice()),t[i]=o)}return t?_e.create(t,e.mainIndex):e}select(e){let{view:t}=this,i=this.skipAtoms(this.style.get(e,this.extend,this.multiple));(this.mustSelect||!i.eq(t.state.selection,this.dragging===!1))&&this.view.dispatch({selection:i,userEvent:"select.pointer"}),this.mustSelect=!1}update(e){e.transactions.some(t=>t.isUserEvent("input.type"))?this.destroy():this.style.update(e)&&setTimeout(()=>this.select(this.lastEvent),20)}}function TH(n,e){let t=n.state.facet(v6);return t.length?t[0](e):Ke.mac?e.metaKey:e.ctrlKey}function EH(n,e){let t=n.state.facet(k6);return t.length?t[0](e):Ke.mac?!e.altKey:!e.ctrlKey}function RH(n,e){let{main:t}=n.state.selection;if(t.empty)return!1;let i=Sf(n.root);if(!i||i.rangeCount==0)return!0;let s=i.getRangeAt(0).getClientRects();for(let o=0;o<s.length;o++){let r=s[o];if(r.left<=e.clientX&&r.right>=e.clientX&&r.top<=e.clientY&&r.bottom>=e.clientY)return!0}return!1}function DH(n,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let t=e.target,i;t!=n.contentDOM;t=t.parentNode)if(!t||t.nodeType==11||(i=on.get(t))&&i.ignoreEvent(e))return!1;return!0}const js=Object.create(null),bs=Object.create(null),V6=Ke.ie&&Ke.ie_version<15||Ke.ios&&Ke.webkit_version<604;function LH(n){let e=n.dom.parentNode;if(!e)return;let t=e.appendChild(document.createElement("textarea"));t.style.cssText="position: fixed; left: -10000px; top: 10px",t.focus(),setTimeout(()=>{n.focus(),t.remove(),H6(n,t.value)},50)}function Mg(n,e,t){for(let i of n.facet(e))t=i(t,n);return t}function H6(n,e){e=Mg(n.state,K0,e);let{state:t}=n,i,s=1,o=t.toText(e),r=o.lines==t.selection.ranges.length;if(o1!=null&&t.selection.ranges.every(a=>a.empty)&&o1==o.toString()){let a=-1;i=t.changeByRange(c=>{let f=t.doc.lineAt(c.from);if(f.from==a)return{range:c};a=f.from;let u=t.toText((r?o.line(s++).text:e)+t.lineBreak);return{changes:{from:f.from,insert:u},range:_e.cursor(c.from+u.length)}})}else r?i=t.changeByRange(a=>{let c=o.line(s++);return{changes:{from:a.from,to:a.to,insert:c.text},range:_e.cursor(a.from+c.length)}}):i=t.replaceSelection(o);n.dispatch(i,{userEvent:"input.paste",scrollIntoView:!0})}bs.scroll=n=>{n.inputState.lastScrollTop=n.scrollDOM.scrollTop,n.inputState.lastScrollLeft=n.scrollDOM.scrollLeft};js.keydown=(n,e)=>(n.inputState.setSelectionOrigin("select"),e.keyCode==27&&n.inputState.tabFocusMode!=0&&(n.inputState.tabFocusMode=Date.now()+2e3),!1);bs.touchstart=(n,e)=>{n.inputState.lastTouchTime=Date.now(),n.inputState.setSelectionOrigin("select.pointer")};bs.touchmove=n=>{n.inputState.setSelectionOrigin("select.pointer")};js.mousedown=(n,e)=>{if(n.observer.flush(),n.inputState.lastTouchTime>Date.now()-2e3)return!1;let t=null;for(let i of n.state.facet(S6))if(t=i(n,e),t)break;if(!t&&e.button==0&&(t=BH(n,e)),t){let i=!n.hasFocus;n.inputState.startMouseSelection(new PH(n,e,t,i)),i&&n.observer.ignore(()=>{n6(n.contentDOM);let o=n.root.activeElement;o&&!o.contains(n.contentDOM)&&o.blur()});let s=n.inputState.mouseSelection;if(s)return s.start(e),s.dragging===!1}return!1};function Pv(n,e,t,i){if(i==1)return _e.cursor(e,t);if(i==2)return fH(n.state,e,t);{let s=Bn.find(n.docView,e),o=n.state.doc.lineAt(s?s.posAtEnd:e),r=s?s.posAtStart:o.from,l=s?s.posAtEnd:o.to;return l<n.state.doc.length&&l==o.to&&l++,_e.range(r,l)}}let Tv=(n,e,t)=>e>=t.top&&e<=t.bottom&&n>=t.left&&n<=t.right;function IH(n,e,t,i){let s=Bn.find(n.docView,e);if(!s)return 1;let o=e-s.posAtStart;if(o==0)return 1;if(o==s.length)return-1;let r=s.coordsAt(o,-1);if(r&&Tv(t,i,r))return-1;let l=s.coordsAt(o,1);return l&&Tv(t,i,l)?1:r&&r.bottom>=i?-1:1}function Ev(n,e){let t=n.posAtCoords({x:e.clientX,y:e.clientY},!1);return{pos:t,bias:IH(n,t,e.clientX,e.clientY)}}const NH=Ke.ie&&Ke.ie_version<=11;let Rv=null,Dv=0,Lv=0;function W6(n){if(!NH)return n.detail;let e=Rv,t=Lv;return Rv=n,Lv=Date.now(),Dv=!e||t>Date.now()-400&&Math.abs(e.clientX-n.clientX)<2&&Math.abs(e.clientY-n.clientY)<2?(Dv+1)%3:1}function BH(n,e){let t=Ev(n,e),i=W6(e),s=n.state.selection;return{update(o){o.docChanged&&(t.pos=o.changes.mapPos(t.pos),s=s.map(o.changes))},get(o,r,l){let a=Ev(n,o),c,f=Pv(n,a.pos,a.bias,i);if(t.pos!=a.pos&&!r){let u=Pv(n,t.pos,t.bias,i),h=Math.min(u.from,f.from),d=Math.max(u.to,f.to);f=h<f.from?_e.range(h,d):_e.range(d,h)}return r?s.replaceRange(s.main.extend(f.from,f.to)):l&&i==1&&s.ranges.length>1&&(c=jH(s,a.pos))?c:l?s.addRange(f):_e.create([f])}}}function jH(n,e){for(let t=0;t<n.ranges.length;t++){let{from:i,to:s}=n.ranges[t];if(i<=e&&s>=e)return _e.create(n.ranges.slice(0,t).concat(n.ranges.slice(t+1)),n.mainIndex==t?0:n.mainIndex-(n.mainIndex>t?1:0))}return null}js.dragstart=(n,e)=>{let{selection:{main:t}}=n.state;if(e.target.draggable){let s=n.docView.nearest(e.target);if(s&&s.isWidget){let o=s.posAtStart,r=o+s.length;(o>=t.to||r<=t.from)&&(t=_e.range(o,r))}}let{inputState:i}=n;return i.mouseSelection&&(i.mouseSelection.dragging=!0),i.draggedContent=t,e.dataTransfer&&(e.dataTransfer.setData("Text",Mg(n.state,Y0,n.state.sliceDoc(t.from,t.to))),e.dataTransfer.effectAllowed="copyMove"),!1};js.dragend=n=>(n.inputState.draggedContent=null,!1);function Iv(n,e,t,i){if(t=Mg(n.state,K0,t),!t)return;let s=n.posAtCoords({x:e.clientX,y:e.clientY},!1),{draggedContent:o}=n.inputState,r=i&&o&&EH(n,e)?{from:o.from,to:o.to}:null,l={from:s,insert:t},a=n.state.changes(r?[r,l]:l);n.focus(),n.dispatch({changes:a,selection:{anchor:a.mapPos(s,-1),head:a.mapPos(s,1)},userEvent:r?"move.drop":"input.drop"}),n.inputState.draggedContent=null}js.drop=(n,e)=>{if(!e.dataTransfer)return!1;if(n.state.readOnly)return!0;let t=e.dataTransfer.files;if(t&&t.length){let i=Array(t.length),s=0,o=()=>{++s==t.length&&Iv(n,e,i.filter(r=>r!=null).join(n.state.lineBreak),!1)};for(let r=0;r<t.length;r++){let l=new FileReader;l.onerror=o,l.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(l.result)||(i[r]=l.result),o()},l.readAsText(t[r])}return!0}else{let i=e.dataTransfer.getData("Text");if(i)return Iv(n,e,i,!0),!0}return!1};js.paste=(n,e)=>{if(n.state.readOnly)return!0;n.observer.flush();let t=V6?null:e.clipboardData;return t?(H6(n,t.getData("text/plain")||t.getData("text/uri-list")),!0):(LH(n),!1)};function zH(n,e){let t=n.dom.parentNode;if(!t)return;let i=t.appendChild(document.createElement("textarea"));i.style.cssText="position: fixed; left: -10000px; top: 10px",i.value=e,i.focus(),i.selectionEnd=e.length,i.selectionStart=0,setTimeout(()=>{i.remove(),n.focus()},50)}function FH(n){let e=[],t=[],i=!1;for(let s of n.selection.ranges)s.empty||(e.push(n.sliceDoc(s.from,s.to)),t.push(s));if(!e.length){let s=-1;for(let{from:o}of n.selection.ranges){let r=n.doc.lineAt(o);r.number>s&&(e.push(r.text),t.push({from:r.from,to:Math.min(n.doc.length,r.to+1)})),s=r.number}i=!0}return{text:Mg(n,Y0,e.join(n.lineBreak)),ranges:t,linewise:i}}let o1=null;js.copy=js.cut=(n,e)=>{let{text:t,ranges:i,linewise:s}=FH(n.state);if(!t&&!s)return!1;o1=s?t:null,e.type=="cut"&&!n.state.readOnly&&n.dispatch({changes:i,scrollIntoView:!0,userEvent:"delete.cut"});let o=V6?null:e.clipboardData;return o?(o.clearData(),o.setData("text/plain",t),!0):(zH(n,t),!1)};const q6=$o.define();function U6(n,e){let t=[];for(let i of n.facet(A6)){let s=i(n,e);s&&t.push(s)}return t?n.update({effects:t,annotations:q6.of(!0)}):null}function J6(n){setTimeout(()=>{let e=n.hasFocus;if(e!=n.inputState.notifiedFocused){let t=U6(n.state,e);t?n.dispatch(t):n.update([])}},10)}bs.focus=n=>{n.inputState.lastFocusTime=Date.now(),!n.scrollDOM.scrollTop&&(n.inputState.lastScrollTop||n.inputState.lastScrollLeft)&&(n.scrollDOM.scrollTop=n.inputState.lastScrollTop,n.scrollDOM.scrollLeft=n.inputState.lastScrollLeft),J6(n)};bs.blur=n=>{n.observer.clearSelectionRange(),J6(n)};bs.compositionstart=bs.compositionupdate=n=>{n.observer.editContext||(n.inputState.compositionFirstChange==null&&(n.inputState.compositionFirstChange=!0),n.inputState.composing<0&&(n.inputState.composing=0))};bs.compositionend=n=>{n.observer.editContext||(n.inputState.composing=-1,n.inputState.compositionEndedAt=Date.now(),n.inputState.compositionPendingKey=!0,n.inputState.compositionPendingChange=n.observer.pendingRecords().length>0,n.inputState.compositionFirstChange=null,Ke.chrome&&Ke.android?n.observer.flushSoon():n.inputState.compositionPendingChange?Promise.resolve().then(()=>n.observer.flush()):setTimeout(()=>{n.inputState.composing<0&&n.docView.hasComposition&&n.update([])},50))};bs.contextmenu=n=>{n.inputState.lastContextMenu=Date.now()};js.beforeinput=(n,e)=>{var t,i;if(e.inputType=="insertReplacementText"&&n.observer.editContext){let o=(t=e.dataTransfer)===null||t===void 0?void 0:t.getData("text/plain"),r=e.getTargetRanges();if(o&&r.length){let l=r[0],a=n.posAtDOM(l.startContainer,l.startOffset),c=n.posAtDOM(l.endContainer,l.endOffset);return Q0(n,{from:a,to:c,insert:n.state.toText(o)},null),!0}}let s;if(Ke.chrome&&Ke.android&&(s=z6.find(o=>o.inputType==e.inputType))&&(n.observer.delayAndroidKey(s.key,s.keyCode),s.key=="Backspace"||s.key=="Delete")){let o=((i=window.visualViewport)===null||i===void 0?void 0:i.height)||0;setTimeout(()=>{var r;(((r=window.visualViewport)===null||r===void 0?void 0:r.height)||0)>o+10&&n.hasFocus&&(n.contentDOM.blur(),n.focus())},100)}return Ke.ios&&e.inputType=="deleteContentForward"&&n.observer.flushSoon(),Ke.safari&&e.inputType=="insertText"&&n.inputState.composing>=0&&setTimeout(()=>bs.compositionend(n,e),20),!1};const Nv=new Set;function VH(n){Nv.has(n)||(Nv.add(n),n.addEventListener("copy",()=>{}),n.addEventListener("cut",()=>{}))}const Bv=["pre-wrap","normal","pre-line","break-spaces"];let Ya=!1;function jv(){Ya=!1}class HH{constructor(e){this.lineWrapping=e,this.doc=qt.empty,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.textHeight=14,this.lineLength=30}heightForGap(e,t){let i=this.doc.lineAt(t).number-this.doc.lineAt(e).number+1;return this.lineWrapping&&(i+=Math.max(0,Math.ceil((t-e-i*this.lineLength*.5)/this.lineLength))),this.lineHeight*i}heightForLine(e){return this.lineWrapping?(1+Math.max(0,Math.ceil((e-this.lineLength)/(this.lineLength-5))))*this.lineHeight:this.lineHeight}setDoc(e){return this.doc=e,this}mustRefreshForWrapping(e){return Bv.indexOf(e)>-1!=this.lineWrapping}mustRefreshForHeights(e){let t=!1;for(let i=0;i<e.length;i++){let s=e[i];s<0?i++:this.heightSamples[Math.floor(s*10)]||(t=!0,this.heightSamples[Math.floor(s*10)]=!0)}return t}refresh(e,t,i,s,o,r){let l=Bv.indexOf(e)>-1,a=Math.round(t)!=Math.round(this.lineHeight)||this.lineWrapping!=l;if(this.lineWrapping=l,this.lineHeight=t,this.charWidth=i,this.textHeight=s,this.lineLength=o,a){this.heightSamples={};for(let c=0;c<r.length;c++){let f=r[c];f<0?c++:this.heightSamples[Math.floor(f*10)]=!0}}return a}}class WH{constructor(e,t){this.from=e,this.heights=t,this.index=0}get more(){return this.index<this.heights.length}}class io{constructor(e,t,i,s,o){this.from=e,this.length=t,this.top=i,this.height=s,this._content=o}get type(){return typeof this._content=="number"?Ei.Text:Array.isArray(this._content)?this._content:this._content.type}get to(){return this.from+this.length}get bottom(){return this.top+this.height}get widget(){return this._content instanceof Lr?this._content.widget:null}get widgetLineBreaks(){return typeof this._content=="number"?this._content:0}join(e){let t=(Array.isArray(this._content)?this._content:[this]).concat(Array.isArray(e._content)?e._content:[e]);return new io(this.from,this.length+e.length,this.top,this.height+e.height,t)}}var un=function(n){return n[n.ByPos=0]="ByPos",n[n.ByHeight=1]="ByHeight",n[n.ByPosNoHeight=2]="ByPosNoHeight",n}(un||(un={}));const Mh=.001;class Ri{constructor(e,t,i=2){this.length=e,this.height=t,this.flags=i}get outdated(){return(this.flags&2)>0}set outdated(e){this.flags=(e?2:0)|this.flags&-3}setHeight(e){this.height!=e&&(Math.abs(this.height-e)>Mh&&(Ya=!0),this.height=e)}replace(e,t,i){return Ri.of(i)}decomposeLeft(e,t){t.push(this)}decomposeRight(e,t){t.push(this)}applyChanges(e,t,i,s){let o=this,r=i.doc;for(let l=s.length-1;l>=0;l--){let{fromA:a,toA:c,fromB:f,toB:u}=s[l],h=o.lineAt(a,un.ByPosNoHeight,i.setDoc(t),0,0),d=h.to>=c?h:o.lineAt(c,un.ByPosNoHeight,i,0,0);for(u+=d.to-c,c=d.to;l>0&&h.from<=s[l-1].toA;)a=s[l-1].fromA,f=s[l-1].fromB,l--,a<h.from&&(h=o.lineAt(a,un.ByPosNoHeight,i,0,0));f+=h.from-a,a=h.from;let g=Z0.build(i.setDoc(r),e,f,u);o=dd(o,o.replace(a,c,g))}return o.updateHeight(i,0)}static empty(){return new Yi(0,0)}static of(e){if(e.length==1)return e[0];let t=0,i=e.length,s=0,o=0;for(;;)if(t==i)if(s>o*2){let l=e[t-1];l.break?e.splice(--t,1,l.left,null,l.right):e.splice(--t,1,l.left,l.right),i+=1+l.break,s-=l.size}else if(o>s*2){let l=e[i];l.break?e.splice(i,1,l.left,null,l.right):e.splice(i,1,l.left,l.right),i+=2+l.break,o-=l.size}else break;else if(s<o){let l=e[t++];l&&(s+=l.size)}else{let l=e[--i];l&&(o+=l.size)}let r=0;return e[t-1]==null?(r=1,t--):e[t]==null&&(r=1,i++),new qH(Ri.of(e.slice(0,t)),r,Ri.of(e.slice(i)))}}function dd(n,e){return n==e?n:(n.constructor!=e.constructor&&(Ya=!0),e)}Ri.prototype.size=1;class K6 extends Ri{constructor(e,t,i){super(e,t),this.deco=i}blockAt(e,t,i,s){return new io(s,this.length,i,this.height,this.deco||0)}lineAt(e,t,i,s,o){return this.blockAt(0,i,s,o)}forEachLine(e,t,i,s,o,r){e<=o+this.length&&t>=o&&r(this.blockAt(0,i,s,o))}updateHeight(e,t=0,i=!1,s){return s&&s.from<=t&&s.more&&this.setHeight(s.heights[s.index++]),this.outdated=!1,this}toString(){return`block(${this.length})`}}class Yi extends K6{constructor(e,t){super(e,t,null),this.collapsed=0,this.widgetHeight=0,this.breaks=0}blockAt(e,t,i,s){return new io(s,this.length,i,this.height,this.breaks)}replace(e,t,i){let s=i[0];return i.length==1&&(s instanceof Yi||s instanceof ti&&s.flags&4)&&Math.abs(this.length-s.length)<10?(s instanceof ti?s=new Yi(s.length,this.height):s.height=this.height,this.outdated||(s.outdated=!1),s):Ri.of(i)}updateHeight(e,t=0,i=!1,s){return s&&s.from<=t&&s.more?this.setHeight(s.heights[s.index++]):(i||this.outdated)&&this.setHeight(Math.max(this.widgetHeight,e.heightForLine(this.length-this.collapsed))+this.breaks*e.lineHeight),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}}class ti extends Ri{constructor(e){super(e,0)}heightMetrics(e,t){let i=e.doc.lineAt(t).number,s=e.doc.lineAt(t+this.length).number,o=s-i+1,r,l=0;if(e.lineWrapping){let a=Math.min(this.height,e.lineHeight*o);r=a/o,this.length>o+1&&(l=(this.height-a)/(this.length-o-1))}else r=this.height/o;return{firstLine:i,lastLine:s,perLine:r,perChar:l}}blockAt(e,t,i,s){let{firstLine:o,lastLine:r,perLine:l,perChar:a}=this.heightMetrics(t,s);if(t.lineWrapping){let c=s+(e<t.lineHeight?0:Math.round(Math.max(0,Math.min(1,(e-i)/this.height))*this.length)),f=t.doc.lineAt(c),u=l+f.length*a,h=Math.max(i,e-u/2);return new io(f.from,f.length,h,u,0)}else{let c=Math.max(0,Math.min(r-o,Math.floor((e-i)/l))),{from:f,length:u}=t.doc.line(o+c);return new io(f,u,i+l*c,l,0)}}lineAt(e,t,i,s,o){if(t==un.ByHeight)return this.blockAt(e,i,s,o);if(t==un.ByPosNoHeight){let{from:d,to:g}=i.doc.lineAt(e);return new io(d,g-d,0,0,0)}let{firstLine:r,perLine:l,perChar:a}=this.heightMetrics(i,o),c=i.doc.lineAt(e),f=l+c.length*a,u=c.number-r,h=s+l*u+a*(c.from-o-u);return new io(c.from,c.length,Math.max(s,Math.min(h,s+this.height-f)),f,0)}forEachLine(e,t,i,s,o,r){e=Math.max(e,o),t=Math.min(t,o+this.length);let{firstLine:l,perLine:a,perChar:c}=this.heightMetrics(i,o);for(let f=e,u=s;f<=t;){let h=i.doc.lineAt(f);if(f==e){let g=h.number-l;u+=a*g+c*(e-o-g)}let d=a+c*h.length;r(new io(h.from,h.length,u,d,0)),u+=d,f=h.to+1}}replace(e,t,i){let s=this.length-t;if(s>0){let o=i[i.length-1];o instanceof ti?i[i.length-1]=new ti(o.length+s):i.push(null,new ti(s-1))}if(e>0){let o=i[0];o instanceof ti?i[0]=new ti(e+o.length):i.unshift(new ti(e-1),null)}return Ri.of(i)}decomposeLeft(e,t){t.push(new ti(e-1),null)}decomposeRight(e,t){t.push(null,new ti(this.length-e-1))}updateHeight(e,t=0,i=!1,s){let o=t+this.length;if(s&&s.from<=t+this.length&&s.more){let r=[],l=Math.max(t,s.from),a=-1;for(s.from>t&&r.push(new ti(s.from-t-1).updateHeight(e,t));l<=o&&s.more;){let f=e.doc.lineAt(l).length;r.length&&r.push(null);let u=s.heights[s.index++];a==-1?a=u:Math.abs(u-a)>=Mh&&(a=-2);let h=new Yi(f,u);h.outdated=!1,r.push(h),l+=f+1}l<=o&&r.push(null,new ti(o-l).updateHeight(e,l));let c=Ri.of(r);return(a<0||Math.abs(c.height-this.height)>=Mh||Math.abs(a-this.heightMetrics(e,t).perLine)>=Mh)&&(Ya=!0),dd(this,c)}else(i||this.outdated)&&(this.setHeight(e.heightForGap(t,t+this.length)),this.outdated=!1);return this}toString(){return`gap(${this.length})`}}class qH extends Ri{constructor(e,t,i){super(e.length+t+i.length,e.height+i.height,t|(e.outdated||i.outdated?2:0)),this.left=e,this.right=i,this.size=e.size+i.size}get break(){return this.flags&1}blockAt(e,t,i,s){let o=i+this.left.height;return e<o?this.left.blockAt(e,t,i,s):this.right.blockAt(e,t,o,s+this.left.length+this.break)}lineAt(e,t,i,s,o){let r=s+this.left.height,l=o+this.left.length+this.break,a=t==un.ByHeight?e<r:e<l,c=a?this.left.lineAt(e,t,i,s,o):this.right.lineAt(e,t,i,r,l);if(this.break||(a?c.to<l:c.from>l))return c;let f=t==un.ByPosNoHeight?un.ByPosNoHeight:un.ByPos;return a?c.join(this.right.lineAt(l,f,i,r,l)):this.left.lineAt(l,f,i,s,o).join(c)}forEachLine(e,t,i,s,o,r){let l=s+this.left.height,a=o+this.left.length+this.break;if(this.break)e<a&&this.left.forEachLine(e,t,i,s,o,r),t>=a&&this.right.forEachLine(e,t,i,l,a,r);else{let c=this.lineAt(a,un.ByPos,i,s,o);e<c.from&&this.left.forEachLine(e,c.from-1,i,s,o,r),c.to>=e&&c.from<=t&&r(c),t>c.to&&this.right.forEachLine(c.to+1,t,i,l,a,r)}}replace(e,t,i){let s=this.left.length+this.break;if(t<s)return this.balanced(this.left.replace(e,t,i),this.right);if(e>this.left.length)return this.balanced(this.left,this.right.replace(e-s,t-s,i));let o=[];e>0&&this.decomposeLeft(e,o);let r=o.length;for(let l of i)o.push(l);if(e>0&&zv(o,r-1),t<this.length){let l=o.length;this.decomposeRight(t,o),zv(o,l)}return Ri.of(o)}decomposeLeft(e,t){let i=this.left.length;if(e<=i)return this.left.decomposeLeft(e,t);t.push(this.left),this.break&&(i++,e>=i&&t.push(null)),e>i&&this.right.decomposeLeft(e-i,t)}decomposeRight(e,t){let i=this.left.length,s=i+this.break;if(e>=s)return this.right.decomposeRight(e-s,t);e<i&&this.left.decomposeRight(e,t),this.break&&e<s&&t.push(null),t.push(this.right)}balanced(e,t){return e.size>2*t.size||t.size>2*e.size?Ri.of(this.break?[e,null,t]:[e,t]):(this.left=dd(this.left,e),this.right=dd(this.right,t),this.setHeight(e.height+t.height),this.outdated=e.outdated||t.outdated,this.size=e.size+t.size,this.length=e.length+this.break+t.length,this)}updateHeight(e,t=0,i=!1,s){let{left:o,right:r}=this,l=t+o.length+this.break,a=null;return s&&s.from<=t+o.length&&s.more?a=o=o.updateHeight(e,t,i,s):o.updateHeight(e,t,i),s&&s.from<=l+r.length&&s.more?a=r=r.updateHeight(e,l,i,s):r.updateHeight(e,l,i),a?this.balanced(o,r):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}}function zv(n,e){let t,i;n[e]==null&&(t=n[e-1])instanceof ti&&(i=n[e+1])instanceof ti&&n.splice(e-1,3,new ti(t.length+1+i.length))}const UH=5;class Z0{constructor(e,t){this.pos=e,this.oracle=t,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=e}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(e,t){if(this.lineStart>-1){let i=Math.min(t,this.lineEnd),s=this.nodes[this.nodes.length-1];s instanceof Yi?s.length+=i-this.pos:(i>this.pos||!this.isCovered)&&this.nodes.push(new Yi(i-this.pos,-1)),this.writtenTo=i,t>i&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=t}point(e,t,i){if(e<t||i.heightRelevant){let s=i.widget?i.widget.estimatedHeight:0,o=i.widget?i.widget.lineBreaks:0;s<0&&(s=this.oracle.lineHeight);let r=t-e;i.block?this.addBlock(new K6(r,s,i)):(r||o||s>=UH)&&this.addLineDeco(s,o,r)}else t>e&&this.span(e,t);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:e,to:t}=this.oracle.doc.lineAt(this.pos);this.lineStart=e,this.lineEnd=t,this.writtenTo<e&&((this.writtenTo<e-1||this.nodes[this.nodes.length-1]==null)&&this.nodes.push(this.blankContent(this.writtenTo,e-1)),this.nodes.push(null)),this.pos>e&&this.nodes.push(new Yi(this.pos-e,-1)),this.writtenTo=this.pos}blankContent(e,t){let i=new ti(t-e);return this.oracle.doc.lineAt(e).to==t&&(i.flags|=4),i}ensureLine(){this.enterLine();let e=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(e instanceof Yi)return e;let t=new Yi(0,-1);return this.nodes.push(t),t}addBlock(e){this.enterLine();let t=e.deco;t&&t.startSide>0&&!this.isCovered&&this.ensureLine(),this.nodes.push(e),this.writtenTo=this.pos=this.pos+e.length,t&&t.endSide>0&&(this.covering=e)}addLineDeco(e,t,i){let s=this.ensureLine();s.length+=i,s.collapsed+=i,s.widgetHeight=Math.max(s.widgetHeight,e),s.breaks+=t,this.writtenTo=this.pos=this.pos+i}finish(e){let t=this.nodes.length==0?null:this.nodes[this.nodes.length-1];this.lineStart>-1&&!(t instanceof Yi)&&!this.isCovered?this.nodes.push(new Yi(0,-1)):(this.writtenTo<this.pos||t==null)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos));let i=e;for(let s of this.nodes)s instanceof Yi&&s.updateHeight(this.oracle,i),i+=s?s.length:1;return this.nodes}static build(e,t,i,s){let o=new Z0(i,e);return jt.spans(t,i,s,o,0),o.finish(i)}}function JH(n,e,t){let i=new KH;return jt.compare(n,e,t,i,0),i.changes}class KH{constructor(){this.changes=[]}compareRange(){}comparePoint(e,t,i,s){(e<t||i&&i.heightRelevant||s&&s.heightRelevant)&&Qp(e,t,this.changes,5)}}function YH(n,e){let t=n.getBoundingClientRect(),i=n.ownerDocument,s=i.defaultView||window,o=Math.max(0,t.left),r=Math.min(s.innerWidth,t.right),l=Math.max(0,t.top),a=Math.min(s.innerHeight,t.bottom);for(let c=n.parentNode;c&&c!=i.body;)if(c.nodeType==1){let f=c,u=window.getComputedStyle(f);if((f.scrollHeight>f.clientHeight||f.scrollWidth>f.clientWidth)&&u.overflow!="visible"){let h=f.getBoundingClientRect();o=Math.max(o,h.left),r=Math.min(r,h.right),l=Math.max(l,h.top),a=Math.min(c==n.parentNode?s.innerHeight:a,h.bottom)}c=u.position=="absolute"||u.position=="fixed"?f.offsetParent:f.parentNode}else if(c.nodeType==11)c=c.host;else break;return{left:o-t.left,right:Math.max(o,r)-t.left,top:l-(t.top+e),bottom:Math.max(l,a)-(t.top+e)}}function XH(n,e){let t=n.getBoundingClientRect();return{left:0,right:t.right-t.left,top:e,bottom:t.bottom-(t.top+e)}}class bm{constructor(e,t,i){this.from=e,this.to=t,this.size=i}static same(e,t){if(e.length!=t.length)return!1;for(let i=0;i<e.length;i++){let s=e[i],o=t[i];if(s.from!=o.from||s.to!=o.to||s.size!=o.size)return!1}return!0}draw(e,t){return lt.replace({widget:new GH(this.size*(t?e.scaleY:e.scaleX),t)}).range(this.from,this.to)}}class GH extends Hr{constructor(e,t){super(),this.size=e,this.vertical=t}eq(e){return e.size==this.size&&e.vertical==this.vertical}toDOM(){let e=document.createElement("div");return this.vertical?e.style.height=this.size+"px":(e.style.width=this.size+"px",e.style.height="2px",e.style.display="inline-block"),e}get estimatedHeight(){return this.vertical?this.size:-1}}class Fv{constructor(e){this.state=e,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.scrollTop=0,this.scrolledToBottom=!1,this.scaleX=1,this.scaleY=1,this.scrollAnchorPos=0,this.scrollAnchorHeight=-1,this.scaler=Vv,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=dn.LTR,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1;let t=e.facet(X0).some(i=>typeof i!="function"&&i.class=="cm-lineWrapping");this.heightOracle=new HH(t),this.stateDeco=e.facet(Mf).filter(i=>typeof i!="function"),this.heightMap=Ri.empty().applyChanges(this.stateDeco,qt.empty,this.heightOracle.setDoc(e.doc),[new ds(0,0,0,e.doc.length)]);for(let i=0;i<2&&(this.viewport=this.getViewport(0,null),!!this.updateForViewport());i++);this.updateViewportLines(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=lt.set(this.lineGaps.map(i=>i.draw(this,!1))),this.computeVisibleRanges()}updateForViewport(){let e=[this.viewport],{main:t}=this.state.selection;for(let i=0;i<=1;i++){let s=i?t.head:t.anchor;if(!e.some(({from:o,to:r})=>s>=o&&s<=r)){let{from:o,to:r}=this.lineBlockAt(s);e.push(new Du(o,r))}}return this.viewports=e.sort((i,s)=>i.from-s.from),this.updateScaler()}updateScaler(){let e=this.scaler;return this.scaler=this.heightMap.height<=7e6?Vv:new $0(this.heightOracle,this.heightMap,this.viewports),e.eq(this.scaler)?0:2}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.heightOracle.setDoc(this.state.doc),0,0,e=>{this.viewportLines.push(Bc(e,this.scaler))})}update(e,t=null){this.state=e.state;let i=this.stateDeco;this.stateDeco=this.state.facet(Mf).filter(f=>typeof f!="function");let s=e.changedRanges,o=ds.extendWithRanges(s,JH(i,this.stateDeco,e?e.changes:Fn.empty(this.state.doc.length))),r=this.heightMap.height,l=this.scrolledToBottom?null:this.scrollAnchorAt(this.scrollTop);jv(),this.heightMap=this.heightMap.applyChanges(this.stateDeco,e.startState.doc,this.heightOracle.setDoc(this.state.doc),o),(this.heightMap.height!=r||Ya)&&(e.flags|=2),l?(this.scrollAnchorPos=e.changes.mapPos(l.from,-1),this.scrollAnchorHeight=l.top):(this.scrollAnchorPos=-1,this.scrollAnchorHeight=this.heightMap.height);let a=o.length?this.mapViewport(this.viewport,e.changes):this.viewport;(t&&(t.range.head<a.from||t.range.head>a.to)||!this.viewportIsAppropriate(a))&&(a=this.getViewport(0,t));let c=a.from!=this.viewport.from||a.to!=this.viewport.to;this.viewport=a,e.flags|=this.updateForViewport(),(c||!e.changes.empty||e.flags&2)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,e.changes))),e.flags|=this.computeVisibleRanges(),t&&(this.scrollTarget=t),!this.mustEnforceCursorAssoc&&e.selectionSet&&e.view.lineWrapping&&e.state.selection.main.empty&&e.state.selection.main.assoc&&!e.state.facet(O6)&&(this.mustEnforceCursorAssoc=!0)}measure(e){let t=e.contentDOM,i=window.getComputedStyle(t),s=this.heightOracle,o=i.whiteSpace;this.defaultTextDirection=i.direction=="rtl"?dn.RTL:dn.LTR;let r=this.heightOracle.mustRefreshForWrapping(o),l=t.getBoundingClientRect(),a=r||this.mustMeasureContent||this.contentDOMHeight!=l.height;this.contentDOMHeight=l.height,this.mustMeasureContent=!1;let c=0,f=0;if(l.width&&l.height){let{scaleX:C,scaleY:w}=t6(t,l);(C>.005&&Math.abs(this.scaleX-C)>.005||w>.005&&Math.abs(this.scaleY-w)>.005)&&(this.scaleX=C,this.scaleY=w,c|=8,r=a=!0)}let u=(parseInt(i.paddingTop)||0)*this.scaleY,h=(parseInt(i.paddingBottom)||0)*this.scaleY;(this.paddingTop!=u||this.paddingBottom!=h)&&(this.paddingTop=u,this.paddingBottom=h,c|=10),this.editorWidth!=e.scrollDOM.clientWidth&&(s.lineWrapping&&(a=!0),this.editorWidth=e.scrollDOM.clientWidth,c|=8);let d=e.scrollDOM.scrollTop*this.scaleY;this.scrollTop!=d&&(this.scrollAnchorHeight=-1,this.scrollTop=d),this.scrolledToBottom=s6(e.scrollDOM);let g=(this.printing?XH:YH)(t,this.paddingTop),m=g.top-this.pixelViewport.top,p=g.bottom-this.pixelViewport.bottom;this.pixelViewport=g;let b=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(b!=this.inView&&(this.inView=b,b&&(a=!0)),!this.inView&&!this.scrollTarget)return 0;let y=l.width;if((this.contentDOMWidth!=y||this.editorHeight!=e.scrollDOM.clientHeight)&&(this.contentDOMWidth=l.width,this.editorHeight=e.scrollDOM.clientHeight,c|=8),a){let C=e.docView.measureVisibleLineHeights(this.viewport);if(s.mustRefreshForHeights(C)&&(r=!0),r||s.lineWrapping&&Math.abs(y-this.contentDOMWidth)>s.charWidth){let{lineHeight:w,charWidth:S,textHeight:x}=e.docView.measureTextSize();r=w>0&&s.refresh(o,w,S,x,y/S,C),r&&(e.docView.minWidth=0,c|=8)}m>0&&p>0?f=Math.max(m,p):m<0&&p<0&&(f=Math.min(m,p)),jv();for(let w of this.viewports){let S=w.from==this.viewport.from?C:e.docView.measureVisibleLineHeights(w);this.heightMap=(r?Ri.empty().applyChanges(this.stateDeco,qt.empty,this.heightOracle,[new ds(0,0,0,e.state.doc.length)]):this.heightMap).updateHeight(s,0,r,new WH(w.from,S))}Ya&&(c|=2)}let v=!this.viewportIsAppropriate(this.viewport,f)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return v&&(c&2&&(c|=this.updateScaler()),this.viewport=this.getViewport(f,this.scrollTarget),c|=this.updateForViewport()),(c&2||v)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(r?[]:this.lineGaps,e)),c|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,e.docView.enforceCursorAssoc()),c}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(e,t){let i=.5-Math.max(-.5,Math.min(.5,e/1e3/2)),s=this.heightMap,o=this.heightOracle,{visibleTop:r,visibleBottom:l}=this,a=new Du(s.lineAt(r-i*1e3,un.ByHeight,o,0,0).from,s.lineAt(l+(1-i)*1e3,un.ByHeight,o,0,0).to);if(t){let{head:c}=t.range;if(c<a.from||c>a.to){let f=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),u=s.lineAt(c,un.ByPos,o,0,0),h;t.y=="center"?h=(u.top+u.bottom)/2-f/2:t.y=="start"||t.y=="nearest"&&c<a.from?h=u.top:h=u.bottom-f,a=new Du(s.lineAt(h-1e3/2,un.ByHeight,o,0,0).from,s.lineAt(h+f+1e3/2,un.ByHeight,o,0,0).to)}}return a}mapViewport(e,t){let i=t.mapPos(e.from,-1),s=t.mapPos(e.to,1);return new Du(this.heightMap.lineAt(i,un.ByPos,this.heightOracle,0,0).from,this.heightMap.lineAt(s,un.ByPos,this.heightOracle,0,0).to)}viewportIsAppropriate({from:e,to:t},i=0){if(!this.inView)return!0;let{top:s}=this.heightMap.lineAt(e,un.ByPos,this.heightOracle,0,0),{bottom:o}=this.heightMap.lineAt(t,un.ByPos,this.heightOracle,0,0),{visibleTop:r,visibleBottom:l}=this;return(e==0||s<=r-Math.max(10,Math.min(-i,250)))&&(t==this.state.doc.length||o>=l+Math.max(10,Math.min(i,250)))&&s>r-2*1e3&&o<l+2*1e3}mapLineGaps(e,t){if(!e.length||t.empty)return e;let i=[];for(let s of e)t.touchesRange(s.from,s.to)||i.push(new bm(t.mapPos(s.from),t.mapPos(s.to),s.size));return i}ensureLineGaps(e,t){let i=this.heightOracle.lineWrapping,s=i?1e4:2e3,o=s>>1,r=s<<1;if(this.defaultTextDirection!=dn.LTR&&!i)return[];let l=[],a=(f,u,h,d)=>{if(u-f<o)return;let g=this.state.selection.main,m=[g.from];g.empty||m.push(g.to);for(let b of m)if(b>f&&b<u){a(f,b-10,h,d),a(b+10,u,h,d);return}let p=ZH(e,b=>b.from>=h.from&&b.to<=h.to&&Math.abs(b.from-f)<o&&Math.abs(b.to-u)<o&&!m.some(y=>b.from<y&&b.to>y));if(!p){if(u<h.to&&t&&i&&t.visibleRanges.some(b=>b.from<=u&&b.to>=u)){let b=t.moveToLineBoundary(_e.cursor(u),!1,!0).head;b>f&&(u=b)}p=new bm(f,u,this.gapSize(h,f,u,d))}l.push(p)},c=f=>{if(f.length<r||f.type!=Ei.Text)return;let u=QH(f.from,f.to,this.stateDeco);if(u.total<r)return;let h=this.scrollTarget?this.scrollTarget.range.head:null,d,g;if(i){let m=s/this.heightOracle.lineLength*this.heightOracle.lineHeight,p,b;if(h!=null){let y=Iu(u,h),v=((this.visibleBottom-this.visibleTop)/2+m)/f.height;p=y-v,b=y+v}else p=(this.visibleTop-f.top-m)/f.height,b=(this.visibleBottom-f.top+m)/f.height;d=Lu(u,p),g=Lu(u,b)}else{let m=u.total*this.heightOracle.charWidth,p=s*this.heightOracle.charWidth,b,y;if(h!=null){let v=Iu(u,h),C=((this.pixelViewport.right-this.pixelViewport.left)/2+p)/m;b=v-C,y=v+C}else b=(this.pixelViewport.left-p)/m,y=(this.pixelViewport.right+p)/m;d=Lu(u,b),g=Lu(u,y)}d>f.from&&a(f.from,d,f,u),g<f.to&&a(g,f.to,f,u)};for(let f of this.viewportLines)Array.isArray(f.type)?f.type.forEach(c):c(f);return l}gapSize(e,t,i,s){let o=Iu(s,i)-Iu(s,t);return this.heightOracle.lineWrapping?e.height*o:s.total*this.heightOracle.charWidth*o}updateLineGaps(e){bm.same(e,this.lineGaps)||(this.lineGaps=e,this.lineGapDeco=lt.set(e.map(t=>t.draw(this,this.heightOracle.lineWrapping))))}computeVisibleRanges(){let e=this.stateDeco;this.lineGaps.length&&(e=e.concat(this.lineGapDeco));let t=[];jt.spans(e,this.viewport.from,this.viewport.to,{span(s,o){t.push({from:s,to:o})},point(){}},20);let i=t.length!=this.visibleRanges.length||this.visibleRanges.some((s,o)=>s.from!=t[o].from||s.to!=t[o].to);return this.visibleRanges=t,i?4:0}lineBlockAt(e){return e>=this.viewport.from&&e<=this.viewport.to&&this.viewportLines.find(t=>t.from<=e&&t.to>=e)||Bc(this.heightMap.lineAt(e,un.ByPos,this.heightOracle,0,0),this.scaler)}lineBlockAtHeight(e){return e>=this.viewportLines[0].top&&e<=this.viewportLines[this.viewportLines.length-1].bottom&&this.viewportLines.find(t=>t.top<=e&&t.bottom>=e)||Bc(this.heightMap.lineAt(this.scaler.fromDOM(e),un.ByHeight,this.heightOracle,0,0),this.scaler)}scrollAnchorAt(e){let t=this.lineBlockAtHeight(e+8);return t.from>=this.viewport.from||this.viewportLines[0].top-e>200?t:this.viewportLines[0]}elementAtHeight(e){return Bc(this.heightMap.blockAt(this.scaler.fromDOM(e),this.heightOracle,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}}class Du{constructor(e,t){this.from=e,this.to=t}}function QH(n,e,t){let i=[],s=n,o=0;return jt.spans(t,n,e,{span(){},point(r,l){r>s&&(i.push({from:s,to:r}),o+=r-s),s=l}},20),s<e&&(i.push({from:s,to:e}),o+=e-s),{total:o,ranges:i}}function Lu({total:n,ranges:e},t){if(t<=0)return e[0].from;if(t>=1)return e[e.length-1].to;let i=Math.floor(n*t);for(let s=0;;s++){let{from:o,to:r}=e[s],l=r-o;if(i<=l)return o+i;i-=l}}function Iu(n,e){let t=0;for(let{from:i,to:s}of n.ranges){if(e<=s){t+=e-i;break}t+=s-i}return t/n.total}function ZH(n,e){for(let t of n)if(e(t))return t}const Vv={toDOM(n){return n},fromDOM(n){return n},scale:1,eq(n){return n==this}};class $0{constructor(e,t,i){let s=0,o=0,r=0;this.viewports=i.map(({from:l,to:a})=>{let c=t.lineAt(l,un.ByPos,e,0,0).top,f=t.lineAt(a,un.ByPos,e,0,0).bottom;return s+=f-c,{from:l,to:a,top:c,bottom:f,domTop:0,domBottom:0}}),this.scale=(7e6-s)/(t.height-s);for(let l of this.viewports)l.domTop=r+(l.top-o)*this.scale,r=l.domBottom=l.domTop+(l.bottom-l.top),o=l.bottom}toDOM(e){for(let t=0,i=0,s=0;;t++){let o=t<this.viewports.length?this.viewports[t]:null;if(!o||e<o.top)return s+(e-i)*this.scale;if(e<=o.bottom)return o.domTop+(e-o.top);i=o.bottom,s=o.domBottom}}fromDOM(e){for(let t=0,i=0,s=0;;t++){let o=t<this.viewports.length?this.viewports[t]:null;if(!o||e<o.domTop)return i+(e-s)/this.scale;if(e<=o.domBottom)return o.top+(e-o.domTop);i=o.bottom,s=o.domBottom}}eq(e){return e instanceof $0?this.scale==e.scale&&this.viewports.length==e.viewports.length&&this.viewports.every((t,i)=>t.from==e.viewports[i].from&&t.to==e.viewports[i].to):!1}}function Bc(n,e){if(e.scale==1)return n;let t=e.toDOM(n.top),i=e.toDOM(n.bottom);return new io(n.from,n.length,t,i-t,Array.isArray(n._content)?n._content.map(s=>Bc(s,e)):n._content)}const Nu=He.define({combine:n=>n.join(" ")}),r1=He.define({combine:n=>n.indexOf(!0)>-1}),l1=Rr.newName(),Y6=Rr.newName(),X6=Rr.newName(),G6={"&light":"."+Y6,"&dark":"."+X6};function a1(n,e,t){return new Rr(e,{finish(i){return/&/.test(i)?i.replace(/&\w*/,s=>{if(s=="&")return n;if(!t||!t[s])throw new RangeError(`Unsupported selector: ${s}`);return t[s]}):n+" "+i}})}const $H=a1("."+l1,{"&":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0,overflowAnchor:"none"},".cm-content":{margin:0,flexGrow:2,flexShrink:0,display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",minHeight:"100%",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 6px"},".cm-layer":{position:"absolute",left:0,top:0,contain:"size style","& > *":{position:"absolute"}},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{pointerEvents:"none"},"&.cm-focused > .cm-scroller > .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#444"},".cm-dropCursor":{position:"absolute"},"&.cm-focused > .cm-scroller > .cm-cursorLayer .cm-cursor":{display:"block"},".cm-iso":{unicodeBidi:"isolate"},".cm-announced":{position:"fixed",top:"-10000px"},"@media print":{".cm-announced":{display:"none"}},"&light .cm-activeLine":{backgroundColor:"#cceeff44"},"&dark .cm-activeLine":{backgroundColor:"#99eeff33"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",insetInlineStart:0,zIndex:200},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",borderRight:"1px solid #ddd"},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0,zIndex:300},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",width:0,display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top"},".cm-highlightSpace:before":{content:"attr(data-display)",position:"absolute",pointerEvents:"none",color:"#888"},".cm-highlightTab":{backgroundImage:`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="20"><path stroke="%23888" stroke-width="1" fill="none" d="M1 10H196L190 5M190 15L196 10M197 4L197 16"/></svg>')`,backgroundSize:"auto 100%",backgroundPosition:"right 90%",backgroundRepeat:"no-repeat"},".cm-trailingSpace":{backgroundColor:"#ff332255"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},G6),eW={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},ym=Ke.ie&&Ke.ie_version<=11;class tW{constructor(e){this.view=e,this.active=!1,this.editContext=null,this.selectionRange=new zV,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.flushingAndroidKey=-1,this.lastChange=0,this.scrollTargets=[],this.intersection=null,this.resizeScroll=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.printQuery=null,this.parentCheck=-1,this.dom=e.contentDOM,this.observer=new MutationObserver(t=>{for(let i of t)this.queue.push(i);(Ke.ie&&Ke.ie_version<=11||Ke.ios&&e.composing)&&t.some(i=>i.type=="childList"&&i.removedNodes.length||i.type=="characterData"&&i.oldValue.length>i.target.nodeValue.length)?this.flushSoon():this.flush()}),window.EditContext&&e.constructor.EDIT_CONTEXT!==!1&&!(Ke.chrome&&Ke.chrome_version<126)&&(this.editContext=new iW(e),e.state.facet(fr)&&(e.contentDOM.editContext=this.editContext.editContext)),ym&&(this.onCharData=t=>{this.queue.push({target:t.target,type:"characterData",oldValue:t.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.onResize=this.onResize.bind(this),this.onPrint=this.onPrint.bind(this),this.onScroll=this.onScroll.bind(this),window.matchMedia&&(this.printQuery=window.matchMedia("print")),typeof ResizeObserver=="function"&&(this.resizeScroll=new ResizeObserver(()=>{var t;((t=this.view.docView)===null||t===void 0?void 0:t.lastUpdate)<Date.now()-75&&this.onResize()}),this.resizeScroll.observe(e.scrollDOM)),this.addWindowListeners(this.win=e.win),this.start(),typeof IntersectionObserver=="function"&&(this.intersection=new IntersectionObserver(t=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),t.length>0&&t[t.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))},{threshold:[0,.001]}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver(t=>{t.length>0&&t[t.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))},{})),this.listenForScroll(),this.readSelectionRange()}onScrollChanged(e){this.view.inputState.runHandlers("scroll",e),this.intersecting&&this.view.measure()}onScroll(e){this.intersecting&&this.flush(!1),this.editContext&&this.view.requestMeasure(this.editContext.measureReq),this.onScrollChanged(e)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout(()=>{this.resizeTimeout=-1,this.view.requestMeasure()},50))}onPrint(e){(e.type=="change"||!e.type)&&!e.matches||(this.view.viewState.printing=!0,this.view.measure(),setTimeout(()=>{this.view.viewState.printing=!1,this.view.requestMeasure()},500))}updateGaps(e){if(this.gapIntersection&&(e.length!=this.gaps.length||this.gaps.some((t,i)=>t!=e[i]))){this.gapIntersection.disconnect();for(let t of e)this.gapIntersection.observe(t);this.gaps=e}}onSelectionChange(e){let t=this.selectionChanged;if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:i}=this,s=this.selectionRange;if(i.state.facet(fr)?i.root.activeElement!=this.dom:!Sh(i.dom,s))return;let o=s.anchorNode&&i.docView.nearest(s.anchorNode);if(o&&o.ignoreEvent(e)){t||(this.selectionChanged=!1);return}(Ke.ie&&Ke.ie_version<=11||Ke.android&&Ke.chrome)&&!i.state.selection.main.empty&&s.focusNode&&Zc(s.focusNode,s.focusOffset,s.anchorNode,s.anchorOffset)?this.flushSoon():this.flush(!1)}readSelectionRange(){let{view:e}=this,t=Sf(e.root);if(!t)return!1;let i=Ke.safari&&e.root.nodeType==11&&IV(this.dom.ownerDocument)==this.dom&&nW(this.view,t)||t;if(!i||this.selectionRange.eq(i))return!1;let s=Sh(this.dom,i);return s&&!this.selectionChanged&&e.inputState.lastFocusTime>Date.now()-200&&e.inputState.lastTouchTime<Date.now()-300&&VV(this.dom,i)?(this.view.inputState.lastFocusTime=0,e.docView.updateSelection(),!1):(this.selectionRange.setRange(i),s&&(this.selectionChanged=!0),!0)}setSelectionRange(e,t){this.selectionRange.set(e.node,e.offset,t.node,t.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let e=0,t=null;for(let i=this.dom;i;)if(i.nodeType==1)!t&&e<this.scrollTargets.length&&this.scrollTargets[e]==i?e++:t||(t=this.scrollTargets.slice(0,e)),t&&t.push(i),i=i.assignedSlot||i.parentNode;else if(i.nodeType==11)i=i.host;else break;if(e<this.scrollTargets.length&&!t&&(t=this.scrollTargets.slice(0,e)),t){for(let i of this.scrollTargets)i.removeEventListener("scroll",this.onScroll);for(let i of this.scrollTargets=t)i.addEventListener("scroll",this.onScroll)}}ignore(e){if(!this.active)return e();try{return this.stop(),e()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,eW),ym&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){this.active&&(this.active=!1,this.observer.disconnect(),ym&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(e,t){var i;if(!this.delayedAndroidKey){let s=()=>{let o=this.delayedAndroidKey;o&&(this.clearDelayedAndroidKey(),this.view.inputState.lastKeyCode=o.keyCode,this.view.inputState.lastKeyTime=Date.now(),!this.flush()&&o.force&&Pa(this.dom,o.key,o.keyCode))};this.flushingAndroidKey=this.view.win.requestAnimationFrame(s)}(!this.delayedAndroidKey||e=="Enter")&&(this.delayedAndroidKey={key:e,keyCode:t,force:this.lastChange<Date.now()-50||!!(!((i=this.delayedAndroidKey)===null||i===void 0)&&i.force)})}clearDelayedAndroidKey(){this.win.cancelAnimationFrame(this.flushingAndroidKey),this.delayedAndroidKey=null,this.flushingAndroidKey=-1}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=this.view.win.requestAnimationFrame(()=>{this.delayedFlush=-1,this.flush()}))}forceFlush(){this.delayedFlush>=0&&(this.view.win.cancelAnimationFrame(this.delayedFlush),this.delayedFlush=-1),this.flush()}pendingRecords(){for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}processRecords(){let e=this.pendingRecords();e.length&&(this.queue=[]);let t=-1,i=-1,s=!1;for(let o of e){let r=this.readMutation(o);r&&(r.typeOver&&(s=!0),t==-1?{from:t,to:i}=r:(t=Math.min(r.from,t),i=Math.max(r.to,i)))}return{from:t,to:i,typeOver:s}}readChange(){let{from:e,to:t,typeOver:i}=this.processRecords(),s=this.selectionChanged&&Sh(this.dom,this.selectionRange);if(e<0&&!s)return null;e>-1&&(this.lastChange=Date.now()),this.view.inputState.lastFocusTime=0,this.selectionChanged=!1;let o=new wH(this.view,e,t,i);return this.view.docView.domChanged={newSel:o.newSel?o.newSel.main:null},o}flush(e=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return!1;e&&this.readSelectionRange();let t=this.readChange();if(!t)return this.view.requestMeasure(),!1;let i=this.view.state,s=j6(this.view,t);return this.view.state==i&&(t.domChanged||t.newSel&&!t.newSel.main.eq(this.view.state.selection.main))&&this.view.update([]),s}readMutation(e){let t=this.view.docView.nearest(e.target);if(!t||t.ignoreMutation(e))return null;if(t.markDirty(e.type=="attributes"),e.type=="attributes"&&(t.flags|=4),e.type=="childList"){let i=Hv(t,e.previousSibling||e.target.previousSibling,-1),s=Hv(t,e.nextSibling||e.target.nextSibling,1);return{from:i?t.posAfter(i):t.posAtStart,to:s?t.posBefore(s):t.posAtEnd,typeOver:!1}}else return e.type=="characterData"?{from:t.posAtStart,to:t.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}:null}setWindow(e){e!=this.win&&(this.removeWindowListeners(this.win),this.win=e,this.addWindowListeners(this.win))}addWindowListeners(e){e.addEventListener("resize",this.onResize),this.printQuery?this.printQuery.addEventListener?this.printQuery.addEventListener("change",this.onPrint):this.printQuery.addListener(this.onPrint):e.addEventListener("beforeprint",this.onPrint),e.addEventListener("scroll",this.onScroll),e.document.addEventListener("selectionchange",this.onSelectionChange)}removeWindowListeners(e){e.removeEventListener("scroll",this.onScroll),e.removeEventListener("resize",this.onResize),this.printQuery?this.printQuery.removeEventListener?this.printQuery.removeEventListener("change",this.onPrint):this.printQuery.removeListener(this.onPrint):e.removeEventListener("beforeprint",this.onPrint),e.document.removeEventListener("selectionchange",this.onSelectionChange)}update(e){this.editContext&&(this.editContext.update(e),e.startState.facet(fr)!=e.state.facet(fr)&&(e.view.contentDOM.editContext=e.state.facet(fr)?this.editContext.editContext:null))}destroy(){var e,t,i;this.stop(),(e=this.intersection)===null||e===void 0||e.disconnect(),(t=this.gapIntersection)===null||t===void 0||t.disconnect(),(i=this.resizeScroll)===null||i===void 0||i.disconnect();for(let s of this.scrollTargets)s.removeEventListener("scroll",this.onScroll);this.removeWindowListeners(this.win),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout),this.win.cancelAnimationFrame(this.delayedFlush),this.win.cancelAnimationFrame(this.flushingAndroidKey),this.editContext&&(this.view.contentDOM.editContext=null,this.editContext.destroy())}}function Hv(n,e,t){for(;e;){let i=on.get(e);if(i&&i.parent==n)return i;let s=e.parentNode;e=s!=n.dom?s:t>0?e.nextSibling:e.previousSibling}return null}function Wv(n,e){let t=e.startContainer,i=e.startOffset,s=e.endContainer,o=e.endOffset,r=n.docView.domAtPos(n.state.selection.main.anchor);return Zc(r.node,r.offset,s,o)&&([t,i,s,o]=[s,o,t,i]),{anchorNode:t,anchorOffset:i,focusNode:s,focusOffset:o}}function nW(n,e){if(e.getComposedRanges){let s=e.getComposedRanges(n.root)[0];if(s)return Wv(n,s)}let t=null;function i(s){s.preventDefault(),s.stopImmediatePropagation(),t=s.getTargetRanges()[0]}return n.contentDOM.addEventListener("beforeinput",i,!0),n.dom.ownerDocument.execCommand("indent"),n.contentDOM.removeEventListener("beforeinput",i,!0),t?Wv(n,t):null}class iW{constructor(e){this.from=0,this.to=0,this.pendingContextChange=null,this.handlers=Object.create(null),this.resetRange(e.state);let t=this.editContext=new window.EditContext({text:e.state.doc.sliceString(this.from,this.to),selectionStart:this.toContextPos(Math.max(this.from,Math.min(this.to,e.state.selection.main.anchor))),selectionEnd:this.toContextPos(e.state.selection.main.head)});this.handlers.textupdate=i=>{let{anchor:s}=e.state.selection.main,o={from:this.toEditorPos(i.updateRangeStart),to:this.toEditorPos(i.updateRangeEnd),insert:qt.of(i.text.split(`
`))};o.from==this.from&&s<this.from?o.from=s:o.to==this.to&&s>this.to&&(o.to=s),!(o.from==o.to&&!o.insert.length)&&(this.pendingContextChange=o,e.state.readOnly||Q0(e,o,_e.single(this.toEditorPos(i.selectionStart),this.toEditorPos(i.selectionEnd))),this.pendingContextChange&&(this.revertPending(e.state),this.setSelection(e.state)))},this.handlers.characterboundsupdate=i=>{let s=[],o=null;for(let r=this.toEditorPos(i.rangeStart),l=this.toEditorPos(i.rangeEnd);r<l;r++){let a=e.coordsForChar(r);o=a&&new DOMRect(a.left,a.top,a.right-a.left,a.bottom-a.top)||o||new DOMRect,s.push(o)}t.updateCharacterBounds(i.rangeStart,s)},this.handlers.textformatupdate=i=>{let s=[];for(let o of i.getTextFormats()){let r=o.underlineStyle,l=o.underlineThickness;if(r!="None"&&l!="None"){let a=`text-decoration: underline ${r=="Dashed"?"dashed ":r=="Squiggle"?"wavy ":""}${l=="Thin"?1:2}px`;s.push(lt.mark({attributes:{style:a}}).range(this.toEditorPos(o.rangeStart),this.toEditorPos(o.rangeEnd)))}}e.dispatch({effects:T6.of(lt.set(s))})},this.handlers.compositionstart=()=>{e.inputState.composing<0&&(e.inputState.composing=0,e.inputState.compositionFirstChange=!0)},this.handlers.compositionend=()=>{e.inputState.composing=-1,e.inputState.compositionFirstChange=null};for(let i in this.handlers)t.addEventListener(i,this.handlers[i]);this.measureReq={read:i=>{this.editContext.updateControlBounds(i.contentDOM.getBoundingClientRect());let s=Sf(i.root);s&&s.rangeCount&&this.editContext.updateSelectionBounds(s.getRangeAt(0).getBoundingClientRect())}}}applyEdits(e){let t=0,i=!1,s=this.pendingContextChange;return e.changes.iterChanges((o,r,l,a,c)=>{if(i)return;let f=c.length-(r-o);if(s&&r>=s.to)if(s.from==o&&s.to==r&&s.insert.eq(c)){s=this.pendingContextChange=null,t+=f,this.to+=f;return}else s=null,this.revertPending(e.state);if(o+=t,r+=t,r<=this.from)this.from+=f,this.to+=f;else if(o<this.to){if(o<this.from||r>this.to||this.to-this.from+c.length>3e4){i=!0;return}this.editContext.updateText(this.toContextPos(o),this.toContextPos(r),c.toString()),this.to+=f}t+=f}),s&&!i&&this.revertPending(e.state),!i}update(e){let t=this.pendingContextChange;!this.applyEdits(e)||!this.rangeIsValid(e.state)?(this.pendingContextChange=null,this.resetRange(e.state),this.editContext.updateText(0,this.editContext.text.length,e.state.doc.sliceString(this.from,this.to)),this.setSelection(e.state)):(e.docChanged||e.selectionSet||t)&&this.setSelection(e.state),(e.geometryChanged||e.docChanged||e.selectionSet)&&e.view.requestMeasure(this.measureReq)}resetRange(e){let{head:t}=e.selection.main;this.from=Math.max(0,t-1e4),this.to=Math.min(e.doc.length,t+1e4)}revertPending(e){let t=this.pendingContextChange;this.pendingContextChange=null,this.editContext.updateText(this.toContextPos(t.from),this.toContextPos(t.from+t.insert.length),e.doc.sliceString(t.from,t.to))}setSelection(e){let{main:t}=e.selection,i=this.toContextPos(Math.max(this.from,Math.min(this.to,t.anchor))),s=this.toContextPos(t.head);(this.editContext.selectionStart!=i||this.editContext.selectionEnd!=s)&&this.editContext.updateSelection(i,s)}rangeIsValid(e){let{head:t}=e.selection.main;return!(this.from>0&&t-this.from<500||this.to<e.doc.length&&this.to-t<500||this.to-this.from>1e4*3)}toEditorPos(e){return e+this.from}toContextPos(e){return e-this.from}destroy(){for(let e in this.handlers)this.editContext.removeEventListener(e,this.handlers[e])}}class Fe{get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return this.inputState.composing>0}get compositionStarted(){return this.inputState.composing>=0}get root(){return this._root}get win(){return this.dom.ownerDocument.defaultView||window}constructor(e={}){var t;this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.className="cm-announced",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),e.parent&&e.parent.appendChild(this.dom);let{dispatch:i}=e;this.dispatchTransactions=e.dispatchTransactions||i&&(s=>s.forEach(o=>i(o,this)))||(s=>this.update(s)),this.dispatch=this.dispatch.bind(this),this._root=e.root||FV(e.parent)||document,this.viewState=new Fv(e.state||Pt.create(e)),e.scrollTo&&e.scrollTo.is(Tu)&&(this.viewState.scrollTarget=e.scrollTo.value.clip(this.viewState.state)),this.plugins=this.state.facet(Lc).map(s=>new gm(s));for(let s of this.plugins)s.update(this);this.observer=new tW(this),this.inputState=new MH(this),this.inputState.ensureHandlers(this.plugins),this.docView=new vv(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure(),!((t=document.fonts)===null||t===void 0)&&t.ready&&document.fonts.ready.then(()=>this.requestMeasure())}dispatch(...e){let t=e.length==1&&e[0]instanceof Vn?e:e.length==1&&Array.isArray(e[0])?e[0]:[this.state.update(...e)];this.dispatchTransactions(t,this)}update(e){if(this.updateState!=0)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let t=!1,i=!1,s,o=this.state;for(let h of e){if(h.startState!=o)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");o=h.state}if(this.destroyed){this.viewState.state=o;return}let r=this.hasFocus,l=0,a=null;e.some(h=>h.annotation(q6))?(this.inputState.notifiedFocused=r,l=1):r!=this.inputState.notifiedFocused&&(this.inputState.notifiedFocused=r,a=U6(o,r),a||(l=1));let c=this.observer.delayedAndroidKey,f=null;if(c?(this.observer.clearDelayedAndroidKey(),f=this.observer.readChange(),(f&&!this.state.doc.eq(o.doc)||!this.state.selection.eq(o.selection))&&(f=null)):this.observer.clear(),o.facet(Pt.phrases)!=this.state.facet(Pt.phrases))return this.setState(o);s=hd.create(this,o,e),s.flags|=l;let u=this.viewState.scrollTarget;try{this.updateState=2;for(let h of e){if(u&&(u=u.map(h.changes)),h.scrollIntoView){let{main:d}=h.state.selection;u=new Ta(d.empty?d:_e.cursor(d.head,d.head>d.anchor?-1:1))}for(let d of h.effects)d.is(Tu)&&(u=d.value.clip(this.state))}this.viewState.update(s,u),this.bidiCache=gd.update(this.bidiCache,s.changes),s.empty||(this.updatePlugins(s),this.inputState.update(s)),t=this.docView.update(s),this.state.facet(Ic)!=this.styleModules&&this.mountStyles(),i=this.updateAttrs(),this.showAnnouncements(e),this.docView.updateSelection(t,e.some(h=>h.isUserEvent("select.pointer")))}finally{this.updateState=0}if(s.startState.facet(Nu)!=s.state.facet(Nu)&&(this.viewState.mustMeasureContent=!0),(t||i||u||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),t&&this.docViewUpdate(),!s.empty)for(let h of this.state.facet(n1))try{h(s)}catch(d){Pi(this.state,d,"update listener")}(a||f)&&Promise.resolve().then(()=>{a&&this.state==a.startState&&this.dispatch(a),f&&!j6(this,f)&&c.force&&Pa(this.contentDOM,c.key,c.keyCode)})}setState(e){if(this.updateState!=0)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed){this.viewState.state=e;return}this.updateState=2;let t=this.hasFocus;try{for(let i of this.plugins)i.destroy(this);this.viewState=new Fv(e),this.plugins=e.facet(Lc).map(i=>new gm(i)),this.pluginMap.clear();for(let i of this.plugins)i.update(this);this.docView.destroy(),this.docView=new vv(this),this.inputState.ensureHandlers(this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}t&&this.focus(),this.requestMeasure()}updatePlugins(e){let t=e.startState.facet(Lc),i=e.state.facet(Lc);if(t!=i){let s=[];for(let o of i){let r=t.indexOf(o);if(r<0)s.push(new gm(o));else{let l=this.plugins[r];l.mustUpdate=e,s.push(l)}}for(let o of this.plugins)o.mustUpdate!=e&&o.destroy(this);this.plugins=s,this.pluginMap.clear()}else for(let s of this.plugins)s.mustUpdate=e;for(let s=0;s<this.plugins.length;s++)this.plugins[s].update(this);t!=i&&this.inputState.ensureHandlers(this.plugins)}docViewUpdate(){for(let e of this.plugins){let t=e.value;if(t&&t.docViewUpdate)try{t.docViewUpdate(this)}catch(i){Pi(this.state,i,"doc view update listener")}}}measure(e=!0){if(this.destroyed)return;if(this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.observer.delayedAndroidKey){this.measureScheduled=-1,this.requestMeasure();return}this.measureScheduled=0,e&&this.observer.forceFlush();let t=null,i=this.scrollDOM,s=i.scrollTop*this.scaleY,{scrollAnchorPos:o,scrollAnchorHeight:r}=this.viewState;Math.abs(s-this.viewState.scrollTop)>1&&(r=-1),this.viewState.scrollAnchorHeight=-1;try{for(let l=0;;l++){if(r<0)if(s6(i))o=-1,r=this.viewState.heightMap.height;else{let d=this.viewState.scrollAnchorAt(s);o=d.from,r=d.top}this.updateState=1;let a=this.viewState.measure(this);if(!a&&!this.measureRequests.length&&this.viewState.scrollTarget==null)break;if(l>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let c=[];a&4||([this.measureRequests,c]=[c,this.measureRequests]);let f=c.map(d=>{try{return d.read(this)}catch(g){return Pi(this.state,g),qv}}),u=hd.create(this,this.state,[]),h=!1;u.flags|=a,t?t.flags|=a:t=u,this.updateState=2,u.empty||(this.updatePlugins(u),this.inputState.update(u),this.updateAttrs(),h=this.docView.update(u),h&&this.docViewUpdate());for(let d=0;d<c.length;d++)if(f[d]!=qv)try{let g=c[d];g.write&&g.write(f[d],this)}catch(g){Pi(this.state,g)}if(h&&this.docView.updateSelection(!0),!u.viewportChanged&&this.measureRequests.length==0){if(this.viewState.editorHeight)if(this.viewState.scrollTarget){this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,r=-1;continue}else{let g=(o<0?this.viewState.heightMap.height:this.viewState.lineBlockAt(o).top)-r;if(g>1||g<-1){s=s+g,i.scrollTop=s/this.scaleY,r=-1;continue}}break}}}finally{this.updateState=0,this.measureScheduled=-1}if(t&&!t.empty)for(let l of this.state.facet(n1))l(t)}get themeClasses(){return l1+" "+(this.state.facet(r1)?X6:Y6)+" "+this.state.facet(Nu)}updateAttrs(){let e=Uv(this,E6,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),t={spellcheck:"false",autocorrect:"off",autocapitalize:"off",translate:"no",contenteditable:this.state.facet(fr)?"true":"false",class:"cm-content",style:`${Ke.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(t["aria-readonly"]="true"),Uv(this,X0,t);let i=this.observer.ignore(()=>{let s=Gp(this.contentDOM,this.contentAttrs,t),o=Gp(this.dom,this.editorAttrs,e);return s||o});return this.editorAttrs=e,this.contentAttrs=t,i}showAnnouncements(e){let t=!0;for(let i of e)for(let s of i.effects)if(s.is(Fe.announce)){t&&(this.announceDOM.textContent=""),t=!1;let o=this.announceDOM.appendChild(document.createElement("div"));o.textContent=s.value}}mountStyles(){this.styleModules=this.state.facet(Ic);let e=this.state.facet(Fe.cspNonce);Rr.mount(this.root,this.styleModules.concat($H).reverse(),e?{nonce:e}:void 0)}readMeasured(){if(this.updateState==2)throw new Error("Reading the editor layout isn't allowed during an update");this.updateState==0&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(e){if(this.measureScheduled<0&&(this.measureScheduled=this.win.requestAnimationFrame(()=>this.measure())),e){if(this.measureRequests.indexOf(e)>-1)return;if(e.key!=null){for(let t=0;t<this.measureRequests.length;t++)if(this.measureRequests[t].key===e.key){this.measureRequests[t]=e;return}}this.measureRequests.push(e)}}plugin(e){let t=this.pluginMap.get(e);return(t===void 0||t&&t.spec!=e)&&this.pluginMap.set(e,t=this.plugins.find(i=>i.spec==e)||null),t&&t.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}get scaleX(){return this.viewState.scaleX}get scaleY(){return this.viewState.scaleY}elementAtHeight(e){return this.readMeasured(),this.viewState.elementAtHeight(e)}lineBlockAtHeight(e){return this.readMeasured(),this.viewState.lineBlockAtHeight(e)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(e){return this.viewState.lineBlockAt(e)}get contentHeight(){return this.viewState.contentHeight}moveByChar(e,t,i){return pm(this,e,Av(this,e,t,i))}moveByGroup(e,t){return pm(this,e,Av(this,e,t,i=>pH(this,e.head,i)))}visualLineSide(e,t){let i=this.bidiSpans(e),s=this.textDirectionAt(e.from),o=i[t?i.length-1:0];return _e.cursor(o.side(t,s)+e.from,o.forward(!t,s)?1:-1)}moveToLineBoundary(e,t,i=!0){return mH(this,e,t,i)}moveVertically(e,t,i){return pm(this,e,bH(this,e,t,i))}domAtPos(e){return this.docView.domAtPos(e)}posAtDOM(e,t=0){return this.docView.posFromDOM(e,t)}posAtCoords(e,t=!0){return this.readMeasured(),B6(this,e,t)}coordsAtPos(e,t=1){this.readMeasured();let i=this.docView.coordsAt(e,t);if(!i||i.left==i.right)return i;let s=this.state.doc.lineAt(e),o=this.bidiSpans(s),r=o[mr.find(o,e-s.from,-1,t)];return Sg(i,r.dir==dn.LTR==t>0)}coordsForChar(e){return this.readMeasured(),this.docView.coordsForChar(e)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(e){return!this.state.facet(x6)||e<this.viewport.from||e>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(e))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(e){if(e.length>sW)return _6(e.length);let t=this.textDirectionAt(e.from),i;for(let o of this.bidiCache)if(o.from==e.from&&o.dir==t&&(o.fresh||y6(o.isolates,i=wv(this,e))))return o.order;i||(i=wv(this,e));let s=$V(e.text,t,i);return this.bidiCache.push(new gd(e.from,e.to,t,i,!0,s)),s}get hasFocus(){var e;return(this.dom.ownerDocument.hasFocus()||Ke.safari&&((e=this.inputState)===null||e===void 0?void 0:e.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore(()=>{n6(this.contentDOM),this.docView.updateSelection()})}setRoot(e){this._root!=e&&(this._root=e,this.observer.setWindow((e.nodeType==9?e:e.ownerDocument).defaultView||window),this.mountStyles())}destroy(){this.root.activeElement==this.contentDOM&&this.contentDOM.blur();for(let e of this.plugins)e.destroy(this);this.plugins=[],this.inputState.destroy(),this.docView.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(e,t={}){return Tu.of(new Ta(typeof e=="number"?_e.cursor(e):e,t.y,t.x,t.yMargin,t.xMargin))}scrollSnapshot(){let{scrollTop:e,scrollLeft:t}=this.scrollDOM,i=this.viewState.scrollAnchorAt(e);return Tu.of(new Ta(_e.cursor(i.from),"start","start",i.top-e,t,!0))}setTabFocusMode(e){e==null?this.inputState.tabFocusMode=this.inputState.tabFocusMode<0?0:-1:typeof e=="boolean"?this.inputState.tabFocusMode=e?0:-1:this.inputState.tabFocusMode!=0&&(this.inputState.tabFocusMode=Date.now()+e)}static domEventHandlers(e){return An.define(()=>({}),{eventHandlers:e})}static domEventObservers(e){return An.define(()=>({}),{eventObservers:e})}static theme(e,t){let i=Rr.newName(),s=[Nu.of(i),Ic.of(a1(`.${i}`,e))];return t&&t.dark&&s.push(r1.of(!0)),s}static baseTheme(e){return Wl.lowest(Ic.of(a1("."+l1,e,G6)))}static findFromDOM(e){var t;let i=e.querySelector(".cm-content"),s=i&&on.get(i)||on.get(e);return((t=s==null?void 0:s.rootView)===null||t===void 0?void 0:t.view)||null}}Fe.styleModule=Ic;Fe.inputHandler=M6;Fe.clipboardInputFilter=K0;Fe.clipboardOutputFilter=Y0;Fe.scrollHandler=P6;Fe.focusChangeEffect=A6;Fe.perLineTextDirection=x6;Fe.exceptionSink=C6;Fe.updateListener=n1;Fe.editable=fr;Fe.mouseSelectionStyle=S6;Fe.dragMovesSelection=k6;Fe.clickAddsSelectionRange=v6;Fe.decorations=Mf;Fe.outerDecorations=R6;Fe.atomicRanges=G0;Fe.bidiIsolatedRanges=D6;Fe.scrollMargins=L6;Fe.darkTheme=r1;Fe.cspNonce=He.define({combine:n=>n.length?n[0]:""});Fe.contentAttributes=X0;Fe.editorAttributes=E6;Fe.lineWrapping=Fe.contentAttributes.of({class:"cm-lineWrapping"});Fe.announce=yt.define();const sW=4096,qv={};class gd{constructor(e,t,i,s,o,r){this.from=e,this.to=t,this.dir=i,this.isolates=s,this.fresh=o,this.order=r}static update(e,t){if(t.empty&&!e.some(o=>o.fresh))return e;let i=[],s=e.length?e[e.length-1].dir:dn.LTR;for(let o=Math.max(0,e.length-10);o<e.length;o++){let r=e[o];r.dir==s&&!t.touchesRange(r.from,r.to)&&i.push(new gd(t.mapPos(r.from,1),t.mapPos(r.to,-1),r.dir,r.isolates,!1,r.order))}return i}}function Uv(n,e,t){for(let i=n.state.facet(e),s=i.length-1;s>=0;s--){let o=i[s],r=typeof o=="function"?o(n):o;r&&Xp(r,t)}return t}const oW=Ke.mac?"mac":Ke.windows?"win":Ke.linux?"linux":"key";function rW(n,e){const t=n.split(/-(?!$)/);let i=t[t.length-1];i=="Space"&&(i=" ");let s,o,r,l;for(let a=0;a<t.length-1;++a){const c=t[a];if(/^(cmd|meta|m)$/i.test(c))l=!0;else if(/^a(lt)?$/i.test(c))s=!0;else if(/^(c|ctrl|control)$/i.test(c))o=!0;else if(/^s(hift)?$/i.test(c))r=!0;else if(/^mod$/i.test(c))e=="mac"?l=!0:o=!0;else throw new Error("Unrecognized modifier name: "+c)}return s&&(i="Alt-"+i),o&&(i="Ctrl-"+i),l&&(i="Meta-"+i),r&&(i="Shift-"+i),i}function Bu(n,e,t){return e.altKey&&(n="Alt-"+n),e.ctrlKey&&(n="Ctrl-"+n),e.metaKey&&(n="Meta-"+n),t!==!1&&e.shiftKey&&(n="Shift-"+n),n}const lW=Wl.default(Fe.domEventHandlers({keydown(n,e){return Z6(Q6(e.state),n,e,"editor")}})),md=He.define({enables:lW}),Jv=new WeakMap;function Q6(n){let e=n.facet(md),t=Jv.get(e);return t||Jv.set(e,t=fW(e.reduce((i,s)=>i.concat(s),[]))),t}function aW(n,e,t){return Z6(Q6(n.state),e,n,t)}let ur=null;const cW=4e3;function fW(n,e=oW){let t=Object.create(null),i=Object.create(null),s=(r,l)=>{let a=i[r];if(a==null)i[r]=l;else if(a!=l)throw new Error("Key binding "+r+" is used both as a regular binding and as a multi-stroke prefix")},o=(r,l,a,c,f)=>{var u,h;let d=t[r]||(t[r]=Object.create(null)),g=l.split(/ (?!$)/).map(b=>rW(b,e));for(let b=1;b<g.length;b++){let y=g.slice(0,b).join(" ");s(y,!0),d[y]||(d[y]={preventDefault:!0,stopPropagation:!1,run:[v=>{let C=ur={view:v,prefix:y,scope:r};return setTimeout(()=>{ur==C&&(ur=null)},cW),!0}]})}let m=g.join(" ");s(m,!1);let p=d[m]||(d[m]={preventDefault:!1,stopPropagation:!1,run:((h=(u=d._any)===null||u===void 0?void 0:u.run)===null||h===void 0?void 0:h.slice())||[]});a&&p.run.push(a),c&&(p.preventDefault=!0),f&&(p.stopPropagation=!0)};for(let r of n){let l=r.scope?r.scope.split(" "):["editor"];if(r.any)for(let c of l){let f=t[c]||(t[c]=Object.create(null));f._any||(f._any={preventDefault:!1,stopPropagation:!1,run:[]});let{any:u}=r;for(let h in f)f[h].run.push(d=>u(d,c1))}let a=r[e]||r.key;if(a)for(let c of l)o(c,a,r.run,r.preventDefault,r.stopPropagation),r.shift&&o(c,"Shift-"+a,r.shift,r.preventDefault,r.stopPropagation)}return t}let c1=null;function Z6(n,e,t,i){c1=e;let s=LV(e),o=ni(s,0),r=ls(o)==s.length&&s!=" ",l="",a=!1,c=!1,f=!1;ur&&ur.view==t&&ur.scope==i&&(l=ur.prefix+" ",F6.indexOf(e.keyCode)<0&&(c=!0,ur=null));let u=new Set,h=p=>{if(p){for(let b of p.run)if(!u.has(b)&&(u.add(b),b(t)))return p.stopPropagation&&(f=!0),!0;p.preventDefault&&(p.stopPropagation&&(f=!0),c=!0)}return!1},d=n[i],g,m;return d&&(h(d[l+Bu(s,e,!r)])?a=!0:r&&(e.altKey||e.metaKey||e.ctrlKey)&&!(Ke.windows&&e.ctrlKey&&e.altKey)&&(g=Dr[e.keyCode])&&g!=s?(h(d[l+Bu(g,e,!0)])||e.shiftKey&&(m=kf[e.keyCode])!=s&&m!=g&&h(d[l+Bu(m,e,!1)]))&&(a=!0):r&&e.shiftKey&&h(d[l+Bu(s,e,!0)])&&(a=!0),!a&&h(d._any)&&(a=!0)),c&&(a=!0),a&&f&&e.stopPropagation(),c1=null,a}class iu{constructor(e,t,i,s,o){this.className=e,this.left=t,this.top=i,this.width=s,this.height=o}draw(){let e=document.createElement("div");return e.className=this.className,this.adjust(e),e}update(e,t){return t.className!=this.className?!1:(this.adjust(e),!0)}adjust(e){e.style.left=this.left+"px",e.style.top=this.top+"px",this.width!=null&&(e.style.width=this.width+"px"),e.style.height=this.height+"px"}eq(e){return this.left==e.left&&this.top==e.top&&this.width==e.width&&this.height==e.height&&this.className==e.className}static forRange(e,t,i){if(i.empty){let s=e.coordsAtPos(i.head,i.assoc||1);if(!s)return[];let o=$6(e);return[new iu(t,s.left-o.left,s.top-o.top,null,s.bottom-s.top)]}else return uW(e,t,i)}}function $6(n){let e=n.scrollDOM.getBoundingClientRect();return{left:(n.textDirection==dn.LTR?e.left:e.right-n.scrollDOM.clientWidth*n.scaleX)-n.scrollDOM.scrollLeft*n.scaleX,top:e.top-n.scrollDOM.scrollTop*n.scaleY}}function Kv(n,e,t,i){let s=n.coordsAtPos(e,t*2);if(!s)return i;let o=n.dom.getBoundingClientRect(),r=(s.top+s.bottom)/2,l=n.posAtCoords({x:o.left+1,y:r}),a=n.posAtCoords({x:o.right-1,y:r});return l==null||a==null?i:{from:Math.max(i.from,Math.min(l,a)),to:Math.min(i.to,Math.max(l,a))}}function uW(n,e,t){if(t.to<=n.viewport.from||t.from>=n.viewport.to)return[];let i=Math.max(t.from,n.viewport.from),s=Math.min(t.to,n.viewport.to),o=n.textDirection==dn.LTR,r=n.contentDOM,l=r.getBoundingClientRect(),a=$6(n),c=r.querySelector(".cm-line"),f=c&&window.getComputedStyle(c),u=l.left+(f?parseInt(f.paddingLeft)+Math.min(0,parseInt(f.textIndent)):0),h=l.right-(f?parseInt(f.paddingRight):0),d=s1(n,i),g=s1(n,s),m=d.type==Ei.Text?d:null,p=g.type==Ei.Text?g:null;if(m&&(n.lineWrapping||d.widgetLineBreaks)&&(m=Kv(n,i,1,m)),p&&(n.lineWrapping||g.widgetLineBreaks)&&(p=Kv(n,s,-1,p)),m&&p&&m.from==p.from&&m.to==p.to)return y(v(t.from,t.to,m));{let w=m?v(t.from,null,m):C(d,!1),S=p?v(null,t.to,p):C(g,!0),x=[];return(m||d).to<(p||g).from-(m&&p?1:0)||d.widgetLineBreaks>1&&w.bottom+n.defaultLineHeight/2<S.top?x.push(b(u,w.bottom,h,S.top)):w.bottom<S.top&&n.elementAtHeight((w.bottom+S.top)/2).type==Ei.Text&&(w.bottom=S.top=(w.bottom+S.top)/2),y(w).concat(x).concat(y(S))}function b(w,S,x,T){return new iu(e,w-a.left,S-a.top-.01,x-w,T-S+.01)}function y({top:w,bottom:S,horizontal:x}){let T=[];for(let P=0;P<x.length;P+=2)T.push(b(x[P],w,x[P+1],S));return T}function v(w,S,x){let T=1e9,P=-1e9,D=[];function O(z,F,q,Q,G){let R=n.coordsAtPos(z,z==x.to?-2:2),U=n.coordsAtPos(q,q==x.from?2:-2);!R||!U||(T=Math.min(R.top,U.top,T),P=Math.max(R.bottom,U.bottom,P),G==dn.LTR?D.push(o&&F?u:R.left,o&&Q?h:U.right):D.push(!o&&Q?u:U.left,!o&&F?h:R.right))}let E=w??x.from,N=S??x.to;for(let z of n.visibleRanges)if(z.to>E&&z.from<N)for(let F=Math.max(z.from,E),q=Math.min(z.to,N);;){let Q=n.state.doc.lineAt(F);for(let G of n.bidiSpans(Q)){let R=G.from+Q.from,U=G.to+Q.from;if(R>=q)break;U>F&&O(Math.max(R,F),w==null&&R<=E,Math.min(U,q),S==null&&U>=N,G.dir)}if(F=Q.to+1,F>=q)break}return D.length==0&&O(E,w==null,N,S==null,n.textDirection),{top:T,bottom:P,horizontal:D}}function C(w,S){let x=l.top+(S?w.top:w.bottom);return{top:x,bottom:x,horizontal:[]}}}function hW(n,e){return n.constructor==e.constructor&&n.eq(e)}class dW{constructor(e,t){this.view=e,this.layer=t,this.drawn=[],this.scaleX=1,this.scaleY=1,this.measureReq={read:this.measure.bind(this),write:this.draw.bind(this)},this.dom=e.scrollDOM.appendChild(document.createElement("div")),this.dom.classList.add("cm-layer"),t.above&&this.dom.classList.add("cm-layer-above"),t.class&&this.dom.classList.add(t.class),this.scale(),this.dom.setAttribute("aria-hidden","true"),this.setOrder(e.state),e.requestMeasure(this.measureReq),t.mount&&t.mount(this.dom,e)}update(e){e.startState.facet(Ah)!=e.state.facet(Ah)&&this.setOrder(e.state),(this.layer.update(e,this.dom)||e.geometryChanged)&&(this.scale(),e.view.requestMeasure(this.measureReq))}docViewUpdate(e){this.layer.updateOnDocViewUpdate!==!1&&e.requestMeasure(this.measureReq)}setOrder(e){let t=0,i=e.facet(Ah);for(;t<i.length&&i[t]!=this.layer;)t++;this.dom.style.zIndex=String((this.layer.above?150:-1)-t)}measure(){return this.layer.markers(this.view)}scale(){let{scaleX:e,scaleY:t}=this.view;(e!=this.scaleX||t!=this.scaleY)&&(this.scaleX=e,this.scaleY=t,this.dom.style.transform=`scale(${1/e}, ${1/t})`)}draw(e){if(e.length!=this.drawn.length||e.some((t,i)=>!hW(t,this.drawn[i]))){let t=this.dom.firstChild,i=0;for(let s of e)s.update&&t&&s.constructor&&this.drawn[i].constructor&&s.update(t,this.drawn[i])?(t=t.nextSibling,i++):this.dom.insertBefore(s.draw(),t);for(;t;){let s=t.nextSibling;t.remove(),t=s}this.drawn=e}}destroy(){this.layer.destroy&&this.layer.destroy(this.dom,this.view),this.dom.remove()}}const Ah=He.define();function e5(n){return[An.define(e=>new dW(e,n)),Ah.of(n)]}const t5=!Ke.ios,Af=He.define({combine(n){return _s(n,{cursorBlinkRate:1200,drawRangeCursor:!0},{cursorBlinkRate:(e,t)=>Math.min(e,t),drawRangeCursor:(e,t)=>e||t})}});function gW(n={}){return[Af.of(n),mW,pW,bW,O6.of(!0)]}function n5(n){return n.startState.facet(Af)!=n.state.facet(Af)}const mW=e5({above:!0,markers(n){let{state:e}=n,t=e.facet(Af),i=[];for(let s of e.selection.ranges){let o=s==e.selection.main;if(s.empty?!o||t5:t.drawRangeCursor){let r=o?"cm-cursor cm-cursor-primary":"cm-cursor cm-cursor-secondary",l=s.empty?s:_e.cursor(s.head,s.head>s.anchor?-1:1);for(let a of iu.forRange(n,r,l))i.push(a)}}return i},update(n,e){n.transactions.some(i=>i.selection)&&(e.style.animationName=e.style.animationName=="cm-blink"?"cm-blink2":"cm-blink");let t=n5(n);return t&&Yv(n.state,e),n.docChanged||n.selectionSet||t},mount(n,e){Yv(e.state,n)},class:"cm-cursorLayer"});function Yv(n,e){e.style.animationDuration=n.facet(Af).cursorBlinkRate+"ms"}const pW=e5({above:!1,markers(n){return n.state.selection.ranges.map(e=>e.empty?[]:iu.forRange(n,"cm-selectionBackground",e)).reduce((e,t)=>e.concat(t))},update(n,e){return n.docChanged||n.selectionSet||n.viewportChanged||n5(n)},class:"cm-selectionLayer"}),f1={".cm-line":{"& ::selection, &::selection":{backgroundColor:"transparent !important"}},".cm-content":{"& :focus":{caretColor:"initial !important","&::selection, & ::selection":{backgroundColor:"Highlight !important"}}}};t5&&(f1[".cm-line"].caretColor=f1[".cm-content"].caretColor="transparent !important");const bW=Wl.highest(Fe.theme(f1)),i5=yt.define({map(n,e){return n==null?null:e.mapPos(n)}}),jc=Un.define({create(){return null},update(n,e){return n!=null&&(n=e.changes.mapPos(n)),e.effects.reduce((t,i)=>i.is(i5)?i.value:t,n)}}),yW=An.fromClass(class{constructor(n){this.view=n,this.cursor=null,this.measureReq={read:this.readPos.bind(this),write:this.drawCursor.bind(this)}}update(n){var e;let t=n.state.field(jc);t==null?this.cursor!=null&&((e=this.cursor)===null||e===void 0||e.remove(),this.cursor=null):(this.cursor||(this.cursor=this.view.scrollDOM.appendChild(document.createElement("div")),this.cursor.className="cm-dropCursor"),(n.startState.field(jc)!=t||n.docChanged||n.geometryChanged)&&this.view.requestMeasure(this.measureReq))}readPos(){let{view:n}=this,e=n.state.field(jc),t=e!=null&&n.coordsAtPos(e);if(!t)return null;let i=n.scrollDOM.getBoundingClientRect();return{left:t.left-i.left+n.scrollDOM.scrollLeft*n.scaleX,top:t.top-i.top+n.scrollDOM.scrollTop*n.scaleY,height:t.bottom-t.top}}drawCursor(n){if(this.cursor){let{scaleX:e,scaleY:t}=this.view;n?(this.cursor.style.left=n.left/e+"px",this.cursor.style.top=n.top/t+"px",this.cursor.style.height=n.height/t+"px"):this.cursor.style.left="-100000px"}}destroy(){this.cursor&&this.cursor.remove()}setDropPos(n){this.view.state.field(jc)!=n&&this.view.dispatch({effects:i5.of(n)})}},{eventObservers:{dragover(n){this.setDropPos(this.view.posAtCoords({x:n.clientX,y:n.clientY}))},dragleave(n){(n.target==this.view.contentDOM||!this.view.contentDOM.contains(n.relatedTarget))&&this.setDropPos(null)},dragend(){this.setDropPos(null)},drop(){this.setDropPos(null)}}});function _W(){return[jc,yW]}function Xv(n,e,t,i,s){e.lastIndex=0;for(let o=n.iterRange(t,i),r=t,l;!o.next().done;r+=o.value.length)if(!o.lineBreak)for(;l=e.exec(o.value);)s(r+l.index,l)}function wW(n,e){let t=n.visibleRanges;if(t.length==1&&t[0].from==n.viewport.from&&t[0].to==n.viewport.to)return t;let i=[];for(let{from:s,to:o}of t)s=Math.max(n.state.doc.lineAt(s).from,s-e),o=Math.min(n.state.doc.lineAt(o).to,o+e),i.length&&i[i.length-1].to>=s?i[i.length-1].to=o:i.push({from:s,to:o});return i}class vW{constructor(e){const{regexp:t,decoration:i,decorate:s,boundary:o,maxLength:r=1e3}=e;if(!t.global)throw new RangeError("The regular expression given to MatchDecorator should have its 'g' flag set");if(this.regexp=t,s)this.addMatch=(l,a,c,f)=>s(f,c,c+l[0].length,l,a);else if(typeof i=="function")this.addMatch=(l,a,c,f)=>{let u=i(l,a,c);u&&f(c,c+l[0].length,u)};else if(i)this.addMatch=(l,a,c,f)=>f(c,c+l[0].length,i);else throw new RangeError("Either 'decorate' or 'decoration' should be provided to MatchDecorator");this.boundary=o,this.maxLength=r}createDeco(e){let t=new bo,i=t.add.bind(t);for(let{from:s,to:o}of wW(e,this.maxLength))Xv(e.state.doc,this.regexp,s,o,(r,l)=>this.addMatch(l,e,r,i));return t.finish()}updateDeco(e,t){let i=1e9,s=-1;return e.docChanged&&e.changes.iterChanges((o,r,l,a)=>{a>e.view.viewport.from&&l<e.view.viewport.to&&(i=Math.min(l,i),s=Math.max(a,s))}),e.viewportChanged||s-i>1e3?this.createDeco(e.view):s>-1?this.updateRange(e.view,t.map(e.changes),i,s):t}updateRange(e,t,i,s){for(let o of e.visibleRanges){let r=Math.max(o.from,i),l=Math.min(o.to,s);if(l>r){let a=e.state.doc.lineAt(r),c=a.to<l?e.state.doc.lineAt(l):a,f=Math.max(o.from,a.from),u=Math.min(o.to,c.to);if(this.boundary){for(;r>a.from;r--)if(this.boundary.test(a.text[r-1-a.from])){f=r;break}for(;l<c.to;l++)if(this.boundary.test(c.text[l-c.from])){u=l;break}}let h=[],d,g=(m,p,b)=>h.push(b.range(m,p));if(a==c)for(this.regexp.lastIndex=f-a.from;(d=this.regexp.exec(a.text))&&d.index<u-a.from;)this.addMatch(d,e,d.index+a.from,g);else Xv(e.state.doc,this.regexp,f,u,(m,p)=>this.addMatch(p,e,m,g));t=t.update({filterFrom:f,filterTo:u,filter:(m,p)=>m<f||p>u,add:h})}}return t}}const u1=/x/.unicode!=null?"gu":"g",kW=new RegExp(`[\0-\b
--­؜​‎‏\u2028\u2029‭‮⁦⁧⁩\uFEFF￹-￼]`,u1),SW={0:"null",7:"bell",8:"backspace",10:"newline",11:"vertical tab",13:"carriage return",27:"escape",8203:"zero width space",8204:"zero width non-joiner",8205:"zero width joiner",8206:"left-to-right mark",8207:"right-to-left mark",8232:"line separator",8237:"left-to-right override",8238:"right-to-left override",8294:"left-to-right isolate",8295:"right-to-left isolate",8297:"pop directional isolate",8233:"paragraph separator",65279:"zero width no-break space",65532:"object replacement"};let _m=null;function CW(){var n;if(_m==null&&typeof document<"u"&&document.body){let e=document.body.style;_m=((n=e.tabSize)!==null&&n!==void 0?n:e.MozTabSize)!=null}return _m||!1}const xh=He.define({combine(n){let e=_s(n,{render:null,specialChars:kW,addSpecialChars:null});return(e.replaceTabs=!CW())&&(e.specialChars=new RegExp("	|"+e.specialChars.source,u1)),e.addSpecialChars&&(e.specialChars=new RegExp(e.specialChars.source+"|"+e.addSpecialChars.source,u1)),e}});function MW(n={}){return[xh.of(n),AW()]}let Gv=null;function AW(){return Gv||(Gv=An.fromClass(class{constructor(n){this.view=n,this.decorations=lt.none,this.decorationCache=Object.create(null),this.decorator=this.makeDecorator(n.state.facet(xh)),this.decorations=this.decorator.createDeco(n)}makeDecorator(n){return new vW({regexp:n.specialChars,decoration:(e,t,i)=>{let{doc:s}=t.state,o=ni(e[0],0);if(o==9){let r=s.lineAt(i),l=t.state.tabSize,a=cc(r.text,l,i-r.from);return lt.replace({widget:new TW((l-a%l)*this.view.defaultCharacterWidth/this.view.scaleX)})}return this.decorationCache[o]||(this.decorationCache[o]=lt.replace({widget:new PW(n,o)}))},boundary:n.replaceTabs?void 0:/[^]/})}update(n){let e=n.state.facet(xh);n.startState.facet(xh)!=e?(this.decorator=this.makeDecorator(e),this.decorations=this.decorator.createDeco(n.view)):this.decorations=this.decorator.updateDeco(n,this.decorations)}},{decorations:n=>n.decorations}))}const xW="•";function OW(n){return n>=32?xW:n==10?"␤":String.fromCharCode(9216+n)}class PW extends Hr{constructor(e,t){super(),this.options=e,this.code=t}eq(e){return e.code==this.code}toDOM(e){let t=OW(this.code),i=e.state.phrase("Control character")+" "+(SW[this.code]||"0x"+this.code.toString(16)),s=this.options.render&&this.options.render(this.code,i,t);if(s)return s;let o=document.createElement("span");return o.textContent=t,o.title=i,o.setAttribute("aria-label",i),o.className="cm-specialChar",o}ignoreEvent(){return!1}}class TW extends Hr{constructor(e){super(),this.width=e}eq(e){return e.width==this.width}toDOM(){let e=document.createElement("span");return e.textContent="	",e.className="cm-tab",e.style.width=this.width+"px",e}ignoreEvent(){return!1}}function EW(){return DW}const RW=lt.line({class:"cm-activeLine"}),DW=An.fromClass(class{constructor(n){this.decorations=this.getDeco(n)}update(n){(n.docChanged||n.selectionSet)&&(this.decorations=this.getDeco(n.view))}getDeco(n){let e=-1,t=[];for(let i of n.state.selection.ranges){let s=n.lineBlockAt(i.head);s.from>e&&(t.push(RW.range(s.from)),e=s.from)}return lt.set(t)}},{decorations:n=>n.decorations}),h1=2e3;function LW(n,e,t){let i=Math.min(e.line,t.line),s=Math.max(e.line,t.line),o=[];if(e.off>h1||t.off>h1||e.col<0||t.col<0){let r=Math.min(e.off,t.off),l=Math.max(e.off,t.off);for(let a=i;a<=s;a++){let c=n.doc.line(a);c.length<=l&&o.push(_e.range(c.from+r,c.to+l))}}else{let r=Math.min(e.col,t.col),l=Math.max(e.col,t.col);for(let a=i;a<=s;a++){let c=n.doc.line(a),f=Hp(c.text,r,n.tabSize,!0);if(f<0)o.push(_e.cursor(c.to));else{let u=Hp(c.text,l,n.tabSize);o.push(_e.range(c.from+f,c.from+u))}}}return o}function IW(n,e){let t=n.coordsAtPos(n.viewport.from);return t?Math.round(Math.abs((t.left-e)/n.defaultCharacterWidth)):-1}function Qv(n,e){let t=n.posAtCoords({x:e.clientX,y:e.clientY},!1),i=n.state.doc.lineAt(t),s=t-i.from,o=s>h1?-1:s==i.length?IW(n,e.clientX):cc(i.text,n.state.tabSize,t-i.from);return{line:i.number,col:o,off:s}}function NW(n,e){let t=Qv(n,e),i=n.state.selection;return t?{update(s){if(s.docChanged){let o=s.changes.mapPos(s.startState.doc.line(t.line).from),r=s.state.doc.lineAt(o);t={line:r.number,col:t.col,off:Math.min(t.off,r.length)},i=i.map(s.changes)}},get(s,o,r){let l=Qv(n,s);if(!l)return i;let a=LW(n.state,t,l);return a.length?r?_e.create(a.concat(i.ranges)):_e.create(a):i}}:null}function BW(n){let e=t=>t.altKey&&t.button==0;return Fe.mouseSelectionStyle.of((t,i)=>e(i)?NW(t,i):null)}const jW={Alt:[18,n=>!!n.altKey],Control:[17,n=>!!n.ctrlKey],Shift:[16,n=>!!n.shiftKey],Meta:[91,n=>!!n.metaKey]},zW={style:"cursor: crosshair"};function FW(n={}){let[e,t]=jW[n.key||"Alt"],i=An.fromClass(class{constructor(s){this.view=s,this.isDown=!1}set(s){this.isDown!=s&&(this.isDown=s,this.view.update([]))}},{eventObservers:{keydown(s){this.set(s.keyCode==e||t(s))},keyup(s){(s.keyCode==e||!t(s))&&this.set(!1)},mousemove(s){this.set(t(s))}}});return[i,Fe.contentAttributes.of(s=>{var o;return!((o=s.plugin(i))===null||o===void 0)&&o.isDown?zW:null})]}const Sc="-10000px";class s5{constructor(e,t,i,s){this.facet=t,this.createTooltipView=i,this.removeTooltipView=s,this.input=e.state.facet(t),this.tooltips=this.input.filter(r=>r);let o=null;this.tooltipViews=this.tooltips.map(r=>o=i(r,o))}update(e,t){var i;let s=e.state.facet(this.facet),o=s.filter(a=>a);if(s===this.input){for(let a of this.tooltipViews)a.update&&a.update(e);return!1}let r=[],l=t?[]:null;for(let a=0;a<o.length;a++){let c=o[a],f=-1;if(c){for(let u=0;u<this.tooltips.length;u++){let h=this.tooltips[u];h&&h.create==c.create&&(f=u)}if(f<0)r[a]=this.createTooltipView(c,a?r[a-1]:null),l&&(l[a]=!!c.above);else{let u=r[a]=this.tooltipViews[f];l&&(l[a]=t[f]),u.update&&u.update(e)}}}for(let a of this.tooltipViews)r.indexOf(a)<0&&(this.removeTooltipView(a),(i=a.destroy)===null||i===void 0||i.call(a));return t&&(l.forEach((a,c)=>t[c]=a),t.length=l.length),this.input=s,this.tooltips=o,this.tooltipViews=r,!0}}function VW(n){let{win:e}=n;return{top:0,left:0,bottom:e.innerHeight,right:e.innerWidth}}const wm=He.define({combine:n=>{var e,t,i;return{position:Ke.ios?"absolute":((e=n.find(s=>s.position))===null||e===void 0?void 0:e.position)||"fixed",parent:((t=n.find(s=>s.parent))===null||t===void 0?void 0:t.parent)||null,tooltipSpace:((i=n.find(s=>s.tooltipSpace))===null||i===void 0?void 0:i.tooltipSpace)||VW}}}),Zv=new WeakMap,eb=An.fromClass(class{constructor(n){this.view=n,this.above=[],this.inView=!0,this.madeAbsolute=!1,this.lastTransaction=0,this.measureTimeout=-1;let e=n.state.facet(wm);this.position=e.position,this.parent=e.parent,this.classes=n.themeClasses,this.createContainer(),this.measureReq={read:this.readMeasure.bind(this),write:this.writeMeasure.bind(this),key:this},this.resizeObserver=typeof ResizeObserver=="function"?new ResizeObserver(()=>this.measureSoon()):null,this.manager=new s5(n,Ag,(t,i)=>this.createTooltip(t,i),t=>{this.resizeObserver&&this.resizeObserver.unobserve(t.dom),t.dom.remove()}),this.above=this.manager.tooltips.map(t=>!!t.above),this.intersectionObserver=typeof IntersectionObserver=="function"?new IntersectionObserver(t=>{Date.now()>this.lastTransaction-50&&t.length>0&&t[t.length-1].intersectionRatio<1&&this.measureSoon()},{threshold:[1]}):null,this.observeIntersection(),n.win.addEventListener("resize",this.measureSoon=this.measureSoon.bind(this)),this.maybeMeasure()}createContainer(){this.parent?(this.container=document.createElement("div"),this.container.style.position="relative",this.container.className=this.view.themeClasses,this.parent.appendChild(this.container)):this.container=this.view.dom}observeIntersection(){if(this.intersectionObserver){this.intersectionObserver.disconnect();for(let n of this.manager.tooltipViews)this.intersectionObserver.observe(n.dom)}}measureSoon(){this.measureTimeout<0&&(this.measureTimeout=setTimeout(()=>{this.measureTimeout=-1,this.maybeMeasure()},50))}update(n){n.transactions.length&&(this.lastTransaction=Date.now());let e=this.manager.update(n,this.above);e&&this.observeIntersection();let t=e||n.geometryChanged,i=n.state.facet(wm);if(i.position!=this.position&&!this.madeAbsolute){this.position=i.position;for(let s of this.manager.tooltipViews)s.dom.style.position=this.position;t=!0}if(i.parent!=this.parent){this.parent&&this.container.remove(),this.parent=i.parent,this.createContainer();for(let s of this.manager.tooltipViews)this.container.appendChild(s.dom);t=!0}else this.parent&&this.view.themeClasses!=this.classes&&(this.classes=this.container.className=this.view.themeClasses);t&&this.maybeMeasure()}createTooltip(n,e){let t=n.create(this.view),i=e?e.dom:null;if(t.dom.classList.add("cm-tooltip"),n.arrow&&!t.dom.querySelector(".cm-tooltip > .cm-tooltip-arrow")){let s=document.createElement("div");s.className="cm-tooltip-arrow",t.dom.appendChild(s)}return t.dom.style.position=this.position,t.dom.style.top=Sc,t.dom.style.left="0px",this.container.insertBefore(t.dom,i),t.mount&&t.mount(this.view),this.resizeObserver&&this.resizeObserver.observe(t.dom),t}destroy(){var n,e,t;this.view.win.removeEventListener("resize",this.measureSoon);for(let i of this.manager.tooltipViews)i.dom.remove(),(n=i.destroy)===null||n===void 0||n.call(i);this.parent&&this.container.remove(),(e=this.resizeObserver)===null||e===void 0||e.disconnect(),(t=this.intersectionObserver)===null||t===void 0||t.disconnect(),clearTimeout(this.measureTimeout)}readMeasure(){let n=this.view.dom.getBoundingClientRect(),e=1,t=1,i=!1;if(this.position=="fixed"&&this.manager.tooltipViews.length){let{dom:s}=this.manager.tooltipViews[0];if(Ke.gecko)i=s.offsetParent!=this.container.ownerDocument.body;else if(s.style.top==Sc&&s.style.left=="0px"){let o=s.getBoundingClientRect();i=Math.abs(o.top+1e4)>1||Math.abs(o.left)>1}}if(i||this.position=="absolute")if(this.parent){let s=this.parent.getBoundingClientRect();s.width&&s.height&&(e=s.width/this.parent.offsetWidth,t=s.height/this.parent.offsetHeight)}else({scaleX:e,scaleY:t}=this.view.viewState);return{editor:n,parent:this.parent?this.container.getBoundingClientRect():n,pos:this.manager.tooltips.map((s,o)=>{let r=this.manager.tooltipViews[o];return r.getCoords?r.getCoords(s.pos):this.view.coordsAtPos(s.pos)}),size:this.manager.tooltipViews.map(({dom:s})=>s.getBoundingClientRect()),space:this.view.state.facet(wm).tooltipSpace(this.view),scaleX:e,scaleY:t,makeAbsolute:i}}writeMeasure(n){var e;if(n.makeAbsolute){this.madeAbsolute=!0,this.position="absolute";for(let l of this.manager.tooltipViews)l.dom.style.position="absolute"}let{editor:t,space:i,scaleX:s,scaleY:o}=n,r=[];for(let l=0;l<this.manager.tooltips.length;l++){let a=this.manager.tooltips[l],c=this.manager.tooltipViews[l],{dom:f}=c,u=n.pos[l],h=n.size[l];if(!u||u.bottom<=Math.max(t.top,i.top)||u.top>=Math.min(t.bottom,i.bottom)||u.right<Math.max(t.left,i.left)-.1||u.left>Math.min(t.right,i.right)+.1){f.style.top=Sc;continue}let d=a.arrow?c.dom.querySelector(".cm-tooltip-arrow"):null,g=d?7:0,m=h.right-h.left,p=(e=Zv.get(c))!==null&&e!==void 0?e:h.bottom-h.top,b=c.offset||WW,y=this.view.textDirection==dn.LTR,v=h.width>i.right-i.left?y?i.left:i.right-h.width:y?Math.max(i.left,Math.min(u.left-(d?14:0)+b.x,i.right-m)):Math.min(Math.max(i.left,u.left-m+(d?14:0)-b.x),i.right-m),C=this.above[l];!a.strictSide&&(C?u.top-(h.bottom-h.top)-b.y<i.top:u.bottom+(h.bottom-h.top)+b.y>i.bottom)&&C==i.bottom-u.bottom>u.top-i.top&&(C=this.above[l]=!C);let w=(C?u.top-i.top:i.bottom-u.bottom)-g;if(w<p&&c.resize!==!1){if(w<this.view.defaultLineHeight){f.style.top=Sc;continue}Zv.set(c,p),f.style.height=(p=w)/o+"px"}else f.style.height&&(f.style.height="");let S=C?u.top-p-g-b.y:u.bottom+g+b.y,x=v+m;if(c.overlap!==!0)for(let T of r)T.left<x&&T.right>v&&T.top<S+p&&T.bottom>S&&(S=C?T.top-p-2-g:T.bottom+g+2);if(this.position=="absolute"?(f.style.top=(S-n.parent.top)/o+"px",f.style.left=(v-n.parent.left)/s+"px"):(f.style.top=S/o+"px",f.style.left=v/s+"px"),d){let T=u.left+(y?b.x:-b.x)-(v+14-7);d.style.left=T/s+"px"}c.overlap!==!0&&r.push({left:v,top:S,right:x,bottom:S+p}),f.classList.toggle("cm-tooltip-above",C),f.classList.toggle("cm-tooltip-below",!C),c.positioned&&c.positioned(n.space)}}maybeMeasure(){if(this.manager.tooltips.length&&(this.view.inView&&this.view.requestMeasure(this.measureReq),this.inView!=this.view.inView&&(this.inView=this.view.inView,!this.inView)))for(let n of this.manager.tooltipViews)n.dom.style.top=Sc}},{eventObservers:{scroll(){this.maybeMeasure()}}}),HW=Fe.baseTheme({".cm-tooltip":{zIndex:100,boxSizing:"border-box"},"&light .cm-tooltip":{border:"1px solid #bbb",backgroundColor:"#f5f5f5"},"&light .cm-tooltip-section:not(:first-child)":{borderTop:"1px solid #bbb"},"&dark .cm-tooltip":{backgroundColor:"#333338",color:"white"},".cm-tooltip-arrow":{height:"7px",width:`${7*2}px`,position:"absolute",zIndex:-1,overflow:"hidden","&:before, &:after":{content:"''",position:"absolute",width:0,height:0,borderLeft:"7px solid transparent",borderRight:"7px solid transparent"},".cm-tooltip-above &":{bottom:"-7px","&:before":{borderTop:"7px solid #bbb"},"&:after":{borderTop:"7px solid #f5f5f5",bottom:"1px"}},".cm-tooltip-below &":{top:"-7px","&:before":{borderBottom:"7px solid #bbb"},"&:after":{borderBottom:"7px solid #f5f5f5",top:"1px"}}},"&dark .cm-tooltip .cm-tooltip-arrow":{"&:before":{borderTopColor:"#333338",borderBottomColor:"#333338"},"&:after":{borderTopColor:"transparent",borderBottomColor:"transparent"}}}),WW={x:0,y:0},Ag=He.define({enables:[eb,HW]}),pd=He.define({combine:n=>n.reduce((e,t)=>e.concat(t),[])});class xg{static create(e){return new xg(e)}constructor(e){this.view=e,this.mounted=!1,this.dom=document.createElement("div"),this.dom.classList.add("cm-tooltip-hover"),this.manager=new s5(e,pd,(t,i)=>this.createHostedView(t,i),t=>t.dom.remove())}createHostedView(e,t){let i=e.create(this.view);return i.dom.classList.add("cm-tooltip-section"),this.dom.insertBefore(i.dom,t?t.dom.nextSibling:this.dom.firstChild),this.mounted&&i.mount&&i.mount(this.view),i}mount(e){for(let t of this.manager.tooltipViews)t.mount&&t.mount(e);this.mounted=!0}positioned(e){for(let t of this.manager.tooltipViews)t.positioned&&t.positioned(e)}update(e){this.manager.update(e)}destroy(){var e;for(let t of this.manager.tooltipViews)(e=t.destroy)===null||e===void 0||e.call(t)}passProp(e){let t;for(let i of this.manager.tooltipViews){let s=i[e];if(s!==void 0){if(t===void 0)t=s;else if(t!==s)return}}return t}get offset(){return this.passProp("offset")}get getCoords(){return this.passProp("getCoords")}get overlap(){return this.passProp("overlap")}get resize(){return this.passProp("resize")}}const qW=Ag.compute([pd],n=>{let e=n.facet(pd);return e.length===0?null:{pos:Math.min(...e.map(t=>t.pos)),end:Math.max(...e.map(t=>{var i;return(i=t.end)!==null&&i!==void 0?i:t.pos})),create:xg.create,above:e[0].above,arrow:e.some(t=>t.arrow)}});class UW{constructor(e,t,i,s,o){this.view=e,this.source=t,this.field=i,this.setHover=s,this.hoverTime=o,this.hoverTimeout=-1,this.restartTimeout=-1,this.pending=null,this.lastMove={x:0,y:0,target:e.dom,time:0},this.checkHover=this.checkHover.bind(this),e.dom.addEventListener("mouseleave",this.mouseleave=this.mouseleave.bind(this)),e.dom.addEventListener("mousemove",this.mousemove=this.mousemove.bind(this))}update(){this.pending&&(this.pending=null,clearTimeout(this.restartTimeout),this.restartTimeout=setTimeout(()=>this.startHover(),20))}get active(){return this.view.state.field(this.field)}checkHover(){if(this.hoverTimeout=-1,this.active.length)return;let e=Date.now()-this.lastMove.time;e<this.hoverTime?this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime-e):this.startHover()}startHover(){clearTimeout(this.restartTimeout);let{view:e,lastMove:t}=this,i=e.docView.nearest(t.target);if(!i)return;let s,o=1;if(i instanceof gr)s=i.posAtStart;else{if(s=e.posAtCoords(t),s==null)return;let l=e.coordsAtPos(s);if(!l||t.y<l.top||t.y>l.bottom||t.x<l.left-e.defaultCharacterWidth||t.x>l.right+e.defaultCharacterWidth)return;let a=e.bidiSpans(e.state.doc.lineAt(s)).find(f=>f.from<=s&&f.to>=s),c=a&&a.dir==dn.RTL?-1:1;o=t.x<l.left?-c:c}let r=this.source(e,s,o);if(r!=null&&r.then){let l=this.pending={pos:s};r.then(a=>{this.pending==l&&(this.pending=null,a&&!(Array.isArray(a)&&!a.length)&&e.dispatch({effects:this.setHover.of(Array.isArray(a)?a:[a])}))},a=>Pi(e.state,a,"hover tooltip"))}else r&&!(Array.isArray(r)&&!r.length)&&e.dispatch({effects:this.setHover.of(Array.isArray(r)?r:[r])})}get tooltip(){let e=this.view.plugin(eb),t=e?e.manager.tooltips.findIndex(i=>i.create==xg.create):-1;return t>-1?e.manager.tooltipViews[t]:null}mousemove(e){var t,i;this.lastMove={x:e.clientX,y:e.clientY,target:e.target,time:Date.now()},this.hoverTimeout<0&&(this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime));let{active:s,tooltip:o}=this;if(s.length&&o&&!JW(o.dom,e)||this.pending){let{pos:r}=s[0]||this.pending,l=(i=(t=s[0])===null||t===void 0?void 0:t.end)!==null&&i!==void 0?i:r;(r==l?this.view.posAtCoords(this.lastMove)!=r:!KW(this.view,r,l,e.clientX,e.clientY))&&(this.view.dispatch({effects:this.setHover.of([])}),this.pending=null)}}mouseleave(e){clearTimeout(this.hoverTimeout),this.hoverTimeout=-1;let{active:t}=this;if(t.length){let{tooltip:i}=this;i&&i.dom.contains(e.relatedTarget)?this.watchTooltipLeave(i.dom):this.view.dispatch({effects:this.setHover.of([])})}}watchTooltipLeave(e){let t=i=>{e.removeEventListener("mouseleave",t),this.active.length&&!this.view.dom.contains(i.relatedTarget)&&this.view.dispatch({effects:this.setHover.of([])})};e.addEventListener("mouseleave",t)}destroy(){clearTimeout(this.hoverTimeout),this.view.dom.removeEventListener("mouseleave",this.mouseleave),this.view.dom.removeEventListener("mousemove",this.mousemove)}}const ju=4;function JW(n,e){let{left:t,right:i,top:s,bottom:o}=n.getBoundingClientRect(),r;if(r=n.querySelector(".cm-tooltip-arrow")){let l=r.getBoundingClientRect();s=Math.min(l.top,s),o=Math.max(l.bottom,o)}return e.clientX>=t-ju&&e.clientX<=i+ju&&e.clientY>=s-ju&&e.clientY<=o+ju}function KW(n,e,t,i,s,o){let r=n.scrollDOM.getBoundingClientRect(),l=n.documentTop+n.documentPadding.top+n.contentHeight;if(r.left>i||r.right<i||r.top>s||Math.min(r.bottom,l)<s)return!1;let a=n.posAtCoords({x:i,y:s},!1);return a>=e&&a<=t}function YW(n,e={}){let t=yt.define(),i=Un.define({create(){return[]},update(s,o){if(s.length&&(e.hideOnChange&&(o.docChanged||o.selection)?s=[]:e.hideOn&&(s=s.filter(r=>!e.hideOn(o,r))),o.docChanged)){let r=[];for(let l of s){let a=o.changes.mapPos(l.pos,-1,xi.TrackDel);if(a!=null){let c=Object.assign(Object.create(null),l);c.pos=a,c.end!=null&&(c.end=o.changes.mapPos(c.end)),r.push(c)}}s=r}for(let r of o.effects)r.is(t)&&(s=r.value),r.is(XW)&&(s=[]);return s},provide:s=>pd.from(s)});return{active:i,extension:[i,An.define(s=>new UW(s,n,i,t,e.hoverTime||300)),qW]}}function o5(n,e){let t=n.plugin(eb);if(!t)return null;let i=t.manager.tooltips.indexOf(e);return i<0?null:t.manager.tooltipViews[i]}const XW=yt.define(),$v=He.define({combine(n){let e,t;for(let i of n)e=e||i.topContainer,t=t||i.bottomContainer;return{topContainer:e,bottomContainer:t}}});function xf(n,e){let t=n.plugin(r5),i=t?t.specs.indexOf(e):-1;return i>-1?t.panels[i]:null}const r5=An.fromClass(class{constructor(n){this.input=n.state.facet(Of),this.specs=this.input.filter(t=>t),this.panels=this.specs.map(t=>t(n));let e=n.state.facet($v);this.top=new zu(n,!0,e.topContainer),this.bottom=new zu(n,!1,e.bottomContainer),this.top.sync(this.panels.filter(t=>t.top)),this.bottom.sync(this.panels.filter(t=>!t.top));for(let t of this.panels)t.dom.classList.add("cm-panel"),t.mount&&t.mount()}update(n){let e=n.state.facet($v);this.top.container!=e.topContainer&&(this.top.sync([]),this.top=new zu(n.view,!0,e.topContainer)),this.bottom.container!=e.bottomContainer&&(this.bottom.sync([]),this.bottom=new zu(n.view,!1,e.bottomContainer)),this.top.syncClasses(),this.bottom.syncClasses();let t=n.state.facet(Of);if(t!=this.input){let i=t.filter(a=>a),s=[],o=[],r=[],l=[];for(let a of i){let c=this.specs.indexOf(a),f;c<0?(f=a(n.view),l.push(f)):(f=this.panels[c],f.update&&f.update(n)),s.push(f),(f.top?o:r).push(f)}this.specs=i,this.panels=s,this.top.sync(o),this.bottom.sync(r);for(let a of l)a.dom.classList.add("cm-panel"),a.mount&&a.mount()}else for(let i of this.panels)i.update&&i.update(n)}destroy(){this.top.sync([]),this.bottom.sync([])}},{provide:n=>Fe.scrollMargins.of(e=>{let t=e.plugin(n);return t&&{top:t.top.scrollMargin(),bottom:t.bottom.scrollMargin()}})});class zu{constructor(e,t,i){this.view=e,this.top=t,this.container=i,this.dom=void 0,this.classes="",this.panels=[],this.syncClasses()}sync(e){for(let t of this.panels)t.destroy&&e.indexOf(t)<0&&t.destroy();this.panels=e,this.syncDOM()}syncDOM(){if(this.panels.length==0){this.dom&&(this.dom.remove(),this.dom=void 0);return}if(!this.dom){this.dom=document.createElement("div"),this.dom.className=this.top?"cm-panels cm-panels-top":"cm-panels cm-panels-bottom",this.dom.style[this.top?"top":"bottom"]="0";let t=this.container||this.view.dom;t.insertBefore(this.dom,this.top?t.firstChild:null)}let e=this.dom.firstChild;for(let t of this.panels)if(t.dom.parentNode==this.dom){for(;e!=t.dom;)e=ek(e);e=e.nextSibling}else this.dom.insertBefore(t.dom,e);for(;e;)e=ek(e)}scrollMargin(){return!this.dom||this.container?0:Math.max(0,this.top?this.dom.getBoundingClientRect().bottom-Math.max(0,this.view.scrollDOM.getBoundingClientRect().top):Math.min(innerHeight,this.view.scrollDOM.getBoundingClientRect().bottom)-this.dom.getBoundingClientRect().top)}syncClasses(){if(!(!this.container||this.classes==this.view.themeClasses)){for(let e of this.classes.split(" "))e&&this.container.classList.remove(e);for(let e of(this.classes=this.view.themeClasses).split(" "))e&&this.container.classList.add(e)}}}function ek(n){let e=n.nextSibling;return n.remove(),e}const Of=He.define({enables:r5});class yo extends El{compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}eq(e){return!1}destroy(e){}}yo.prototype.elementClass="";yo.prototype.toDOM=void 0;yo.prototype.mapMode=xi.TrackBefore;yo.prototype.startSide=yo.prototype.endSide=-1;yo.prototype.point=!0;const Oh=He.define(),GW=He.define(),QW={class:"",renderEmptyElements:!1,elementStyle:"",markers:()=>jt.empty,lineMarker:()=>null,widgetMarker:()=>null,lineMarkerChange:null,initialSpacer:null,updateSpacer:null,domEventHandlers:{}},ef=He.define();function l5(n){return[a5(),ef.of(Object.assign(Object.assign({},QW),n))]}const tk=He.define({combine:n=>n.some(e=>e)});function a5(n){return[ZW]}const ZW=An.fromClass(class{constructor(n){this.view=n,this.prevViewport=n.viewport,this.dom=document.createElement("div"),this.dom.className="cm-gutters",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.gutters=n.state.facet(ef).map(e=>new ik(n,e));for(let e of this.gutters)this.dom.appendChild(e.dom);this.fixed=!n.state.facet(tk),this.fixed&&(this.dom.style.position="sticky"),this.syncGutters(!1),n.scrollDOM.insertBefore(this.dom,n.contentDOM)}update(n){if(this.updateGutters(n)){let e=this.prevViewport,t=n.view.viewport,i=Math.min(e.to,t.to)-Math.max(e.from,t.from);this.syncGutters(i<(t.to-t.from)*.8)}n.geometryChanged&&(this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px"),this.view.state.facet(tk)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":""),this.prevViewport=n.view.viewport}syncGutters(n){let e=this.dom.nextSibling;n&&this.dom.remove();let t=jt.iter(this.view.state.facet(Oh),this.view.viewport.from),i=[],s=this.gutters.map(o=>new $W(o,this.view.viewport,-this.view.documentPadding.top));for(let o of this.view.viewportLineBlocks)if(i.length&&(i=[]),Array.isArray(o.type)){let r=!0;for(let l of o.type)if(l.type==Ei.Text&&r){d1(t,i,l.from);for(let a of s)a.line(this.view,l,i);r=!1}else if(l.widget)for(let a of s)a.widget(this.view,l)}else if(o.type==Ei.Text){d1(t,i,o.from);for(let r of s)r.line(this.view,o,i)}else if(o.widget)for(let r of s)r.widget(this.view,o);for(let o of s)o.finish();n&&this.view.scrollDOM.insertBefore(this.dom,e)}updateGutters(n){let e=n.startState.facet(ef),t=n.state.facet(ef),i=n.docChanged||n.heightChanged||n.viewportChanged||!jt.eq(n.startState.facet(Oh),n.state.facet(Oh),n.view.viewport.from,n.view.viewport.to);if(e==t)for(let s of this.gutters)s.update(n)&&(i=!0);else{i=!0;let s=[];for(let o of t){let r=e.indexOf(o);r<0?s.push(new ik(this.view,o)):(this.gutters[r].update(n),s.push(this.gutters[r]))}for(let o of this.gutters)o.dom.remove(),s.indexOf(o)<0&&o.destroy();for(let o of s)this.dom.appendChild(o.dom);this.gutters=s}return i}destroy(){for(let n of this.gutters)n.destroy();this.dom.remove()}},{provide:n=>Fe.scrollMargins.of(e=>{let t=e.plugin(n);return!t||t.gutters.length==0||!t.fixed?null:e.textDirection==dn.LTR?{left:t.dom.offsetWidth*e.scaleX}:{right:t.dom.offsetWidth*e.scaleX}})});function nk(n){return Array.isArray(n)?n:[n]}function d1(n,e,t){for(;n.value&&n.from<=t;)n.from==t&&e.push(n.value),n.next()}class $W{constructor(e,t,i){this.gutter=e,this.height=i,this.i=0,this.cursor=jt.iter(e.markers,t.from)}addElement(e,t,i){let{gutter:s}=this,o=(t.top-this.height)/e.scaleY,r=t.height/e.scaleY;if(this.i==s.elements.length){let l=new c5(e,r,o,i);s.elements.push(l),s.dom.appendChild(l.dom)}else s.elements[this.i].update(e,r,o,i);this.height=t.bottom,this.i++}line(e,t,i){let s=[];d1(this.cursor,s,t.from),i.length&&(s=s.concat(i));let o=this.gutter.config.lineMarker(e,t,s);o&&s.unshift(o);let r=this.gutter;s.length==0&&!r.config.renderEmptyElements||this.addElement(e,t,s)}widget(e,t){let i=this.gutter.config.widgetMarker(e,t.widget,t),s=i?[i]:null;for(let o of e.state.facet(GW)){let r=o(e,t.widget,t);r&&(s||(s=[])).push(r)}s&&this.addElement(e,t,s)}finish(){let e=this.gutter;for(;e.elements.length>this.i;){let t=e.elements.pop();e.dom.removeChild(t.dom),t.destroy()}}}class ik{constructor(e,t){this.view=e,this.config=t,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");for(let i in t.domEventHandlers)this.dom.addEventListener(i,s=>{let o=s.target,r;if(o!=this.dom&&this.dom.contains(o)){for(;o.parentNode!=this.dom;)o=o.parentNode;let a=o.getBoundingClientRect();r=(a.top+a.bottom)/2}else r=s.clientY;let l=e.lineBlockAtHeight(r-e.documentTop);t.domEventHandlers[i](e,l,s)&&s.preventDefault()});this.markers=nk(t.markers(e)),t.initialSpacer&&(this.spacer=new c5(e,0,0,[t.initialSpacer(e)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none")}update(e){let t=this.markers;if(this.markers=nk(this.config.markers(e.view)),this.spacer&&this.config.updateSpacer){let s=this.config.updateSpacer(this.spacer.markers[0],e);s!=this.spacer.markers[0]&&this.spacer.update(e.view,0,0,[s])}let i=e.view.viewport;return!jt.eq(this.markers,t,i.from,i.to)||(this.config.lineMarkerChange?this.config.lineMarkerChange(e):!1)}destroy(){for(let e of this.elements)e.destroy()}}class c5{constructor(e,t,i,s){this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement("div"),this.dom.className="cm-gutterElement",this.update(e,t,i,s)}update(e,t,i,s){this.height!=t&&(this.height=t,this.dom.style.height=t+"px"),this.above!=i&&(this.dom.style.marginTop=(this.above=i)?i+"px":""),eq(this.markers,s)||this.setMarkers(e,s)}setMarkers(e,t){let i="cm-gutterElement",s=this.dom.firstChild;for(let o=0,r=0;;){let l=r,a=o<t.length?t[o++]:null,c=!1;if(a){let f=a.elementClass;f&&(i+=" "+f);for(let u=r;u<this.markers.length;u++)if(this.markers[u].compare(a)){l=u,c=!0;break}}else l=this.markers.length;for(;r<l;){let f=this.markers[r++];if(f.toDOM){f.destroy(s);let u=s.nextSibling;s.remove(),s=u}}if(!a)break;a.toDOM&&(c?s=s.nextSibling:this.dom.insertBefore(a.toDOM(e),s)),c&&r++}this.dom.className=i,this.markers=t}destroy(){this.setMarkers(null,[])}}function eq(n,e){if(n.length!=e.length)return!1;for(let t=0;t<n.length;t++)if(!n[t].compare(e[t]))return!1;return!0}const tq=He.define(),nq=He.define(),ba=He.define({combine(n){return _s(n,{formatNumber:String,domEventHandlers:{}},{domEventHandlers(e,t){let i=Object.assign({},e);for(let s in t){let o=i[s],r=t[s];i[s]=o?(l,a,c)=>o(l,a,c)||r(l,a,c):r}return i}})}});class vm extends yo{constructor(e){super(),this.number=e}eq(e){return this.number==e.number}toDOM(){return document.createTextNode(this.number)}}function km(n,e){return n.state.facet(ba).formatNumber(e,n.state)}const iq=ef.compute([ba],n=>({class:"cm-lineNumbers",renderEmptyElements:!1,markers(e){return e.state.facet(tq)},lineMarker(e,t,i){return i.some(s=>s.toDOM)?null:new vm(km(e,e.state.doc.lineAt(t.from).number))},widgetMarker:(e,t,i)=>{for(let s of e.state.facet(nq)){let o=s(e,t,i);if(o)return o}return null},lineMarkerChange:e=>e.startState.facet(ba)!=e.state.facet(ba),initialSpacer(e){return new vm(km(e,sk(e.state.doc.lines)))},updateSpacer(e,t){let i=km(t.view,sk(t.view.state.doc.lines));return i==e.number?e:new vm(i)},domEventHandlers:n.facet(ba).domEventHandlers}));function sq(n={}){return[ba.of(n),a5(),iq]}function sk(n){let e=9;for(;e<n;)e=e*10+9;return e}const oq=new class extends yo{constructor(){super(...arguments),this.elementClass="cm-activeLineGutter"}},rq=Oh.compute(["selection"],n=>{let e=[],t=-1;for(let i of n.selection.ranges){let s=n.doc.lineAt(i.head).from;s>t&&(t=s,e.push(oq.range(s)))}return jt.of(e)});function lq(){return rq}const f5=1024;let aq=0;class Sm{constructor(e,t){this.from=e,this.to=t}}class xt{constructor(e={}){this.id=aq++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(e){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof e!="function"&&(e=Fi.match(e)),t=>{let i=e(t);return i===void 0?null:[this,i]}}}xt.closedBy=new xt({deserialize:n=>n.split(" ")});xt.openedBy=new xt({deserialize:n=>n.split(" ")});xt.group=new xt({deserialize:n=>n.split(" ")});xt.isolate=new xt({deserialize:n=>{if(n&&n!="rtl"&&n!="ltr"&&n!="auto")throw new RangeError("Invalid value for isolate: "+n);return n||"auto"}});xt.contextHash=new xt({perNode:!0});xt.lookAhead=new xt({perNode:!0});xt.mounted=new xt({perNode:!0});class bd{constructor(e,t,i){this.tree=e,this.overlay=t,this.parser=i}static get(e){return e&&e.props&&e.props[xt.mounted.id]}}const cq=Object.create(null);class Fi{constructor(e,t,i,s=0){this.name=e,this.props=t,this.id=i,this.flags=s}static define(e){let t=e.props&&e.props.length?Object.create(null):cq,i=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(e.name==null?8:0),s=new Fi(e.name||"",t,e.id,i);if(e.props){for(let o of e.props)if(Array.isArray(o)||(o=o(s)),o){if(o[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");t[o[0].id]=o[1]}}return s}prop(e){return this.props[e.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(e){if(typeof e=="string"){if(this.name==e)return!0;let t=this.prop(xt.group);return t?t.indexOf(e)>-1:!1}return this.id==e}static match(e){let t=Object.create(null);for(let i in e)for(let s of i.split(" "))t[s]=e[i];return i=>{for(let s=i.prop(xt.group),o=-1;o<(s?s.length:0);o++){let r=t[o<0?i.name:s[o]];if(r)return r}}}}Fi.none=new Fi("",Object.create(null),0,8);class tb{constructor(e){this.types=e;for(let t=0;t<e.length;t++)if(e[t].id!=t)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}extend(...e){let t=[];for(let i of this.types){let s=null;for(let o of e){let r=o(i);r&&(s||(s=Object.assign({},i.props)),s[r[0].id]=r[1])}t.push(s?new Fi(i.name,s,i.id,i.flags):i)}return new tb(t)}}const Fu=new WeakMap,ok=new WeakMap;var Xn;(function(n){n[n.ExcludeBuffers=1]="ExcludeBuffers",n[n.IncludeAnonymous=2]="IncludeAnonymous",n[n.IgnoreMounts=4]="IgnoreMounts",n[n.IgnoreOverlays=8]="IgnoreOverlays"})(Xn||(Xn={}));class jn{constructor(e,t,i,s,o){if(this.type=e,this.children=t,this.positions=i,this.length=s,this.props=null,o&&o.length){this.props=Object.create(null);for(let[r,l]of o)this.props[typeof r=="number"?r:r.id]=l}}toString(){let e=bd.get(this);if(e&&!e.overlay)return e.tree.toString();let t="";for(let i of this.children){let s=i.toString();s&&(t&&(t+=","),t+=s)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(t.length?"("+t+")":""):t}cursor(e=0){return new m1(this.topNode,e)}cursorAt(e,t=0,i=0){let s=Fu.get(this)||this.topNode,o=new m1(s);return o.moveTo(e,t),Fu.set(this,o._tree),o}get topNode(){return new gs(this,0,0,null)}resolve(e,t=0){let i=Pf(Fu.get(this)||this.topNode,e,t,!1);return Fu.set(this,i),i}resolveInner(e,t=0){let i=Pf(ok.get(this)||this.topNode,e,t,!0);return ok.set(this,i),i}resolveStack(e,t=0){return hq(this,e,t)}iterate(e){let{enter:t,leave:i,from:s=0,to:o=this.length}=e,r=e.mode||0,l=(r&Xn.IncludeAnonymous)>0;for(let a=this.cursor(r|Xn.IncludeAnonymous);;){let c=!1;if(a.from<=o&&a.to>=s&&(!l&&a.type.isAnonymous||t(a)!==!1)){if(a.firstChild())continue;c=!0}for(;c&&i&&(l||!a.type.isAnonymous)&&i(a),!a.nextSibling();){if(!a.parent())return;c=!0}}}prop(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}get propValues(){let e=[];if(this.props)for(let t in this.props)e.push([+t,this.props[t]]);return e}balance(e={}){return this.children.length<=8?this:sb(Fi.none,this.children,this.positions,0,this.children.length,0,this.length,(t,i,s)=>new jn(this.type,t,i,s,this.propValues),e.makeTree||((t,i,s)=>new jn(Fi.none,t,i,s)))}static build(e){return dq(e)}}jn.empty=new jn(Fi.none,[],[],0);class nb{constructor(e,t){this.buffer=e,this.index=t}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new nb(this.buffer,this.index)}}class Ir{constructor(e,t,i){this.buffer=e,this.length=t,this.set=i}get type(){return Fi.none}toString(){let e=[];for(let t=0;t<this.buffer.length;)e.push(this.childString(t)),t=this.buffer[t+3];return e.join(",")}childString(e){let t=this.buffer[e],i=this.buffer[e+3],s=this.set.types[t],o=s.name;if(/\W/.test(o)&&!s.isError&&(o=JSON.stringify(o)),e+=4,i==e)return o;let r=[];for(;e<i;)r.push(this.childString(e)),e=this.buffer[e+3];return o+"("+r.join(",")+")"}findChild(e,t,i,s,o){let{buffer:r}=this,l=-1;for(let a=e;a!=t&&!(u5(o,s,r[a+1],r[a+2])&&(l=a,i>0));a=r[a+3]);return l}slice(e,t,i){let s=this.buffer,o=new Uint16Array(t-e),r=0;for(let l=e,a=0;l<t;){o[a++]=s[l++],o[a++]=s[l++]-i;let c=o[a++]=s[l++]-i;o[a++]=s[l++]-e,r=Math.max(r,c)}return new Ir(o,r,this.set)}}function u5(n,e,t,i){switch(n){case-2:return t<e;case-1:return i>=e&&t<e;case 0:return t<e&&i>e;case 1:return t<=e&&i>e;case 2:return i>e;case 4:return!0}}function Pf(n,e,t,i){for(var s;n.from==n.to||(t<1?n.from>=e:n.from>e)||(t>-1?n.to<=e:n.to<e);){let r=!i&&n instanceof gs&&n.index<0?null:n.parent;if(!r)return n;n=r}let o=i?0:Xn.IgnoreOverlays;if(i)for(let r=n,l=r.parent;l;r=l,l=r.parent)r instanceof gs&&r.index<0&&((s=l.enter(e,t,o))===null||s===void 0?void 0:s.from)!=r.from&&(n=l);for(;;){let r=n.enter(e,t,o);if(!r)return n;n=r}}class h5{cursor(e=0){return new m1(this,e)}getChild(e,t=null,i=null){let s=rk(this,e,t,i);return s.length?s[0]:null}getChildren(e,t=null,i=null){return rk(this,e,t,i)}resolve(e,t=0){return Pf(this,e,t,!1)}resolveInner(e,t=0){return Pf(this,e,t,!0)}matchContext(e){return g1(this,e)}enterUnfinishedNodesBefore(e){let t=this.childBefore(e),i=this;for(;t;){let s=t.lastChild;if(!s||s.to!=t.to)break;s.type.isError&&s.from==s.to?(i=t,t=s.prevSibling):t=s}return i}get node(){return this}get next(){return this.parent}}class gs extends h5{constructor(e,t,i,s){super(),this._tree=e,this.from=t,this.index=i,this._parent=s}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(e,t,i,s,o=0){for(let r=this;;){for(let{children:l,positions:a}=r._tree,c=t>0?l.length:-1;e!=c;e+=t){let f=l[e],u=a[e]+r.from;if(u5(s,i,u,u+f.length)){if(f instanceof Ir){if(o&Xn.ExcludeBuffers)continue;let h=f.findChild(0,f.buffer.length,t,i-u,s);if(h>-1)return new pr(new fq(r,f,e,u),null,h)}else if(o&Xn.IncludeAnonymous||!f.type.isAnonymous||ib(f)){let h;if(!(o&Xn.IgnoreMounts)&&(h=bd.get(f))&&!h.overlay)return new gs(h.tree,u,e,r);let d=new gs(f,u,e,r);return o&Xn.IncludeAnonymous||!d.type.isAnonymous?d:d.nextChild(t<0?f.children.length-1:0,t,i,s)}}}if(o&Xn.IncludeAnonymous||!r.type.isAnonymous||(r.index>=0?e=r.index+t:e=t<0?-1:r._parent._tree.children.length,r=r._parent,!r))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(e){return this.nextChild(0,1,e,2)}childBefore(e){return this.nextChild(this._tree.children.length-1,-1,e,-2)}enter(e,t,i=0){let s;if(!(i&Xn.IgnoreOverlays)&&(s=bd.get(this._tree))&&s.overlay){let o=e-this.from;for(let{from:r,to:l}of s.overlay)if((t>0?r<=o:r<o)&&(t<0?l>=o:l>o))return new gs(s.tree,s.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,e,t,i)}nextSignificantParent(){let e=this;for(;e.type.isAnonymous&&e._parent;)e=e._parent;return e}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}}function rk(n,e,t,i){let s=n.cursor(),o=[];if(!s.firstChild())return o;if(t!=null){for(let r=!1;!r;)if(r=s.type.is(t),!s.nextSibling())return o}for(;;){if(i!=null&&s.type.is(i))return o;if(s.type.is(e)&&o.push(s.node),!s.nextSibling())return i==null?o:[]}}function g1(n,e,t=e.length-1){for(let i=n.parent;t>=0;i=i.parent){if(!i)return!1;if(!i.type.isAnonymous){if(e[t]&&e[t]!=i.name)return!1;t--}}return!0}class fq{constructor(e,t,i,s){this.parent=e,this.buffer=t,this.index=i,this.start=s}}class pr extends h5{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(e,t,i){super(),this.context=e,this._parent=t,this.index=i,this.type=e.buffer.set.types[e.buffer.buffer[i]]}child(e,t,i){let{buffer:s}=this.context,o=s.findChild(this.index+4,s.buffer[this.index+3],e,t-this.context.start,i);return o<0?null:new pr(this.context,this,o)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(e){return this.child(1,e,2)}childBefore(e){return this.child(-1,e,-2)}enter(e,t,i=0){if(i&Xn.ExcludeBuffers)return null;let{buffer:s}=this.context,o=s.findChild(this.index+4,s.buffer[this.index+3],t>0?1:-1,e-this.context.start,t);return o<0?null:new pr(this.context,this,o)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}get nextSibling(){let{buffer:e}=this.context,t=e.buffer[this.index+3];return t<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length)?new pr(this.context,this._parent,t):this.externalSibling(1)}get prevSibling(){let{buffer:e}=this.context,t=this._parent?this._parent.index+4:0;return this.index==t?this.externalSibling(-1):new pr(this.context,this._parent,e.findChild(t,this.index,-1,0,4))}get tree(){return null}toTree(){let e=[],t=[],{buffer:i}=this.context,s=this.index+4,o=i.buffer[this.index+3];if(o>s){let r=i.buffer[this.index+1];e.push(i.slice(s,o,r)),t.push(0)}return new jn(this.type,e,t,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}}function d5(n){if(!n.length)return null;let e=0,t=n[0];for(let o=1;o<n.length;o++){let r=n[o];(r.from>t.from||r.to<t.to)&&(t=r,e=o)}let i=t instanceof gs&&t.index<0?null:t.parent,s=n.slice();return i?s[e]=i:s.splice(e,1),new uq(s,t)}class uq{constructor(e,t){this.heads=e,this.node=t}get next(){return d5(this.heads)}}function hq(n,e,t){let i=n.resolveInner(e,t),s=null;for(let o=i instanceof gs?i:i.context.parent;o;o=o.parent)if(o.index<0){let r=o.parent;(s||(s=[i])).push(r.resolve(e,t)),o=r}else{let r=bd.get(o.tree);if(r&&r.overlay&&r.overlay[0].from<=e&&r.overlay[r.overlay.length-1].to>=e){let l=new gs(r.tree,r.overlay[0].from+o.from,-1,o);(s||(s=[i])).push(Pf(l,e,t,!1))}}return s?d5(s):i}class m1{get name(){return this.type.name}constructor(e,t=0){if(this.mode=t,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,e instanceof gs)this.yieldNode(e);else{this._tree=e.context.parent,this.buffer=e.context;for(let i=e._parent;i;i=i._parent)this.stack.unshift(i.index);this.bufferNode=e,this.yieldBuf(e.index)}}yieldNode(e){return e?(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0):!1}yieldBuf(e,t){this.index=e;let{start:i,buffer:s}=this.buffer;return this.type=t||s.set.types[s.buffer[e]],this.from=i+s.buffer[e+1],this.to=i+s.buffer[e+2],!0}yield(e){return e?e instanceof gs?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(e,t,i){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree._tree.children.length-1:0,e,t,i,this.mode));let{buffer:s}=this.buffer,o=s.findChild(this.index+4,s.buffer[this.index+3],e,t-this.buffer.start,i);return o<0?!1:(this.stack.push(this.index),this.yieldBuf(o))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(e){return this.enterChild(1,e,2)}childBefore(e){return this.enterChild(-1,e,-2)}enter(e,t,i=this.mode){return this.buffer?i&Xn.ExcludeBuffers?!1:this.enterChild(1,e,t):this.yield(this._tree.enter(e,t,i))}parent(){if(!this.buffer)return this.yieldNode(this.mode&Xn.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let e=this.mode&Xn.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}sibling(e){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode)):!1;let{buffer:t}=this.buffer,i=this.stack.length-1;if(e<0){let s=i<0?0:this.stack[i]+4;if(this.index!=s)return this.yieldBuf(t.findChild(s,this.index,-1,0,4))}else{let s=t.buffer[this.index+3];if(s<(i<0?t.buffer.length:t.buffer[this.stack[i]+3]))return this.yieldBuf(s)}return i<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(e){let t,i,{buffer:s}=this;if(s){if(e>0){if(this.index<s.buffer.buffer.length)return!1}else for(let o=0;o<this.index;o++)if(s.buffer.buffer[o+3]<this.index)return!1;({index:t,parent:i}=s)}else({index:t,_parent:i}=this._tree);for(;i;{index:t,_parent:i}=i)if(t>-1)for(let o=t+e,r=e<0?-1:i._tree.children.length;o!=r;o+=e){let l=i._tree.children[o];if(this.mode&Xn.IncludeAnonymous||l instanceof Ir||!l.type.isAnonymous||ib(l))return!1}return!0}move(e,t){if(t&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}next(e=!0){return this.move(1,e)}prev(e=!0){return this.move(-1,e)}moveTo(e,t=0){for(;(this.from==this.to||(t<1?this.from>=e:this.from>e)||(t>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,t););return this}get node(){if(!this.buffer)return this._tree;let e=this.bufferNode,t=null,i=0;if(e&&e.context==this.buffer)e:for(let s=this.index,o=this.stack.length;o>=0;){for(let r=e;r;r=r._parent)if(r.index==s){if(s==this.index)return r;t=r,i=o+1;break e}s=this.stack[--o]}for(let s=i;s<this.stack.length;s++)t=new pr(this.buffer,t,this.stack[s]);return this.bufferNode=new pr(this.buffer,t,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(e,t){for(let i=0;;){let s=!1;if(this.type.isAnonymous||e(this)!==!1){if(this.firstChild()){i++;continue}this.type.isAnonymous||(s=!0)}for(;s&&t&&t(this),s=this.type.isAnonymous,!this.nextSibling();){if(!i)return;this.parent(),i--,s=!0}}}matchContext(e){if(!this.buffer)return g1(this.node,e);let{buffer:t}=this.buffer,{types:i}=t.set;for(let s=e.length-1,o=this.stack.length-1;s>=0;o--){if(o<0)return g1(this.node,e,s);let r=i[t.buffer[this.stack[o]]];if(!r.isAnonymous){if(e[s]&&e[s]!=r.name)return!1;s--}}return!0}}function ib(n){return n.children.some(e=>e instanceof Ir||!e.type.isAnonymous||ib(e))}function dq(n){var e;let{buffer:t,nodeSet:i,maxBufferLength:s=f5,reused:o=[],minRepeatType:r=i.types.length}=n,l=Array.isArray(t)?new nb(t,t.length):t,a=i.types,c=0,f=0;function u(w,S,x,T,P,D){let{id:O,start:E,end:N,size:z}=l,F=f;for(;z<0;)if(l.next(),z==-1){let U=o[O];x.push(U),T.push(E-w);return}else if(z==-3){c=O;return}else if(z==-4){f=O;return}else throw new RangeError(`Unrecognized record size: ${z}`);let q=a[O],Q,G,R=E-w;if(N-E<=s&&(G=p(l.pos-S,P))){let U=new Uint16Array(G.size-G.skip),Y=l.pos-G.size,le=U.length;for(;l.pos>Y;)le=b(G.start,U,le);Q=new Ir(U,N-G.start,i),R=G.start-w}else{let U=l.pos-z;l.next();let Y=[],le=[],Z=O>=r?O:-1,he=0,W=N;for(;l.pos>U;)Z>=0&&l.id==Z&&l.size>=0?(l.end<=W-s&&(g(Y,le,E,he,l.end,W,Z,F),he=Y.length,W=l.end),l.next()):D>2500?h(E,U,Y,le):u(E,U,Y,le,Z,D+1);if(Z>=0&&he>0&&he<Y.length&&g(Y,le,E,he,E,W,Z,F),Y.reverse(),le.reverse(),Z>-1&&he>0){let ve=d(q);Q=sb(q,Y,le,0,Y.length,0,N-E,ve,ve)}else Q=m(q,Y,le,N-E,F-N)}x.push(Q),T.push(R)}function h(w,S,x,T){let P=[],D=0,O=-1;for(;l.pos>S;){let{id:E,start:N,end:z,size:F}=l;if(F>4)l.next();else{if(O>-1&&N<O)break;O<0&&(O=z-s),P.push(E,N,z),D++,l.next()}}if(D){let E=new Uint16Array(D*4),N=P[P.length-2];for(let z=P.length-3,F=0;z>=0;z-=3)E[F++]=P[z],E[F++]=P[z+1]-N,E[F++]=P[z+2]-N,E[F++]=F;x.push(new Ir(E,P[2]-N,i)),T.push(N-w)}}function d(w){return(S,x,T)=>{let P=0,D=S.length-1,O,E;if(D>=0&&(O=S[D])instanceof jn){if(!D&&O.type==w&&O.length==T)return O;(E=O.prop(xt.lookAhead))&&(P=x[D]+O.length+E)}return m(w,S,x,T,P)}}function g(w,S,x,T,P,D,O,E){let N=[],z=[];for(;w.length>T;)N.push(w.pop()),z.push(S.pop()+x-P);w.push(m(i.types[O],N,z,D-P,E-D)),S.push(P-x)}function m(w,S,x,T,P=0,D){if(c){let O=[xt.contextHash,c];D=D?[O].concat(D):[O]}if(P>25){let O=[xt.lookAhead,P];D=D?[O].concat(D):[O]}return new jn(w,S,x,T,D)}function p(w,S){let x=l.fork(),T=0,P=0,D=0,O=x.end-s,E={size:0,start:0,skip:0};e:for(let N=x.pos-w;x.pos>N;){let z=x.size;if(x.id==S&&z>=0){E.size=T,E.start=P,E.skip=D,D+=4,T+=4,x.next();continue}let F=x.pos-z;if(z<0||F<N||x.start<O)break;let q=x.id>=r?4:0,Q=x.start;for(x.next();x.pos>F;){if(x.size<0)if(x.size==-3)q+=4;else break e;else x.id>=r&&(q+=4);x.next()}P=Q,T+=z,D+=q}return(S<0||T==w)&&(E.size=T,E.start=P,E.skip=D),E.size>4?E:void 0}function b(w,S,x){let{id:T,start:P,end:D,size:O}=l;if(l.next(),O>=0&&T<r){let E=x;if(O>4){let N=l.pos-(O-4);for(;l.pos>N;)x=b(w,S,x)}S[--x]=E,S[--x]=D-w,S[--x]=P-w,S[--x]=T}else O==-3?c=T:O==-4&&(f=T);return x}let y=[],v=[];for(;l.pos>0;)u(n.start||0,n.bufferStart||0,y,v,-1,0);let C=(e=n.length)!==null&&e!==void 0?e:y.length?v[0]+y[0].length:0;return new jn(a[n.topID],y.reverse(),v.reverse(),C)}const lk=new WeakMap;function Ph(n,e){if(!n.isAnonymous||e instanceof Ir||e.type!=n)return 1;let t=lk.get(e);if(t==null){t=1;for(let i of e.children){if(i.type!=n||!(i instanceof jn)){t=1;break}t+=Ph(n,i)}lk.set(e,t)}return t}function sb(n,e,t,i,s,o,r,l,a){let c=0;for(let g=i;g<s;g++)c+=Ph(n,e[g]);let f=Math.ceil(c*1.5/8),u=[],h=[];function d(g,m,p,b,y){for(let v=p;v<b;){let C=v,w=m[v],S=Ph(n,g[v]);for(v++;v<b;v++){let x=Ph(n,g[v]);if(S+x>=f)break;S+=x}if(v==C+1){if(S>f){let x=g[C];d(x.children,x.positions,0,x.children.length,m[C]+y);continue}u.push(g[C])}else{let x=m[v-1]+g[v-1].length-w;u.push(sb(n,g,m,C,v,w,x,null,a))}h.push(w+y-o)}}return d(e,t,i,s,0),(l||a)(u,h,r)}class pl{constructor(e,t,i,s,o=!1,r=!1){this.from=e,this.to=t,this.tree=i,this.offset=s,this.open=(o?1:0)|(r?2:0)}get openStart(){return(this.open&1)>0}get openEnd(){return(this.open&2)>0}static addTree(e,t=[],i=!1){let s=[new pl(0,e.length,e,0,!1,i)];for(let o of t)o.to>e.length&&s.push(o);return s}static applyChanges(e,t,i=128){if(!t.length)return e;let s=[],o=1,r=e.length?e[0]:null;for(let l=0,a=0,c=0;;l++){let f=l<t.length?t[l]:null,u=f?f.fromA:1e9;if(u-a>=i)for(;r&&r.from<u;){let h=r;if(a>=h.from||u<=h.to||c){let d=Math.max(h.from,a)-c,g=Math.min(h.to,u)-c;h=d>=g?null:new pl(d,g,h.tree,h.offset+c,l>0,!!f)}if(h&&s.push(h),r.to>u)break;r=o<e.length?e[o++]:null}if(!f)break;a=f.toA,c=f.toA-f.toB}return s}}class g5{startParse(e,t,i){return typeof e=="string"&&(e=new gq(e)),i=i?i.length?i.map(s=>new Sm(s.from,s.to)):[new Sm(0,0)]:[new Sm(0,e.length)],this.createParse(e,t||[],i)}parse(e,t,i){let s=this.startParse(e,t,i);for(;;){let o=s.advance();if(o)return o}}}class gq{constructor(e){this.string=e}get length(){return this.string.length}chunk(e){return this.string.slice(e)}get lineChunks(){return!1}read(e,t){return this.string.slice(e,t)}}new xt({perNode:!0});let mq=0;class rs{constructor(e,t,i,s){this.name=e,this.set=t,this.base=i,this.modified=s,this.id=mq++}toString(){let{name:e}=this;for(let t of this.modified)t.name&&(e=`${t.name}(${e})`);return e}static define(e,t){let i=typeof e=="string"?e:"?";if(e instanceof rs&&(t=e),t!=null&&t.base)throw new Error("Can not derive from a modified tag");let s=new rs(i,[],null,[]);if(s.set.push(s),t)for(let o of t.set)s.set.push(o);return s}static defineModifier(e){let t=new yd(e);return i=>i.modified.indexOf(t)>-1?i:yd.get(i.base||i,i.modified.concat(t).sort((s,o)=>s.id-o.id))}}let pq=0;class yd{constructor(e){this.name=e,this.instances=[],this.id=pq++}static get(e,t){if(!t.length)return e;let i=t[0].instances.find(l=>l.base==e&&bq(t,l.modified));if(i)return i;let s=[],o=new rs(e.name,s,e,t);for(let l of t)l.instances.push(o);let r=yq(t);for(let l of e.set)if(!l.modified.length)for(let a of r)s.push(yd.get(l,a));return o}}function bq(n,e){return n.length==e.length&&n.every((t,i)=>t==e[i])}function yq(n){let e=[[]];for(let t=0;t<n.length;t++)for(let i=0,s=e.length;i<s;i++)e.push(e[i].concat(n[t]));return e.sort((t,i)=>i.length-t.length)}function m5(n){let e=Object.create(null);for(let t in n){let i=n[t];Array.isArray(i)||(i=[i]);for(let s of t.split(" "))if(s){let o=[],r=2,l=s;for(let u=0;;){if(l=="..."&&u>0&&u+3==s.length){r=1;break}let h=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(l);if(!h)throw new RangeError("Invalid path: "+s);if(o.push(h[0]=="*"?"":h[0][0]=='"'?JSON.parse(h[0]):h[0]),u+=h[0].length,u==s.length)break;let d=s[u++];if(u==s.length&&d=="!"){r=0;break}if(d!="/")throw new RangeError("Invalid path: "+s);l=s.slice(u)}let a=o.length-1,c=o[a];if(!c)throw new RangeError("Invalid path: "+s);let f=new _d(i,r,a>0?o.slice(0,a):null);e[c]=f.sort(e[c])}}return p5.add(e)}const p5=new xt;class _d{constructor(e,t,i,s){this.tags=e,this.mode=t,this.context=i,this.next=s}get opaque(){return this.mode==0}get inherit(){return this.mode==1}sort(e){return!e||e.depth<this.depth?(this.next=e,this):(e.next=this.sort(e.next),e)}get depth(){return this.context?this.context.length:0}}_d.empty=new _d([],2,null);function b5(n,e){let t=Object.create(null);for(let o of n)if(!Array.isArray(o.tag))t[o.tag.id]=o.class;else for(let r of o.tag)t[r.id]=o.class;let{scope:i,all:s=null}=e||{};return{style:o=>{let r=s;for(let l of o)for(let a of l.set){let c=t[a.id];if(c){r=r?r+" "+c:c;break}}return r},scope:i}}function _q(n,e){let t=null;for(let i of n){let s=i.style(e);s&&(t=t?t+" "+s:s)}return t}function wq(n,e,t,i=0,s=n.length){let o=new vq(i,Array.isArray(e)?e:[e],t);o.highlightRange(n.cursor(),i,s,"",o.highlighters),o.flush(s)}class vq{constructor(e,t,i){this.at=e,this.highlighters=t,this.span=i,this.class=""}startSpan(e,t){t!=this.class&&(this.flush(e),e>this.at&&(this.at=e),this.class=t)}flush(e){e>this.at&&this.class&&this.span(this.at,e,this.class)}highlightRange(e,t,i,s,o){let{type:r,from:l,to:a}=e;if(l>=i||a<=t)return;r.isTop&&(o=this.highlighters.filter(d=>!d.scope||d.scope(r)));let c=s,f=kq(e)||_d.empty,u=_q(o,f.tags);if(u&&(c&&(c+=" "),c+=u,f.mode==1&&(s+=(s?" ":"")+u)),this.startSpan(Math.max(t,l),c),f.opaque)return;let h=e.tree&&e.tree.prop(xt.mounted);if(h&&h.overlay){let d=e.node.enter(h.overlay[0].from+l,1),g=this.highlighters.filter(p=>!p.scope||p.scope(h.tree.type)),m=e.firstChild();for(let p=0,b=l;;p++){let y=p<h.overlay.length?h.overlay[p]:null,v=y?y.from+l:a,C=Math.max(t,b),w=Math.min(i,v);if(C<w&&m)for(;e.from<w&&(this.highlightRange(e,C,w,s,o),this.startSpan(Math.min(w,e.to),c),!(e.to>=v||!e.nextSibling())););if(!y||v>i)break;b=y.to+l,b>t&&(this.highlightRange(d.cursor(),Math.max(t,y.from+l),Math.min(i,b),"",g),this.startSpan(Math.min(i,b),c))}m&&e.parent()}else if(e.firstChild()){h&&(s="");do if(!(e.to<=t)){if(e.from>=i)break;this.highlightRange(e,t,i,s,o),this.startSpan(Math.min(i,e.to),c)}while(e.nextSibling());e.parent()}}}function kq(n){let e=n.type.prop(p5);for(;e&&e.context&&!n.matchContext(e.context);)e=e.next;return e||null}const Le=rs.define,Vu=Le(),lr=Le(),ak=Le(lr),ck=Le(lr),ar=Le(),Hu=Le(ar),Cm=Le(ar),$s=Le(),Zr=Le($s),Qs=Le(),Zs=Le(),p1=Le(),Cc=Le(p1),Wu=Le(),Me={comment:Vu,lineComment:Le(Vu),blockComment:Le(Vu),docComment:Le(Vu),name:lr,variableName:Le(lr),typeName:ak,tagName:Le(ak),propertyName:ck,attributeName:Le(ck),className:Le(lr),labelName:Le(lr),namespace:Le(lr),macroName:Le(lr),literal:ar,string:Hu,docString:Le(Hu),character:Le(Hu),attributeValue:Le(Hu),number:Cm,integer:Le(Cm),float:Le(Cm),bool:Le(ar),regexp:Le(ar),escape:Le(ar),color:Le(ar),url:Le(ar),keyword:Qs,self:Le(Qs),null:Le(Qs),atom:Le(Qs),unit:Le(Qs),modifier:Le(Qs),operatorKeyword:Le(Qs),controlKeyword:Le(Qs),definitionKeyword:Le(Qs),moduleKeyword:Le(Qs),operator:Zs,derefOperator:Le(Zs),arithmeticOperator:Le(Zs),logicOperator:Le(Zs),bitwiseOperator:Le(Zs),compareOperator:Le(Zs),updateOperator:Le(Zs),definitionOperator:Le(Zs),typeOperator:Le(Zs),controlOperator:Le(Zs),punctuation:p1,separator:Le(p1),bracket:Cc,angleBracket:Le(Cc),squareBracket:Le(Cc),paren:Le(Cc),brace:Le(Cc),content:$s,heading:Zr,heading1:Le(Zr),heading2:Le(Zr),heading3:Le(Zr),heading4:Le(Zr),heading5:Le(Zr),heading6:Le(Zr),contentSeparator:Le($s),list:Le($s),quote:Le($s),emphasis:Le($s),strong:Le($s),link:Le($s),monospace:Le($s),strikethrough:Le($s),inserted:Le(),deleted:Le(),changed:Le(),invalid:Le(),meta:Wu,documentMeta:Le(Wu),annotation:Le(Wu),processingInstruction:Le(Wu),definition:rs.defineModifier("definition"),constant:rs.defineModifier("constant"),function:rs.defineModifier("function"),standard:rs.defineModifier("standard"),local:rs.defineModifier("local"),special:rs.defineModifier("special")};for(let n in Me){let e=Me[n];e instanceof rs&&(e.name=n)}b5([{tag:Me.link,class:"tok-link"},{tag:Me.heading,class:"tok-heading"},{tag:Me.emphasis,class:"tok-emphasis"},{tag:Me.strong,class:"tok-strong"},{tag:Me.keyword,class:"tok-keyword"},{tag:Me.atom,class:"tok-atom"},{tag:Me.bool,class:"tok-bool"},{tag:Me.url,class:"tok-url"},{tag:Me.labelName,class:"tok-labelName"},{tag:Me.inserted,class:"tok-inserted"},{tag:Me.deleted,class:"tok-deleted"},{tag:Me.literal,class:"tok-literal"},{tag:Me.string,class:"tok-string"},{tag:Me.number,class:"tok-number"},{tag:[Me.regexp,Me.escape,Me.special(Me.string)],class:"tok-string2"},{tag:Me.variableName,class:"tok-variableName"},{tag:Me.local(Me.variableName),class:"tok-variableName tok-local"},{tag:Me.definition(Me.variableName),class:"tok-variableName tok-definition"},{tag:Me.special(Me.variableName),class:"tok-variableName2"},{tag:Me.definition(Me.propertyName),class:"tok-propertyName tok-definition"},{tag:Me.typeName,class:"tok-typeName"},{tag:Me.namespace,class:"tok-namespace"},{tag:Me.className,class:"tok-className"},{tag:Me.macroName,class:"tok-macroName"},{tag:Me.propertyName,class:"tok-propertyName"},{tag:Me.operator,class:"tok-operator"},{tag:Me.comment,class:"tok-comment"},{tag:Me.meta,class:"tok-meta"},{tag:Me.invalid,class:"tok-invalid"},{tag:Me.punctuation,class:"tok-punctuation"}]);var Mm;const ya=new xt;function Sq(n){return He.define({combine:n?e=>e.concat(n):void 0})}const Cq=new xt;class xs{constructor(e,t,i=[],s=""){this.data=e,this.name=s,Pt.prototype.hasOwnProperty("tree")||Object.defineProperty(Pt.prototype,"tree",{get(){return ki(this)}}),this.parser=t,this.extension=[Nr.of(this),Pt.languageData.of((o,r,l)=>{let a=fk(o,r,l),c=a.type.prop(ya);if(!c)return[];let f=o.facet(c),u=a.type.prop(Cq);if(u){let h=a.resolve(r-a.from,l);for(let d of u)if(d.test(h,o)){let g=o.facet(d.facet);return d.type=="replace"?g:g.concat(f)}}return f})].concat(i)}isActiveAt(e,t,i=-1){return fk(e,t,i).type.prop(ya)==this.data}findRegions(e){let t=e.facet(Nr);if((t==null?void 0:t.data)==this.data)return[{from:0,to:e.doc.length}];if(!t||!t.allowsNesting)return[];let i=[],s=(o,r)=>{if(o.prop(ya)==this.data){i.push({from:r,to:r+o.length});return}let l=o.prop(xt.mounted);if(l){if(l.tree.prop(ya)==this.data){if(l.overlay)for(let a of l.overlay)i.push({from:a.from+r,to:a.to+r});else i.push({from:r,to:r+o.length});return}else if(l.overlay){let a=i.length;if(s(l.tree,l.overlay[0].from+r),i.length>a)return}}for(let a=0;a<o.children.length;a++){let c=o.children[a];c instanceof jn&&s(c,o.positions[a]+r)}};return s(ki(e),0),i}get allowsNesting(){return!0}}xs.setState=yt.define();function fk(n,e,t){let i=n.facet(Nr),s=ki(n).topNode;if(!i||i.allowsNesting)for(let o=s;o;o=o.enter(e,t,Xn.ExcludeBuffers))o.type.isTop&&(s=o);return s}class wd extends xs{constructor(e,t,i){super(e,t,[],i),this.parser=t}static define(e){let t=Sq(e.languageData);return new wd(t,e.parser.configure({props:[ya.add(i=>i.isTop?t:void 0)]}),e.name)}configure(e,t){return new wd(this.data,this.parser.configure(e),t||this.name)}get allowsNesting(){return this.parser.hasWrappers()}}function ki(n){let e=n.field(xs.state,!1);return e?e.tree:jn.empty}class Mq{constructor(e){this.doc=e,this.cursorPos=0,this.string="",this.cursor=e.iter()}get length(){return this.doc.length}syncTo(e){return this.string=this.cursor.next(e-this.cursorPos).value,this.cursorPos=e+this.string.length,this.cursorPos-this.string.length}chunk(e){return this.syncTo(e),this.string}get lineChunks(){return!0}read(e,t){let i=this.cursorPos-this.string.length;return e<i||t>=this.cursorPos?this.doc.sliceString(e,t):this.string.slice(e-i,t-i)}}let Mc=null;class vd{constructor(e,t,i=[],s,o,r,l,a){this.parser=e,this.state=t,this.fragments=i,this.tree=s,this.treeLen=o,this.viewport=r,this.skipped=l,this.scheduleOn=a,this.parse=null,this.tempSkipped=[]}static create(e,t,i){return new vd(e,t,[],jn.empty,0,i,[],null)}startParse(){return this.parser.startParse(new Mq(this.state.doc),this.fragments)}work(e,t){return t!=null&&t>=this.state.doc.length&&(t=void 0),this.tree!=jn.empty&&this.isDone(t??this.state.doc.length)?(this.takeTree(),!0):this.withContext(()=>{var i;if(typeof e=="number"){let s=Date.now()+e;e=()=>Date.now()>s}for(this.parse||(this.parse=this.startParse()),t!=null&&(this.parse.stoppedAt==null||this.parse.stoppedAt>t)&&t<this.state.doc.length&&this.parse.stopAt(t);;){let s=this.parse.advance();if(s)if(this.fragments=this.withoutTempSkipped(pl.addTree(s,this.fragments,this.parse.stoppedAt!=null)),this.treeLen=(i=this.parse.stoppedAt)!==null&&i!==void 0?i:this.state.doc.length,this.tree=s,this.parse=null,this.treeLen<(t??this.state.doc.length))this.parse=this.startParse();else return!0;if(e())return!1}})}takeTree(){let e,t;this.parse&&(e=this.parse.parsedPos)>=this.treeLen&&((this.parse.stoppedAt==null||this.parse.stoppedAt>e)&&this.parse.stopAt(e),this.withContext(()=>{for(;!(t=this.parse.advance()););}),this.treeLen=e,this.tree=t,this.fragments=this.withoutTempSkipped(pl.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(e){let t=Mc;Mc=this;try{return e()}finally{Mc=t}}withoutTempSkipped(e){for(let t;t=this.tempSkipped.pop();)e=uk(e,t.from,t.to);return e}changes(e,t){let{fragments:i,tree:s,treeLen:o,viewport:r,skipped:l}=this;if(this.takeTree(),!e.empty){let a=[];if(e.iterChangedRanges((c,f,u,h)=>a.push({fromA:c,toA:f,fromB:u,toB:h})),i=pl.applyChanges(i,a),s=jn.empty,o=0,r={from:e.mapPos(r.from,-1),to:e.mapPos(r.to,1)},this.skipped.length){l=[];for(let c of this.skipped){let f=e.mapPos(c.from,1),u=e.mapPos(c.to,-1);f<u&&l.push({from:f,to:u})}}}return new vd(this.parser,t,i,s,o,r,l,this.scheduleOn)}updateViewport(e){if(this.viewport.from==e.from&&this.viewport.to==e.to)return!1;this.viewport=e;let t=this.skipped.length;for(let i=0;i<this.skipped.length;i++){let{from:s,to:o}=this.skipped[i];s<e.to&&o>e.from&&(this.fragments=uk(this.fragments,s,o),this.skipped.splice(i--,1))}return this.skipped.length>=t?!1:(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(e,t){this.skipped.push({from:e,to:t})}static getSkippingParser(e){return new class extends g5{createParse(t,i,s){let o=s[0].from,r=s[s.length-1].to;return{parsedPos:o,advance(){let a=Mc;if(a){for(let c of s)a.tempSkipped.push(c);e&&(a.scheduleOn=a.scheduleOn?Promise.all([a.scheduleOn,e]):e)}return this.parsedPos=r,new jn(Fi.none,[],[],r-o)},stoppedAt:null,stopAt(){}}}}}isDone(e){e=Math.min(e,this.state.doc.length);let t=this.fragments;return this.treeLen>=e&&t.length&&t[0].from==0&&t[0].to>=e}static get(){return Mc}}function uk(n,e,t){return pl.applyChanges(n,[{fromA:e,toA:t,fromB:e,toB:t}])}class Xa{constructor(e){this.context=e,this.tree=e.tree}apply(e){if(!e.docChanged&&this.tree==this.context.tree)return this;let t=this.context.changes(e.changes,e.state),i=this.context.treeLen==e.startState.doc.length?void 0:Math.max(e.changes.mapPos(this.context.treeLen),t.viewport.to);return t.work(20,i)||t.takeTree(),new Xa(t)}static init(e){let t=Math.min(3e3,e.doc.length),i=vd.create(e.facet(Nr).parser,e,{from:0,to:t});return i.work(20,t)||i.takeTree(),new Xa(i)}}xs.state=Un.define({create:Xa.init,update(n,e){for(let t of e.effects)if(t.is(xs.setState))return t.value;return e.startState.facet(Nr)!=e.state.facet(Nr)?Xa.init(e.state):n.apply(e)}});let y5=n=>{let e=setTimeout(()=>n(),500);return()=>clearTimeout(e)};typeof requestIdleCallback<"u"&&(y5=n=>{let e=-1,t=setTimeout(()=>{e=requestIdleCallback(n,{timeout:400})},100);return()=>e<0?clearTimeout(t):cancelIdleCallback(e)});const Am=typeof navigator<"u"&&(!((Mm=navigator.scheduling)===null||Mm===void 0)&&Mm.isInputPending)?()=>navigator.scheduling.isInputPending():null,Aq=An.fromClass(class{constructor(e){this.view=e,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(e){let t=this.view.state.field(xs.state).context;(t.updateViewport(e.view.viewport)||this.view.viewport.to>t.treeLen)&&this.scheduleWork(),(e.docChanged||e.selectionSet)&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(t)}scheduleWork(){if(this.working)return;let{state:e}=this.view,t=e.field(xs.state);(t.tree!=t.context.tree||!t.context.isDone(e.doc.length))&&(this.working=y5(this.work))}work(e){this.working=null;let t=Date.now();if(this.chunkEnd<t&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=t+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:i,viewport:{to:s}}=this.view,o=i.field(xs.state);if(o.tree==o.context.tree&&o.context.isDone(s+1e5))return;let r=Date.now()+Math.min(this.chunkBudget,100,e&&!Am?Math.max(25,e.timeRemaining()-5):1e9),l=o.context.treeLen<s&&i.doc.length>s+1e3,a=o.context.work(()=>Am&&Am()||Date.now()>r,s+(l?0:1e5));this.chunkBudget-=Date.now()-t,(a||this.chunkBudget<=0)&&(o.context.takeTree(),this.view.dispatch({effects:xs.setState.of(new Xa(o.context))})),this.chunkBudget>0&&!(a&&!l)&&this.scheduleWork(),this.checkAsyncSchedule(o.context)}checkAsyncSchedule(e){e.scheduleOn&&(this.workScheduled++,e.scheduleOn.then(()=>this.scheduleWork()).catch(t=>Pi(this.view.state,t)).then(()=>this.workScheduled--),e.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),Nr=He.define({combine(n){return n.length?n[0]:null},enables:n=>[xs.state,Aq,Fe.contentAttributes.compute([n],e=>{let t=e.facet(n);return t&&t.name?{"data-language":t.name}:{}})]});class xq{constructor(e,t=[]){this.language=e,this.support=t,this.extension=[e,t]}}const Oq=He.define(),Og=He.define({combine:n=>{if(!n.length)return"  ";let e=n[0];if(!e||/\S/.test(e)||Array.from(e).some(t=>t!=e[0]))throw new Error("Invalid indent unit: "+JSON.stringify(n[0]));return e}});function Br(n){let e=n.facet(Og);return e.charCodeAt(0)==9?n.tabSize*e.length:e.length}function Tf(n,e){let t="",i=n.tabSize,s=n.facet(Og)[0];if(s=="	"){for(;e>=i;)t+="	",e-=i;s=" "}for(let o=0;o<e;o++)t+=s;return t}function ob(n,e){n instanceof Pt&&(n=new Pg(n));for(let i of n.state.facet(Oq)){let s=i(n,e);if(s!==void 0)return s}let t=ki(n.state);return t.length>=e?Pq(n,t,e):null}class Pg{constructor(e,t={}){this.state=e,this.options=t,this.unit=Br(e)}lineAt(e,t=1){let i=this.state.doc.lineAt(e),{simulateBreak:s,simulateDoubleBreak:o}=this.options;return s!=null&&s>=i.from&&s<=i.to?o&&s==e?{text:"",from:e}:(t<0?s<e:s<=e)?{text:i.text.slice(s-i.from),from:s}:{text:i.text.slice(0,s-i.from),from:i.from}:i}textAfterPos(e,t=1){if(this.options.simulateDoubleBreak&&e==this.options.simulateBreak)return"";let{text:i,from:s}=this.lineAt(e,t);return i.slice(e-s,Math.min(i.length,e+100-s))}column(e,t=1){let{text:i,from:s}=this.lineAt(e,t),o=this.countColumn(i,e-s),r=this.options.overrideIndentation?this.options.overrideIndentation(s):-1;return r>-1&&(o+=r-this.countColumn(i,i.search(/\S|$/))),o}countColumn(e,t=e.length){return cc(e,this.state.tabSize,t)}lineIndent(e,t=1){let{text:i,from:s}=this.lineAt(e,t),o=this.options.overrideIndentation;if(o){let r=o(s);if(r>-1)return r}return this.countColumn(i,i.search(/\S|$/))}get simulatedBreak(){return this.options.simulateBreak||null}}const _5=new xt;function Pq(n,e,t){let i=e.resolveStack(t),s=i.node.enterUnfinishedNodesBefore(t);if(s!=i.node){let o=[];for(let r=s;r!=i.node;r=r.parent)o.push(r);for(let r=o.length-1;r>=0;r--)i={node:o[r],next:i}}return w5(i,n,t)}function w5(n,e,t){for(let i=n;i;i=i.next){let s=Eq(i.node);if(s)return s(rb.create(e,t,i))}return 0}function Tq(n){return n.pos==n.options.simulateBreak&&n.options.simulateDoubleBreak}function Eq(n){let e=n.type.prop(_5);if(e)return e;let t=n.firstChild,i;if(t&&(i=t.type.prop(xt.closedBy))){let s=n.lastChild,o=s&&i.indexOf(s.name)>-1;return r=>Iq(r,!0,1,void 0,o&&!Tq(r)?s.from:void 0)}return n.parent==null?Rq:null}function Rq(){return 0}class rb extends Pg{constructor(e,t,i){super(e.state,e.options),this.base=e,this.pos=t,this.context=i}get node(){return this.context.node}static create(e,t,i){return new rb(e,t,i)}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){return this.baseIndentFor(this.node)}baseIndentFor(e){let t=this.state.doc.lineAt(e.from);for(;;){let i=e.resolve(t.from);for(;i.parent&&i.parent.from==i.from;)i=i.parent;if(Dq(i,e))break;t=this.state.doc.lineAt(i.from)}return this.lineIndent(t.from)}continue(){return w5(this.context.next,this.base,this.pos)}}function Dq(n,e){for(let t=e;t;t=t.parent)if(n==t)return!0;return!1}function Lq(n){let e=n.node,t=e.childAfter(e.from),i=e.lastChild;if(!t)return null;let s=n.options.simulateBreak,o=n.state.doc.lineAt(t.from),r=s==null||s<=o.from?o.to:Math.min(o.to,s);for(let l=t.to;;){let a=e.childAfter(l);if(!a||a==i)return null;if(!a.type.isSkipped)return a.from<r?t:null;l=a.to}}function Iq(n,e,t,i,s){let o=n.textAfter,r=o.match(/^\s*/)[0].length,l=s==n.pos+r,a=Lq(n);return a?l?n.column(a.from):n.column(a.to):n.baseIndent+(l?0:n.unit*t)}function hk({except:n,units:e=1}={}){return t=>{let i=n&&n.test(t.textAfter);return t.baseIndent+(i?0:e*t.unit)}}const Nq=200;function Bq(){return Pt.transactionFilter.of(n=>{if(!n.docChanged||!n.isUserEvent("input.type")&&!n.isUserEvent("input.complete"))return n;let e=n.startState.languageDataAt("indentOnInput",n.startState.selection.main.head);if(!e.length)return n;let t=n.newDoc,{head:i}=n.newSelection.main,s=t.lineAt(i);if(i>s.from+Nq)return n;let o=t.sliceString(s.from,i);if(!e.some(c=>c.test(o)))return n;let{state:r}=n,l=-1,a=[];for(let{head:c}of r.selection.ranges){let f=r.doc.lineAt(c);if(f.from==l)continue;l=f.from;let u=ob(r,f.from);if(u==null)continue;let h=/^\s*/.exec(f.text)[0],d=Tf(r,u);h!=d&&a.push({from:f.from,to:f.from+h.length,insert:d})}return a.length?[n,{changes:a,sequential:!0}]:n})}const jq=He.define(),v5=new xt;function zq(n){let e=n.firstChild,t=n.lastChild;return e&&e.to<t.from?{from:e.to,to:t.type.isError?n.to:t.from}:null}function Fq(n,e,t){let i=ki(n);if(i.length<t)return null;let s=i.resolveStack(t,1),o=null;for(let r=s;r;r=r.next){let l=r.node;if(l.to<=t||l.from>t)continue;if(o&&l.from<e)break;let a=l.type.prop(v5);if(a&&(l.to<i.length-50||i.length==n.doc.length||!Vq(l))){let c=a(l,n);c&&c.from<=t&&c.from>=e&&c.to>t&&(o=c)}}return o}function Vq(n){let e=n.lastChild;return e&&e.to==n.to&&e.type.isError}function kd(n,e,t){for(let i of n.facet(jq)){let s=i(n,e,t);if(s)return s}return Fq(n,e,t)}function k5(n,e){let t=e.mapPos(n.from,1),i=e.mapPos(n.to,-1);return t>=i?void 0:{from:t,to:i}}const Tg=yt.define({map:k5}),su=yt.define({map:k5});function S5(n){let e=[];for(let{head:t}of n.state.selection.ranges)e.some(i=>i.from<=t&&i.to>=t)||e.push(n.lineBlockAt(t));return e}const Il=Un.define({create(){return lt.none},update(n,e){n=n.map(e.changes);for(let t of e.effects)if(t.is(Tg)&&!Hq(n,t.value.from,t.value.to)){let{preparePlaceholder:i}=e.state.facet(A5),s=i?lt.replace({widget:new Xq(i(e.state,t.value))}):dk;n=n.update({add:[s.range(t.value.from,t.value.to)]})}else t.is(su)&&(n=n.update({filter:(i,s)=>t.value.from!=i||t.value.to!=s,filterFrom:t.value.from,filterTo:t.value.to}));if(e.selection){let t=!1,{head:i}=e.selection.main;n.between(i,i,(s,o)=>{s<i&&o>i&&(t=!0)}),t&&(n=n.update({filterFrom:i,filterTo:i,filter:(s,o)=>o<=i||s>=i}))}return n},provide:n=>Fe.decorations.from(n),toJSON(n,e){let t=[];return n.between(0,e.doc.length,(i,s)=>{t.push(i,s)}),t},fromJSON(n){if(!Array.isArray(n)||n.length%2)throw new RangeError("Invalid JSON for fold state");let e=[];for(let t=0;t<n.length;){let i=n[t++],s=n[t++];if(typeof i!="number"||typeof s!="number")throw new RangeError("Invalid JSON for fold state");e.push(dk.range(i,s))}return lt.set(e,!0)}});function Sd(n,e,t){var i;let s=null;return(i=n.field(Il,!1))===null||i===void 0||i.between(e,t,(o,r)=>{(!s||s.from>o)&&(s={from:o,to:r})}),s}function Hq(n,e,t){let i=!1;return n.between(e,e,(s,o)=>{s==e&&o==t&&(i=!0)}),i}function C5(n,e){return n.field(Il,!1)?e:e.concat(yt.appendConfig.of(x5()))}const Wq=n=>{for(let e of S5(n)){let t=kd(n.state,e.from,e.to);if(t)return n.dispatch({effects:C5(n.state,[Tg.of(t),M5(n,t)])}),!0}return!1},qq=n=>{if(!n.state.field(Il,!1))return!1;let e=[];for(let t of S5(n)){let i=Sd(n.state,t.from,t.to);i&&e.push(su.of(i),M5(n,i,!1))}return e.length&&n.dispatch({effects:e}),e.length>0};function M5(n,e,t=!0){let i=n.state.doc.lineAt(e.from).number,s=n.state.doc.lineAt(e.to).number;return Fe.announce.of(`${n.state.phrase(t?"Folded lines":"Unfolded lines")} ${i} ${n.state.phrase("to")} ${s}.`)}const Uq=n=>{let{state:e}=n,t=[];for(let i=0;i<e.doc.length;){let s=n.lineBlockAt(i),o=kd(e,s.from,s.to);o&&t.push(Tg.of(o)),i=(o?n.lineBlockAt(o.to):s).to+1}return t.length&&n.dispatch({effects:C5(n.state,t)}),!!t.length},Jq=n=>{let e=n.state.field(Il,!1);if(!e||!e.size)return!1;let t=[];return e.between(0,n.state.doc.length,(i,s)=>{t.push(su.of({from:i,to:s}))}),n.dispatch({effects:t}),!0},Kq=[{key:"Ctrl-Shift-[",mac:"Cmd-Alt-[",run:Wq},{key:"Ctrl-Shift-]",mac:"Cmd-Alt-]",run:qq},{key:"Ctrl-Alt-[",run:Uq},{key:"Ctrl-Alt-]",run:Jq}],Yq={placeholderDOM:null,preparePlaceholder:null,placeholderText:"…"},A5=He.define({combine(n){return _s(n,Yq)}});function x5(n){return[Il,Zq]}function O5(n,e){let{state:t}=n,i=t.facet(A5),s=r=>{let l=n.lineBlockAt(n.posAtDOM(r.target)),a=Sd(n.state,l.from,l.to);a&&n.dispatch({effects:su.of(a)}),r.preventDefault()};if(i.placeholderDOM)return i.placeholderDOM(n,s,e);let o=document.createElement("span");return o.textContent=i.placeholderText,o.setAttribute("aria-label",t.phrase("folded code")),o.title=t.phrase("unfold"),o.className="cm-foldPlaceholder",o.onclick=s,o}const dk=lt.replace({widget:new class extends Hr{toDOM(n){return O5(n,null)}}});class Xq extends Hr{constructor(e){super(),this.value=e}eq(e){return this.value==e.value}toDOM(e){return O5(e,this.value)}}const Gq={openText:"⌄",closedText:"›",markerDOM:null,domEventHandlers:{},foldingChanged:()=>!1};class xm extends yo{constructor(e,t){super(),this.config=e,this.open=t}eq(e){return this.config==e.config&&this.open==e.open}toDOM(e){if(this.config.markerDOM)return this.config.markerDOM(this.open);let t=document.createElement("span");return t.textContent=this.open?this.config.openText:this.config.closedText,t.title=e.state.phrase(this.open?"Fold line":"Unfold line"),t}}function Qq(n={}){let e=Object.assign(Object.assign({},Gq),n),t=new xm(e,!0),i=new xm(e,!1),s=An.fromClass(class{constructor(r){this.from=r.viewport.from,this.markers=this.buildMarkers(r)}update(r){(r.docChanged||r.viewportChanged||r.startState.facet(Nr)!=r.state.facet(Nr)||r.startState.field(Il,!1)!=r.state.field(Il,!1)||ki(r.startState)!=ki(r.state)||e.foldingChanged(r))&&(this.markers=this.buildMarkers(r.view))}buildMarkers(r){let l=new bo;for(let a of r.viewportLineBlocks){let c=Sd(r.state,a.from,a.to)?i:kd(r.state,a.from,a.to)?t:null;c&&l.add(a.from,a.from,c)}return l.finish()}}),{domEventHandlers:o}=e;return[s,l5({class:"cm-foldGutter",markers(r){var l;return((l=r.plugin(s))===null||l===void 0?void 0:l.markers)||jt.empty},initialSpacer(){return new xm(e,!1)},domEventHandlers:Object.assign(Object.assign({},o),{click:(r,l,a)=>{if(o.click&&o.click(r,l,a))return!0;let c=Sd(r.state,l.from,l.to);if(c)return r.dispatch({effects:su.of(c)}),!0;let f=kd(r.state,l.from,l.to);return f?(r.dispatch({effects:Tg.of(f)}),!0):!1}})}),x5()]}const Zq=Fe.baseTheme({".cm-foldPlaceholder":{backgroundColor:"#eee",border:"1px solid #ddd",color:"#888",borderRadius:".2em",margin:"0 1px",padding:"0 1px",cursor:"pointer"},".cm-foldGutter span":{padding:"0 1px",cursor:"pointer"}});class ou{constructor(e,t){this.specs=e;let i;function s(l){let a=Rr.newName();return(i||(i=Object.create(null)))["."+a]=l,a}const o=typeof t.all=="string"?t.all:t.all?s(t.all):void 0,r=t.scope;this.scope=r instanceof xs?l=>l.prop(ya)==r.data:r?l=>l==r:void 0,this.style=b5(e.map(l=>({tag:l.tag,class:l.class||s(Object.assign({},l,{tag:null}))})),{all:o}).style,this.module=i?new Rr(i):null,this.themeType=t.themeType}static define(e,t){return new ou(e,t||{})}}const b1=He.define(),P5=He.define({combine(n){return n.length?[n[0]]:null}});function Om(n){let e=n.facet(b1);return e.length?e:n.facet(P5)}function T5(n,e){let t=[eU],i;return n instanceof ou&&(n.module&&t.push(Fe.styleModule.of(n.module)),i=n.themeType),e!=null&&e.fallback?t.push(P5.of(n)):i?t.push(b1.computeN([Fe.darkTheme],s=>s.facet(Fe.darkTheme)==(i=="dark")?[n]:[])):t.push(b1.of(n)),t}class $q{constructor(e){this.markCache=Object.create(null),this.tree=ki(e.state),this.decorations=this.buildDeco(e,Om(e.state)),this.decoratedTo=e.viewport.to}update(e){let t=ki(e.state),i=Om(e.state),s=i!=Om(e.startState),{viewport:o}=e.view,r=e.changes.mapPos(this.decoratedTo,1);t.length<o.to&&!s&&t.type==this.tree.type&&r>=o.to?(this.decorations=this.decorations.map(e.changes),this.decoratedTo=r):(t!=this.tree||e.viewportChanged||s)&&(this.tree=t,this.decorations=this.buildDeco(e.view,i),this.decoratedTo=o.to)}buildDeco(e,t){if(!t||!this.tree.length)return lt.none;let i=new bo;for(let{from:s,to:o}of e.visibleRanges)wq(this.tree,t,(r,l,a)=>{i.add(r,l,this.markCache[a]||(this.markCache[a]=lt.mark({class:a})))},s,o);return i.finish()}}const eU=Wl.high(An.fromClass($q,{decorations:n=>n.decorations})),tU=ou.define([{tag:Me.meta,color:"#404740"},{tag:Me.link,textDecoration:"underline"},{tag:Me.heading,textDecoration:"underline",fontWeight:"bold"},{tag:Me.emphasis,fontStyle:"italic"},{tag:Me.strong,fontWeight:"bold"},{tag:Me.strikethrough,textDecoration:"line-through"},{tag:Me.keyword,color:"#708"},{tag:[Me.atom,Me.bool,Me.url,Me.contentSeparator,Me.labelName],color:"#219"},{tag:[Me.literal,Me.inserted],color:"#164"},{tag:[Me.string,Me.deleted],color:"#a11"},{tag:[Me.regexp,Me.escape,Me.special(Me.string)],color:"#e40"},{tag:Me.definition(Me.variableName),color:"#00f"},{tag:Me.local(Me.variableName),color:"#30a"},{tag:[Me.typeName,Me.namespace],color:"#085"},{tag:Me.className,color:"#167"},{tag:[Me.special(Me.variableName),Me.macroName],color:"#256"},{tag:Me.definition(Me.propertyName),color:"#00c"},{tag:Me.comment,color:"#940"},{tag:Me.invalid,color:"#f00"}]),nU=Fe.baseTheme({"&.cm-focused .cm-matchingBracket":{backgroundColor:"#328c8252"},"&.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bb555544"}}),E5=1e4,R5="()[]{}",D5=He.define({combine(n){return _s(n,{afterCursor:!0,brackets:R5,maxScanDistance:E5,renderMatch:oU})}}),iU=lt.mark({class:"cm-matchingBracket"}),sU=lt.mark({class:"cm-nonmatchingBracket"});function oU(n){let e=[],t=n.matched?iU:sU;return e.push(t.range(n.start.from,n.start.to)),n.end&&e.push(t.range(n.end.from,n.end.to)),e}const rU=Un.define({create(){return lt.none},update(n,e){if(!e.docChanged&&!e.selection)return n;let t=[],i=e.state.facet(D5);for(let s of e.state.selection.ranges){if(!s.empty)continue;let o=oo(e.state,s.head,-1,i)||s.head>0&&oo(e.state,s.head-1,1,i)||i.afterCursor&&(oo(e.state,s.head,1,i)||s.head<e.state.doc.length&&oo(e.state,s.head+1,-1,i));o&&(t=t.concat(i.renderMatch(o,e.state)))}return lt.set(t,!0)},provide:n=>Fe.decorations.from(n)}),lU=[rU,nU];function aU(n={}){return[D5.of(n),lU]}const cU=new xt;function y1(n,e,t){let i=n.prop(e<0?xt.openedBy:xt.closedBy);if(i)return i;if(n.name.length==1){let s=t.indexOf(n.name);if(s>-1&&s%2==(e<0?1:0))return[t[s+e]]}return null}function _1(n){let e=n.type.prop(cU);return e?e(n.node):n}function oo(n,e,t,i={}){let s=i.maxScanDistance||E5,o=i.brackets||R5,r=ki(n),l=r.resolveInner(e,t);for(let a=l;a;a=a.parent){let c=y1(a.type,t,o);if(c&&a.from<a.to){let f=_1(a);if(f&&(t>0?e>=f.from&&e<f.to:e>f.from&&e<=f.to))return fU(n,e,t,a,f,c,o)}}return uU(n,e,t,r,l.type,s,o)}function fU(n,e,t,i,s,o,r){let l=i.parent,a={from:s.from,to:s.to},c=0,f=l==null?void 0:l.cursor();if(f&&(t<0?f.childBefore(i.from):f.childAfter(i.to)))do if(t<0?f.to<=i.from:f.from>=i.to){if(c==0&&o.indexOf(f.type.name)>-1&&f.from<f.to){let u=_1(f);return{start:a,end:u?{from:u.from,to:u.to}:void 0,matched:!0}}else if(y1(f.type,t,r))c++;else if(y1(f.type,-t,r)){if(c==0){let u=_1(f);return{start:a,end:u&&u.from<u.to?{from:u.from,to:u.to}:void 0,matched:!1}}c--}}while(t<0?f.prevSibling():f.nextSibling());return{start:a,matched:!1}}function uU(n,e,t,i,s,o,r){let l=t<0?n.sliceDoc(e-1,e):n.sliceDoc(e,e+1),a=r.indexOf(l);if(a<0||a%2==0!=t>0)return null;let c={from:t<0?e-1:e,to:t>0?e+1:e},f=n.doc.iterRange(e,t>0?n.doc.length:0),u=0;for(let h=0;!f.next().done&&h<=o;){let d=f.value;t<0&&(h+=d.length);let g=e+h*t;for(let m=t>0?0:d.length-1,p=t>0?d.length:-1;m!=p;m+=t){let b=r.indexOf(d[m]);if(!(b<0||i.resolveInner(g+m,1).type!=s))if(b%2==0==t>0)u++;else{if(u==1)return{start:c,end:{from:g+m,to:g+m+1},matched:b>>1==a>>1};u--}}t>0&&(h+=d.length)}return f.done?{start:c,matched:!1}:null}const hU=Object.create(null),gk=[Fi.none],mk=[],pk=Object.create(null),dU=Object.create(null);for(let[n,e]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])dU[n]=gU(hU,e);function Pm(n,e){mk.indexOf(n)>-1||(mk.push(n),console.warn(e))}function gU(n,e){let t=[];for(let l of e.split(" ")){let a=[];for(let c of l.split(".")){let f=n[c]||Me[c];f?typeof f=="function"?a.length?a=a.map(f):Pm(c,`Modifier ${c} used at start of tag`):a.length?Pm(c,`Tag ${c} used as modifier`):a=Array.isArray(f)?f:[f]:Pm(c,`Unknown highlighting tag ${c}`)}for(let c of a)t.push(c)}if(!t.length)return 0;let i=e.replace(/ /g,"_"),s=i+" "+t.map(l=>l.id),o=pk[s];if(o)return o.id;let r=pk[s]=Fi.define({id:gk.length,name:i,props:[m5({[i]:t})]});return gk.push(r),r.id}dn.RTL,dn.LTR;const mU=n=>{let{state:e}=n,t=e.doc.lineAt(e.selection.main.from),i=ab(n.state,t.from);return i.line?pU(n):i.block?yU(n):!1};function lb(n,e){return({state:t,dispatch:i})=>{if(t.readOnly)return!1;let s=n(e,t);return s?(i(t.update(s)),!0):!1}}const pU=lb(vU,0),bU=lb(L5,0),yU=lb((n,e)=>L5(n,e,wU(e)),0);function ab(n,e){let t=n.languageDataAt("commentTokens",e);return t.length?t[0]:{}}const Ac=50;function _U(n,{open:e,close:t},i,s){let o=n.sliceDoc(i-Ac,i),r=n.sliceDoc(s,s+Ac),l=/\s*$/.exec(o)[0].length,a=/^\s*/.exec(r)[0].length,c=o.length-l;if(o.slice(c-e.length,c)==e&&r.slice(a,a+t.length)==t)return{open:{pos:i-l,margin:l&&1},close:{pos:s+a,margin:a&&1}};let f,u;s-i<=2*Ac?f=u=n.sliceDoc(i,s):(f=n.sliceDoc(i,i+Ac),u=n.sliceDoc(s-Ac,s));let h=/^\s*/.exec(f)[0].length,d=/\s*$/.exec(u)[0].length,g=u.length-d-t.length;return f.slice(h,h+e.length)==e&&u.slice(g,g+t.length)==t?{open:{pos:i+h+e.length,margin:/\s/.test(f.charAt(h+e.length))?1:0},close:{pos:s-d-t.length,margin:/\s/.test(u.charAt(g-1))?1:0}}:null}function wU(n){let e=[];for(let t of n.selection.ranges){let i=n.doc.lineAt(t.from),s=t.to<=i.to?i:n.doc.lineAt(t.to),o=e.length-1;o>=0&&e[o].to>i.from?e[o].to=s.to:e.push({from:i.from+/^\s*/.exec(i.text)[0].length,to:s.to})}return e}function L5(n,e,t=e.selection.ranges){let i=t.map(o=>ab(e,o.from).block);if(!i.every(o=>o))return null;let s=t.map((o,r)=>_U(e,i[r],o.from,o.to));if(n!=2&&!s.every(o=>o))return{changes:e.changes(t.map((o,r)=>s[r]?[]:[{from:o.from,insert:i[r].open+" "},{from:o.to,insert:" "+i[r].close}]))};if(n!=1&&s.some(o=>o)){let o=[];for(let r=0,l;r<s.length;r++)if(l=s[r]){let a=i[r],{open:c,close:f}=l;o.push({from:c.pos-a.open.length,to:c.pos+c.margin},{from:f.pos-f.margin,to:f.pos+a.close.length})}return{changes:o}}return null}function vU(n,e,t=e.selection.ranges){let i=[],s=-1;for(let{from:o,to:r}of t){let l=i.length,a=1e9,c=ab(e,o).line;if(c){for(let f=o;f<=r;){let u=e.doc.lineAt(f);if(u.from>s&&(o==r||r>u.from)){s=u.from;let h=/^\s*/.exec(u.text)[0].length,d=h==u.length,g=u.text.slice(h,h+c.length)==c?h:-1;h<u.text.length&&h<a&&(a=h),i.push({line:u,comment:g,token:c,indent:h,empty:d,single:!1})}f=u.to+1}if(a<1e9)for(let f=l;f<i.length;f++)i[f].indent<i[f].line.text.length&&(i[f].indent=a);i.length==l+1&&(i[l].single=!0)}}if(n!=2&&i.some(o=>o.comment<0&&(!o.empty||o.single))){let o=[];for(let{line:l,token:a,indent:c,empty:f,single:u}of i)(u||!f)&&o.push({from:l.from+c,insert:a+" "});let r=e.changes(o);return{changes:r,selection:e.selection.map(r,1)}}else if(n!=1&&i.some(o=>o.comment>=0)){let o=[];for(let{line:r,comment:l,token:a}of i)if(l>=0){let c=r.from+l,f=c+a.length;r.text[f-r.from]==" "&&f++,o.push({from:c,to:f})}return{changes:o}}return null}const w1=$o.define(),kU=$o.define(),SU=He.define(),I5=He.define({combine(n){return _s(n,{minDepth:100,newGroupDelay:500,joinToEvent:(e,t)=>t},{minDepth:Math.max,newGroupDelay:Math.min,joinToEvent:(e,t)=>(i,s)=>e(i,s)||t(i,s)})}}),cb=Un.define({create(){return ro.empty},update(n,e){let t=e.state.facet(I5),i=e.annotation(w1);if(i){let a=ji.fromTransaction(e,i.selection),c=i.side,f=c==0?n.undone:n.done;return a?f=Md(f,f.length,t.minDepth,a):f=j5(f,e.startState.selection),new ro(c==0?i.rest:f,c==0?f:i.rest)}let s=e.annotation(kU);if((s=="full"||s=="before")&&(n=n.isolate()),e.annotation(Vn.addToHistory)===!1)return e.changes.empty?n:n.addMapping(e.changes.desc);let o=ji.fromTransaction(e),r=e.annotation(Vn.time),l=e.annotation(Vn.userEvent);return o?n=n.addChanges(o,r,l,t,e):e.selection&&(n=n.addSelection(e.startState.selection,r,l,t.newGroupDelay)),(s=="full"||s=="after")&&(n=n.isolate()),n},toJSON(n){return{done:n.done.map(e=>e.toJSON()),undone:n.undone.map(e=>e.toJSON())}},fromJSON(n){return new ro(n.done.map(ji.fromJSON),n.undone.map(ji.fromJSON))}});function CU(n={}){return[cb,I5.of(n),Fe.domEventHandlers({beforeinput(e,t){let i=e.inputType=="historyUndo"?fb:e.inputType=="historyRedo"?Cd:null;return i?(e.preventDefault(),i(t)):!1}})]}function Eg(n,e){return function({state:t,dispatch:i}){if(!e&&t.readOnly)return!1;let s=t.field(cb,!1);if(!s)return!1;let o=s.pop(n,t,e);return o?(i(o),!0):!1}}const fb=Eg(0,!1),Cd=Eg(1,!1),MU=Eg(0,!0),AU=Eg(1,!0);function N5(n){return function(e){let t=e.field(cb,!1);if(!t)return 0;let i=n==0?t.done:t.undone;return i.length-(i.length&&!i[0].changes?1:0)}}const xU=N5(0),OU=N5(1);class ji{constructor(e,t,i,s,o){this.changes=e,this.effects=t,this.mapped=i,this.startSelection=s,this.selectionsAfter=o}setSelAfter(e){return new ji(this.changes,this.effects,this.mapped,this.startSelection,e)}toJSON(){var e,t,i;return{changes:(e=this.changes)===null||e===void 0?void 0:e.toJSON(),mapped:(t=this.mapped)===null||t===void 0?void 0:t.toJSON(),startSelection:(i=this.startSelection)===null||i===void 0?void 0:i.toJSON(),selectionsAfter:this.selectionsAfter.map(s=>s.toJSON())}}static fromJSON(e){return new ji(e.changes&&Fn.fromJSON(e.changes),[],e.mapped&&uo.fromJSON(e.mapped),e.startSelection&&_e.fromJSON(e.startSelection),e.selectionsAfter.map(_e.fromJSON))}static fromTransaction(e,t){let i=cs;for(let s of e.startState.facet(SU)){let o=s(e);o.length&&(i=i.concat(o))}return!i.length&&e.changes.empty?null:new ji(e.changes.invert(e.startState.doc),i,void 0,t||e.startState.selection,cs)}static selection(e){return new ji(void 0,cs,void 0,void 0,e)}}function Md(n,e,t,i){let s=e+1>t+20?e-t-1:0,o=n.slice(s,e);return o.push(i),o}function PU(n,e){let t=[],i=!1;return n.iterChangedRanges((s,o)=>t.push(s,o)),e.iterChangedRanges((s,o,r,l)=>{for(let a=0;a<t.length;){let c=t[a++],f=t[a++];l>=c&&r<=f&&(i=!0)}}),i}function TU(n,e){return n.ranges.length==e.ranges.length&&n.ranges.filter((t,i)=>t.empty!=e.ranges[i].empty).length===0}function B5(n,e){return n.length?e.length?n.concat(e):n:e}const cs=[],EU=200;function j5(n,e){if(n.length){let t=n[n.length-1],i=t.selectionsAfter.slice(Math.max(0,t.selectionsAfter.length-EU));return i.length&&i[i.length-1].eq(e)?n:(i.push(e),Md(n,n.length-1,1e9,t.setSelAfter(i)))}else return[ji.selection([e])]}function RU(n){let e=n[n.length-1],t=n.slice();return t[n.length-1]=e.setSelAfter(e.selectionsAfter.slice(0,e.selectionsAfter.length-1)),t}function Tm(n,e){if(!n.length)return n;let t=n.length,i=cs;for(;t;){let s=DU(n[t-1],e,i);if(s.changes&&!s.changes.empty||s.effects.length){let o=n.slice(0,t);return o[t-1]=s,o}else e=s.mapped,t--,i=s.selectionsAfter}return i.length?[ji.selection(i)]:cs}function DU(n,e,t){let i=B5(n.selectionsAfter.length?n.selectionsAfter.map(l=>l.map(e)):cs,t);if(!n.changes)return ji.selection(i);let s=n.changes.map(e),o=e.mapDesc(n.changes,!0),r=n.mapped?n.mapped.composeDesc(o):o;return new ji(s,yt.mapEffects(n.effects,e),r,n.startSelection.map(o),i)}const LU=/^(input\.type|delete)($|\.)/;class ro{constructor(e,t,i=0,s=void 0){this.done=e,this.undone=t,this.prevTime=i,this.prevUserEvent=s}isolate(){return this.prevTime?new ro(this.done,this.undone):this}addChanges(e,t,i,s,o){let r=this.done,l=r[r.length-1];return l&&l.changes&&!l.changes.empty&&e.changes&&(!i||LU.test(i))&&(!l.selectionsAfter.length&&t-this.prevTime<s.newGroupDelay&&s.joinToEvent(o,PU(l.changes,e.changes))||i=="input.type.compose")?r=Md(r,r.length-1,s.minDepth,new ji(e.changes.compose(l.changes),B5(yt.mapEffects(e.effects,l.changes),l.effects),l.mapped,l.startSelection,cs)):r=Md(r,r.length,s.minDepth,e),new ro(r,cs,t,i)}addSelection(e,t,i,s){let o=this.done.length?this.done[this.done.length-1].selectionsAfter:cs;return o.length>0&&t-this.prevTime<s&&i==this.prevUserEvent&&i&&/^select($|\.)/.test(i)&&TU(o[o.length-1],e)?this:new ro(j5(this.done,e),this.undone,t,i)}addMapping(e){return new ro(Tm(this.done,e),Tm(this.undone,e),this.prevTime,this.prevUserEvent)}pop(e,t,i){let s=e==0?this.done:this.undone;if(s.length==0)return null;let o=s[s.length-1],r=o.selectionsAfter[0]||t.selection;if(i&&o.selectionsAfter.length)return t.update({selection:o.selectionsAfter[o.selectionsAfter.length-1],annotations:w1.of({side:e,rest:RU(s),selection:r}),userEvent:e==0?"select.undo":"select.redo",scrollIntoView:!0});if(o.changes){let l=s.length==1?cs:s.slice(0,s.length-1);return o.mapped&&(l=Tm(l,o.mapped)),t.update({changes:o.changes,selection:o.startSelection,effects:o.effects,annotations:w1.of({side:e,rest:l,selection:r}),filter:!1,userEvent:e==0?"undo":"redo",scrollIntoView:!0})}else return null}}ro.empty=new ro(cs,cs);const IU=[{key:"Mod-z",run:fb,preventDefault:!0},{key:"Mod-y",mac:"Mod-Shift-z",run:Cd,preventDefault:!0},{linux:"Ctrl-Shift-z",run:Cd,preventDefault:!0},{key:"Mod-u",run:MU,preventDefault:!0},{key:"Alt-u",mac:"Mod-Shift-u",run:AU,preventDefault:!0}];function fc(n,e){return _e.create(n.ranges.map(e),n.mainIndex)}function _o(n,e){return n.update({selection:e,scrollIntoView:!0,userEvent:"select"})}function Vs({state:n,dispatch:e},t){let i=fc(n.selection,t);return i.eq(n.selection,!0)?!1:(e(_o(n,i)),!0)}function Rg(n,e){return _e.cursor(e?n.to:n.from)}function z5(n,e){return Vs(n,t=>t.empty?n.moveByChar(t,e):Rg(t,e))}function Ci(n){return n.textDirectionAt(n.state.selection.main.head)==dn.LTR}const F5=n=>z5(n,!Ci(n)),V5=n=>z5(n,Ci(n));function H5(n,e){return Vs(n,t=>t.empty?n.moveByGroup(t,e):Rg(t,e))}const NU=n=>H5(n,!Ci(n)),BU=n=>H5(n,Ci(n));function jU(n,e,t){if(e.type.prop(t))return!0;let i=e.to-e.from;return i&&(i>2||/[^\s,.;:]/.test(n.sliceDoc(e.from,e.to)))||e.firstChild}function Dg(n,e,t){let i=ki(n).resolveInner(e.head),s=t?xt.closedBy:xt.openedBy;for(let a=e.head;;){let c=t?i.childAfter(a):i.childBefore(a);if(!c)break;jU(n,c,s)?i=c:a=t?c.to:c.from}let o=i.type.prop(s),r,l;return o&&(r=t?oo(n,i.from,1):oo(n,i.to,-1))&&r.matched?l=t?r.end.to:r.end.from:l=t?i.to:i.from,_e.cursor(l,t?-1:1)}const zU=n=>Vs(n,e=>Dg(n.state,e,!Ci(n))),FU=n=>Vs(n,e=>Dg(n.state,e,Ci(n)));function W5(n,e){return Vs(n,t=>{if(!t.empty)return Rg(t,e);let i=n.moveVertically(t,e);return i.head!=t.head?i:n.moveToLineBoundary(t,e)})}const q5=n=>W5(n,!1),U5=n=>W5(n,!0);function J5(n){let e=n.scrollDOM.clientHeight<n.scrollDOM.scrollHeight-2,t=0,i=0,s;if(e){for(let o of n.state.facet(Fe.scrollMargins)){let r=o(n);r!=null&&r.top&&(t=Math.max(r==null?void 0:r.top,t)),r!=null&&r.bottom&&(i=Math.max(r==null?void 0:r.bottom,i))}s=n.scrollDOM.clientHeight-t-i}else s=(n.dom.ownerDocument.defaultView||window).innerHeight;return{marginTop:t,marginBottom:i,selfScroll:e,height:Math.max(n.defaultLineHeight,s-5)}}function K5(n,e){let t=J5(n),{state:i}=n,s=fc(i.selection,r=>r.empty?n.moveVertically(r,e,t.height):Rg(r,e));if(s.eq(i.selection))return!1;let o;if(t.selfScroll){let r=n.coordsAtPos(i.selection.main.head),l=n.scrollDOM.getBoundingClientRect(),a=l.top+t.marginTop,c=l.bottom-t.marginBottom;r&&r.top>a&&r.bottom<c&&(o=Fe.scrollIntoView(s.main.head,{y:"start",yMargin:r.top-a}))}return n.dispatch(_o(i,s),{effects:o}),!0}const bk=n=>K5(n,!1),v1=n=>K5(n,!0);function Wr(n,e,t){let i=n.lineBlockAt(e.head),s=n.moveToLineBoundary(e,t);if(s.head==e.head&&s.head!=(t?i.to:i.from)&&(s=n.moveToLineBoundary(e,t,!1)),!t&&s.head==i.from&&i.length){let o=/^\s*/.exec(n.state.sliceDoc(i.from,Math.min(i.from+100,i.to)))[0].length;o&&e.head!=i.from+o&&(s=_e.cursor(i.from+o))}return s}const VU=n=>Vs(n,e=>Wr(n,e,!0)),HU=n=>Vs(n,e=>Wr(n,e,!1)),WU=n=>Vs(n,e=>Wr(n,e,!Ci(n))),qU=n=>Vs(n,e=>Wr(n,e,Ci(n))),UU=n=>Vs(n,e=>_e.cursor(n.lineBlockAt(e.head).from,1)),JU=n=>Vs(n,e=>_e.cursor(n.lineBlockAt(e.head).to,-1));function KU(n,e,t){let i=!1,s=fc(n.selection,o=>{let r=oo(n,o.head,-1)||oo(n,o.head,1)||o.head>0&&oo(n,o.head-1,1)||o.head<n.doc.length&&oo(n,o.head+1,-1);if(!r||!r.end)return o;i=!0;let l=r.start.from==o.head?r.end.to:r.end.from;return _e.cursor(l)});return i?(e(_o(n,s)),!0):!1}const YU=({state:n,dispatch:e})=>KU(n,e);function ws(n,e){let t=fc(n.state.selection,i=>{let s=e(i);return _e.range(i.anchor,s.head,s.goalColumn,s.bidiLevel||void 0)});return t.eq(n.state.selection)?!1:(n.dispatch(_o(n.state,t)),!0)}function Y5(n,e){return ws(n,t=>n.moveByChar(t,e))}const X5=n=>Y5(n,!Ci(n)),G5=n=>Y5(n,Ci(n));function Q5(n,e){return ws(n,t=>n.moveByGroup(t,e))}const XU=n=>Q5(n,!Ci(n)),GU=n=>Q5(n,Ci(n)),QU=n=>ws(n,e=>Dg(n.state,e,!Ci(n))),ZU=n=>ws(n,e=>Dg(n.state,e,Ci(n)));function Z5(n,e){return ws(n,t=>n.moveVertically(t,e))}const $5=n=>Z5(n,!1),eA=n=>Z5(n,!0);function tA(n,e){return ws(n,t=>n.moveVertically(t,e,J5(n).height))}const yk=n=>tA(n,!1),_k=n=>tA(n,!0),$U=n=>ws(n,e=>Wr(n,e,!0)),eJ=n=>ws(n,e=>Wr(n,e,!1)),tJ=n=>ws(n,e=>Wr(n,e,!Ci(n))),nJ=n=>ws(n,e=>Wr(n,e,Ci(n))),iJ=n=>ws(n,e=>_e.cursor(n.lineBlockAt(e.head).from)),sJ=n=>ws(n,e=>_e.cursor(n.lineBlockAt(e.head).to)),wk=({state:n,dispatch:e})=>(e(_o(n,{anchor:0})),!0),vk=({state:n,dispatch:e})=>(e(_o(n,{anchor:n.doc.length})),!0),kk=({state:n,dispatch:e})=>(e(_o(n,{anchor:n.selection.main.anchor,head:0})),!0),Sk=({state:n,dispatch:e})=>(e(_o(n,{anchor:n.selection.main.anchor,head:n.doc.length})),!0),oJ=({state:n,dispatch:e})=>(e(n.update({selection:{anchor:0,head:n.doc.length},userEvent:"select"})),!0),rJ=({state:n,dispatch:e})=>{let t=Lg(n).map(({from:i,to:s})=>_e.range(i,Math.min(s+1,n.doc.length)));return e(n.update({selection:_e.create(t),userEvent:"select"})),!0},lJ=({state:n,dispatch:e})=>{let t=fc(n.selection,i=>{var s;let o=ki(n).resolveStack(i.from,1);for(let r=o;r;r=r.next){let{node:l}=r;if((l.from<i.from&&l.to>=i.to||l.to>i.to&&l.from<=i.from)&&(!((s=l.parent)===null||s===void 0)&&s.parent))return _e.range(l.to,l.from)}return i});return e(_o(n,t)),!0},aJ=({state:n,dispatch:e})=>{let t=n.selection,i=null;return t.ranges.length>1?i=_e.create([t.main]):t.main.empty||(i=_e.create([_e.cursor(t.main.head)])),i?(e(_o(n,i)),!0):!1};function ru(n,e){if(n.state.readOnly)return!1;let t="delete.selection",{state:i}=n,s=i.changeByRange(o=>{let{from:r,to:l}=o;if(r==l){let a=e(o);a<r?(t="delete.backward",a=qu(n,a,!1)):a>r&&(t="delete.forward",a=qu(n,a,!0)),r=Math.min(r,a),l=Math.max(l,a)}else r=qu(n,r,!1),l=qu(n,l,!0);return r==l?{range:o}:{changes:{from:r,to:l},range:_e.cursor(r,r<o.head?-1:1)}});return s.changes.empty?!1:(n.dispatch(i.update(s,{scrollIntoView:!0,userEvent:t,effects:t=="delete.selection"?Fe.announce.of(i.phrase("Selection deleted")):void 0})),!0)}function qu(n,e,t){if(n instanceof Fe)for(let i of n.state.facet(Fe.atomicRanges).map(s=>s(n)))i.between(e,e,(s,o)=>{s<e&&o>e&&(e=t?o:s)});return e}const nA=(n,e,t)=>ru(n,i=>{let s=i.from,{state:o}=n,r=o.doc.lineAt(s),l,a;if(t&&!e&&s>r.from&&s<r.from+200&&!/[^ \t]/.test(l=r.text.slice(0,s-r.from))){if(l[l.length-1]=="	")return s-1;let c=cc(l,o.tabSize),f=c%Br(o)||Br(o);for(let u=0;u<f&&l[l.length-1-u]==" ";u++)s--;a=s}else a=oi(r.text,s-r.from,e,e)+r.from,a==s&&r.number!=(e?o.doc.lines:1)?a+=e?1:-1:!e&&/[\ufe00-\ufe0f]/.test(r.text.slice(a-r.from,s-r.from))&&(a=oi(r.text,a-r.from,!1,!1)+r.from);return a}),k1=n=>nA(n,!1,!0),iA=n=>nA(n,!0,!1),sA=(n,e)=>ru(n,t=>{let i=t.head,{state:s}=n,o=s.doc.lineAt(i),r=s.charCategorizer(i);for(let l=null;;){if(i==(e?o.to:o.from)){i==t.head&&o.number!=(e?s.doc.lines:1)&&(i+=e?1:-1);break}let a=oi(o.text,i-o.from,e)+o.from,c=o.text.slice(Math.min(i,a)-o.from,Math.max(i,a)-o.from),f=r(c);if(l!=null&&f!=l)break;(c!=" "||i!=t.head)&&(l=f),i=a}return i}),oA=n=>sA(n,!1),cJ=n=>sA(n,!0),fJ=n=>ru(n,e=>{let t=n.lineBlockAt(e.head).to;return e.head<t?t:Math.min(n.state.doc.length,e.head+1)}),uJ=n=>ru(n,e=>{let t=n.moveToLineBoundary(e,!1).head;return e.head>t?t:Math.max(0,e.head-1)}),hJ=n=>ru(n,e=>{let t=n.moveToLineBoundary(e,!0).head;return e.head<t?t:Math.min(n.state.doc.length,e.head+1)}),dJ=({state:n,dispatch:e})=>{if(n.readOnly)return!1;let t=n.changeByRange(i=>({changes:{from:i.from,to:i.to,insert:qt.of(["",""])},range:_e.cursor(i.from)}));return e(n.update(t,{scrollIntoView:!0,userEvent:"input"})),!0},gJ=({state:n,dispatch:e})=>{if(n.readOnly)return!1;let t=n.changeByRange(i=>{if(!i.empty||i.from==0||i.from==n.doc.length)return{range:i};let s=i.from,o=n.doc.lineAt(s),r=s==o.from?s-1:oi(o.text,s-o.from,!1)+o.from,l=s==o.to?s+1:oi(o.text,s-o.from,!0)+o.from;return{changes:{from:r,to:l,insert:n.doc.slice(s,l).append(n.doc.slice(r,s))},range:_e.cursor(l)}});return t.changes.empty?!1:(e(n.update(t,{scrollIntoView:!0,userEvent:"move.character"})),!0)};function Lg(n){let e=[],t=-1;for(let i of n.selection.ranges){let s=n.doc.lineAt(i.from),o=n.doc.lineAt(i.to);if(!i.empty&&i.to==o.from&&(o=n.doc.lineAt(i.to-1)),t>=s.number){let r=e[e.length-1];r.to=o.to,r.ranges.push(i)}else e.push({from:s.from,to:o.to,ranges:[i]});t=o.number+1}return e}function rA(n,e,t){if(n.readOnly)return!1;let i=[],s=[];for(let o of Lg(n)){if(t?o.to==n.doc.length:o.from==0)continue;let r=n.doc.lineAt(t?o.to+1:o.from-1),l=r.length+1;if(t){i.push({from:o.to,to:r.to},{from:o.from,insert:r.text+n.lineBreak});for(let a of o.ranges)s.push(_e.range(Math.min(n.doc.length,a.anchor+l),Math.min(n.doc.length,a.head+l)))}else{i.push({from:r.from,to:o.from},{from:o.to,insert:n.lineBreak+r.text});for(let a of o.ranges)s.push(_e.range(a.anchor-l,a.head-l))}}return i.length?(e(n.update({changes:i,scrollIntoView:!0,selection:_e.create(s,n.selection.mainIndex),userEvent:"move.line"})),!0):!1}const mJ=({state:n,dispatch:e})=>rA(n,e,!1),pJ=({state:n,dispatch:e})=>rA(n,e,!0);function lA(n,e,t){if(n.readOnly)return!1;let i=[];for(let s of Lg(n))t?i.push({from:s.from,insert:n.doc.slice(s.from,s.to)+n.lineBreak}):i.push({from:s.to,insert:n.lineBreak+n.doc.slice(s.from,s.to)});return e(n.update({changes:i,scrollIntoView:!0,userEvent:"input.copyline"})),!0}const bJ=({state:n,dispatch:e})=>lA(n,e,!1),yJ=({state:n,dispatch:e})=>lA(n,e,!0),_J=n=>{if(n.state.readOnly)return!1;let{state:e}=n,t=e.changes(Lg(e).map(({from:s,to:o})=>(s>0?s--:o<e.doc.length&&o++,{from:s,to:o}))),i=fc(e.selection,s=>{let o;if(n.lineWrapping){let r=n.lineBlockAt(s.head),l=n.coordsAtPos(s.head,s.assoc||1);l&&(o=r.bottom+n.documentTop-l.bottom+n.defaultLineHeight/2)}return n.moveVertically(s,!0,o)}).map(t);return n.dispatch({changes:t,selection:i,scrollIntoView:!0,userEvent:"delete.line"}),!0};function wJ(n,e){if(/\(\)|\[\]|\{\}/.test(n.sliceDoc(e-1,e+1)))return{from:e,to:e};let t=ki(n).resolveInner(e),i=t.childBefore(e),s=t.childAfter(e),o;return i&&s&&i.to<=e&&s.from>=e&&(o=i.type.prop(xt.closedBy))&&o.indexOf(s.name)>-1&&n.doc.lineAt(i.to).from==n.doc.lineAt(s.from).from&&!/\S/.test(n.sliceDoc(i.to,s.from))?{from:i.to,to:s.from}:null}const vJ=aA(!1),kJ=aA(!0);function aA(n){return({state:e,dispatch:t})=>{if(e.readOnly)return!1;let i=e.changeByRange(s=>{let{from:o,to:r}=s,l=e.doc.lineAt(o),a=!n&&o==r&&wJ(e,o);n&&(o=r=(r<=l.to?l:e.doc.lineAt(r)).to);let c=new Pg(e,{simulateBreak:o,simulateDoubleBreak:!!a}),f=ob(c,o);for(f==null&&(f=cc(/^\s*/.exec(e.doc.lineAt(o).text)[0],e.tabSize));r<l.to&&/\s/.test(l.text[r-l.from]);)r++;a?{from:o,to:r}=a:o>l.from&&o<l.from+100&&!/\S/.test(l.text.slice(0,o))&&(o=l.from);let u=["",Tf(e,f)];return a&&u.push(Tf(e,c.lineIndent(l.from,-1))),{changes:{from:o,to:r,insert:qt.of(u)},range:_e.cursor(o+1+u[1].length)}});return t(e.update(i,{scrollIntoView:!0,userEvent:"input"})),!0}}function ub(n,e){let t=-1;return n.changeByRange(i=>{let s=[];for(let r=i.from;r<=i.to;){let l=n.doc.lineAt(r);l.number>t&&(i.empty||i.to>l.from)&&(e(l,s,i),t=l.number),r=l.to+1}let o=n.changes(s);return{changes:s,range:_e.range(o.mapPos(i.anchor,1),o.mapPos(i.head,1))}})}const SJ=({state:n,dispatch:e})=>{if(n.readOnly)return!1;let t=Object.create(null),i=new Pg(n,{overrideIndentation:o=>{let r=t[o];return r??-1}}),s=ub(n,(o,r,l)=>{let a=ob(i,o.from);if(a==null)return;/\S/.test(o.text)||(a=0);let c=/^\s*/.exec(o.text)[0],f=Tf(n,a);(c!=f||l.from<o.from+c.length)&&(t[o.from]=a,r.push({from:o.from,to:o.from+c.length,insert:f}))});return s.changes.empty||e(n.update(s,{userEvent:"indent"})),!0},cA=({state:n,dispatch:e})=>n.readOnly?!1:(e(n.update(ub(n,(t,i)=>{i.push({from:t.from,insert:n.facet(Og)})}),{userEvent:"input.indent"})),!0),fA=({state:n,dispatch:e})=>n.readOnly?!1:(e(n.update(ub(n,(t,i)=>{let s=/^\s*/.exec(t.text)[0];if(!s)return;let o=cc(s,n.tabSize),r=0,l=Tf(n,Math.max(0,o-Br(n)));for(;r<s.length&&r<l.length&&s.charCodeAt(r)==l.charCodeAt(r);)r++;i.push({from:t.from+r,to:t.from+s.length,insert:l.slice(r)})}),{userEvent:"delete.dedent"})),!0),CJ=n=>(n.setTabFocusMode(),!0),MJ=[{key:"Ctrl-b",run:F5,shift:X5,preventDefault:!0},{key:"Ctrl-f",run:V5,shift:G5},{key:"Ctrl-p",run:q5,shift:$5},{key:"Ctrl-n",run:U5,shift:eA},{key:"Ctrl-a",run:UU,shift:iJ},{key:"Ctrl-e",run:JU,shift:sJ},{key:"Ctrl-d",run:iA},{key:"Ctrl-h",run:k1},{key:"Ctrl-k",run:fJ},{key:"Ctrl-Alt-h",run:oA},{key:"Ctrl-o",run:dJ},{key:"Ctrl-t",run:gJ},{key:"Ctrl-v",run:v1}],AJ=[{key:"ArrowLeft",run:F5,shift:X5,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:NU,shift:XU,preventDefault:!0},{mac:"Cmd-ArrowLeft",run:WU,shift:tJ,preventDefault:!0},{key:"ArrowRight",run:V5,shift:G5,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:BU,shift:GU,preventDefault:!0},{mac:"Cmd-ArrowRight",run:qU,shift:nJ,preventDefault:!0},{key:"ArrowUp",run:q5,shift:$5,preventDefault:!0},{mac:"Cmd-ArrowUp",run:wk,shift:kk},{mac:"Ctrl-ArrowUp",run:bk,shift:yk},{key:"ArrowDown",run:U5,shift:eA,preventDefault:!0},{mac:"Cmd-ArrowDown",run:vk,shift:Sk},{mac:"Ctrl-ArrowDown",run:v1,shift:_k},{key:"PageUp",run:bk,shift:yk},{key:"PageDown",run:v1,shift:_k},{key:"Home",run:HU,shift:eJ,preventDefault:!0},{key:"Mod-Home",run:wk,shift:kk},{key:"End",run:VU,shift:$U,preventDefault:!0},{key:"Mod-End",run:vk,shift:Sk},{key:"Enter",run:vJ},{key:"Mod-a",run:oJ},{key:"Backspace",run:k1,shift:k1},{key:"Delete",run:iA},{key:"Mod-Backspace",mac:"Alt-Backspace",run:oA},{key:"Mod-Delete",mac:"Alt-Delete",run:cJ},{mac:"Mod-Backspace",run:uJ},{mac:"Mod-Delete",run:hJ}].concat(MJ.map(n=>({mac:n.key,run:n.run,shift:n.shift}))),xJ=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:zU,shift:QU},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:FU,shift:ZU},{key:"Alt-ArrowUp",run:mJ},{key:"Shift-Alt-ArrowUp",run:bJ},{key:"Alt-ArrowDown",run:pJ},{key:"Shift-Alt-ArrowDown",run:yJ},{key:"Escape",run:aJ},{key:"Mod-Enter",run:kJ},{key:"Alt-l",mac:"Ctrl-l",run:rJ},{key:"Mod-i",run:lJ,preventDefault:!0},{key:"Mod-[",run:fA},{key:"Mod-]",run:cA},{key:"Mod-Alt-\\",run:SJ},{key:"Shift-Mod-k",run:_J},{key:"Shift-Mod-\\",run:YU},{key:"Mod-/",run:mU},{key:"Alt-A",run:bU},{key:"Ctrl-m",mac:"Shift-Alt-m",run:CJ}].concat(AJ),OJ={key:"Tab",run:cA,shift:fA};function ln(){var n=arguments[0];typeof n=="string"&&(n=document.createElement(n));var e=1,t=arguments[1];if(t&&typeof t=="object"&&t.nodeType==null&&!Array.isArray(t)){for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var s=t[i];typeof s=="string"?n.setAttribute(i,s):s!=null&&(n[i]=s)}e++}for(;e<arguments.length;e++)uA(n,arguments[e]);return n}function uA(n,e){if(typeof e=="string")n.appendChild(document.createTextNode(e));else if(e!=null)if(e.nodeType!=null)n.appendChild(e);else if(Array.isArray(e))for(var t=0;t<e.length;t++)uA(n,e[t]);else throw new RangeError("Unsupported child node: "+e)}class PJ{constructor(e,t,i){this.from=e,this.to=t,this.diagnostic=i}}class al{constructor(e,t,i){this.diagnostics=e,this.panel=t,this.selected=i}static init(e,t,i){let s=e,o=i.facet(lo).markerFilter;o&&(s=o(s,i));let r=lt.set(s.map(l=>l.from==l.to||l.from==l.to-1&&i.doc.lineAt(l.from).to==l.from?lt.widget({widget:new jJ(l),diagnostic:l}).range(l.from):lt.mark({attributes:{class:"cm-lintRange cm-lintRange-"+l.severity+(l.markClass?" "+l.markClass:"")},diagnostic:l}).range(l.from,l.to)),!0);return new al(r,t,Ga(r))}}function Ga(n,e=null,t=0){let i=null;return n.between(t,1e9,(s,o,{spec:r})=>{if(!(e&&r.diagnostic!=e))return i=new PJ(s,o,r.diagnostic),!1}),i}function hA(n,e){let t=e.pos,i=e.end||t,s=n.state.facet(lo).hideOn(n,t,i);if(s!=null)return s;let o=n.startState.doc.lineAt(e.pos);return!!(n.effects.some(r=>r.is(Ig))||n.changes.touchesRange(o.from,Math.max(o.to,i)))}function dA(n,e){return n.field(Qi,!1)?e:e.concat(yt.appendConfig.of(wA))}function TJ(n,e){return{effects:dA(n,[Ig.of(e)])}}const Ig=yt.define(),hb=yt.define(),gA=yt.define(),Qi=Un.define({create(){return new al(lt.none,null,null)},update(n,e){if(e.docChanged&&n.diagnostics.size){let t=n.diagnostics.map(e.changes),i=null,s=n.panel;if(n.selected){let o=e.changes.mapPos(n.selected.from,1);i=Ga(t,n.selected.diagnostic,o)||Ga(t,null,o)}!t.size&&s&&e.state.facet(lo).autoPanel&&(s=null),n=new al(t,s,i)}for(let t of e.effects)if(t.is(Ig)){let i=e.state.facet(lo).autoPanel?t.value.length?Ef.open:null:n.panel;n=al.init(t.value,i,e.state)}else t.is(hb)?n=new al(n.diagnostics,t.value?Ef.open:null,n.selected):t.is(gA)&&(n=new al(n.diagnostics,n.panel,t.value));return n},provide:n=>[Of.from(n,e=>e.panel),Fe.decorations.from(n,e=>e.diagnostics)]}),EJ=lt.mark({class:"cm-lintRange cm-lintRange-active"});function RJ(n,e,t){let{diagnostics:i}=n.state.field(Qi),s=[],o=2e8,r=0;i.between(e-(t<0?1:0),e+(t>0?1:0),(a,c,{spec:f})=>{e>=a&&e<=c&&(a==c||(e>a||t>0)&&(e<c||t<0))&&(s.push(f.diagnostic),o=Math.min(a,o),r=Math.max(c,r))});let l=n.state.facet(lo).tooltipFilter;return l&&(s=l(s,n.state)),s.length?{pos:o,end:r,above:n.state.doc.lineAt(o).to<r,create(){return{dom:mA(n,s)}}}:null}function mA(n,e){return ln("ul",{class:"cm-tooltip-lint"},e.map(t=>bA(n,t,!1)))}const DJ=n=>{let e=n.state.field(Qi,!1);(!e||!e.panel)&&n.dispatch({effects:dA(n.state,[hb.of(!0)])});let t=xf(n,Ef.open);return t&&t.dom.querySelector(".cm-panel-lint ul").focus(),!0},Ck=n=>{let e=n.state.field(Qi,!1);return!e||!e.panel?!1:(n.dispatch({effects:hb.of(!1)}),!0)},LJ=n=>{let e=n.state.field(Qi,!1);if(!e)return!1;let t=n.state.selection.main,i=e.diagnostics.iter(t.to+1);return!i.value&&(i=e.diagnostics.iter(0),!i.value||i.from==t.from&&i.to==t.to)?!1:(n.dispatch({selection:{anchor:i.from,head:i.to},scrollIntoView:!0}),!0)},IJ=[{key:"Mod-Shift-m",run:DJ,preventDefault:!0},{key:"F8",run:LJ}],NJ=An.fromClass(class{constructor(n){this.view=n,this.timeout=-1,this.set=!0;let{delay:e}=n.state.facet(lo);this.lintTime=Date.now()+e,this.run=this.run.bind(this),this.timeout=setTimeout(this.run,e)}run(){clearTimeout(this.timeout);let n=Date.now();if(n<this.lintTime-10)this.timeout=setTimeout(this.run,this.lintTime-n);else{this.set=!1;let{state:e}=this.view,{sources:t}=e.facet(lo);t.length&&Promise.all(t.map(i=>Promise.resolve(i(this.view)))).then(i=>{let s=i.reduce((o,r)=>o.concat(r));this.view.state.doc==e.doc&&this.view.dispatch(TJ(this.view.state,s))},i=>{Pi(this.view.state,i)})}}update(n){let e=n.state.facet(lo);(n.docChanged||e!=n.startState.facet(lo)||e.needsRefresh&&e.needsRefresh(n))&&(this.lintTime=Date.now()+e.delay,this.set||(this.set=!0,this.timeout=setTimeout(this.run,e.delay)))}force(){this.set&&(this.lintTime=Date.now(),this.run())}destroy(){clearTimeout(this.timeout)}}),lo=He.define({combine(n){return Object.assign({sources:n.map(e=>e.source).filter(e=>e!=null)},_s(n.map(e=>e.config),{delay:750,markerFilter:null,tooltipFilter:null,needsRefresh:null,hideOn:()=>null},{needsRefresh:(e,t)=>e?t?i=>e(i)||t(i):e:t}))}});function BJ(n,e={}){return[lo.of({source:n,config:e}),NJ,wA]}function pA(n){let e=[];if(n)e:for(let{name:t}of n){for(let i=0;i<t.length;i++){let s=t[i];if(/[a-zA-Z]/.test(s)&&!e.some(o=>o.toLowerCase()==s.toLowerCase())){e.push(s);continue e}}e.push("")}return e}function bA(n,e,t){var i;let s=t?pA(e.actions):[];return ln("li",{class:"cm-diagnostic cm-diagnostic-"+e.severity},ln("span",{class:"cm-diagnosticText"},e.renderMessage?e.renderMessage(n):e.message),(i=e.actions)===null||i===void 0?void 0:i.map((o,r)=>{let l=!1,a=h=>{if(h.preventDefault(),l)return;l=!0;let d=Ga(n.state.field(Qi).diagnostics,e);d&&o.apply(n,d.from,d.to)},{name:c}=o,f=s[r]?c.indexOf(s[r]):-1,u=f<0?c:[c.slice(0,f),ln("u",c.slice(f,f+1)),c.slice(f+1)];return ln("button",{type:"button",class:"cm-diagnosticAction",onclick:a,onmousedown:a,"aria-label":` Action: ${c}${f<0?"":` (access key "${s[r]})"`}.`},u)}),e.source&&ln("div",{class:"cm-diagnosticSource"},e.source))}class jJ extends Hr{constructor(e){super(),this.diagnostic=e}eq(e){return e.diagnostic==this.diagnostic}toDOM(){return ln("span",{class:"cm-lintPoint cm-lintPoint-"+this.diagnostic.severity})}}class Mk{constructor(e,t){this.diagnostic=t,this.id="item_"+Math.floor(Math.random()*4294967295).toString(16),this.dom=bA(e,t,!0),this.dom.id=this.id,this.dom.setAttribute("role","option")}}class Ef{constructor(e){this.view=e,this.items=[];let t=s=>{if(s.keyCode==27)Ck(this.view),this.view.focus();else if(s.keyCode==38||s.keyCode==33)this.moveSelection((this.selectedIndex-1+this.items.length)%this.items.length);else if(s.keyCode==40||s.keyCode==34)this.moveSelection((this.selectedIndex+1)%this.items.length);else if(s.keyCode==36)this.moveSelection(0);else if(s.keyCode==35)this.moveSelection(this.items.length-1);else if(s.keyCode==13)this.view.focus();else if(s.keyCode>=65&&s.keyCode<=90&&this.selectedIndex>=0){let{diagnostic:o}=this.items[this.selectedIndex],r=pA(o.actions);for(let l=0;l<r.length;l++)if(r[l].toUpperCase().charCodeAt(0)==s.keyCode){let a=Ga(this.view.state.field(Qi).diagnostics,o);a&&o.actions[l].apply(e,a.from,a.to)}}else return;s.preventDefault()},i=s=>{for(let o=0;o<this.items.length;o++)this.items[o].dom.contains(s.target)&&this.moveSelection(o)};this.list=ln("ul",{tabIndex:0,role:"listbox","aria-label":this.view.state.phrase("Diagnostics"),onkeydown:t,onclick:i}),this.dom=ln("div",{class:"cm-panel-lint"},this.list,ln("button",{type:"button",name:"close","aria-label":this.view.state.phrase("close"),onclick:()=>Ck(this.view)},"×")),this.update()}get selectedIndex(){let e=this.view.state.field(Qi).selected;if(!e)return-1;for(let t=0;t<this.items.length;t++)if(this.items[t].diagnostic==e.diagnostic)return t;return-1}update(){let{diagnostics:e,selected:t}=this.view.state.field(Qi),i=0,s=!1,o=null;for(e.between(0,this.view.state.doc.length,(r,l,{spec:a})=>{let c=-1,f;for(let u=i;u<this.items.length;u++)if(this.items[u].diagnostic==a.diagnostic){c=u;break}c<0?(f=new Mk(this.view,a.diagnostic),this.items.splice(i,0,f),s=!0):(f=this.items[c],c>i&&(this.items.splice(i,c-i),s=!0)),t&&f.diagnostic==t.diagnostic?f.dom.hasAttribute("aria-selected")||(f.dom.setAttribute("aria-selected","true"),o=f):f.dom.hasAttribute("aria-selected")&&f.dom.removeAttribute("aria-selected"),i++});i<this.items.length&&!(this.items.length==1&&this.items[0].diagnostic.from<0);)s=!0,this.items.pop();this.items.length==0&&(this.items.push(new Mk(this.view,{from:-1,to:-1,severity:"info",message:this.view.state.phrase("No diagnostics")})),s=!0),o?(this.list.setAttribute("aria-activedescendant",o.id),this.view.requestMeasure({key:this,read:()=>({sel:o.dom.getBoundingClientRect(),panel:this.list.getBoundingClientRect()}),write:({sel:r,panel:l})=>{let a=l.height/this.list.offsetHeight;r.top<l.top?this.list.scrollTop-=(l.top-r.top)/a:r.bottom>l.bottom&&(this.list.scrollTop+=(r.bottom-l.bottom)/a)}})):this.selectedIndex<0&&this.list.removeAttribute("aria-activedescendant"),s&&this.sync()}sync(){let e=this.list.firstChild;function t(){let i=e;e=i.nextSibling,i.remove()}for(let i of this.items)if(i.dom.parentNode==this.list){for(;e!=i.dom;)t();e=i.dom.nextSibling}else this.list.insertBefore(i.dom,e);for(;e;)t()}moveSelection(e){if(this.selectedIndex<0)return;let t=this.view.state.field(Qi),i=Ga(t.diagnostics,this.items[e].diagnostic);i&&this.view.dispatch({selection:{anchor:i.from,head:i.to},scrollIntoView:!0,effects:gA.of(i)})}static open(e){return new Ef(e)}}function Th(n,e='viewBox="0 0 40 40"'){return`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" ${e}>${encodeURIComponent(n)}</svg>')`}function Uu(n){return Th(`<path d="m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0" stroke="${n}" fill="none" stroke-width=".7"/>`,'width="6" height="3"')}const zJ=Fe.baseTheme({".cm-diagnostic":{padding:"3px 6px 3px 8px",marginLeft:"-1px",display:"block",whiteSpace:"pre-wrap"},".cm-diagnostic-error":{borderLeft:"5px solid #d11"},".cm-diagnostic-warning":{borderLeft:"5px solid orange"},".cm-diagnostic-info":{borderLeft:"5px solid #999"},".cm-diagnostic-hint":{borderLeft:"5px solid #66d"},".cm-diagnosticAction":{font:"inherit",border:"none",padding:"2px 4px",backgroundColor:"#444",color:"white",borderRadius:"3px",marginLeft:"8px",cursor:"pointer"},".cm-diagnosticSource":{fontSize:"70%",opacity:.7},".cm-lintRange":{backgroundPosition:"left bottom",backgroundRepeat:"repeat-x",paddingBottom:"0.7px"},".cm-lintRange-error":{backgroundImage:Uu("#d11")},".cm-lintRange-warning":{backgroundImage:Uu("orange")},".cm-lintRange-info":{backgroundImage:Uu("#999")},".cm-lintRange-hint":{backgroundImage:Uu("#66d")},".cm-lintRange-active":{backgroundColor:"#ffdd9980"},".cm-tooltip-lint":{padding:0,margin:0},".cm-lintPoint":{position:"relative","&:after":{content:'""',position:"absolute",bottom:0,left:"-2px",borderLeft:"3px solid transparent",borderRight:"3px solid transparent",borderBottom:"4px solid #d11"}},".cm-lintPoint-warning":{"&:after":{borderBottomColor:"orange"}},".cm-lintPoint-info":{"&:after":{borderBottomColor:"#999"}},".cm-lintPoint-hint":{"&:after":{borderBottomColor:"#66d"}},".cm-panel.cm-panel-lint":{position:"relative","& ul":{maxHeight:"100px",overflowY:"auto","& [aria-selected]":{backgroundColor:"#ddd","& u":{textDecoration:"underline"}},"&:focus [aria-selected]":{background_fallback:"#bdf",backgroundColor:"Highlight",color_fallback:"white",color:"HighlightText"},"& u":{textDecoration:"none"},padding:0,margin:0},"& [name=close]":{position:"absolute",top:"0",right:"2px",background:"inherit",border:"none",font:"inherit",padding:0,margin:0}}});function Ak(n){return n=="error"?4:n=="warning"?3:n=="info"?2:1}class FJ extends yo{constructor(e){super(),this.diagnostics=e,this.severity=e.reduce((t,i)=>Ak(t)<Ak(i.severity)?i.severity:t,"hint")}toDOM(e){let t=document.createElement("div");t.className="cm-lint-marker cm-lint-marker-"+this.severity;let i=this.diagnostics,s=e.state.facet(Ng).tooltipFilter;return s&&(i=s(i,e.state)),i.length&&(t.onmouseover=()=>HJ(e,t,i)),t}}function VJ(n,e){let t=i=>{let s=e.getBoundingClientRect();if(!(i.clientX>s.left-10&&i.clientX<s.right+10&&i.clientY>s.top-10&&i.clientY<s.bottom+10)){for(let o=i.target;o;o=o.parentNode)if(o.nodeType==1&&o.classList.contains("cm-tooltip-lint"))return;window.removeEventListener("mousemove",t),n.state.field(_A)&&n.dispatch({effects:db.of(null)})}};window.addEventListener("mousemove",t)}function HJ(n,e,t){function i(){let r=n.elementAtHeight(e.getBoundingClientRect().top+5-n.documentTop);n.coordsAtPos(r.from)&&n.dispatch({effects:db.of({pos:r.from,above:!1,create(){return{dom:mA(n,t),getCoords:()=>e.getBoundingClientRect()}}})}),e.onmouseout=e.onmousemove=null,VJ(n,e)}let{hoverTime:s}=n.state.facet(Ng),o=setTimeout(i,s);e.onmouseout=()=>{clearTimeout(o),e.onmouseout=e.onmousemove=null},e.onmousemove=()=>{clearTimeout(o),o=setTimeout(i,s)}}function WJ(n,e){let t=Object.create(null);for(let s of e){let o=n.lineAt(s.from);(t[o.from]||(t[o.from]=[])).push(s)}let i=[];for(let s in t)i.push(new FJ(t[s]).range(+s));return jt.of(i,!0)}const qJ=l5({class:"cm-gutter-lint",markers:n=>n.state.field(yA)}),yA=Un.define({create(){return jt.empty},update(n,e){n=n.map(e.changes);let t=e.state.facet(Ng).markerFilter;for(let i of e.effects)if(i.is(Ig)){let s=i.value;t&&(s=t(s||[],e.state)),n=WJ(e.state.doc,s.slice(0))}return n}}),db=yt.define(),_A=Un.define({create(){return null},update(n,e){return n&&e.docChanged&&(n=hA(e,n)?null:Object.assign(Object.assign({},n),{pos:e.changes.mapPos(n.pos)})),e.effects.reduce((t,i)=>i.is(db)?i.value:t,n)},provide:n=>Ag.from(n)}),UJ=Fe.baseTheme({".cm-gutter-lint":{width:"1.4em","& .cm-gutterElement":{padding:".2em"}},".cm-lint-marker":{width:"1em",height:"1em"},".cm-lint-marker-info":{content:Th('<path fill="#aaf" stroke="#77e" stroke-width="6" stroke-linejoin="round" d="M5 5L35 5L35 35L5 35Z"/>')},".cm-lint-marker-warning":{content:Th('<path fill="#fe8" stroke="#fd7" stroke-width="6" stroke-linejoin="round" d="M20 6L37 35L3 35Z"/>')},".cm-lint-marker-error":{content:Th('<circle cx="20" cy="20" r="15" fill="#f87" stroke="#f43" stroke-width="6"/>')}}),wA=[Qi,Fe.decorations.compute([Qi],n=>{let{selected:e,panel:t}=n.field(Qi);return!e||!t||e.from==e.to?lt.none:lt.set([EJ.range(e.from,e.to)])}),YW(RJ,{hideOn:hA}),zJ],Ng=He.define({combine(n){return _s(n,{hoverTime:300,markerFilter:null,tooltipFilter:null})}});function JJ(n={}){return[Ng.of(n),yA,qJ,UJ,_A]}var xk={};class Ad{constructor(e,t,i,s,o,r,l,a,c,f=0,u){this.p=e,this.stack=t,this.state=i,this.reducePos=s,this.pos=o,this.score=r,this.buffer=l,this.bufferBase=a,this.curContext=c,this.lookAhead=f,this.parent=u}toString(){return`[${this.stack.filter((e,t)=>t%3==0).concat(this.state)}]@${this.pos}${this.score?"!"+this.score:""}`}static start(e,t,i=0){let s=e.parser.context;return new Ad(e,[],t,i,i,0,[],0,s?new Ok(s,s.start):null,0,null)}get context(){return this.curContext?this.curContext.context:null}pushState(e,t){this.stack.push(this.state,t,this.bufferBase+this.buffer.length),this.state=e}reduce(e){var t;let i=e>>19,s=e&65535,{parser:o}=this.p,r=this.reducePos<this.pos-25;r&&this.setLookAhead(this.pos);let l=o.dynamicPrecedence(s);if(l&&(this.score+=l),i==0){this.pushState(o.getGoto(this.state,s,!0),this.reducePos),s<o.minRepeatTerm&&this.storeNode(s,this.reducePos,this.reducePos,r?8:4,!0),this.reduceContext(s,this.reducePos);return}let a=this.stack.length-(i-1)*3-(e&262144?6:0),c=a?this.stack[a-2]:this.p.ranges[0].from,f=this.reducePos-c;f>=2e3&&!(!((t=this.p.parser.nodeSet.types[s])===null||t===void 0)&&t.isAnonymous)&&(c==this.p.lastBigReductionStart?(this.p.bigReductionCount++,this.p.lastBigReductionSize=f):this.p.lastBigReductionSize<f&&(this.p.bigReductionCount=1,this.p.lastBigReductionStart=c,this.p.lastBigReductionSize=f));let u=a?this.stack[a-1]:0,h=this.bufferBase+this.buffer.length-u;if(s<o.minRepeatTerm||e&131072){let d=o.stateFlag(this.state,1)?this.pos:this.reducePos;this.storeNode(s,c,d,h+4,!0)}if(e&262144)this.state=this.stack[a];else{let d=this.stack[a-3];this.state=o.getGoto(d,s,!0)}for(;this.stack.length>a;)this.stack.pop();this.reduceContext(s,c)}storeNode(e,t,i,s=4,o=!1){if(e==0&&(!this.stack.length||this.stack[this.stack.length-1]<this.buffer.length+this.bufferBase)){let r=this,l=this.buffer.length;if(l==0&&r.parent&&(l=r.bufferBase-r.parent.bufferBase,r=r.parent),l>0&&r.buffer[l-4]==0&&r.buffer[l-1]>-1){if(t==i)return;if(r.buffer[l-2]>=t){r.buffer[l-2]=i;return}}}if(!o||this.pos==i)this.buffer.push(e,t,i,s);else{let r=this.buffer.length;if(r>0&&this.buffer[r-4]!=0){let l=!1;for(let a=r;a>0&&this.buffer[a-2]>i;a-=4)if(this.buffer[a-1]>=0){l=!0;break}if(l)for(;r>0&&this.buffer[r-2]>i;)this.buffer[r]=this.buffer[r-4],this.buffer[r+1]=this.buffer[r-3],this.buffer[r+2]=this.buffer[r-2],this.buffer[r+3]=this.buffer[r-1],r-=4,s>4&&(s-=4)}this.buffer[r]=e,this.buffer[r+1]=t,this.buffer[r+2]=i,this.buffer[r+3]=s}}shift(e,t,i,s){if(e&131072)this.pushState(e&65535,this.pos);else if(e&262144)this.pos=s,this.shiftContext(t,i),t<=this.p.parser.maxNode&&this.buffer.push(t,i,s,4);else{let o=e,{parser:r}=this.p;(s>this.pos||t<=r.maxNode)&&(this.pos=s,r.stateFlag(o,1)||(this.reducePos=s)),this.pushState(o,i),this.shiftContext(t,i),t<=r.maxNode&&this.buffer.push(t,i,s,4)}}apply(e,t,i,s){e&65536?this.reduce(e):this.shift(e,t,i,s)}useNode(e,t){let i=this.p.reused.length-1;(i<0||this.p.reused[i]!=e)&&(this.p.reused.push(e),i++);let s=this.pos;this.reducePos=this.pos=s+e.length,this.pushState(t,s),this.buffer.push(i,s,this.reducePos,-1),this.curContext&&this.updateContext(this.curContext.tracker.reuse(this.curContext.context,e,this,this.p.stream.reset(this.pos-e.length)))}split(){let e=this,t=e.buffer.length;for(;t>0&&e.buffer[t-2]>e.reducePos;)t-=4;let i=e.buffer.slice(t),s=e.bufferBase+t;for(;e&&s==e.bufferBase;)e=e.parent;return new Ad(this.p,this.stack.slice(),this.state,this.reducePos,this.pos,this.score,i,s,this.curContext,this.lookAhead,e)}recoverByDelete(e,t){let i=e<=this.p.parser.maxNode;i&&this.storeNode(e,this.pos,t,4),this.storeNode(0,this.pos,t,i?8:4),this.pos=this.reducePos=t,this.score-=190}canShift(e){for(let t=new KJ(this);;){let i=this.p.parser.stateSlot(t.state,4)||this.p.parser.hasAction(t.state,e);if(i==0)return!1;if(!(i&65536))return!0;t.reduce(i)}}recoverByInsert(e){if(this.stack.length>=300)return[];let t=this.p.parser.nextStates(this.state);if(t.length>8||this.stack.length>=120){let s=[];for(let o=0,r;o<t.length;o+=2)(r=t[o+1])!=this.state&&this.p.parser.hasAction(r,e)&&s.push(t[o],r);if(this.stack.length<120)for(let o=0;s.length<8&&o<t.length;o+=2){let r=t[o+1];s.some((l,a)=>a&1&&l==r)||s.push(t[o],r)}t=s}let i=[];for(let s=0;s<t.length&&i.length<4;s+=2){let o=t[s+1];if(o==this.state)continue;let r=this.split();r.pushState(o,this.pos),r.storeNode(0,r.pos,r.pos,4,!0),r.shiftContext(t[s],this.pos),r.reducePos=this.pos,r.score-=200,i.push(r)}return i}forceReduce(){let{parser:e}=this.p,t=e.stateSlot(this.state,5);if(!(t&65536))return!1;if(!e.validAction(this.state,t)){let i=t>>19,s=t&65535,o=this.stack.length-i*3;if(o<0||e.getGoto(this.stack[o],s,!1)<0){let r=this.findForcedReduction();if(r==null)return!1;t=r}this.storeNode(0,this.pos,this.pos,4,!0),this.score-=100}return this.reducePos=this.pos,this.reduce(t),!0}findForcedReduction(){let{parser:e}=this.p,t=[],i=(s,o)=>{if(!t.includes(s))return t.push(s),e.allActions(s,r=>{if(!(r&393216))if(r&65536){let l=(r>>19)-o;if(l>1){let a=r&65535,c=this.stack.length-l*3;if(c>=0&&e.getGoto(this.stack[c],a,!1)>=0)return l<<19|65536|a}}else{let l=i(r,o+1);if(l!=null)return l}})};return i(this.state,0)}forceAll(){for(;!this.p.parser.stateFlag(this.state,2);)if(!this.forceReduce()){this.storeNode(0,this.pos,this.pos,4,!0);break}return this}get deadEnd(){if(this.stack.length!=3)return!1;let{parser:e}=this.p;return e.data[e.stateSlot(this.state,1)]==65535&&!e.stateSlot(this.state,4)}restart(){this.storeNode(0,this.pos,this.pos,4,!0),this.state=this.stack[0],this.stack.length=0}sameState(e){if(this.state!=e.state||this.stack.length!=e.stack.length)return!1;for(let t=0;t<this.stack.length;t+=3)if(this.stack[t]!=e.stack[t])return!1;return!0}get parser(){return this.p.parser}dialectEnabled(e){return this.p.parser.dialect.flags[e]}shiftContext(e,t){this.curContext&&this.updateContext(this.curContext.tracker.shift(this.curContext.context,e,this,this.p.stream.reset(t)))}reduceContext(e,t){this.curContext&&this.updateContext(this.curContext.tracker.reduce(this.curContext.context,e,this,this.p.stream.reset(t)))}emitContext(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-3)&&this.buffer.push(this.curContext.hash,this.pos,this.pos,-3)}emitLookAhead(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-4)&&this.buffer.push(this.lookAhead,this.pos,this.pos,-4)}updateContext(e){if(e!=this.curContext.context){let t=new Ok(this.curContext.tracker,e);t.hash!=this.curContext.hash&&this.emitContext(),this.curContext=t}}setLookAhead(e){e>this.lookAhead&&(this.emitLookAhead(),this.lookAhead=e)}close(){this.curContext&&this.curContext.tracker.strict&&this.emitContext(),this.lookAhead>0&&this.emitLookAhead()}}class Ok{constructor(e,t){this.tracker=e,this.context=t,this.hash=e.strict?e.hash(t):0}}class KJ{constructor(e){this.start=e,this.state=e.state,this.stack=e.stack,this.base=this.stack.length}reduce(e){let t=e&65535,i=e>>19;i==0?(this.stack==this.start.stack&&(this.stack=this.stack.slice()),this.stack.push(this.state,0,0),this.base+=3):this.base-=(i-1)*3;let s=this.start.p.parser.getGoto(this.stack[this.base-3],t,!0);this.state=s}}class xd{constructor(e,t,i){this.stack=e,this.pos=t,this.index=i,this.buffer=e.buffer,this.index==0&&this.maybeNext()}static create(e,t=e.bufferBase+e.buffer.length){return new xd(e,t,t-e.bufferBase)}maybeNext(){let e=this.stack.parent;e!=null&&(this.index=this.stack.bufferBase-e.bufferBase,this.stack=e,this.buffer=e.buffer)}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}next(){this.index-=4,this.pos-=4,this.index==0&&this.maybeNext()}fork(){return new xd(this.stack,this.pos,this.index)}}function Ju(n,e=Uint16Array){if(typeof n!="string")return n;let t=null;for(let i=0,s=0;i<n.length;){let o=0;for(;;){let r=n.charCodeAt(i++),l=!1;if(r==126){o=65535;break}r>=92&&r--,r>=34&&r--;let a=r-32;if(a>=46&&(a-=46,l=!0),o+=a,l)break;o*=46}t?t[s++]=o:t=new e(o)}return t}class Eh{constructor(){this.start=-1,this.value=-1,this.end=-1,this.extended=-1,this.lookAhead=0,this.mask=0,this.context=0}}const Pk=new Eh;class YJ{constructor(e,t){this.input=e,this.ranges=t,this.chunk="",this.chunkOff=0,this.chunk2="",this.chunk2Pos=0,this.next=-1,this.token=Pk,this.rangeIndex=0,this.pos=this.chunkPos=t[0].from,this.range=t[0],this.end=t[t.length-1].to,this.readNext()}resolveOffset(e,t){let i=this.range,s=this.rangeIndex,o=this.pos+e;for(;o<i.from;){if(!s)return null;let r=this.ranges[--s];o-=i.from-r.to,i=r}for(;t<0?o>i.to:o>=i.to;){if(s==this.ranges.length-1)return null;let r=this.ranges[++s];o+=r.from-i.to,i=r}return o}clipPos(e){if(e>=this.range.from&&e<this.range.to)return e;for(let t of this.ranges)if(t.to>e)return Math.max(e,t.from);return this.end}peek(e){let t=this.chunkOff+e,i,s;if(t>=0&&t<this.chunk.length)i=this.pos+e,s=this.chunk.charCodeAt(t);else{let o=this.resolveOffset(e,1);if(o==null)return-1;if(i=o,i>=this.chunk2Pos&&i<this.chunk2Pos+this.chunk2.length)s=this.chunk2.charCodeAt(i-this.chunk2Pos);else{let r=this.rangeIndex,l=this.range;for(;l.to<=i;)l=this.ranges[++r];this.chunk2=this.input.chunk(this.chunk2Pos=i),i+this.chunk2.length>l.to&&(this.chunk2=this.chunk2.slice(0,l.to-i)),s=this.chunk2.charCodeAt(0)}}return i>=this.token.lookAhead&&(this.token.lookAhead=i+1),s}acceptToken(e,t=0){let i=t?this.resolveOffset(t,-1):this.pos;if(i==null||i<this.token.start)throw new RangeError("Token end out of bounds");this.token.value=e,this.token.end=i}acceptTokenTo(e,t){this.token.value=e,this.token.end=t}getChunk(){if(this.pos>=this.chunk2Pos&&this.pos<this.chunk2Pos+this.chunk2.length){let{chunk:e,chunkPos:t}=this;this.chunk=this.chunk2,this.chunkPos=this.chunk2Pos,this.chunk2=e,this.chunk2Pos=t,this.chunkOff=this.pos-this.chunkPos}else{this.chunk2=this.chunk,this.chunk2Pos=this.chunkPos;let e=this.input.chunk(this.pos),t=this.pos+e.length;this.chunk=t>this.range.to?e.slice(0,this.range.to-this.pos):e,this.chunkPos=this.pos,this.chunkOff=0}}readNext(){return this.chunkOff>=this.chunk.length&&(this.getChunk(),this.chunkOff==this.chunk.length)?this.next=-1:this.next=this.chunk.charCodeAt(this.chunkOff)}advance(e=1){for(this.chunkOff+=e;this.pos+e>=this.range.to;){if(this.rangeIndex==this.ranges.length-1)return this.setDone();e-=this.range.to-this.pos,this.range=this.ranges[++this.rangeIndex],this.pos=this.range.from}return this.pos+=e,this.pos>=this.token.lookAhead&&(this.token.lookAhead=this.pos+1),this.readNext()}setDone(){return this.pos=this.chunkPos=this.end,this.range=this.ranges[this.rangeIndex=this.ranges.length-1],this.chunk="",this.next=-1}reset(e,t){if(t?(this.token=t,t.start=e,t.lookAhead=e+1,t.value=t.extended=-1):this.token=Pk,this.pos!=e){if(this.pos=e,e==this.end)return this.setDone(),this;for(;e<this.range.from;)this.range=this.ranges[--this.rangeIndex];for(;e>=this.range.to;)this.range=this.ranges[++this.rangeIndex];e>=this.chunkPos&&e<this.chunkPos+this.chunk.length?this.chunkOff=e-this.chunkPos:(this.chunk="",this.chunkOff=0),this.readNext()}return this}read(e,t){if(e>=this.chunkPos&&t<=this.chunkPos+this.chunk.length)return this.chunk.slice(e-this.chunkPos,t-this.chunkPos);if(e>=this.chunk2Pos&&t<=this.chunk2Pos+this.chunk2.length)return this.chunk2.slice(e-this.chunk2Pos,t-this.chunk2Pos);if(e>=this.range.from&&t<=this.range.to)return this.input.read(e,t);let i="";for(let s of this.ranges){if(s.from>=t)break;s.to>e&&(i+=this.input.read(Math.max(s.from,e),Math.min(s.to,t)))}return i}}class Ea{constructor(e,t){this.data=e,this.id=t}token(e,t){let{parser:i}=t.p;XJ(this.data,e,t,this.id,i.data,i.tokenPrecTable)}}Ea.prototype.contextual=Ea.prototype.fallback=Ea.prototype.extend=!1;Ea.prototype.fallback=Ea.prototype.extend=!1;function XJ(n,e,t,i,s,o){let r=0,l=1<<i,{dialect:a}=t.p.parser;e:for(;l&n[r];){let c=n[r+1];for(let d=r+3;d<c;d+=2)if((n[d+1]&l)>0){let g=n[d];if(a.allows(g)&&(e.token.value==-1||e.token.value==g||GJ(g,e.token.value,s,o))){e.acceptToken(g);break}}let f=e.next,u=0,h=n[r+2];if(e.next<0&&h>u&&n[c+h*3-3]==65535){r=n[c+h*3-1];continue e}for(;u<h;){let d=u+h>>1,g=c+d+(d<<1),m=n[g],p=n[g+1]||65536;if(f<m)h=d;else if(f>=p)u=d+1;else{r=n[g+2],e.advance();continue e}}break}}function Tk(n,e,t){for(let i=e,s;(s=n[i])!=65535;i++)if(s==t)return i-e;return-1}function GJ(n,e,t,i){let s=Tk(t,i,e);return s<0||Tk(t,i,n)<s}const Ui=typeof process<"u"&&xk&&/\bparse\b/.test(xk.LOG);let Em=null;function Ek(n,e,t){let i=n.cursor(Xn.IncludeAnonymous);for(i.moveTo(e);;)if(!(t<0?i.childBefore(e):i.childAfter(e)))for(;;){if((t<0?i.to<e:i.from>e)&&!i.type.isError)return t<0?Math.max(0,Math.min(i.to-1,e-25)):Math.min(n.length,Math.max(i.from+1,e+25));if(t<0?i.prevSibling():i.nextSibling())break;if(!i.parent())return t<0?0:n.length}}class QJ{constructor(e,t){this.fragments=e,this.nodeSet=t,this.i=0,this.fragment=null,this.safeFrom=-1,this.safeTo=-1,this.trees=[],this.start=[],this.index=[],this.nextFragment()}nextFragment(){let e=this.fragment=this.i==this.fragments.length?null:this.fragments[this.i++];if(e){for(this.safeFrom=e.openStart?Ek(e.tree,e.from+e.offset,1)-e.offset:e.from,this.safeTo=e.openEnd?Ek(e.tree,e.to+e.offset,-1)-e.offset:e.to;this.trees.length;)this.trees.pop(),this.start.pop(),this.index.pop();this.trees.push(e.tree),this.start.push(-e.offset),this.index.push(0),this.nextStart=this.safeFrom}else this.nextStart=1e9}nodeAt(e){if(e<this.nextStart)return null;for(;this.fragment&&this.safeTo<=e;)this.nextFragment();if(!this.fragment)return null;for(;;){let t=this.trees.length-1;if(t<0)return this.nextFragment(),null;let i=this.trees[t],s=this.index[t];if(s==i.children.length){this.trees.pop(),this.start.pop(),this.index.pop();continue}let o=i.children[s],r=this.start[t]+i.positions[s];if(r>e)return this.nextStart=r,null;if(o instanceof jn){if(r==e){if(r<this.safeFrom)return null;let l=r+o.length;if(l<=this.safeTo){let a=o.prop(xt.lookAhead);if(!a||l+a<this.fragment.to)return o}}this.index[t]++,r+o.length>=Math.max(this.safeFrom,e)&&(this.trees.push(o),this.start.push(r),this.index.push(0))}else this.index[t]++,this.nextStart=r+o.length}}}class ZJ{constructor(e,t){this.stream=t,this.tokens=[],this.mainToken=null,this.actions=[],this.tokens=e.tokenizers.map(i=>new Eh)}getActions(e){let t=0,i=null,{parser:s}=e.p,{tokenizers:o}=s,r=s.stateSlot(e.state,3),l=e.curContext?e.curContext.hash:0,a=0;for(let c=0;c<o.length;c++){if(!(1<<c&r))continue;let f=o[c],u=this.tokens[c];if(!(i&&!f.fallback)&&((f.contextual||u.start!=e.pos||u.mask!=r||u.context!=l)&&(this.updateCachedToken(u,f,e),u.mask=r,u.context=l),u.lookAhead>u.end+25&&(a=Math.max(u.lookAhead,a)),u.value!=0)){let h=t;if(u.extended>-1&&(t=this.addActions(e,u.extended,u.end,t)),t=this.addActions(e,u.value,u.end,t),!f.extend&&(i=u,t>h))break}}for(;this.actions.length>t;)this.actions.pop();return a&&e.setLookAhead(a),!i&&e.pos==this.stream.end&&(i=new Eh,i.value=e.p.parser.eofTerm,i.start=i.end=e.pos,t=this.addActions(e,i.value,i.end,t)),this.mainToken=i,this.actions}getMainToken(e){if(this.mainToken)return this.mainToken;let t=new Eh,{pos:i,p:s}=e;return t.start=i,t.end=Math.min(i+1,s.stream.end),t.value=i==s.stream.end?s.parser.eofTerm:0,t}updateCachedToken(e,t,i){let s=this.stream.clipPos(i.pos);if(t.token(this.stream.reset(s,e),i),e.value>-1){let{parser:o}=i.p;for(let r=0;r<o.specialized.length;r++)if(o.specialized[r]==e.value){let l=o.specializers[r](this.stream.read(e.start,e.end),i);if(l>=0&&i.p.parser.dialect.allows(l>>1)){l&1?e.extended=l>>1:e.value=l>>1;break}}}else e.value=0,e.end=this.stream.clipPos(s+1)}putAction(e,t,i,s){for(let o=0;o<s;o+=3)if(this.actions[o]==e)return s;return this.actions[s++]=e,this.actions[s++]=t,this.actions[s++]=i,s}addActions(e,t,i,s){let{state:o}=e,{parser:r}=e.p,{data:l}=r;for(let a=0;a<2;a++)for(let c=r.stateSlot(o,a?2:1);;c+=3){if(l[c]==65535)if(l[c+1]==1)c=xo(l,c+2);else{s==0&&l[c+1]==2&&(s=this.putAction(xo(l,c+2),t,i,s));break}l[c]==t&&(s=this.putAction(xo(l,c+1),t,i,s))}return s}}class $J{constructor(e,t,i,s){this.parser=e,this.input=t,this.ranges=s,this.recovering=0,this.nextStackID=9812,this.minStackPos=0,this.reused=[],this.stoppedAt=null,this.lastBigReductionStart=-1,this.lastBigReductionSize=0,this.bigReductionCount=0,this.stream=new YJ(t,s),this.tokens=new ZJ(e,this.stream),this.topTerm=e.top[1];let{from:o}=s[0];this.stacks=[Ad.start(this,e.top[0],o)],this.fragments=i.length&&this.stream.end-o>e.bufferLength*4?new QJ(i,e.nodeSet):null}get parsedPos(){return this.minStackPos}advance(){let e=this.stacks,t=this.minStackPos,i=this.stacks=[],s,o;if(this.bigReductionCount>300&&e.length==1){let[r]=e;for(;r.forceReduce()&&r.stack.length&&r.stack[r.stack.length-2]>=this.lastBigReductionStart;);this.bigReductionCount=this.lastBigReductionSize=0}for(let r=0;r<e.length;r++){let l=e[r];for(;;){if(this.tokens.mainToken=null,l.pos>t)i.push(l);else{if(this.advanceStack(l,i,e))continue;{s||(s=[],o=[]),s.push(l);let a=this.tokens.getMainToken(l);o.push(a.value,a.end)}}break}}if(!i.length){let r=s&&tK(s);if(r)return Ui&&console.log("Finish with "+this.stackID(r)),this.stackToTree(r);if(this.parser.strict)throw Ui&&s&&console.log("Stuck with token "+(this.tokens.mainToken?this.parser.getName(this.tokens.mainToken.value):"none")),new SyntaxError("No parse at "+t);this.recovering||(this.recovering=5)}if(this.recovering&&s){let r=this.stoppedAt!=null&&s[0].pos>this.stoppedAt?s[0]:this.runRecovery(s,o,i);if(r)return Ui&&console.log("Force-finish "+this.stackID(r)),this.stackToTree(r.forceAll())}if(this.recovering){let r=this.recovering==1?1:this.recovering*3;if(i.length>r)for(i.sort((l,a)=>a.score-l.score);i.length>r;)i.pop();i.some(l=>l.reducePos>t)&&this.recovering--}else if(i.length>1){e:for(let r=0;r<i.length-1;r++){let l=i[r];for(let a=r+1;a<i.length;a++){let c=i[a];if(l.sameState(c)||l.buffer.length>500&&c.buffer.length>500)if((l.score-c.score||l.buffer.length-c.buffer.length)>0)i.splice(a--,1);else{i.splice(r--,1);continue e}}}i.length>12&&i.splice(12,i.length-12)}this.minStackPos=i[0].pos;for(let r=1;r<i.length;r++)i[r].pos<this.minStackPos&&(this.minStackPos=i[r].pos);return null}stopAt(e){if(this.stoppedAt!=null&&this.stoppedAt<e)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=e}advanceStack(e,t,i){let s=e.pos,{parser:o}=this,r=Ui?this.stackID(e)+" -> ":"";if(this.stoppedAt!=null&&s>this.stoppedAt)return e.forceReduce()?e:null;if(this.fragments){let c=e.curContext&&e.curContext.tracker.strict,f=c?e.curContext.hash:0;for(let u=this.fragments.nodeAt(s);u;){let h=this.parser.nodeSet.types[u.type.id]==u.type?o.getGoto(e.state,u.type.id):-1;if(h>-1&&u.length&&(!c||(u.prop(xt.contextHash)||0)==f))return e.useNode(u,h),Ui&&console.log(r+this.stackID(e)+` (via reuse of ${o.getName(u.type.id)})`),!0;if(!(u instanceof jn)||u.children.length==0||u.positions[0]>0)break;let d=u.children[0];if(d instanceof jn&&u.positions[0]==0)u=d;else break}}let l=o.stateSlot(e.state,4);if(l>0)return e.reduce(l),Ui&&console.log(r+this.stackID(e)+` (via always-reduce ${o.getName(l&65535)})`),!0;if(e.stack.length>=8400)for(;e.stack.length>6e3&&e.forceReduce(););let a=this.tokens.getActions(e);for(let c=0;c<a.length;){let f=a[c++],u=a[c++],h=a[c++],d=c==a.length||!i,g=d?e:e.split(),m=this.tokens.mainToken;if(g.apply(f,u,m?m.start:g.pos,h),Ui&&console.log(r+this.stackID(g)+` (via ${f&65536?`reduce of ${o.getName(f&65535)}`:"shift"} for ${o.getName(u)} @ ${s}${g==e?"":", split"})`),d)return!0;g.pos>s?t.push(g):i.push(g)}return!1}advanceFully(e,t){let i=e.pos;for(;;){if(!this.advanceStack(e,null,null))return!1;if(e.pos>i)return Rk(e,t),!0}}runRecovery(e,t,i){let s=null,o=!1;for(let r=0;r<e.length;r++){let l=e[r],a=t[r<<1],c=t[(r<<1)+1],f=Ui?this.stackID(l)+" -> ":"";if(l.deadEnd&&(o||(o=!0,l.restart(),Ui&&console.log(f+this.stackID(l)+" (restarted)"),this.advanceFully(l,i))))continue;let u=l.split(),h=f;for(let d=0;u.forceReduce()&&d<10&&(Ui&&console.log(h+this.stackID(u)+" (via force-reduce)"),!this.advanceFully(u,i));d++)Ui&&(h=this.stackID(u)+" -> ");for(let d of l.recoverByInsert(a))Ui&&console.log(f+this.stackID(d)+" (via recover-insert)"),this.advanceFully(d,i);this.stream.end>l.pos?(c==l.pos&&(c++,a=0),l.recoverByDelete(a,c),Ui&&console.log(f+this.stackID(l)+` (via recover-delete ${this.parser.getName(a)})`),Rk(l,i)):(!s||s.score<l.score)&&(s=l)}return s}stackToTree(e){return e.close(),jn.build({buffer:xd.create(e),nodeSet:this.parser.nodeSet,topID:this.topTerm,maxBufferLength:this.parser.bufferLength,reused:this.reused,start:this.ranges[0].from,length:e.pos-this.ranges[0].from,minRepeatType:this.parser.minRepeatTerm})}stackID(e){let t=(Em||(Em=new WeakMap)).get(e);return t||Em.set(e,t=String.fromCodePoint(this.nextStackID++)),t+e}}function Rk(n,e){for(let t=0;t<e.length;t++){let i=e[t];if(i.pos==n.pos&&i.sameState(n)){e[t].score<n.score&&(e[t]=n);return}}e.push(n)}class eK{constructor(e,t,i){this.source=e,this.flags=t,this.disabled=i}allows(e){return!this.disabled||this.disabled[e]==0}}class Od extends g5{constructor(e){if(super(),this.wrappers=[],e.version!=14)throw new RangeError(`Parser version (${e.version}) doesn't match runtime version (14)`);let t=e.nodeNames.split(" ");this.minRepeatTerm=t.length;for(let l=0;l<e.repeatNodeCount;l++)t.push("");let i=Object.keys(e.topRules).map(l=>e.topRules[l][1]),s=[];for(let l=0;l<t.length;l++)s.push([]);function o(l,a,c){s[l].push([a,a.deserialize(String(c))])}if(e.nodeProps)for(let l of e.nodeProps){let a=l[0];typeof a=="string"&&(a=xt[a]);for(let c=1;c<l.length;){let f=l[c++];if(f>=0)o(f,a,l[c++]);else{let u=l[c+-f];for(let h=-f;h>0;h--)o(l[c++],a,u);c++}}}this.nodeSet=new tb(t.map((l,a)=>Fi.define({name:a>=this.minRepeatTerm?void 0:l,id:a,props:s[a],top:i.indexOf(a)>-1,error:a==0,skipped:e.skippedNodes&&e.skippedNodes.indexOf(a)>-1}))),e.propSources&&(this.nodeSet=this.nodeSet.extend(...e.propSources)),this.strict=!1,this.bufferLength=f5;let r=Ju(e.tokenData);this.context=e.context,this.specializerSpecs=e.specialized||[],this.specialized=new Uint16Array(this.specializerSpecs.length);for(let l=0;l<this.specializerSpecs.length;l++)this.specialized[l]=this.specializerSpecs[l].term;this.specializers=this.specializerSpecs.map(Dk),this.states=Ju(e.states,Uint32Array),this.data=Ju(e.stateData),this.goto=Ju(e.goto),this.maxTerm=e.maxTerm,this.tokenizers=e.tokenizers.map(l=>typeof l=="number"?new Ea(r,l):l),this.topRules=e.topRules,this.dialects=e.dialects||{},this.dynamicPrecedences=e.dynamicPrecedences||null,this.tokenPrecTable=e.tokenPrec,this.termNames=e.termNames||null,this.maxNode=this.nodeSet.types.length-1,this.dialect=this.parseDialect(),this.top=this.topRules[Object.keys(this.topRules)[0]]}createParse(e,t,i){let s=new $J(this,e,t,i);for(let o of this.wrappers)s=o(s,e,t,i);return s}getGoto(e,t,i=!1){let s=this.goto;if(t>=s[0])return-1;for(let o=s[t+1];;){let r=s[o++],l=r&1,a=s[o++];if(l&&i)return a;for(let c=o+(r>>1);o<c;o++)if(s[o]==e)return a;if(l)return-1}}hasAction(e,t){let i=this.data;for(let s=0;s<2;s++)for(let o=this.stateSlot(e,s?2:1),r;;o+=3){if((r=i[o])==65535)if(i[o+1]==1)r=i[o=xo(i,o+2)];else{if(i[o+1]==2)return xo(i,o+2);break}if(r==t||r==0)return xo(i,o+1)}return 0}stateSlot(e,t){return this.states[e*6+t]}stateFlag(e,t){return(this.stateSlot(e,0)&t)>0}validAction(e,t){return!!this.allActions(e,i=>i==t?!0:null)}allActions(e,t){let i=this.stateSlot(e,4),s=i?t(i):void 0;for(let o=this.stateSlot(e,1);s==null;o+=3){if(this.data[o]==65535)if(this.data[o+1]==1)o=xo(this.data,o+2);else break;s=t(xo(this.data,o+1))}return s}nextStates(e){let t=[];for(let i=this.stateSlot(e,1);;i+=3){if(this.data[i]==65535)if(this.data[i+1]==1)i=xo(this.data,i+2);else break;if(!(this.data[i+2]&1)){let s=this.data[i+1];t.some((o,r)=>r&1&&o==s)||t.push(this.data[i],s)}}return t}configure(e){let t=Object.assign(Object.create(Od.prototype),this);if(e.props&&(t.nodeSet=this.nodeSet.extend(...e.props)),e.top){let i=this.topRules[e.top];if(!i)throw new RangeError(`Invalid top rule name ${e.top}`);t.top=i}return e.tokenizers&&(t.tokenizers=this.tokenizers.map(i=>{let s=e.tokenizers.find(o=>o.from==i);return s?s.to:i})),e.specializers&&(t.specializers=this.specializers.slice(),t.specializerSpecs=this.specializerSpecs.map((i,s)=>{let o=e.specializers.find(l=>l.from==i.external);if(!o)return i;let r=Object.assign(Object.assign({},i),{external:o.to});return t.specializers[s]=Dk(r),r})),e.contextTracker&&(t.context=e.contextTracker),e.dialect&&(t.dialect=this.parseDialect(e.dialect)),e.strict!=null&&(t.strict=e.strict),e.wrap&&(t.wrappers=t.wrappers.concat(e.wrap)),e.bufferLength!=null&&(t.bufferLength=e.bufferLength),t}hasWrappers(){return this.wrappers.length>0}getName(e){return this.termNames?this.termNames[e]:String(e<=this.maxNode&&this.nodeSet.types[e].name||e)}get eofTerm(){return this.maxNode+1}get topNode(){return this.nodeSet.types[this.top[1]]}dynamicPrecedence(e){let t=this.dynamicPrecedences;return t==null?0:t[e]||0}parseDialect(e){let t=Object.keys(this.dialects),i=t.map(()=>!1);if(e)for(let o of e.split(" ")){let r=t.indexOf(o);r>=0&&(i[r]=!0)}let s=null;for(let o=0;o<t.length;o++)if(!i[o])for(let r=this.dialects[t[o]],l;(l=this.data[r++])!=65535;)(s||(s=new Uint8Array(this.maxTerm+1)))[l]=1;return new eK(e,i,s)}static deserialize(e){return new Od(e)}}function xo(n,e){return n[e]|n[e+1]<<16}function tK(n){let e=null;for(let t of n){let i=t.p.stoppedAt;(t.pos==t.p.stream.end||i!=null&&t.pos>i)&&t.p.parser.stateFlag(t.state,2)&&(!e||e.score<t.score)&&(e=t)}return e}function Dk(n){if(n.external){let e=n.extend?1:0;return(t,i)=>n.external(t,i)<<1|e}return n.get}const nK=m5({String:Me.string,Number:Me.number,"True False":Me.bool,PropertyName:Me.propertyName,Null:Me.null,",":Me.separator,"[ ]":Me.squareBracket,"{ }":Me.brace}),iK=Od.deserialize({version:14,states:"$bOVQPOOOOQO'#Cb'#CbOnQPO'#CeOvQPO'#CjOOQO'#Cp'#CpQOQPOOOOQO'#Cg'#CgO}QPO'#CfO!SQPO'#CrOOQO,59P,59PO![QPO,59PO!aQPO'#CuOOQO,59U,59UO!iQPO,59UOVQPO,59QOqQPO'#CkO!nQPO,59^OOQO1G.k1G.kOVQPO'#ClO!vQPO,59aOOQO1G.p1G.pOOQO1G.l1G.lOOQO,59V,59VOOQO-E6i-E6iOOQO,59W,59WOOQO-E6j-E6j",stateData:"#O~OcOS~OQSORSOSSOTSOWQO]ROePO~OVXOeUO~O[[O~PVOg^O~Oh_OVfX~OVaO~OhbO[iX~O[dO~Oh_OVfa~OhbO[ia~O",goto:"!kjPPPPPPkPPkqwPPk{!RPPP!XP!ePP!hXSOR^bQWQRf_TVQ_Q`WRg`QcZRicQTOQZRQe^RhbRYQR]R",nodeNames:"⚠ JsonText True False Null Number String } { Object Property PropertyName ] [ Array",maxTerm:25,nodeProps:[["isolate",-2,6,11,""],["openedBy",7,"{",12,"["],["closedBy",8,"}",13,"]"]],propSources:[nK],skippedNodes:[0],repeatNodeCount:2,tokenData:"(|~RaXY!WYZ!W]^!Wpq!Wrs!]|}$u}!O$z!Q!R%T!R![&c![!]&t!}#O&y#P#Q'O#Y#Z'T#b#c'r#h#i(Z#o#p(r#q#r(w~!]Oc~~!`Wpq!]qr!]rs!xs#O!]#O#P!}#P;'S!];'S;=`$o<%lO!]~!}Oe~~#QXrs!]!P!Q!]#O#P!]#U#V!]#Y#Z!]#b#c!]#f#g!]#h#i!]#i#j#m~#pR!Q![#y!c!i#y#T#Z#y~#|R!Q![$V!c!i$V#T#Z$V~$YR!Q![$c!c!i$c#T#Z$c~$fR!Q![!]!c!i!]#T#Z!]~$rP;=`<%l!]~$zOh~~$}Q!Q!R%T!R![&c~%YRT~!O!P%c!g!h%w#X#Y%w~%fP!Q![%i~%nRT~!Q![%i!g!h%w#X#Y%w~%zR{|&T}!O&T!Q![&Z~&WP!Q![&Z~&`PT~!Q![&Z~&hST~!O!P%c!Q![&c!g!h%w#X#Y%w~&yOg~~'OO]~~'TO[~~'WP#T#U'Z~'^P#`#a'a~'dP#g#h'g~'jP#X#Y'm~'rOR~~'uP#i#j'x~'{P#`#a(O~(RP#`#a(U~(ZOS~~(^P#f#g(a~(dP#i#j(g~(jP#X#Y(m~(rOQ~~(wOW~~(|OV~",tokenizers:[0],topRules:{JsonText:[0,1]},tokenPrec:0}),sK=wd.define({name:"json",parser:iK.configure({props:[_5.add({Object:hk({except:/^\s*\}/}),Array:hk({except:/^\s*\]/})}),v5.add({"Object Array":zq})]}),languageData:{closeBrackets:{brackets:["[","{",'"']},indentOnInput:/^\s*[\}\]]$/}});function oK(){return new xq(sK)}const Lk=typeof String.prototype.normalize=="function"?n=>n.normalize("NFKD"):n=>n;class Qa{constructor(e,t,i=0,s=e.length,o,r){this.test=r,this.value={from:0,to:0},this.done=!1,this.matches=[],this.buffer="",this.bufferPos=0,this.iter=e.iterRange(i,s),this.bufferStart=i,this.normalize=o?l=>o(Lk(l)):Lk,this.query=this.normalize(t)}peek(){if(this.bufferPos==this.buffer.length){if(this.bufferStart+=this.buffer.length,this.iter.next(),this.iter.done)return-1;this.bufferPos=0,this.buffer=this.iter.value}return ni(this.buffer,this.bufferPos)}next(){for(;this.matches.length;)this.matches.pop();return this.nextOverlapping()}nextOverlapping(){for(;;){let e=this.peek();if(e<0)return this.done=!0,this;let t=V0(e),i=this.bufferStart+this.bufferPos;this.bufferPos+=ls(e);let s=this.normalize(t);for(let o=0,r=i;;o++){let l=s.charCodeAt(o),a=this.match(l,r,this.bufferPos+this.bufferStart);if(o==s.length-1){if(a)return this.value=a,this;break}r==i&&o<t.length&&t.charCodeAt(o)==l&&r++}}}match(e,t,i){let s=null;for(let o=0;o<this.matches.length;o+=2){let r=this.matches[o],l=!1;this.query.charCodeAt(r)==e&&(r==this.query.length-1?s={from:this.matches[o+1],to:i}:(this.matches[o]++,l=!0)),l||(this.matches.splice(o,2),o-=2)}return this.query.charCodeAt(0)==e&&(this.query.length==1?s={from:t,to:i}:this.matches.push(1,t)),s&&this.test&&!this.test(s.from,s.to,this.buffer,this.bufferStart)&&(s=null),s}}typeof Symbol<"u"&&(Qa.prototype[Symbol.iterator]=function(){return this});const vA={from:-1,to:-1,match:/.*/.exec("")},gb="gm"+(/x/.unicode==null?"":"u");class kA{constructor(e,t,i,s=0,o=e.length){if(this.text=e,this.to=o,this.curLine="",this.done=!1,this.value=vA,/\\[sWDnr]|\n|\r|\[\^/.test(t))return new SA(e,t,i,s,o);this.re=new RegExp(t,gb+(i!=null&&i.ignoreCase?"i":"")),this.test=i==null?void 0:i.test,this.iter=e.iter();let r=e.lineAt(s);this.curLineStart=r.from,this.matchPos=Pd(e,s),this.getLine(this.curLineStart)}getLine(e){this.iter.next(e),this.iter.lineBreak?this.curLine="":(this.curLine=this.iter.value,this.curLineStart+this.curLine.length>this.to&&(this.curLine=this.curLine.slice(0,this.to-this.curLineStart)),this.iter.next())}nextLine(){this.curLineStart=this.curLineStart+this.curLine.length+1,this.curLineStart>this.to?this.curLine="":this.getLine(0)}next(){for(let e=this.matchPos-this.curLineStart;;){this.re.lastIndex=e;let t=this.matchPos<=this.to&&this.re.exec(this.curLine);if(t){let i=this.curLineStart+t.index,s=i+t[0].length;if(this.matchPos=Pd(this.text,s+(i==s?1:0)),i==this.curLineStart+this.curLine.length&&this.nextLine(),(i<s||i>this.value.to)&&(!this.test||this.test(i,s,t)))return this.value={from:i,to:s,match:t},this;e=this.matchPos-this.curLineStart}else if(this.curLineStart+this.curLine.length<this.to)this.nextLine(),e=0;else return this.done=!0,this}}}const Rm=new WeakMap;class Ra{constructor(e,t){this.from=e,this.text=t}get to(){return this.from+this.text.length}static get(e,t,i){let s=Rm.get(e);if(!s||s.from>=i||s.to<=t){let l=new Ra(t,e.sliceString(t,i));return Rm.set(e,l),l}if(s.from==t&&s.to==i)return s;let{text:o,from:r}=s;return r>t&&(o=e.sliceString(t,r)+o,r=t),s.to<i&&(o+=e.sliceString(s.to,i)),Rm.set(e,new Ra(r,o)),new Ra(t,o.slice(t-r,i-r))}}class SA{constructor(e,t,i,s,o){this.text=e,this.to=o,this.done=!1,this.value=vA,this.matchPos=Pd(e,s),this.re=new RegExp(t,gb+(i!=null&&i.ignoreCase?"i":"")),this.test=i==null?void 0:i.test,this.flat=Ra.get(e,s,this.chunkEnd(s+5e3))}chunkEnd(e){return e>=this.to?this.to:this.text.lineAt(e).to}next(){for(;;){let e=this.re.lastIndex=this.matchPos-this.flat.from,t=this.re.exec(this.flat.text);if(t&&!t[0]&&t.index==e&&(this.re.lastIndex=e+1,t=this.re.exec(this.flat.text)),t){let i=this.flat.from+t.index,s=i+t[0].length;if((this.flat.to>=this.to||t.index+t[0].length<=this.flat.text.length-10)&&(!this.test||this.test(i,s,t)))return this.value={from:i,to:s,match:t},this.matchPos=Pd(this.text,s+(i==s?1:0)),this}if(this.flat.to==this.to)return this.done=!0,this;this.flat=Ra.get(this.text,this.flat.from,this.chunkEnd(this.flat.from+this.flat.text.length*2))}}}typeof Symbol<"u"&&(kA.prototype[Symbol.iterator]=SA.prototype[Symbol.iterator]=function(){return this});function rK(n){try{return new RegExp(n,gb),!0}catch{return!1}}function Pd(n,e){if(e>=n.length)return e;let t=n.lineAt(e),i;for(;e<t.to&&(i=t.text.charCodeAt(e-t.from))>=56320&&i<57344;)e++;return e}function S1(n){let e=String(n.state.doc.lineAt(n.state.selection.main.head).number),t=ln("input",{class:"cm-textfield",name:"line",value:e}),i=ln("form",{class:"cm-gotoLine",onkeydown:o=>{o.keyCode==27?(o.preventDefault(),n.dispatch({effects:Td.of(!1)}),n.focus()):o.keyCode==13&&(o.preventDefault(),s())},onsubmit:o=>{o.preventDefault(),s()}},ln("label",n.state.phrase("Go to line"),": ",t)," ",ln("button",{class:"cm-button",type:"submit"},n.state.phrase("go")));function s(){let o=/^([+-])?(\d+)?(:\d+)?(%)?$/.exec(t.value);if(!o)return;let{state:r}=n,l=r.doc.lineAt(r.selection.main.head),[,a,c,f,u]=o,h=f?+f.slice(1):0,d=c?+c:l.number;if(c&&u){let p=d/100;a&&(p=p*(a=="-"?-1:1)+l.number/r.doc.lines),d=Math.round(r.doc.lines*p)}else c&&a&&(d=d*(a=="-"?-1:1)+l.number);let g=r.doc.line(Math.max(1,Math.min(r.doc.lines,d))),m=_e.cursor(g.from+Math.max(0,Math.min(h,g.length)));n.dispatch({effects:[Td.of(!1),Fe.scrollIntoView(m.from,{y:"center"})],selection:m}),n.focus()}return{dom:i}}const Td=yt.define(),Ik=Un.define({create(){return!0},update(n,e){for(let t of e.effects)t.is(Td)&&(n=t.value);return n},provide:n=>Of.from(n,e=>e?S1:null)}),lK=n=>{let e=xf(n,S1);if(!e){let t=[Td.of(!0)];n.state.field(Ik,!1)==null&&t.push(yt.appendConfig.of([Ik,aK])),n.dispatch({effects:t}),e=xf(n,S1)}return e&&e.dom.querySelector("input").select(),!0},aK=Fe.baseTheme({".cm-panel.cm-gotoLine":{padding:"2px 6px 4px","& label":{fontSize:"80%"}}}),cK={highlightWordAroundCursor:!1,minSelectionLength:1,maxMatches:100,wholeWords:!1},fK=He.define({combine(n){return _s(n,cK,{highlightWordAroundCursor:(e,t)=>e||t,minSelectionLength:Math.min,maxMatches:Math.min})}});function uK(n){return[pK,mK]}const hK=lt.mark({class:"cm-selectionMatch"}),dK=lt.mark({class:"cm-selectionMatch cm-selectionMatch-main"});function Nk(n,e,t,i){return(t==0||n(e.sliceDoc(t-1,t))!=vn.Word)&&(i==e.doc.length||n(e.sliceDoc(i,i+1))!=vn.Word)}function gK(n,e,t,i){return n(e.sliceDoc(t,t+1))==vn.Word&&n(e.sliceDoc(i-1,i))==vn.Word}const mK=An.fromClass(class{constructor(n){this.decorations=this.getDeco(n)}update(n){(n.selectionSet||n.docChanged||n.viewportChanged)&&(this.decorations=this.getDeco(n.view))}getDeco(n){let e=n.state.facet(fK),{state:t}=n,i=t.selection;if(i.ranges.length>1)return lt.none;let s=i.main,o,r=null;if(s.empty){if(!e.highlightWordAroundCursor)return lt.none;let a=t.wordAt(s.head);if(!a)return lt.none;r=t.charCategorizer(s.head),o=t.sliceDoc(a.from,a.to)}else{let a=s.to-s.from;if(a<e.minSelectionLength||a>200)return lt.none;if(e.wholeWords){if(o=t.sliceDoc(s.from,s.to),r=t.charCategorizer(s.head),!(Nk(r,t,s.from,s.to)&&gK(r,t,s.from,s.to)))return lt.none}else if(o=t.sliceDoc(s.from,s.to),!o)return lt.none}let l=[];for(let a of n.visibleRanges){let c=new Qa(t.doc,o,a.from,a.to);for(;!c.next().done;){let{from:f,to:u}=c.value;if((!r||Nk(r,t,f,u))&&(s.empty&&f<=s.from&&u>=s.to?l.push(dK.range(f,u)):(f>=s.to||u<=s.from)&&l.push(hK.range(f,u)),l.length>e.maxMatches))return lt.none}}return lt.set(l)}},{decorations:n=>n.decorations}),pK=Fe.baseTheme({".cm-selectionMatch":{backgroundColor:"#99ff7780"},".cm-searchMatch .cm-selectionMatch":{backgroundColor:"transparent"}}),bK=({state:n,dispatch:e})=>{let{selection:t}=n,i=_e.create(t.ranges.map(s=>n.wordAt(s.head)||_e.cursor(s.head)),t.mainIndex);return i.eq(t)?!1:(e(n.update({selection:i})),!0)};function yK(n,e){let{main:t,ranges:i}=n.selection,s=n.wordAt(t.head),o=s&&s.from==t.from&&s.to==t.to;for(let r=!1,l=new Qa(n.doc,e,i[i.length-1].to);;)if(l.next(),l.done){if(r)return null;l=new Qa(n.doc,e,0,Math.max(0,i[i.length-1].from-1)),r=!0}else{if(r&&i.some(a=>a.from==l.value.from))continue;if(o){let a=n.wordAt(l.value.from);if(!a||a.from!=l.value.from||a.to!=l.value.to)continue}return l.value}}const _K=({state:n,dispatch:e})=>{let{ranges:t}=n.selection;if(t.some(o=>o.from===o.to))return bK({state:n,dispatch:e});let i=n.sliceDoc(t[0].from,t[0].to);if(n.selection.ranges.some(o=>n.sliceDoc(o.from,o.to)!=i))return!1;let s=yK(n,i);return s?(e(n.update({selection:n.selection.addRange(_e.range(s.from,s.to),!1),effects:Fe.scrollIntoView(s.to)})),!0):!1},ql=He.define({combine(n){return _s(n,{top:!1,caseSensitive:!1,literal:!1,regexp:!1,wholeWord:!1,createPanel:e=>new RK(e),scrollToMatch:e=>Fe.scrollIntoView(e)})}});function wK(n){return n?[ql.of(n),M1]:M1}class CA{constructor(e){this.search=e.search,this.caseSensitive=!!e.caseSensitive,this.literal=!!e.literal,this.regexp=!!e.regexp,this.replace=e.replace||"",this.valid=!!this.search&&(!this.regexp||rK(this.search)),this.unquoted=this.unquote(this.search),this.wholeWord=!!e.wholeWord}unquote(e){return this.literal?e:e.replace(/\\([nrt\\])/g,(t,i)=>i=="n"?`
`:i=="r"?"\r":i=="t"?"	":"\\")}eq(e){return this.search==e.search&&this.replace==e.replace&&this.caseSensitive==e.caseSensitive&&this.regexp==e.regexp&&this.wholeWord==e.wholeWord}create(){return this.regexp?new CK(this):new kK(this)}getCursor(e,t=0,i){let s=e.doc?e:Pt.create({doc:e});return i==null&&(i=s.doc.length),this.regexp?ua(this,s,t,i):fa(this,s,t,i)}}class MA{constructor(e){this.spec=e}}function fa(n,e,t,i){return new Qa(e.doc,n.unquoted,t,i,n.caseSensitive?void 0:s=>s.toLowerCase(),n.wholeWord?vK(e.doc,e.charCategorizer(e.selection.main.head)):void 0)}function vK(n,e){return(t,i,s,o)=>((o>t||o+s.length<i)&&(o=Math.max(0,t-2),s=n.sliceString(o,Math.min(n.length,i+2))),(e(Ed(s,t-o))!=vn.Word||e(Rd(s,t-o))!=vn.Word)&&(e(Rd(s,i-o))!=vn.Word||e(Ed(s,i-o))!=vn.Word))}class kK extends MA{constructor(e){super(e)}nextMatch(e,t,i){let s=fa(this.spec,e,i,e.doc.length).nextOverlapping();return s.done&&(s=fa(this.spec,e,0,t).nextOverlapping()),s.done?null:s.value}prevMatchInRange(e,t,i){for(let s=i;;){let o=Math.max(t,s-1e4-this.spec.unquoted.length),r=fa(this.spec,e,o,s),l=null;for(;!r.nextOverlapping().done;)l=r.value;if(l)return l;if(o==t)return null;s-=1e4}}prevMatch(e,t,i){return this.prevMatchInRange(e,0,t)||this.prevMatchInRange(e,i,e.doc.length)}getReplacement(e){return this.spec.unquote(this.spec.replace)}matchAll(e,t){let i=fa(this.spec,e,0,e.doc.length),s=[];for(;!i.next().done;){if(s.length>=t)return null;s.push(i.value)}return s}highlight(e,t,i,s){let o=fa(this.spec,e,Math.max(0,t-this.spec.unquoted.length),Math.min(i+this.spec.unquoted.length,e.doc.length));for(;!o.next().done;)s(o.value.from,o.value.to)}}function ua(n,e,t,i){return new kA(e.doc,n.search,{ignoreCase:!n.caseSensitive,test:n.wholeWord?SK(e.charCategorizer(e.selection.main.head)):void 0},t,i)}function Ed(n,e){return n.slice(oi(n,e,!1),e)}function Rd(n,e){return n.slice(e,oi(n,e))}function SK(n){return(e,t,i)=>!i[0].length||(n(Ed(i.input,i.index))!=vn.Word||n(Rd(i.input,i.index))!=vn.Word)&&(n(Rd(i.input,i.index+i[0].length))!=vn.Word||n(Ed(i.input,i.index+i[0].length))!=vn.Word)}class CK extends MA{nextMatch(e,t,i){let s=ua(this.spec,e,i,e.doc.length).next();return s.done&&(s=ua(this.spec,e,0,t).next()),s.done?null:s.value}prevMatchInRange(e,t,i){for(let s=1;;s++){let o=Math.max(t,i-s*1e4),r=ua(this.spec,e,o,i),l=null;for(;!r.next().done;)l=r.value;if(l&&(o==t||l.from>o+10))return l;if(o==t)return null}}prevMatch(e,t,i){return this.prevMatchInRange(e,0,t)||this.prevMatchInRange(e,i,e.doc.length)}getReplacement(e){return this.spec.unquote(this.spec.replace).replace(/\$([$&\d+])/g,(t,i)=>i=="$"?"$":i=="&"?e.match[0]:i!="0"&&+i<e.match.length?e.match[i]:t)}matchAll(e,t){let i=ua(this.spec,e,0,e.doc.length),s=[];for(;!i.next().done;){if(s.length>=t)return null;s.push(i.value)}return s}highlight(e,t,i,s){let o=ua(this.spec,e,Math.max(0,t-250),Math.min(i+250,e.doc.length));for(;!o.next().done;)s(o.value.from,o.value.to)}}const Rf=yt.define(),mb=yt.define(),Sr=Un.define({create(n){return new Dm(C1(n).create(),null)},update(n,e){for(let t of e.effects)t.is(Rf)?n=new Dm(t.value.create(),n.panel):t.is(mb)&&(n=new Dm(n.query,t.value?pb:null));return n},provide:n=>Of.from(n,e=>e.panel)});class Dm{constructor(e,t){this.query=e,this.panel=t}}const MK=lt.mark({class:"cm-searchMatch"}),AK=lt.mark({class:"cm-searchMatch cm-searchMatch-selected"}),xK=An.fromClass(class{constructor(n){this.view=n,this.decorations=this.highlight(n.state.field(Sr))}update(n){let e=n.state.field(Sr);(e!=n.startState.field(Sr)||n.docChanged||n.selectionSet||n.viewportChanged)&&(this.decorations=this.highlight(e))}highlight({query:n,panel:e}){if(!e||!n.spec.valid)return lt.none;let{view:t}=this,i=new bo;for(let s=0,o=t.visibleRanges,r=o.length;s<r;s++){let{from:l,to:a}=o[s];for(;s<r-1&&a>o[s+1].from-2*250;)a=o[++s].to;n.highlight(t.state,l,a,(c,f)=>{let u=t.state.selection.ranges.some(h=>h.from==c&&h.to==f);i.add(c,f,u?AK:MK)})}return i.finish()}},{decorations:n=>n.decorations});function lu(n){return e=>{let t=e.state.field(Sr,!1);return t&&t.query.spec.valid?n(e,t):bb(e)}}const Dd=lu((n,{query:e})=>{let{to:t}=n.state.selection.main,i=e.nextMatch(n.state,t,t);if(!i)return!1;let s=_e.single(i.from,i.to),o=n.state.facet(ql);return n.dispatch({selection:s,effects:[_b(n,i),o.scrollToMatch(s.main,n)],userEvent:"select.search"}),xA(n),!0}),Ld=lu((n,{query:e})=>{let{state:t}=n,{from:i}=t.selection.main,s=e.prevMatch(t,i,i);if(!s)return!1;let o=_e.single(s.from,s.to),r=n.state.facet(ql);return n.dispatch({selection:o,effects:[_b(n,s),r.scrollToMatch(o.main,n)],userEvent:"select.search"}),xA(n),!0}),OK=lu((n,{query:e})=>{let t=e.matchAll(n.state,1e3);return!t||!t.length?!1:(n.dispatch({selection:_e.create(t.map(i=>_e.range(i.from,i.to))),userEvent:"select.search.matches"}),!0)}),PK=({state:n,dispatch:e})=>{let t=n.selection;if(t.ranges.length>1||t.main.empty)return!1;let{from:i,to:s}=t.main,o=[],r=0;for(let l=new Qa(n.doc,n.sliceDoc(i,s));!l.next().done;){if(o.length>1e3)return!1;l.value.from==i&&(r=o.length),o.push(_e.range(l.value.from,l.value.to))}return e(n.update({selection:_e.create(o,r),userEvent:"select.search.matches"})),!0},Bk=lu((n,{query:e})=>{let{state:t}=n,{from:i,to:s}=t.selection.main;if(t.readOnly)return!1;let o=e.nextMatch(t,i,i);if(!o)return!1;let r=[],l,a,c=[];if(o.from==i&&o.to==s&&(a=t.toText(e.getReplacement(o)),r.push({from:o.from,to:o.to,insert:a}),o=e.nextMatch(t,o.from,o.to),c.push(Fe.announce.of(t.phrase("replaced match on line $",t.doc.lineAt(i).number)+"."))),o){let f=r.length==0||r[0].from>=o.to?0:o.to-o.from-a.length;l=_e.single(o.from-f,o.to-f),c.push(_b(n,o)),c.push(t.facet(ql).scrollToMatch(l.main,n))}return n.dispatch({changes:r,selection:l,effects:c,userEvent:"input.replace"}),!0}),TK=lu((n,{query:e})=>{if(n.state.readOnly)return!1;let t=e.matchAll(n.state,1e9).map(s=>{let{from:o,to:r}=s;return{from:o,to:r,insert:e.getReplacement(s)}});if(!t.length)return!1;let i=n.state.phrase("replaced $ matches",t.length)+".";return n.dispatch({changes:t,effects:Fe.announce.of(i),userEvent:"input.replace.all"}),!0});function pb(n){return n.state.facet(ql).createPanel(n)}function C1(n,e){var t,i,s,o,r;let l=n.selection.main,a=l.empty||l.to>l.from+100?"":n.sliceDoc(l.from,l.to);if(e&&!a)return e;let c=n.facet(ql);return new CA({search:((t=e==null?void 0:e.literal)!==null&&t!==void 0?t:c.literal)?a:a.replace(/\n/g,"\\n"),caseSensitive:(i=e==null?void 0:e.caseSensitive)!==null&&i!==void 0?i:c.caseSensitive,literal:(s=e==null?void 0:e.literal)!==null&&s!==void 0?s:c.literal,regexp:(o=e==null?void 0:e.regexp)!==null&&o!==void 0?o:c.regexp,wholeWord:(r=e==null?void 0:e.wholeWord)!==null&&r!==void 0?r:c.wholeWord})}function AA(n){let e=xf(n,pb);return e&&e.dom.querySelector("[main-field]")}function xA(n){let e=AA(n);e&&e==n.root.activeElement&&e.select()}const bb=n=>{let e=n.state.field(Sr,!1);if(e&&e.panel){let t=AA(n);if(t&&t!=n.root.activeElement){let i=C1(n.state,e.query.spec);i.valid&&n.dispatch({effects:Rf.of(i)}),t.focus(),t.select()}}else n.dispatch({effects:[mb.of(!0),e?Rf.of(C1(n.state,e.query.spec)):yt.appendConfig.of(M1)]});return!0},yb=n=>{let e=n.state.field(Sr,!1);if(!e||!e.panel)return!1;let t=xf(n,pb);return t&&t.dom.contains(n.root.activeElement)&&n.focus(),n.dispatch({effects:mb.of(!1)}),!0},EK=[{key:"Mod-f",run:bb,scope:"editor search-panel"},{key:"F3",run:Dd,shift:Ld,scope:"editor search-panel",preventDefault:!0},{key:"Mod-g",run:Dd,shift:Ld,scope:"editor search-panel",preventDefault:!0},{key:"Escape",run:yb,scope:"editor search-panel"},{key:"Mod-Shift-l",run:PK},{key:"Mod-Alt-g",run:lK},{key:"Mod-d",run:_K,preventDefault:!0}];class RK{constructor(e){this.view=e;let t=this.query=e.state.field(Sr).query.spec;this.commit=this.commit.bind(this),this.searchField=ln("input",{value:t.search,placeholder:Ji(e,"Find"),"aria-label":Ji(e,"Find"),class:"cm-textfield",name:"search",form:"","main-field":"true",onchange:this.commit,onkeyup:this.commit}),this.replaceField=ln("input",{value:t.replace,placeholder:Ji(e,"Replace"),"aria-label":Ji(e,"Replace"),class:"cm-textfield",name:"replace",form:"",onchange:this.commit,onkeyup:this.commit}),this.caseField=ln("input",{type:"checkbox",name:"case",form:"",checked:t.caseSensitive,onchange:this.commit}),this.reField=ln("input",{type:"checkbox",name:"re",form:"",checked:t.regexp,onchange:this.commit}),this.wordField=ln("input",{type:"checkbox",name:"word",form:"",checked:t.wholeWord,onchange:this.commit});function i(s,o,r){return ln("button",{class:"cm-button",name:s,onclick:o,type:"button"},r)}this.dom=ln("div",{onkeydown:s=>this.keydown(s),class:"cm-search"},[this.searchField,i("next",()=>Dd(e),[Ji(e,"next")]),i("prev",()=>Ld(e),[Ji(e,"previous")]),i("select",()=>OK(e),[Ji(e,"all")]),ln("label",null,[this.caseField,Ji(e,"match case")]),ln("label",null,[this.reField,Ji(e,"regexp")]),ln("label",null,[this.wordField,Ji(e,"by word")]),...e.state.readOnly?[]:[ln("br"),this.replaceField,i("replace",()=>Bk(e),[Ji(e,"replace")]),i("replaceAll",()=>TK(e),[Ji(e,"replace all")])],ln("button",{name:"close",onclick:()=>yb(e),"aria-label":Ji(e,"close"),type:"button"},["×"])])}commit(){let e=new CA({search:this.searchField.value,caseSensitive:this.caseField.checked,regexp:this.reField.checked,wholeWord:this.wordField.checked,replace:this.replaceField.value});e.eq(this.query)||(this.query=e,this.view.dispatch({effects:Rf.of(e)}))}keydown(e){aW(this.view,e,"search-panel")?e.preventDefault():e.keyCode==13&&e.target==this.searchField?(e.preventDefault(),(e.shiftKey?Ld:Dd)(this.view)):e.keyCode==13&&e.target==this.replaceField&&(e.preventDefault(),Bk(this.view))}update(e){for(let t of e.transactions)for(let i of t.effects)i.is(Rf)&&!i.value.eq(this.query)&&this.setQuery(i.value)}setQuery(e){this.query=e,this.searchField.value=e.search,this.replaceField.value=e.replace,this.caseField.checked=e.caseSensitive,this.reField.checked=e.regexp,this.wordField.checked=e.wholeWord}mount(){this.searchField.select()}get pos(){return 80}get top(){return this.view.state.facet(ql).top}}function Ji(n,e){return n.state.phrase(e)}const Ku=30,Yu=/[\s\.,:;?!]/;function _b(n,{from:e,to:t}){let i=n.state.doc.lineAt(e),s=n.state.doc.lineAt(t).to,o=Math.max(i.from,e-Ku),r=Math.min(s,t+Ku),l=n.state.sliceDoc(o,r);if(o!=i.from){for(let a=0;a<Ku;a++)if(!Yu.test(l[a+1])&&Yu.test(l[a])){l=l.slice(a);break}}if(r!=s){for(let a=l.length-1;a>l.length-Ku;a--)if(!Yu.test(l[a-1])&&Yu.test(l[a])){l=l.slice(0,a);break}}return Fe.announce.of(`${n.state.phrase("current match")}. ${l} ${n.state.phrase("on line")} ${i.number}.`)}const DK=Fe.baseTheme({".cm-panel.cm-search":{padding:"2px 6px 4px",position:"relative","& [name=close]":{position:"absolute",top:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:0,margin:0},"& input, & button, & label":{margin:".2em .6em .2em 0"},"& input[type=checkbox]":{marginRight:".2em"},"& label":{fontSize:"80%",whiteSpace:"pre"}},"&light .cm-searchMatch":{backgroundColor:"#ffff0054"},"&dark .cm-searchMatch":{backgroundColor:"#00ffff8a"},"&light .cm-searchMatch-selected":{backgroundColor:"#ff6a0054"},"&dark .cm-searchMatch-selected":{backgroundColor:"#ff00ff8a"}}),M1=[Sr,Wl.low(xK),DK];class OA{constructor(e,t,i,s){this.state=e,this.pos=t,this.explicit=i,this.view=s,this.abortListeners=[],this.abortOnDocChange=!1}tokenBefore(e){let t=ki(this.state).resolveInner(this.pos,-1);for(;t&&e.indexOf(t.name)<0;)t=t.parent;return t?{from:t.from,to:this.pos,text:this.state.sliceDoc(t.from,this.pos),type:t.type}:null}matchBefore(e){let t=this.state.doc.lineAt(this.pos),i=Math.max(t.from,this.pos-250),s=t.text.slice(i-t.from,this.pos-t.from),o=s.search(PA(e,!1));return o<0?null:{from:i+o,to:this.pos,text:s.slice(o)}}get aborted(){return this.abortListeners==null}addEventListener(e,t,i){e=="abort"&&this.abortListeners&&(this.abortListeners.push(t),i&&i.onDocChange&&(this.abortOnDocChange=!0))}}function jk(n){let e=Object.keys(n).join(""),t=/\w/.test(e);return t&&(e=e.replace(/\w/g,"")),`[${t?"\\w":""}${e.replace(/[^\w\s]/g,"\\$&")}]`}function LK(n){let e=Object.create(null),t=Object.create(null);for(let{label:s}of n){e[s[0]]=!0;for(let o=1;o<s.length;o++)t[s[o]]=!0}let i=jk(e)+jk(t)+"*$";return[new RegExp("^"+i),new RegExp(i)]}function IK(n){let e=n.map(s=>typeof s=="string"?{label:s}:s),[t,i]=e.every(s=>/^\w+$/.test(s.label))?[/\w*$/,/\w+$/]:LK(e);return s=>{let o=s.matchBefore(i);return o||s.explicit?{from:o?o.from:s.pos,options:e,validFor:t}:null}}class zk{constructor(e,t,i,s){this.completion=e,this.source=t,this.match=i,this.score=s}}function Cr(n){return n.selection.main.from}function PA(n,e){var t;let{source:i}=n,s=e&&i[0]!="^",o=i[i.length-1]!="$";return!s&&!o?n:new RegExp(`${s?"^":""}(?:${i})${o?"$":""}`,(t=n.flags)!==null&&t!==void 0?t:n.ignoreCase?"i":"")}const TA=$o.define();function NK(n,e,t,i){let{main:s}=n.selection,o=t-s.from,r=i-s.from;return Object.assign(Object.assign({},n.changeByRange(l=>l!=s&&t!=i&&n.sliceDoc(l.from+o,l.from+r)!=n.sliceDoc(t,i)?{range:l}:{changes:{from:l.from+o,to:i==s.from?l.to:l.from+r,insert:e},range:_e.cursor(l.from+o+e.length)})),{scrollIntoView:!0,userEvent:"input.complete"})}const Fk=new WeakMap;function BK(n){if(!Array.isArray(n))return n;let e=Fk.get(n);return e||Fk.set(n,e=IK(n)),e}const Id=yt.define(),Df=yt.define();class jK{constructor(e){this.pattern=e,this.chars=[],this.folded=[],this.any=[],this.precise=[],this.byWord=[],this.score=0,this.matched=[];for(let t=0;t<e.length;){let i=ni(e,t),s=ls(i);this.chars.push(i);let o=e.slice(t,t+s),r=o.toUpperCase();this.folded.push(ni(r==o?o.toLowerCase():r,0)),t+=s}this.astral=e.length!=this.chars.length}ret(e,t){return this.score=e,this.matched=t,this}match(e){if(this.pattern.length==0)return this.ret(-100,[]);if(e.length<this.pattern.length)return null;let{chars:t,folded:i,any:s,precise:o,byWord:r}=this;if(t.length==1){let y=ni(e,0),v=ls(y),C=v==e.length?0:-100;if(y!=t[0])if(y==i[0])C+=-200;else return null;return this.ret(C,[0,v])}let l=e.indexOf(this.pattern);if(l==0)return this.ret(e.length==this.pattern.length?0:-100,[0,this.pattern.length]);let a=t.length,c=0;if(l<0){for(let y=0,v=Math.min(e.length,200);y<v&&c<a;){let C=ni(e,y);(C==t[c]||C==i[c])&&(s[c++]=y),y+=ls(C)}if(c<a)return null}let f=0,u=0,h=!1,d=0,g=-1,m=-1,p=/[a-z]/.test(e),b=!0;for(let y=0,v=Math.min(e.length,200),C=0;y<v&&u<a;){let w=ni(e,y);l<0&&(f<a&&w==t[f]&&(o[f++]=y),d<a&&(w==t[d]||w==i[d]?(d==0&&(g=y),m=y+1,d++):d=0));let S,x=w<255?w>=48&&w<=57||w>=97&&w<=122?2:w>=65&&w<=90?1:0:(S=V0(w))!=S.toLowerCase()?1:S!=S.toUpperCase()?2:0;(!y||x==1&&p||C==0&&x!=0)&&(t[u]==w||i[u]==w&&(h=!0)?r[u++]=y:r.length&&(b=!1)),C=x,y+=ls(w)}return u==a&&r[0]==0&&b?this.result(-100+(h?-200:0),r,e):d==a&&g==0?this.ret(-200-e.length+(m==e.length?0:-100),[0,m]):l>-1?this.ret(-700-e.length,[l,l+this.pattern.length]):d==a?this.ret(-900-e.length,[g,m]):u==a?this.result(-100+(h?-200:0)+-700+(b?0:-1100),r,e):t.length==2?null:this.result((s[0]?-700:0)+-200+-1100,s,e)}result(e,t,i){let s=[],o=0;for(let r of t){let l=r+(this.astral?ls(ni(i,r)):1);o&&s[o-1]==r?s[o-1]=l:(s[o++]=r,s[o++]=l)}return this.ret(e-i.length,s)}}class zK{constructor(e){this.pattern=e,this.matched=[],this.score=0,this.folded=e.toLowerCase()}match(e){if(e.length<this.pattern.length)return null;let t=e.slice(0,this.pattern.length),i=t==this.pattern?0:t.toLowerCase()==this.folded?-200:null;return i==null?null:(this.matched=[0,t.length],this.score=i+(e.length==this.pattern.length?0:-100),this)}}const si=He.define({combine(n){return _s(n,{activateOnTyping:!0,activateOnCompletion:()=>!1,activateOnTypingDelay:100,selectOnOpen:!0,override:null,closeOnBlur:!0,maxRenderedOptions:100,defaultKeymap:!0,tooltipClass:()=>"",optionClass:()=>"",aboveCursor:!1,icons:!0,addToOptions:[],positionInfo:FK,filterStrict:!1,compareCompletions:(e,t)=>e.label.localeCompare(t.label),interactionDelay:75,updateSyncTime:100},{defaultKeymap:(e,t)=>e&&t,closeOnBlur:(e,t)=>e&&t,icons:(e,t)=>e&&t,tooltipClass:(e,t)=>i=>Vk(e(i),t(i)),optionClass:(e,t)=>i=>Vk(e(i),t(i)),addToOptions:(e,t)=>e.concat(t),filterStrict:(e,t)=>e||t})}});function Vk(n,e){return n?e?n+" "+e:n:e}function FK(n,e,t,i,s,o){let r=n.textDirection==dn.RTL,l=r,a=!1,c="top",f,u,h=e.left-s.left,d=s.right-e.right,g=i.right-i.left,m=i.bottom-i.top;if(l&&h<Math.min(g,d)?l=!1:!l&&d<Math.min(g,h)&&(l=!0),g<=(l?h:d))f=Math.max(s.top,Math.min(t.top,s.bottom-m))-e.top,u=Math.min(400,l?h:d);else{a=!0,u=Math.min(400,(r?e.right:s.right-e.left)-30);let y=s.bottom-e.bottom;y>=m||y>e.top?f=t.bottom-e.top:(c="bottom",f=e.bottom-t.top)}let p=(e.bottom-e.top)/o.offsetHeight,b=(e.right-e.left)/o.offsetWidth;return{style:`${c}: ${f/p}px; max-width: ${u/b}px`,class:"cm-completionInfo-"+(a?r?"left-narrow":"right-narrow":l?"left":"right")}}function VK(n){let e=n.addToOptions.slice();return n.icons&&e.push({render(t){let i=document.createElement("div");return i.classList.add("cm-completionIcon"),t.type&&i.classList.add(...t.type.split(/\s+/g).map(s=>"cm-completionIcon-"+s)),i.setAttribute("aria-hidden","true"),i},position:20}),e.push({render(t,i,s,o){let r=document.createElement("span");r.className="cm-completionLabel";let l=t.displayLabel||t.label,a=0;for(let c=0;c<o.length;){let f=o[c++],u=o[c++];f>a&&r.appendChild(document.createTextNode(l.slice(a,f)));let h=r.appendChild(document.createElement("span"));h.appendChild(document.createTextNode(l.slice(f,u))),h.className="cm-completionMatchedText",a=u}return a<l.length&&r.appendChild(document.createTextNode(l.slice(a))),r},position:50},{render(t){if(!t.detail)return null;let i=document.createElement("span");return i.className="cm-completionDetail",i.textContent=t.detail,i},position:80}),e.sort((t,i)=>t.position-i.position).map(t=>t.render)}function Lm(n,e,t){if(n<=t)return{from:0,to:n};if(e<0&&(e=0),e<=n>>1){let s=Math.floor(e/t);return{from:s*t,to:(s+1)*t}}let i=Math.floor((n-e)/t);return{from:n-(i+1)*t,to:n-i*t}}class HK{constructor(e,t,i){this.view=e,this.stateField=t,this.applyCompletion=i,this.info=null,this.infoDestroy=null,this.placeInfoReq={read:()=>this.measureInfo(),write:a=>this.placeInfo(a),key:this},this.space=null,this.currentClass="";let s=e.state.field(t),{options:o,selected:r}=s.open,l=e.state.facet(si);this.optionContent=VK(l),this.optionClass=l.optionClass,this.tooltipClass=l.tooltipClass,this.range=Lm(o.length,r,l.maxRenderedOptions),this.dom=document.createElement("div"),this.dom.className="cm-tooltip-autocomplete",this.updateTooltipClass(e.state),this.dom.addEventListener("mousedown",a=>{let{options:c}=e.state.field(t).open;for(let f=a.target,u;f&&f!=this.dom;f=f.parentNode)if(f.nodeName=="LI"&&(u=/-(\d+)$/.exec(f.id))&&+u[1]<c.length){this.applyCompletion(e,c[+u[1]]),a.preventDefault();return}}),this.dom.addEventListener("focusout",a=>{let c=e.state.field(this.stateField,!1);c&&c.tooltip&&e.state.facet(si).closeOnBlur&&a.relatedTarget!=e.contentDOM&&e.dispatch({effects:Df.of(null)})}),this.showOptions(o,s.id)}mount(){this.updateSel()}showOptions(e,t){this.list&&this.list.remove(),this.list=this.dom.appendChild(this.createListBox(e,t,this.range)),this.list.addEventListener("scroll",()=>{this.info&&this.view.requestMeasure(this.placeInfoReq)})}update(e){var t;let i=e.state.field(this.stateField),s=e.startState.field(this.stateField);if(this.updateTooltipClass(e.state),i!=s){let{options:o,selected:r,disabled:l}=i.open;(!s.open||s.open.options!=o)&&(this.range=Lm(o.length,r,e.state.facet(si).maxRenderedOptions),this.showOptions(o,i.id)),this.updateSel(),l!=((t=s.open)===null||t===void 0?void 0:t.disabled)&&this.dom.classList.toggle("cm-tooltip-autocomplete-disabled",!!l)}}updateTooltipClass(e){let t=this.tooltipClass(e);if(t!=this.currentClass){for(let i of this.currentClass.split(" "))i&&this.dom.classList.remove(i);for(let i of t.split(" "))i&&this.dom.classList.add(i);this.currentClass=t}}positioned(e){this.space=e,this.info&&this.view.requestMeasure(this.placeInfoReq)}updateSel(){let e=this.view.state.field(this.stateField),t=e.open;if((t.selected>-1&&t.selected<this.range.from||t.selected>=this.range.to)&&(this.range=Lm(t.options.length,t.selected,this.view.state.facet(si).maxRenderedOptions),this.showOptions(t.options,e.id)),this.updateSelectedOption(t.selected)){this.destroyInfo();let{completion:i}=t.options[t.selected],{info:s}=i;if(!s)return;let o=typeof s=="string"?document.createTextNode(s):s(i);if(!o)return;"then"in o?o.then(r=>{r&&this.view.state.field(this.stateField,!1)==e&&this.addInfoPane(r,i)}).catch(r=>Pi(this.view.state,r,"completion info")):this.addInfoPane(o,i)}}addInfoPane(e,t){this.destroyInfo();let i=this.info=document.createElement("div");if(i.className="cm-tooltip cm-completionInfo",e.nodeType!=null)i.appendChild(e),this.infoDestroy=null;else{let{dom:s,destroy:o}=e;i.appendChild(s),this.infoDestroy=o||null}this.dom.appendChild(i),this.view.requestMeasure(this.placeInfoReq)}updateSelectedOption(e){let t=null;for(let i=this.list.firstChild,s=this.range.from;i;i=i.nextSibling,s++)i.nodeName!="LI"||!i.id?s--:s==e?i.hasAttribute("aria-selected")||(i.setAttribute("aria-selected","true"),t=i):i.hasAttribute("aria-selected")&&i.removeAttribute("aria-selected");return t&&qK(this.list,t),t}measureInfo(){let e=this.dom.querySelector("[aria-selected]");if(!e||!this.info)return null;let t=this.dom.getBoundingClientRect(),i=this.info.getBoundingClientRect(),s=e.getBoundingClientRect(),o=this.space;if(!o){let r=this.dom.ownerDocument.defaultView||window;o={left:0,top:0,right:r.innerWidth,bottom:r.innerHeight}}return s.top>Math.min(o.bottom,t.bottom)-10||s.bottom<Math.max(o.top,t.top)+10?null:this.view.state.facet(si).positionInfo(this.view,t,s,i,o,this.dom)}placeInfo(e){this.info&&(e?(e.style&&(this.info.style.cssText=e.style),this.info.className="cm-tooltip cm-completionInfo "+(e.class||"")):this.info.style.cssText="top: -1e6px")}createListBox(e,t,i){const s=document.createElement("ul");s.id=t,s.setAttribute("role","listbox"),s.setAttribute("aria-expanded","true"),s.setAttribute("aria-label",this.view.state.phrase("Completions"));let o=null;for(let r=i.from;r<i.to;r++){let{completion:l,match:a}=e[r],{section:c}=l;if(c){let h=typeof c=="string"?c:c.name;if(h!=o&&(r>i.from||i.from==0))if(o=h,typeof c!="string"&&c.header)s.appendChild(c.header(c));else{let d=s.appendChild(document.createElement("completion-section"));d.textContent=h}}const f=s.appendChild(document.createElement("li"));f.id=t+"-"+r,f.setAttribute("role","option");let u=this.optionClass(l);u&&(f.className=u);for(let h of this.optionContent){let d=h(l,this.view.state,this.view,a);d&&f.appendChild(d)}}return i.from&&s.classList.add("cm-completionListIncompleteTop"),i.to<e.length&&s.classList.add("cm-completionListIncompleteBottom"),s}destroyInfo(){this.info&&(this.infoDestroy&&this.infoDestroy(),this.info.remove(),this.info=null)}destroy(){this.destroyInfo()}}function WK(n,e){return t=>new HK(t,n,e)}function qK(n,e){let t=n.getBoundingClientRect(),i=e.getBoundingClientRect(),s=t.height/n.offsetHeight;i.top<t.top?n.scrollTop-=(t.top-i.top)/s:i.bottom>t.bottom&&(n.scrollTop+=(i.bottom-t.bottom)/s)}function Hk(n){return(n.boost||0)*100+(n.apply?10:0)+(n.info?5:0)+(n.type?1:0)}function UK(n,e){let t=[],i=null,s=c=>{t.push(c);let{section:f}=c.completion;if(f){i||(i=[]);let u=typeof f=="string"?f:f.name;i.some(h=>h.name==u)||i.push(typeof f=="string"?{name:u}:f)}},o=e.facet(si);for(let c of n)if(c.hasResult()){let f=c.result.getMatch;if(c.result.filter===!1)for(let u of c.result.options)s(new zk(u,c.source,f?f(u):[],1e9-t.length));else{let u=e.sliceDoc(c.from,c.to),h,d=o.filterStrict?new zK(u):new jK(u);for(let g of c.result.options)if(h=d.match(g.label)){let m=g.displayLabel?f?f(g,h.matched):[]:h.matched;s(new zk(g,c.source,m,h.score+(g.boost||0)))}}}if(i){let c=Object.create(null),f=0,u=(h,d)=>{var g,m;return((g=h.rank)!==null&&g!==void 0?g:1e9)-((m=d.rank)!==null&&m!==void 0?m:1e9)||(h.name<d.name?-1:1)};for(let h of i.sort(u))f-=1e5,c[h.name]=f;for(let h of t){let{section:d}=h.completion;d&&(h.score+=c[typeof d=="string"?d:d.name])}}let r=[],l=null,a=o.compareCompletions;for(let c of t.sort((f,u)=>u.score-f.score||a(f.completion,u.completion))){let f=c.completion;!l||l.label!=f.label||l.detail!=f.detail||l.type!=null&&f.type!=null&&l.type!=f.type||l.apply!=f.apply||l.boost!=f.boost?r.push(c):Hk(c.completion)>Hk(l)&&(r[r.length-1]=c),l=c.completion}return r}class _a{constructor(e,t,i,s,o,r){this.options=e,this.attrs=t,this.tooltip=i,this.timestamp=s,this.selected=o,this.disabled=r}setSelected(e,t){return e==this.selected||e>=this.options.length?this:new _a(this.options,Wk(t,e),this.tooltip,this.timestamp,e,this.disabled)}static build(e,t,i,s,o){let r=UK(e,t);if(!r.length)return s&&e.some(a=>a.state==1)?new _a(s.options,s.attrs,s.tooltip,s.timestamp,s.selected,!0):null;let l=t.facet(si).selectOnOpen?0:-1;if(s&&s.selected!=l&&s.selected!=-1){let a=s.options[s.selected].completion;for(let c=0;c<r.length;c++)if(r[c].completion==a){l=c;break}}return new _a(r,Wk(i,l),{pos:e.reduce((a,c)=>c.hasResult()?Math.min(a,c.from):a,1e8),create:QK,above:o.aboveCursor},s?s.timestamp:Date.now(),l,!1)}map(e){return new _a(this.options,this.attrs,Object.assign(Object.assign({},this.tooltip),{pos:e.mapPos(this.tooltip.pos)}),this.timestamp,this.selected,this.disabled)}}class Nd{constructor(e,t,i){this.active=e,this.id=t,this.open=i}static start(){return new Nd(XK,"cm-ac-"+Math.floor(Math.random()*2e6).toString(36),null)}update(e){let{state:t}=e,i=t.facet(si),o=(i.override||t.languageDataAt("autocomplete",Cr(t)).map(BK)).map(l=>(this.active.find(c=>c.source==l)||new Gi(l,this.active.some(c=>c.state!=0)?1:0)).update(e,i));o.length==this.active.length&&o.every((l,a)=>l==this.active[a])&&(o=this.active);let r=this.open;r&&e.docChanged&&(r=r.map(e.changes)),e.selection||o.some(l=>l.hasResult()&&e.changes.touchesRange(l.from,l.to))||!JK(o,this.active)?r=_a.build(o,t,this.id,r,i):r&&r.disabled&&!o.some(l=>l.state==1)&&(r=null),!r&&o.every(l=>l.state!=1)&&o.some(l=>l.hasResult())&&(o=o.map(l=>l.hasResult()?new Gi(l.source,0):l));for(let l of e.effects)l.is(DA)&&(r=r&&r.setSelected(l.value,this.id));return o==this.active&&r==this.open?this:new Nd(o,this.id,r)}get tooltip(){return this.open?this.open.tooltip:null}get attrs(){return this.open?this.open.attrs:this.active.length?KK:YK}}function JK(n,e){if(n==e)return!0;for(let t=0,i=0;;){for(;t<n.length&&!n[t].hasResult;)t++;for(;i<e.length&&!e[i].hasResult;)i++;let s=t==n.length,o=i==e.length;if(s||o)return s==o;if(n[t++].result!=e[i++].result)return!1}}const KK={"aria-autocomplete":"list"},YK={};function Wk(n,e){let t={"aria-autocomplete":"list","aria-haspopup":"listbox","aria-controls":n};return e>-1&&(t["aria-activedescendant"]=n+"-"+e),t}const XK=[];function EA(n,e){if(n.isUserEvent("input.complete")){let i=n.annotation(TA);if(i&&e.activateOnCompletion(i))return 12}let t=n.isUserEvent("input.type");return t&&e.activateOnTyping?5:t?1:n.isUserEvent("delete.backward")?2:n.selection?8:n.docChanged?16:0}class Gi{constructor(e,t,i=-1){this.source=e,this.state=t,this.explicitPos=i}hasResult(){return!1}update(e,t){let i=EA(e,t),s=this;(i&8||i&16&&this.touches(e))&&(s=new Gi(s.source,0)),i&4&&s.state==0&&(s=new Gi(this.source,1)),s=s.updateFor(e,i);for(let o of e.effects)if(o.is(Id))s=new Gi(s.source,1,o.value?Cr(e.state):-1);else if(o.is(Df))s=new Gi(s.source,0);else if(o.is(RA))for(let r of o.value)r.source==s.source&&(s=r);return s}updateFor(e,t){return this.map(e.changes)}map(e){return e.empty||this.explicitPos<0?this:new Gi(this.source,this.state,e.mapPos(this.explicitPos))}touches(e){return e.changes.touchesRange(Cr(e.state))}}class Da extends Gi{constructor(e,t,i,s,o){super(e,2,t),this.result=i,this.from=s,this.to=o}hasResult(){return!0}updateFor(e,t){var i;if(!(t&3))return this.map(e.changes);let s=this.result;s.map&&!e.changes.empty&&(s=s.map(s,e.changes));let o=e.changes.mapPos(this.from),r=e.changes.mapPos(this.to,1),l=Cr(e.state);if((this.explicitPos<0?l<=o:l<this.from)||l>r||!s||t&2&&Cr(e.startState)==this.from)return new Gi(this.source,t&4?1:0);let a=this.explicitPos<0?-1:e.changes.mapPos(this.explicitPos);return GK(s.validFor,e.state,o,r)?new Da(this.source,a,s,o,r):s.update&&(s=s.update(s,o,r,new OA(e.state,l,a>=0)))?new Da(this.source,a,s,s.from,(i=s.to)!==null&&i!==void 0?i:Cr(e.state)):new Gi(this.source,1,a)}map(e){return e.empty?this:(this.result.map?this.result.map(this.result,e):this.result)?new Da(this.source,this.explicitPos<0?-1:e.mapPos(this.explicitPos),this.result,e.mapPos(this.from),e.mapPos(this.to,1)):new Gi(this.source,0)}touches(e){return e.changes.touchesRange(this.from,this.to)}}function GK(n,e,t,i){if(!n)return!1;let s=e.sliceDoc(t,i);return typeof n=="function"?n(s,t,i,e):PA(n,!0).test(s)}const RA=yt.define({map(n,e){return n.map(t=>t.map(e))}}),DA=yt.define(),Ii=Un.define({create(){return Nd.start()},update(n,e){return n.update(e)},provide:n=>[Ag.from(n,e=>e.tooltip),Fe.contentAttributes.from(n,e=>e.attrs)]});function wb(n,e){const t=e.completion.apply||e.completion.label;let i=n.state.field(Ii).active.find(s=>s.source==e.source);return i instanceof Da?(typeof t=="string"?n.dispatch(Object.assign(Object.assign({},NK(n.state,t,i.from,i.to)),{annotations:TA.of(e.completion)})):t(n,e.completion,i.from,i.to),!0):!1}const QK=WK(Ii,wb);function Xu(n,e="option"){return t=>{let i=t.state.field(Ii,!1);if(!i||!i.open||i.open.disabled||Date.now()-i.open.timestamp<t.state.facet(si).interactionDelay)return!1;let s=1,o;e=="page"&&(o=o5(t,i.open.tooltip))&&(s=Math.max(2,Math.floor(o.dom.offsetHeight/o.dom.querySelector("li").offsetHeight)-1));let{length:r}=i.open.options,l=i.open.selected>-1?i.open.selected+s*(n?1:-1):n?0:r-1;return l<0?l=e=="page"?0:r-1:l>=r&&(l=e=="page"?r-1:0),t.dispatch({effects:DA.of(l)}),!0}}const ZK=n=>{let e=n.state.field(Ii,!1);return n.state.readOnly||!e||!e.open||e.open.selected<0||e.open.disabled||Date.now()-e.open.timestamp<n.state.facet(si).interactionDelay?!1:wb(n,e.open.options[e.open.selected])},$K=n=>n.state.field(Ii,!1)?(n.dispatch({effects:Id.of(!0)}),!0):!1,eY=n=>{let e=n.state.field(Ii,!1);return!e||!e.active.some(t=>t.state!=0)?!1:(n.dispatch({effects:Df.of(null)}),!0)};class tY{constructor(e,t){this.active=e,this.context=t,this.time=Date.now(),this.updates=[],this.done=void 0}}const nY=50,iY=1e3,sY=An.fromClass(class{constructor(n){this.view=n,this.debounceUpdate=-1,this.running=[],this.debounceAccept=-1,this.pendingStart=!1,this.composing=0;for(let e of n.state.field(Ii).active)e.state==1&&this.startQuery(e)}update(n){let e=n.state.field(Ii),t=n.state.facet(si);if(!n.selectionSet&&!n.docChanged&&n.startState.field(Ii)==e)return;let i=n.transactions.some(o=>{let r=EA(o,t);return r&8||(o.selection||o.docChanged)&&!(r&3)});for(let o=0;o<this.running.length;o++){let r=this.running[o];if(i||r.context.abortOnDocChange&&n.docChanged||r.updates.length+n.transactions.length>nY&&Date.now()-r.time>iY){for(let l of r.context.abortListeners)try{l()}catch(a){Pi(this.view.state,a)}r.context.abortListeners=null,this.running.splice(o--,1)}else r.updates.push(...n.transactions)}this.debounceUpdate>-1&&clearTimeout(this.debounceUpdate),n.transactions.some(o=>o.effects.some(r=>r.is(Id)))&&(this.pendingStart=!0);let s=this.pendingStart?50:t.activateOnTypingDelay;if(this.debounceUpdate=e.active.some(o=>o.state==1&&!this.running.some(r=>r.active.source==o.source))?setTimeout(()=>this.startUpdate(),s):-1,this.composing!=0)for(let o of n.transactions)o.isUserEvent("input.type")?this.composing=2:this.composing==2&&o.selection&&(this.composing=3)}startUpdate(){this.debounceUpdate=-1,this.pendingStart=!1;let{state:n}=this.view,e=n.field(Ii);for(let t of e.active)t.state==1&&!this.running.some(i=>i.active.source==t.source)&&this.startQuery(t)}startQuery(n){let{state:e}=this.view,t=Cr(e),i=new OA(e,t,n.explicitPos==t,this.view),s=new tY(n,i);this.running.push(s),Promise.resolve(n.source(i)).then(o=>{s.context.aborted||(s.done=o||null,this.scheduleAccept())},o=>{this.view.dispatch({effects:Df.of(null)}),Pi(this.view.state,o)})}scheduleAccept(){this.running.every(n=>n.done!==void 0)?this.accept():this.debounceAccept<0&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(si).updateSyncTime))}accept(){var n;this.debounceAccept>-1&&clearTimeout(this.debounceAccept),this.debounceAccept=-1;let e=[],t=this.view.state.facet(si);for(let i=0;i<this.running.length;i++){let s=this.running[i];if(s.done===void 0)continue;if(this.running.splice(i--,1),s.done){let r=new Da(s.active.source,s.active.explicitPos,s.done,s.done.from,(n=s.done.to)!==null&&n!==void 0?n:Cr(s.updates.length?s.updates[0].startState:this.view.state));for(let l of s.updates)r=r.update(l,t);if(r.hasResult()){e.push(r);continue}}let o=this.view.state.field(Ii).active.find(r=>r.source==s.active.source);if(o&&o.state==1)if(s.done==null){let r=new Gi(s.active.source,0);for(let l of s.updates)r=r.update(l,t);r.state!=1&&e.push(r)}else this.startQuery(o)}e.length&&this.view.dispatch({effects:RA.of(e)})}},{eventHandlers:{blur(n){let e=this.view.state.field(Ii,!1);if(e&&e.tooltip&&this.view.state.facet(si).closeOnBlur){let t=e.open&&o5(this.view,e.open.tooltip);(!t||!t.dom.contains(n.relatedTarget))&&setTimeout(()=>this.view.dispatch({effects:Df.of(null)}),10)}},compositionstart(){this.composing=1},compositionend(){this.composing==3&&setTimeout(()=>this.view.dispatch({effects:Id.of(!1)}),20),this.composing=0}}}),oY=typeof navigator=="object"&&/Win/.test(navigator.platform),rY=Wl.highest(Fe.domEventHandlers({keydown(n,e){let t=e.state.field(Ii,!1);if(!t||!t.open||t.open.disabled||t.open.selected<0||n.key.length>1||n.ctrlKey&&!(oY&&n.altKey)||n.metaKey)return!1;let i=t.open.options[t.open.selected],s=t.active.find(r=>r.source==i.source),o=i.completion.commitCharacters||s.result.commitCharacters;return o&&o.indexOf(n.key)>-1&&wb(e,i),!1}})),lY=Fe.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",height:"100%",listStyle:"none",margin:0,padding:0,"& > li, & > completion-section":{padding:"1px 3px",lineHeight:1.2},"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer"},"& > completion-section":{display:"list-item",borderBottom:"1px solid silver",paddingLeft:"0.5em",opacity:.7}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&light .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#777"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},"&dark .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#444"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'"···"',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"400px",boxSizing:"border-box",whiteSpace:"pre-line"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},".cm-completionInfo.cm-completionInfo-left-narrow":{right:"30px"},".cm-completionInfo.cm-completionInfo-right-narrow":{left:"30px"},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",display:"inline-block",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6",boxSizing:"content-box"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"'ƒ'"}},".cm-completionIcon-class":{"&:after":{content:"'○'"}},".cm-completionIcon-interface":{"&:after":{content:"'◌'"}},".cm-completionIcon-variable":{"&:after":{content:"'𝑥'"}},".cm-completionIcon-constant":{"&:after":{content:"'𝐶'"}},".cm-completionIcon-type":{"&:after":{content:"'𝑡'"}},".cm-completionIcon-enum":{"&:after":{content:"'∪'"}},".cm-completionIcon-property":{"&:after":{content:"'□'"}},".cm-completionIcon-keyword":{"&:after":{content:"'🔑︎'"}},".cm-completionIcon-namespace":{"&:after":{content:"'▢'"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}}),Lf={brackets:["(","[","{","'",'"'],before:")]}:;>",stringPrefixes:[]},hl=yt.define({map(n,e){let t=e.mapPos(n,-1,xi.TrackAfter);return t??void 0}}),vb=new class extends El{};vb.startSide=1;vb.endSide=-1;const LA=Un.define({create(){return jt.empty},update(n,e){if(n=n.map(e.changes),e.selection){let t=e.state.doc.lineAt(e.selection.main.head);n=n.update({filter:i=>i>=t.from&&i<=t.to})}for(let t of e.effects)t.is(hl)&&(n=n.update({add:[vb.range(t.value,t.value+1)]}));return n}});function aY(){return[fY,LA]}const Im="()[]{}<>";function IA(n){for(let e=0;e<Im.length;e+=2)if(Im.charCodeAt(e)==n)return Im.charAt(e+1);return V0(n<128?n:n+1)}function NA(n,e){return n.languageDataAt("closeBrackets",e)[0]||Lf}const cY=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),fY=Fe.inputHandler.of((n,e,t,i)=>{if((cY?n.composing:n.compositionStarted)||n.state.readOnly)return!1;let s=n.state.selection.main;if(i.length>2||i.length==2&&ls(ni(i,0))==1||e!=s.from||t!=s.to)return!1;let o=dY(n.state,i);return o?(n.dispatch(o),!0):!1}),uY=({state:n,dispatch:e})=>{if(n.readOnly)return!1;let i=NA(n,n.selection.main.head).brackets||Lf.brackets,s=null,o=n.changeByRange(r=>{if(r.empty){let l=gY(n.doc,r.head);for(let a of i)if(a==l&&Bg(n.doc,r.head)==IA(ni(a,0)))return{changes:{from:r.head-a.length,to:r.head+a.length},range:_e.cursor(r.head-a.length)}}return{range:s=r}});return s||e(n.update(o,{scrollIntoView:!0,userEvent:"delete.backward"})),!s},hY=[{key:"Backspace",run:uY}];function dY(n,e){let t=NA(n,n.selection.main.head),i=t.brackets||Lf.brackets;for(let s of i){let o=IA(ni(s,0));if(e==s)return o==s?bY(n,s,i.indexOf(s+s+s)>-1,t):mY(n,s,o,t.before||Lf.before);if(e==o&&BA(n,n.selection.main.from))return pY(n,s,o)}return null}function BA(n,e){let t=!1;return n.field(LA).between(0,n.doc.length,i=>{i==e&&(t=!0)}),t}function Bg(n,e){let t=n.sliceString(e,e+2);return t.slice(0,ls(ni(t,0)))}function gY(n,e){let t=n.sliceString(e-2,e);return ls(ni(t,0))==t.length?t:t.slice(1)}function mY(n,e,t,i){let s=null,o=n.changeByRange(r=>{if(!r.empty)return{changes:[{insert:e,from:r.from},{insert:t,from:r.to}],effects:hl.of(r.to+e.length),range:_e.range(r.anchor+e.length,r.head+e.length)};let l=Bg(n.doc,r.head);return!l||/\s/.test(l)||i.indexOf(l)>-1?{changes:{insert:e+t,from:r.head},effects:hl.of(r.head+e.length),range:_e.cursor(r.head+e.length)}:{range:s=r}});return s?null:n.update(o,{scrollIntoView:!0,userEvent:"input.type"})}function pY(n,e,t){let i=null,s=n.changeByRange(o=>o.empty&&Bg(n.doc,o.head)==t?{changes:{from:o.head,to:o.head+t.length,insert:t},range:_e.cursor(o.head+t.length)}:i={range:o});return i?null:n.update(s,{scrollIntoView:!0,userEvent:"input.type"})}function bY(n,e,t,i){let s=i.stringPrefixes||Lf.stringPrefixes,o=null,r=n.changeByRange(l=>{if(!l.empty)return{changes:[{insert:e,from:l.from},{insert:e,from:l.to}],effects:hl.of(l.to+e.length),range:_e.range(l.anchor+e.length,l.head+e.length)};let a=l.head,c=Bg(n.doc,a),f;if(c==e){if(qk(n,a))return{changes:{insert:e+e,from:a},effects:hl.of(a+e.length),range:_e.cursor(a+e.length)};if(BA(n,a)){let h=t&&n.sliceDoc(a,a+e.length*3)==e+e+e?e+e+e:e;return{changes:{from:a,to:a+h.length,insert:h},range:_e.cursor(a+h.length)}}}else{if(t&&n.sliceDoc(a-2*e.length,a)==e+e&&(f=Uk(n,a-2*e.length,s))>-1&&qk(n,f))return{changes:{insert:e+e+e+e,from:a},effects:hl.of(a+e.length),range:_e.cursor(a+e.length)};if(n.charCategorizer(a)(c)!=vn.Word&&Uk(n,a,s)>-1&&!yY(n,a,e,s))return{changes:{insert:e+e,from:a},effects:hl.of(a+e.length),range:_e.cursor(a+e.length)}}return{range:o=l}});return o?null:n.update(r,{scrollIntoView:!0,userEvent:"input.type"})}function qk(n,e){let t=ki(n).resolveInner(e+1);return t.parent&&t.from==e}function yY(n,e,t,i){let s=ki(n).resolveInner(e,-1),o=i.reduce((r,l)=>Math.max(r,l.length),0);for(let r=0;r<5;r++){let l=n.sliceDoc(s.from,Math.min(s.to,s.from+t.length+o)),a=l.indexOf(t);if(!a||a>-1&&i.indexOf(l.slice(0,a))>-1){let f=s.firstChild;for(;f&&f.from==s.from&&f.to-f.from>t.length+a;){if(n.sliceDoc(f.to-t.length,f.to)==t)return!1;f=f.firstChild}return!0}let c=s.to==e&&s.parent;if(!c)break;s=c}return!1}function Uk(n,e,t){let i=n.charCategorizer(e);if(i(n.sliceDoc(e-1,e))!=vn.Word)return e;for(let s of t){let o=e-s.length;if(n.sliceDoc(o,e)==s&&i(n.sliceDoc(o-1,o))!=vn.Word)return o}return-1}function _Y(n={}){return[rY,Ii,si.of(n),sY,wY,lY]}const jA=[{key:"Ctrl-Space",run:$K},{key:"Escape",run:eY},{key:"ArrowDown",run:Xu(!0)},{key:"ArrowUp",run:Xu(!1)},{key:"PageDown",run:Xu(!0,"page")},{key:"PageUp",run:Xu(!1,"page")},{key:"Enter",run:ZK}],wY=Wl.highest(md.computeN([si],n=>n.facet(si).defaultKeymap?[jA]:[]));function Jk(n){let e,t,i;return{c(){e=L("div"),t=we("Line: "),i=we(n[0]),_(e,"class","jse-status-bar-info svelte-hhcn0f")},m(s,o){j(s,e,o),A(e,t),A(e,i)},p(s,o){o&1&&Ve(i,s[0])},d(s){s&&B(e)}}}function Kk(n){let e,t,i;return{c(){e=L("div"),t=we("Column: "),i=we(n[1]),_(e,"class","jse-status-bar-info svelte-hhcn0f")},m(s,o){j(s,e,o),A(e,t),A(e,i)},p(s,o){o&2&&Ve(i,s[1])},d(s){s&&B(e)}}}function Yk(n){let e,t,i,s;return{c(){e=L("div"),t=we("Selection: "),i=we(n[2]),s=we(" characters"),_(e,"class","jse-status-bar-info svelte-hhcn0f")},m(o,r){j(o,e,r),A(e,t),A(e,i),A(e,s)},p(o,r){r&4&&Ve(i,o[2])},d(o){o&&B(e)}}}function vY(n){let e,t,i,s=n[0]!==void 0&&Jk(n),o=n[1]!==void 0&&Kk(n),r=n[2]!==void 0&&n[2]>0&&Yk(n);return{c(){e=L("div"),s&&s.c(),t=X(),o&&o.c(),i=X(),r&&r.c(),_(e,"class","jse-status-bar svelte-hhcn0f")},m(l,a){j(l,e,a),s&&s.m(e,null),A(e,t),o&&o.m(e,null),A(e,i),r&&r.m(e,null)},p(l,[a]){l[0]!==void 0?s?s.p(l,a):(s=Jk(l),s.c(),s.m(e,t)):s&&(s.d(1),s=null),l[1]!==void 0?o?o.p(l,a):(o=Kk(l),o.c(),o.m(e,i)):o&&(o.d(1),o=null),l[2]!==void 0&&l[2]>0?r?r.p(l,a):(r=Yk(l),r.c(),r.m(e,null)):r&&(r.d(1),r=null)},i:ge,o:ge,d(l){l&&B(e),s&&s.d(),o&&o.d(),r&&r.d()}}}function kY(n,e,t){let{editorState:i}=e,s,o,r,l,a;return n.$$set=c=>{"editorState"in c&&t(3,i=c.editorState)},n.$$.update=()=>{var c,f,u,h,d;n.$$.dirty&8&&t(4,s=(f=(c=i==null?void 0:i.selection)==null?void 0:c.main)==null?void 0:f.head),n.$$.dirty&24&&t(5,o=s!==void 0?(u=i==null?void 0:i.doc)==null?void 0:u.lineAt(s):void 0),n.$$.dirty&32&&t(0,r=o!==void 0?o.number:void 0),n.$$.dirty&48&&t(1,l=o!==void 0&&s!==void 0?s-o.from+1:void 0),n.$$.dirty&8&&t(2,a=(d=(h=i==null?void 0:i.selection)==null?void 0:h.ranges)==null?void 0:d.reduce((g,m)=>g+m.to-m.from,0))},[r,l,a,i,s,o]}class SY extends Te{constructor(e){super(),Pe(this,e,kY,vY,Ot,{editorState:3})}}const kb=ou.define([{tag:Me.propertyName,color:"var(--internal-key-color)"},{tag:Me.number,color:"var(--internal-value-color-number)"},{tag:Me.bool,color:"var(--internal-value-color-boolean)"},{tag:Me.string,color:"var(--internal-value-color-string)"},{tag:Me.keyword,color:"var(--internal-value-color-null)"}]),CY=T5(kb),MY=kb.style;kb.style=n=>MY(n||[]);function AY(n,e=n.state){const t=new Set;for(const{from:i,to:s}of n.visibleRanges){let o=i;for(;o<=s;){const r=e.doc.lineAt(o);t.has(r)||t.add(r),o=r.to+1}}return t}function A1(n){const e=n.selection.main.head;return n.doc.lineAt(e)}function Xk(n,e){let t=0;e:for(let i=0;i<n.length;i++)switch(n[i]){case" ":case" ":{t+=1;continue e}case"	":{t+=e-t%e;continue e}case"\r":continue e;default:break e}return t}const Bd=He.define({combine(n){return _s(n,{highlightActiveBlock:!0,hideFirstIndent:!1,markerType:"fullScope",thickness:1})}});class xY{constructor(e,t,i,s){this.lines=e,this.state=t,this.map=new Map,this.unitWidth=i,this.markerType=s;for(const o of this.lines)this.add(o);this.state.facet(Bd).highlightActiveBlock&&this.findAndSetActiveLines()}has(e){return this.map.has(typeof e=="number"?e:e.number)}get(e){const t=this.map.get(typeof e=="number"?e:e.number);if(!t)throw new Error("Line not found in indentation map");return t}set(e,t,i){const s=!e.text.trim().length,o={line:e,col:t,level:i,empty:s};return this.map.set(o.line.number,o),o}add(e){if(this.has(e))return this.get(e);if(!e.length||!e.text.trim().length){if(e.number===1)return this.set(e,0,0);if(e.number===this.state.doc.lines){const r=this.closestNonEmpty(e,-1);return this.set(e,0,r.level)}const s=this.closestNonEmpty(e,-1),o=this.closestNonEmpty(e,1);return s.level>=o.level&&this.markerType!=="codeOnly"?this.set(e,0,s.level):s.empty&&s.level===0&&o.level!==0?this.set(e,0,0):o.level>s.level?this.set(e,0,s.level+1):this.set(e,0,o.level)}const t=Xk(e.text,this.state.tabSize),i=Math.floor(t/this.unitWidth);return this.set(e,t,i)}closestNonEmpty(e,t){let i=e.number+t;for(;t===-1?i>=1:i<=this.state.doc.lines;){if(this.has(i)){const r=this.get(i);if(!r.empty)return r}const o=this.state.doc.line(i);if(o.text.trim().length){const r=Xk(o.text,this.state.tabSize),l=Math.floor(r/this.unitWidth);return this.set(o,r,l)}i+=t}const s=this.state.doc.line(t===-1?1:this.state.doc.lines);return this.set(s,0,0)}findAndSetActiveLines(){const e=A1(this.state);if(!this.has(e))return;let t=this.get(e);if(this.has(t.line.number+1)){const o=this.get(t.line.number+1);o.level>t.level&&(t=o)}if(this.has(t.line.number-1)){const o=this.get(t.line.number-1);o.level>t.level&&(t=o)}if(t.level===0)return;t.active=t.level;let i,s;for(i=t.line.number;i>1;i--){if(!this.has(i-1))continue;const o=this.get(i-1);if(o.level<t.level)break;o.active=t.level}for(s=t.line.number;s<this.state.doc.lines;s++){if(!this.has(s+1))continue;const o=this.get(s+1);if(o.level<t.level)break;o.active=t.level}}}function OY(n){const e={light:"#F0F1F2",dark:"#2B3245",activeLight:"#E4E5E6",activeDark:"#3C445C"};let t=e;return n&&(t=Object.assign(Object.assign({},e),n)),Fe.baseTheme({"&light":{"--indent-marker-bg-color":t.light,"--indent-marker-active-bg-color":t.activeLight},"&dark":{"--indent-marker-bg-color":t.dark,"--indent-marker-active-bg-color":t.activeDark},".cm-line":{position:"relative"},".cm-indent-markers::before":{content:'""',position:"absolute",top:0,left:"2px",right:0,bottom:0,background:"var(--indent-markers)",pointerEvents:"none",zIndex:"-1"}})}function Gu(n,e,t,i,s){return`${`repeating-linear-gradient(to right, var(${n}) 0 ${e}px, transparent ${e}px ${t}ch)`} ${i*t}.5ch/calc(${t*s}ch - 1px) no-repeat`}function PY(n,e,t,i,s){const{level:o,active:r}=n;if(s=s??i,t&&o===0)return[];const l=t?1:0,a=[];if(r!==void 0){const c=r-l-1;c>0&&a.push(Gu("--indent-marker-bg-color",i,e,l,c)),a.push(Gu("--indent-marker-active-bg-color",s,e,r-1,1)),r!==o&&a.push(Gu("--indent-marker-bg-color",i,e,r,o-r))}else a.push(Gu("--indent-marker-bg-color",i,e,l,o-l));return a.join(",")}class TY{constructor(e){this.view=e,this.unitWidth=Br(e.state),this.currentLineNumber=A1(e.state).number,this.generate(e.state)}update(e){const t=Br(e.state),i=t!==this.unitWidth;i&&(this.unitWidth=t);const s=A1(e.state).number,o=s!==this.currentLineNumber;this.currentLineNumber=s;const r=e.state.facet(Bd).highlightActiveBlock&&o;(e.docChanged||e.viewportChanged||i||r)&&this.generate(e.state)}generate(e){const t=new bo,i=AY(this.view,e),{hideFirstIndent:s,markerType:o,thickness:r,activeThickness:l}=e.facet(Bd),a=new xY(i,e,this.unitWidth,o);for(const c of i){const f=a.get(c.number);if(!(f!=null&&f.level))continue;const u=PY(f,this.unitWidth,s,r,l);t.add(c.from,c.from,lt.line({class:"cm-indent-markers",attributes:{style:`--indent-markers: ${u}`}}))}this.decorations=t.finish()}}function EY(n={}){return[Bd.of(n),OY(n.colors),An.fromClass(TY,{decorations:e=>e.decorations})]}class RY{constructor(e){this.view=e,this.indentUnit=Br(e.state),this.initialPaddingLeft=null,this.isChrome=window==null?void 0:window.navigator.userAgent.includes("Chrome"),this.generate(e.state)}update(e){const t=Br(e.state);(t!==this.indentUnit||e.docChanged||e.viewportChanged)&&(this.indentUnit=t,this.generate(e.state))}generate(e){const t=new bo;this.initialPaddingLeft?this.addStyleToBuilder(t,e,this.initialPaddingLeft):this.view.requestMeasure({read:i=>{const s=i.contentDOM.querySelector(".cm-line");s&&(this.initialPaddingLeft=window.getComputedStyle(s).getPropertyValue("padding-left"),this.addStyleToBuilder(t,i.state,this.initialPaddingLeft)),this.decorations=t.finish()}}),this.decorations=t.finish()}addStyleToBuilder(e,t,i){const s=this.getVisibleLines(t);for(const o of s){const{numColumns:r,containsTab:l}=this.numColumns(o.text,t.tabSize),a=`calc(${r+this.indentUnit}ch + ${i})`,c=this.isChrome?`calc(-${r+this.indentUnit}ch - ${l?1:0}px)`:`-${r+this.indentUnit}ch`;e.add(o.from,o.from,lt.line({attributes:{style:`padding-left: ${a}; text-indent: ${c};`}}))}}getVisibleLines(e){const t=new Set;let i=null;for(const{from:s,to:o}of this.view.visibleRanges){let r=s;for(;r<=o;){const l=e.doc.lineAt(r);i!==l&&(t.add(l),i=l),r=l.to+1}}return t}numColumns(e,t){let i=0,s=!1;e:for(let o=0;o<e.length;o++)switch(e[o]){case" ":{i+=1;continue e}case"	":{i+=t-i%t,s=!0;continue e}case"\r":continue e;default:break e}return{numColumns:i,containsTab:s}}}const DY=[An.fromClass(RY,{decorations:n=>n.decorations})];function LY(n){const e=n.slice(),t=e[28](e[11],e[9]);return e[99]=t,e}function Nm(n){const e=n.slice(),t=e[11].length===0;return e[100]=t,e}function Gk(n){let e,t;return e=new gV({props:{readOnly:n[1],onFormat:n[17],onCompact:n[18],onSort:n[19],onTransform:n[20],onToggleSearch:n[21],onUndo:n[22],onRedo:n[23],canFormat:!n[100],canCompact:!n[100],canSort:!n[100],canTransform:!n[100],canUndo:n[12],canRedo:n[13],onRenderMenu:n[4]}}),{c(){se(e.$$.fragment)},m(i,s){ne(e,i,s),t=!0},p(i,s){const o={};s[0]&2&&(o.readOnly=i[1]),s[0]&2048&&(o.canFormat=!i[100]),s[0]&2048&&(o.canCompact=!i[100]),s[0]&2048&&(o.canSort=!i[100]),s[0]&2048&&(o.canTransform=!i[100]),s[0]&4096&&(o.canUndo=i[12]),s[0]&8192&&(o.canRedo=i[13]),s[0]&16&&(o.onRenderMenu=i[4]),e.$set(o)},i(i){t||(k(e.$$.fragment,i),t=!0)},o(i){M(e.$$.fragment,i),t=!1},d(i){ie(e,i)}}}function IY(n){let e;return{c(){e=L("div"),e.innerHTML='<div class="jse-loading-space svelte-a0poeb"></div> <div class="jse-loading svelte-a0poeb">loading...</div>',_(e,"class","jse-contents svelte-a0poeb")},m(t,i){j(t,e,i)},p:ge,i:ge,o:ge,d(t){t&&B(e)}}}function NY(n){let e,t,i,s,o,r=n[99]&&Qk(n),l=!n[99]&&Zk(n);return{c(){e=L("div"),t=X(),r&&r.c(),i=X(),l&&l.c(),s=gt(),_(e,"class","jse-contents svelte-a0poeb"),$(e,"jse-hidden",n[99])},m(a,c){j(a,e,c),n[53](e),j(a,t,c),r&&r.m(a,c),j(a,i,c),l&&l.m(a,c),j(a,s,c),o=!0},p(a,c){(!o||c[0]&268438016)&&$(e,"jse-hidden",a[99]),a[99]?r?(r.p(a,c),c[0]&2560&&k(r,1)):(r=Qk(a),r.c(),k(r,1),r.m(i.parentNode,i)):r&&(me(),M(r,1,1,()=>{r=null}),pe()),a[99]?l&&(me(),M(l,1,1,()=>{l=null}),pe()):l?(l.p(a,c),c[0]&2560&&k(l,1)):(l=Zk(a),l.c(),k(l,1),l.m(s.parentNode,s))},i(a){o||(k(r),k(l),o=!0)},o(a){M(r),M(l),o=!1},d(a){a&&(B(e),B(t),B(i),B(s)),n[53](null),r&&r.d(a),l&&l.d(a)}}}function Qk(n){let e,t,i,s=Ho(n[11]||"",ep)+"",o,r;return e=new Fs({props:{icon:Vl,type:"error",message:`The JSON document is larger than ${Au(tp,1024)}, and may crash your browser when loading it in text mode. Actual size: ${Au(n[11].length,1024)}.`,actions:[{text:"Open anyway",title:"Open the document in text mode. This may freeze or crash your browser.",onClick:n[24]},{text:"Open in tree mode",title:"Open the document in tree mode. Tree mode can handle large documents.",onClick:n[25]},{text:"Cancel",title:"Cancel opening this large document.",onClick:n[26]}],onClose:n[5]}}),{c(){se(e.$$.fragment),t=X(),i=L("div"),o=we(s),_(i,"class","jse-contents jse-preview svelte-a0poeb")},m(l,a){ne(e,l,a),j(l,t,a),j(l,i,a),A(i,o),r=!0},p(l,a){const c={};a[0]&2048&&(c.message=`The JSON document is larger than ${Au(tp,1024)}, and may crash your browser when loading it in text mode. Actual size: ${Au(l[11].length,1024)}.`),e.$set(c),(!r||a[0]&2048)&&s!==(s=Ho(l[11]||"",ep)+"")&&Ve(o,s)},i(l){r||(k(e.$$.fragment,l),r=!0)},o(l){M(e.$$.fragment,l),r=!1},d(l){l&&(B(t),B(i)),ie(e,l)}}}function Zk(n){let e,t,i=!n[14]&&n[0]&&ay(n[11]),s,o,r,l=n[3]&&$k(n),a=n[14]&&eS(n),c=i&&tS(n);return o=new R0({props:{validationErrors:n[10],selectError:n[27]}}),{c(){l&&l.c(),e=X(),a&&a.c(),t=X(),c&&c.c(),s=X(),se(o.$$.fragment)},m(f,u){l&&l.m(f,u),j(f,e,u),a&&a.m(f,u),j(f,t,u),c&&c.m(f,u),j(f,s,u),ne(o,f,u),r=!0},p(f,u){f[3]?l?(l.p(f,u),u[0]&8&&k(l,1)):(l=$k(f),l.c(),k(l,1),l.m(e.parentNode,e)):l&&(me(),M(l,1,1,()=>{l=null}),pe()),f[14]?a?(a.p(f,u),u[0]&16384&&k(a,1)):(a=eS(f),a.c(),k(a,1),a.m(t.parentNode,t)):a&&(me(),M(a,1,1,()=>{a=null}),pe()),u[0]&18433&&(i=!f[14]&&f[0]&&ay(f[11])),i?c?(c.p(f,u),u[0]&18433&&k(c,1)):(c=tS(f),c.c(),k(c,1),c.m(s.parentNode,s)):c&&(me(),M(c,1,1,()=>{c=null}),pe());const h={};u[0]&1024&&(h.validationErrors=f[10]),o.$set(h)},i(f){r||(k(l),k(a),k(c),k(o.$$.fragment,f),r=!0)},o(f){M(l),M(a),M(c),M(o.$$.fragment,f),r=!1},d(f){f&&(B(e),B(t),B(s)),l&&l.d(f),a&&a.d(f),c&&c.d(f),ie(o,f)}}}function $k(n){let e,t;return e=new SY({props:{editorState:n[8]}}),{c(){se(e.$$.fragment)},m(i,s){ne(e,i,s),t=!0},p(i,s){const o={};s[0]&256&&(o.editorState=i[8]),e.$set(o)},i(i){t||(k(e.$$.fragment,i),t=!0)},o(i){M(e.$$.fragment,i),t=!1},d(i){ie(e,i)}}}function eS(n){let e,t;return e=new Fs({props:{type:"error",icon:Vl,message:n[14].message,actions:n[15],onClick:n[29],onClose:n[5]}}),{c(){se(e.$$.fragment)},m(i,s){ne(e,i,s),t=!0},p(i,s){const o={};s[0]&16384&&(o.message=i[14].message),s[0]&32768&&(o.actions=i[15]),e.$set(o)},i(i){t||(k(e.$$.fragment,i),t=!0)},o(i){M(e.$$.fragment,i),t=!1},d(i){ie(e,i)}}}function tS(n){let e,t;return e=new Fs({props:{type:"success",message:"Do you want to format the JSON?",actions:[{icon:Tp,text:"Format",title:"Format JSON: add proper indentation and new lines (Ctrl+I)",onClick:n[17]},{icon:pf,text:"No thanks",title:"Close this message",onClick:n[54]}],onClose:n[5]}}),{c(){se(e.$$.fragment)},m(i,s){ne(e,i,s),t=!0},p(i,s){const o={};s[0]&1&&(o.actions=[{icon:Tp,text:"Format",title:"Format JSON: add proper indentation and new lines (Ctrl+I)",onClick:i[17]},{icon:pf,text:"No thanks",title:"Close this message",onClick:i[54]}]),e.$set(o)},i(i){t||(k(e.$$.fragment,i),t=!0)},o(i){M(e.$$.fragment,i),t=!1},d(i){ie(e,i)}}}function BY(n){let e,t,i,s,o,r=n[2]&&Gk(Nm(n));const l=[NY,IY],a=[];function c(u,h){return u[16]?1:0}function f(u,h){return h===0?LY(u):u}return i=c(n),s=a[i]=l[i](f(n,i)),{c(){e=L("div"),r&&r.c(),t=X(),s.c(),_(e,"class","jse-text-mode svelte-a0poeb"),$(e,"no-main-menu",!n[2])},m(u,h){j(u,e,h),r&&r.m(e,null),A(e,t),a[i].m(e,null),n[55](e),o=!0},p(u,h){u[2]?r?(r.p(Nm(u),h),h[0]&4&&k(r,1)):(r=Gk(Nm(u)),r.c(),k(r,1),r.m(e,t)):r&&(me(),M(r,1,1,()=>{r=null}),pe()),s.p(f(u,i),h),(!o||h[0]&4)&&$(e,"no-main-menu",!u[2])},i(u){o||(k(r),k(s),o=!0)},o(u){M(r),M(s),o=!1},d(u){u&&B(e),r&&r.d(),a[i].d(),n[55](null)}}}function nS(n){return{from:n.from||0,to:n.to||0,message:n.message||"",actions:n.actions,severity:n.severity}}function jY(n,e,t){let i,s,{readOnly:o}=e,{mainMenuBar:r}=e,{statusBar:l}=e,{askToFormat:a}=e,{externalContent:c}=e,{externalSelection:f}=e,{indentation:u}=e,{tabSize:h}=e,{escapeUnicodeCharacters:d}=e,{parser:g}=e,{validator:m}=e,{validationParser:p}=e,{onChange:b}=e,{onChangeMode:y}=e,{onSelect:v}=e,{onError:C}=e,{onFocus:w}=e,{onBlur:S}=e,{onRenderMenu:x}=e,{onSortModal:T}=e,{onTransformModal:P}=e;const D=qn("jsoneditor:TextMode"),O={key:"Mod-i",run:Ne,shift:Be,preventDefault:!0},E=typeof window>"u";D("isSSR:",E);let N,z,F,q,Q=!1,G=[];const R=new To,U=new To,Y=new To,le=new To,Z=new To;let he=c,W=bp(he,u,g),ve=d;_i(async()=>{if(!E)try{F=ee({target:N,initialText:ai(W,Q)?"":i.escapeValue(W),readOnly:o,indentation:u})}catch(oe){console.error(oe)}}),Ti(()=>{F&&(D("Destroy CodeMirror editor"),F.destroy())});let te=!1,be=!1;const tt=Ba(),re=Ba();function Qe(){F&&(D("focus"),F.focus())}let H=!1;Ti(()=>{qs()}),E0({onMount:_i,onDestroy:Ti,getWindow:()=>oc(z),hasFocus:()=>H&&document.hasFocus()||y0(z),onFocus:w,onBlur:()=>{qs(),S()}});function ae(oe){return Ie(oe,!1)}function Ie(oe,$e){D("handlePatch",oe,$e);const dt=g.parse(W),tn=Es(dt,oe),zt=A3(dt,oe),Zt={text:g.stringify(tn,null,u)};return Bt(Zt,$e,!1),{json:tn,previousJson:dt,undo:zt,redo:oe}}function Ne(){if(D("format"),o)return!1;try{const oe=g.parse(W),$e={text:g.stringify(oe,null,u)};return Bt($e,!0,!1),!0}catch(oe){C(oe)}return!1}function Be(){if(D("compact"),o)return!1;try{const oe=g.parse(W),$e={text:g.stringify(oe)};return Bt($e,!0,!1),!0}catch(oe){C(oe)}return!1}function Re(){if(D("repair"),!o)try{const oe={text:co(W)};Bt(oe,!0,!1),t(52,ci=Jg),t(14,ei=null)}catch(oe){C(oe)}}function de(){if(!o)try{const oe=g.parse(W);H=!0,T({id:tt,json:oe,rootPath:[],onSort:async({operations:$e})=>{D("onSort",$e),Ie($e,!0)},onClose:()=>{H=!1,Qe()}})}catch(oe){C(oe)}}function at({id:oe,rootPath:$e,onTransform:dt,onClose:tn}){try{const zt=g.parse(W);H=!0,P({id:oe||re,json:zt,rootPath:$e||[],onTransform:Zt=>{dt?dt({operations:Zt,json:zt,transformedJson:Es(zt,Zt)}):(D("onTransform",Zt),Ie(Zt,!0))},onClose:()=>{H=!1,Qe(),tn&&tn()}})}catch(zt){C(zt)}}function kt(){o||at({rootPath:[]})}function De(){F&&(N&&N.querySelector(".cm-search")?yb(F):bb(F))}function ot(){o||F&&(fb(F),Qe())}function mt(){o||F&&(Cd(F),Qe())}function Ze(){t(9,Q=!0),Bt(c,!0,!0)}function Ht(){y(Yn.tree)}function qe(){Mi()}function ft(oe){D("select validation error",oe);const{from:$e,to:dt}=rt(oe);$e===null||dt===null||(Se($e,dt),Qe())}function K(oe){D("select parse error",oe);const $e=ue(oe,!1),dt=$e.from!=null?$e.from:0,tn=$e.to!=null?$e.to:0;Se(dt,tn),Qe()}function Se(oe,$e){D("setSelection",{anchor:oe,head:$e}),F&&F.dispatch(F.state.update({selection:{anchor:oe,head:$e},scrollIntoView:!0}))}function Ue(oe,$e){if($e.state.selection.ranges.length===1){const dt=$e.state.selection.ranges[0],tn=W.slice(dt.from,dt.to);if(tn==="{"||tn==="["){const zt=Xd.parse(W),Zt=Object.keys(zt.pointers).find(Ai=>{var Ys;return((Ys=zt.pointers[Ai].value)==null?void 0:Ys.pos)===dt.from}),Jn=zt.pointers[Zt];if(Zt&&Jn&&Jn.value&&Jn.valueEnd){D("pointer found, selecting inner contents of path:",Zt,Jn);const Ai=Jn.value.pos+1,cn=Jn.valueEnd.pos-1;Se(Ai,cn)}}}}function Ce(){return BJ(Ss,{delay:u2})}function ee({target:oe,initialText:$e,readOnly:dt,indentation:tn}){D("Create CodeMirror editor",{readOnly:dt,indentation:tn});const zt=Pt.create({doc:$e,selection:Ge(f,$e)?it(f):void 0,extensions:[md.of([OJ,O]),R.of(Ce()),JJ(),sq(),lq(),MW(),CU(),Qq(),gW(),_W(),Pt.allowMultipleSelections.of(!0),Bq(),T5(tU,{fallback:!0}),aU(),aY(),_Y(),BW(),FW(),EW(),uK(),md.of([...hY,...xJ,...EK,...IU,...Kq,...jA,...IJ]),CY,EY({hideFirstIndent:!0}),Fe.domEventHandlers({dblclick:Ue}),Fe.updateListener.of(Zt=>{t(8,q=Zt.state),Zt.docChanged?ks():Zt.selectionSet&&li()}),oK(),wK({top:!0}),Fe.lineWrapping,U.of(Pt.readOnly.of(dt)),le.of(Pt.tabSize.of(h)),Y.of(Ws(tn)),Z.of(Fe.theme({},{dark:Ee()}))]});return F=new Fe({state:zt,parent:oe}),F}function Ae(){return F?i.unescapeValue(F.state.doc.toString()):""}function Ee(){return N?getComputedStyle(N).getPropertyValue("--jse-theme").includes("dark"):!1}function Ge(oe,$e){return rm(oe)?oe.ranges.every(dt=>dt.anchor<$e.length&&dt.head<$e.length):!1}function rt(oe){const{path:$e,message:dt,severity:tn}=oe,{line:zt,column:Zt,from:Jn,to:Ai}=DL(i.escapeValue(W),$e);return{path:$e,line:zt,column:Zt,from:Jn,to:Ai,message:dt,severity:tn,actions:[]}}function ue(oe,$e){const{line:dt,column:tn,position:zt,message:Zt}=oe;return{path:[],line:dt,column:tn,from:zt,to:zt,severity:Ps.error,message:Zt,actions:$e&&!o?[{name:"Auto repair",apply:()=>Re()}]:null}}function Bt(oe,$e,dt){const tn=bp(oe,u,g),zt=!_t(oe,he),Zt=he;D("setCodeMirrorContent",{isChanged:zt,emitChange:$e,forceUpdate:dt}),!(!F||!zt&&!dt)&&(he=oe,t(11,W=tn),ai(W,Q)||F.dispatch({changes:{from:0,to:F.state.doc.length,insert:i.escapeValue(W)}}),wo(),zt&&$e&&Vi(he,Zt))}function Et(oe){if(!rm(oe))return;const $e=it(oe);F&&$e&&(!q||!q.selection.eq($e))&&(D("applyExternalSelection",$e),F.dispatch({selection:$e}))}function it(oe){return rm(oe)?_e.fromJSON(oe):void 0}async function Gt(){D("refresh"),await Hs()}function Qt(){D("forceUpdateText",{escapeUnicodeCharacters:d}),F&&F.dispatch({changes:{from:0,to:F.state.doc.length,insert:i.escapeValue(W)}})}function Mi(){if(!F)return;const oe=Ae(),$e=oe!==W;if(D("onChangeCodeMirrorValue",{isChanged:$e}),!$e)return;const dt=he;t(11,W=oe),he={text:W},wo(),Vi(he,dt),Cn().then(li)}function vs(oe){D("updateLinter",oe),F&&F.dispatch({effects:R.reconfigure(Ce())})}function tr(oe){F&&(D("updateIndentation",oe),F.dispatch({effects:Y.reconfigure(Ws(oe))}))}function Ur(oe){F&&(D("updateTabSize",oe),F.dispatch({effects:le.reconfigure(Pt.tabSize.of(oe))}))}function en(oe){F&&(D("updateReadOnly",oe),F.dispatch({effects:[U.reconfigure(Pt.readOnly.of(oe))]}))}async function Hs(){if(await Cn(),F){const oe=Ee();D("updateTheme",{dark:oe}),F.dispatch({effects:[Z.reconfigure(Fe.theme({},{dark:oe}))]})}}function Ws(oe){const $e=Og.of(typeof oe=="number"?" ".repeat(oe):oe);return oe==="	"?[$e]:[$e,DY]}function wo(){t(12,te=xU(F.state)>0),t(13,be=OU(F.state)>0),D({canUndo:te,canRedo:be})}const ks=Kh(Mi,u2);function qs(){ks.flush()}function Vi(oe,$e){b&&b(oe,$e,{contentErrors:Us(),patchResult:null})}function li(){v({type:Jt.text,...q.selection.toJSON()})}function ai(oe,$e){return(oe?oe.length>tp:!1)&&!$e}let ci=Jg,ei=null;function Ss(){if(ai(W,Q))return[];const oe=Us();if(P_(oe)){const{parseError:$e,isRepairable:dt}=oe;return[nS(ue($e,dt))]}return nj(oe)?oe.validationErrors.map(rt).map(nS):[]}function Us(){D("validate:start"),qs();const oe=yn(i.escapeValue(W),m,g,p);return P_(oe)?(t(52,ci=oe.isRepairable?m2:TO),t(14,ei=oe.parseError),t(10,G=[])):(t(52,ci=Jg),t(14,ei=null),t(10,G=(oe==null?void 0:oe.validationErrors)||[])),D("validate:end"),oe}const yn=eu(WB);function Js(){ei&&K(ei)}const Ks={icon:V9,text:"Show me",title:"Move to the parse error location",onClick:Js};function nr(oe){st[oe?"unshift":"push"](()=>{N=oe,t(6,N)})}const vo=()=>t(0,a=!1);function ko(oe){st[oe?"unshift":"push"](()=>{z=oe,t(7,z)})}return n.$$set=oe=>{"readOnly"in oe&&t(1,o=oe.readOnly),"mainMenuBar"in oe&&t(2,r=oe.mainMenuBar),"statusBar"in oe&&t(3,l=oe.statusBar),"askToFormat"in oe&&t(0,a=oe.askToFormat),"externalContent"in oe&&t(30,c=oe.externalContent),"externalSelection"in oe&&t(31,f=oe.externalSelection),"indentation"in oe&&t(32,u=oe.indentation),"tabSize"in oe&&t(33,h=oe.tabSize),"escapeUnicodeCharacters"in oe&&t(34,d=oe.escapeUnicodeCharacters),"parser"in oe&&t(35,g=oe.parser),"validator"in oe&&t(36,m=oe.validator),"validationParser"in oe&&t(37,p=oe.validationParser),"onChange"in oe&&t(38,b=oe.onChange),"onChangeMode"in oe&&t(39,y=oe.onChangeMode),"onSelect"in oe&&t(40,v=oe.onSelect),"onError"in oe&&t(41,C=oe.onError),"onFocus"in oe&&t(42,w=oe.onFocus),"onBlur"in oe&&t(43,S=oe.onBlur),"onRenderMenu"in oe&&t(4,x=oe.onRenderMenu),"onSortModal"in oe&&t(44,T=oe.onSortModal),"onTransformModal"in oe&&t(45,P=oe.onTransformModal)},n.$$.update=()=>{n.$$.dirty[1]&8&&(i=p0({escapeControlCharacters:!1,escapeUnicodeCharacters:d})),n.$$.dirty[0]&1073741824&&Bt(c,!1,!1),n.$$.dirty[1]&1&&Et(f),n.$$.dirty[1]&32&&vs(m),n.$$.dirty[1]&2&&tr(u),n.$$.dirty[1]&4&&Ur(h),n.$$.dirty[0]&2&&en(o),n.$$.dirty[1]&1048584&&ve!==d&&(t(51,ve=d),Qt()),n.$$.dirty[0]&2|n.$$.dirty[1]&2097152&&t(15,s=ci===m2&&!o?[{icon:dg,text:"Auto repair",title:"Automatically repair JSON",onClick:Re},Ks]:[Ks])},[a,o,r,l,x,Qe,N,z,q,Q,G,W,te,be,ei,s,E,Ne,Be,de,kt,De,ot,mt,Ze,Ht,qe,ft,ai,Js,c,f,u,h,d,g,m,p,b,y,v,C,w,S,T,P,ae,Ie,at,Gt,Us,ve,ci,nr,vo,ko]}class zY extends Te{constructor(e){super(),Pe(this,e,jY,BY,ut,{readOnly:1,mainMenuBar:2,statusBar:3,askToFormat:0,externalContent:30,externalSelection:31,indentation:32,tabSize:33,escapeUnicodeCharacters:34,parser:35,validator:36,validationParser:37,onChange:38,onChangeMode:39,onSelect:40,onError:41,onFocus:42,onBlur:43,onRenderMenu:4,onSortModal:44,onTransformModal:45,focus:5,patch:46,handlePatch:47,openTransformModal:48,refresh:49,validate:50},null,[-1,-1,-1,-1])}get focus(){return this.$$.ctx[5]}get patch(){return this.$$.ctx[46]}get handlePatch(){return this.$$.ctx[47]}get openTransformModal(){return this.$$.ctx[48]}get refresh(){return this.$$.ctx[49]}get validate(){return this.$$.ctx[50]}}function FY(n){let e,t;return e=new kg({props:{items:n[0]}}),{c(){se(e.$$.fragment)},m(i,s){ne(e,i,s),t=!0},p(i,[s]){const o={};s&1&&(o.items=i[0]),e.$set(o)},i(i){t||(k(e.$$.fragment,i),t=!0)},o(i){M(e.$$.fragment,i),t=!1},d(i){ie(e,i)}}}function VY(n,e,t){let{containsValidArray:i}=e,{readOnly:s}=e,{showSearch:o=!1}=e,{historyState:r}=e,{onSort:l}=e,{onTransform:a}=e,{onContextMenu:c}=e,{onUndo:f}=e,{onRedo:u}=e,{onRenderMenu:h}=e;function d(){t(1,o=!o)}let g,m;return n.$$set=p=>{"containsValidArray"in p&&t(2,i=p.containsValidArray),"readOnly"in p&&t(3,s=p.readOnly),"showSearch"in p&&t(1,o=p.showSearch),"historyState"in p&&t(4,r=p.historyState),"onSort"in p&&t(5,l=p.onSort),"onTransform"in p&&t(6,a=p.onTransform),"onContextMenu"in p&&t(7,c=p.onContextMenu),"onUndo"in p&&t(8,f=p.onUndo),"onRedo"in p&&t(9,u=p.onRedo),"onRenderMenu"in p&&t(10,h=p.onRenderMenu)},n.$$.update=()=>{n.$$.dirty&1020&&t(11,g=s?[{type:"space"}]:[{type:"button",icon:gg,title:"Sort",className:"jse-sort",onClick:l,disabled:s||!i},{type:"button",icon:hg,title:"Transform contents (filter, sort, project)",className:"jse-transform",onClick:a,disabled:s||!i},{type:"button",icon:mg,title:"Search (Ctrl+F)",className:"jse-search",onClick:d,disabled:!i},{type:"button",icon:nM,title:Q1,className:"jse-contextmenu",onClick:c},{type:"separator"},{type:"button",icon:x0,title:"Undo (Ctrl+Z)",className:"jse-undo",onClick:f,disabled:!r.canUndo},{type:"button",icon:A0,title:"Redo (Ctrl+Shift+Z)",className:"jse-redo",onClick:u,disabled:!r.canRedo},{type:"space"}]),n.$$.dirty&3072&&t(0,m=h(g))},[m,o,i,s,r,l,a,c,f,u,h,g]}class HY extends Te{constructor(e){super(),Pe(this,e,VY,FY,ut,{containsValidArray:2,readOnly:3,showSearch:1,historyState:4,onSort:5,onTransform:6,onContextMenu:7,onUndo:8,onRedo:9,onRenderMenu:10})}}function iS(n,e,t){const i=n.slice();return i[9]=e[t],i}function WY(n){const e=n.slice(),t=e[9].action;return e[12]=t,e}function qY(n){let e=n[9].component,t,i,s=sS(n);return{c(){s.c(),t=gt()},m(o,r){s.m(o,r),j(o,t,r),i=!0},p(o,r){r&1&&ut(e,e=o[9].component)?(me(),M(s,1,1,ge),pe(),s=sS(o),s.c(),k(s,1),s.m(t.parentNode,t)):s.p(o,r)},i(o){i||(k(s),i=!0)},o(o){M(s),i=!1},d(o){o&&B(t),s.d(o)}}}function UY(n){let e=n[9].action,t,i=oS(n);return{c(){i.c(),t=gt()},m(s,o){i.m(s,o),j(s,t,o)},p(s,o){o&1&&ut(e,e=s[9].action)?(i.d(1),i=oS(s),i.c(),i.m(t.parentNode,t)):i.p(s,o)},i:ge,o:ge,d(s){s&&B(t),i.d(s)}}}function sS(n){let e,t,i;const s=[n[9].props];var o=n[9].component;function r(l,a){let c={};for(let f=0;f<s.length;f+=1)c=nt(c,s[f]);return a!==void 0&&a&1&&(c=nt(c,pn(s,[vl(l[9].props)]))),{props:c}}return o&&(e=yi(o,r(n))),{c(){e&&se(e.$$.fragment),t=gt()},m(l,a){e&&ne(e,l,a),j(l,t,a),i=!0},p(l,a){if(a&1&&o!==(o=l[9].component)){if(e){me();const c=e;M(c.$$.fragment,1,0,()=>{ie(c,1)}),pe()}o?(e=yi(o,r(l,a)),se(e.$$.fragment),k(e.$$.fragment,1),ne(e,t.parentNode,t)):e=null}else if(o){const c=a&1?pn(s,[vl(l[9].props)]):{};e.$set(c)}},i(l){i||(e&&k(e.$$.fragment,l),i=!0)},o(l){e&&M(e.$$.fragment,l),i=!1},d(l){l&&B(t),e&&ie(e,l)}}}function oS(n){let e,t,i,s;return{c(){e=L("div"),_(e,"role","button"),_(e,"tabindex","-1"),_(e,"class","jse-value"),_(e,"data-type","selectable-value")},m(o,r){j(o,e,r),i||(s=Nn(t=n[12].call(null,e,n[9].props)),i=!0)},p(o,r){n=o,t&&Zn(t.update)&&r&1&&t.update.call(null,n[9].props)},d(o){o&&B(e),i=!1,s()}}}function rS(n){let e,t,i,s,o;const r=[UY,qY],l=[];function a(f,u){return u&1&&(e=null),e==null&&(e=!!vM(f[9])),e?0:1}function c(f,u){return u===0?WY(f):f}return t=a(n,-1),i=l[t]=r[t](c(n,t)),{c(){i.c(),s=gt()},m(f,u){l[t].m(f,u),j(f,s,u),o=!0},p(f,u){let h=t;t=a(f,u),t===h?l[t].p(c(f,t),u):(me(),M(l[h],1,1,()=>{l[h]=null}),pe(),i=l[t],i?i.p(c(f,t),u):(i=l[t]=r[t](c(f,t)),i.c()),k(i,1),i.m(s.parentNode,s))},i(f){o||(k(i),o=!0)},o(f){M(i),o=!1},d(f){f&&B(s),l[t].d(f)}}}function JY(n){let e,t,i=ct(n[0]),s=[];for(let r=0;r<i.length;r+=1)s[r]=rS(iS(n,i,r));const o=r=>M(s[r],1,1,()=>{s[r]=null});return{c(){for(let r=0;r<s.length;r+=1)s[r].c();e=gt()},m(r,l){for(let a=0;a<s.length;a+=1)s[a]&&s[a].m(r,l);j(r,e,l),t=!0},p(r,[l]){if(l&1){i=ct(r[0]);let a;for(a=0;a<i.length;a+=1){const c=iS(r,i,a);s[a]?(s[a].p(c,l),k(s[a],1)):(s[a]=rS(c),s[a].c(),k(s[a],1),s[a].m(e.parentNode,e))}for(me(),a=i.length;a<s.length;a+=1)o(a);pe()}},i(r){if(!t){for(let l=0;l<i.length;l+=1)k(s[l]);t=!0}},o(r){s=s.filter(Boolean);for(let l=0;l<s.length;l+=1)M(s[l]);t=!1},d(r){r&&B(e),Tn(s,r)}}}function KY(n,e,t){let i,s,{path:o}=e,{value:r}=e,{context:l}=e,{enforceString:a}=e,{selection:c}=e,{searchResultItems:f}=e;function u(h,d){return l.onPatch(a9(h,l.getJson()),d)}return n.$$set=h=>{"path"in h&&t(1,o=h.path),"value"in h&&t(2,r=h.value),"context"in h&&t(3,l=h.context),"enforceString"in h&&t(4,a=h.enforceString),"selection"in h&&t(5,c=h.selection),"searchResultItems"in h&&t(6,f=h.searchResultItems)},n.$$.update=()=>{n.$$.dirty&40&&t(7,i=!l.readOnly&&Mt(c)&&vi(c)),n.$$.dirty&254&&t(0,s=l.onRenderValue({path:o,value:r,readOnly:l.readOnly,enforceString:a,isEditing:i,parser:l.parser,normalization:l.normalization,selection:c,searchResultItems:f,onPatch:u,onPasteJson:l.onPasteJson,onSelect:l.onSelect,onFind:l.onFind,findNextInside:l.findNextInside,focus:l.focus}))},[s,o,r,l,a,c,f,i]}class YY extends Te{constructor(e){super(),Pe(this,e,KY,JY,ut,{path:1,value:2,context:3,enforceString:4,selection:5,searchResultItems:6})}}function XY(n){let e,t=Ho(n[2].stringify(n[1])??"",d2)+"",i,s,o;return{c(){e=L("button"),i=we(t),_(e,"type","button"),_(e,"class","jse-inline-value svelte-1dhomzn"),$(e,"jse-selected",n[3]),$(e,"jse-highlight",n[4]),$(e,"jse-active",n[5])},m(r,l){j(r,e,l),A(e,i),s||(o=fe(e,"dblclick",n[7]),s=!0)},p(r,[l]){l&6&&t!==(t=Ho(r[2].stringify(r[1])??"",d2)+"")&&Ve(i,t),l&8&&$(e,"jse-selected",r[3]),l&16&&$(e,"jse-highlight",r[4]),l&32&&$(e,"jse-active",r[5])},i:ge,o:ge,d(r){r&&B(e),s=!1,o()}}}function GY(n,e,t){let{path:i}=e,{value:s}=e,{parser:o}=e,{isSelected:r}=e,{containsSearchResult:l}=e,{containsActiveSearchResult:a}=e,{onEdit:c}=e;const f=()=>c(i);return n.$$set=u=>{"path"in u&&t(0,i=u.path),"value"in u&&t(1,s=u.value),"parser"in u&&t(2,o=u.parser),"isSelected"in u&&t(3,r=u.isSelected),"containsSearchResult"in u&&t(4,l=u.containsSearchResult),"containsActiveSearchResult"in u&&t(5,a=u.containsActiveSearchResult),"onEdit"in u&&t(6,c=u.onEdit)},[i,s,o,r,l,a,c,f]}class QY extends Te{constructor(e){super(),Pe(this,e,GY,XY,ut,{path:0,value:1,parser:2,isSelected:3,containsSearchResult:4,containsActiveSearchResult:5,onEdit:6})}}function lS(n){let e,t,i,s;return t=new St({props:{data:n[1]===fs.asc?as:Ry}}),{c(){e=L("span"),se(t.$$.fragment),_(e,"class","jse-column-sort-icon svelte-2v0aqj"),_(e,"title",i=`Currently sorted in ${n[2]} order`)},m(o,r){j(o,e,r),ne(t,e,null),s=!0},p(o,r){const l={};r&2&&(l.data=o[1]===fs.asc?as:Ry),t.$set(l),(!s||r&4&&i!==(i=`Currently sorted in ${o[2]} order`))&&_(e,"title",i)},i(o){s||(k(t.$$.fragment,o),s=!0)},o(o){M(t.$$.fragment,o),s=!1},d(o){o&&B(e),ie(t)}}}function ZY(n){let e,t,i=Ho(n[3],g2)+"",s,o,r,l,a,c,f=n[1]!==void 0&&lS(n);return{c(){e=L("button"),t=L("span"),s=we(i),o=X(),f&&f.c(),_(t,"class","jse-column-name"),_(e,"type","button"),_(e,"class","jse-column-header svelte-2v0aqj"),_(e,"title",r=n[0]?n[3]:n[3]+" (Click to sort the data by this column)"),$(e,"jse-readonly",n[0])},m(u,h){j(u,e,h),A(e,t),A(t,s),A(e,o),f&&f.m(e,null),l=!0,a||(c=fe(e,"click",n[4]),a=!0)},p(u,[h]){(!l||h&8)&&i!==(i=Ho(u[3],g2)+"")&&Ve(s,i),u[1]!==void 0?f?(f.p(u,h),h&2&&k(f,1)):(f=lS(u),f.c(),k(f,1),f.m(e,null)):f&&(me(),M(f,1,1,()=>{f=null}),pe()),(!l||h&9&&r!==(r=u[0]?u[3]:u[3]+" (Click to sort the data by this column)"))&&_(e,"title",r),(!l||h&1)&&$(e,"jse-readonly",u[0])},i(u){l||(k(f),l=!0)},o(u){M(f),l=!1},d(u){u&&B(e),f&&f.d(),a=!1,c()}}}function $Y(n,e,t){let i,s,o,{path:r}=e,{sortedColumn:l}=e,{readOnly:a}=e,{onSort:c}=e;function f(){a||c({path:r,sortDirection:s===fs.asc?fs.desc:fs.asc})}return n.$$set=u=>{"path"in u&&t(5,r=u.path),"sortedColumn"in u&&t(6,l=u.sortedColumn),"readOnly"in u&&t(0,a=u.readOnly),"onSort"in u&&t(7,c=u.onSort)},n.$$.update=()=>{n.$$.dirty&32&&t(3,i=At(r)?"values":zi(r)),n.$$.dirty&96&&t(1,s=l&&_t(r,l==null?void 0:l.path)?l.sortDirection:void 0),n.$$.dirty&2&&t(2,o=s?EO[s]:void 0)},[a,s,o,i,f,r,l,c]}class eX extends Te{constructor(e){super(),Pe(this,e,$Y,ZY,ut,{path:5,sortedColumn:6,readOnly:0,onSort:7})}}let Qu,Zu;function zA(n,e){return Qu||(Zu=new WeakMap,Qu=new ResizeObserver(t=>{for(const i of t){const s=Zu.get(i.target);s&&s(i.target)}})),Zu.set(n,e),Qu.observe(n),{destroy:()=>{Zu.delete(n),Qu.unobserve(n)}}}function aS(n,e,t){const i=n.slice();i[16]=e[t];const s=i[9](i[16]);return i[17]=s,i}function tX(n){let e,t;return{c(){e=we(n[7]),t=we(" cannot be opened in table mode.")},m(i,s){j(i,e,s),j(i,t,s)},p(i,s){s&128&&Ve(e,i[7])},d(i){i&&(B(e),B(t))}}}function nX(n){let e;return{c(){e=we(`An object cannot be opened in table mode. You can open a nested array instead, or open the
        document in tree mode.`)},m(t,i){j(t,e,i)},p:ge,d(t){t&&B(e)}}}function iX(n){let e;return{c(){e=we("You can open the document in tree mode instead.")},m(t,i){j(t,e,i)},d(t){t&&B(e)}}}function sX(n){let e,t,i;return{c(){e=we("You can open the document in tree mode instead, or paste a JSON Array using "),t=L("b"),t.textContent="Ctrl+V",i=we(".")},m(s,o){j(s,e,o),j(s,t,o),j(s,i,o)},d(s){s&&(B(e),B(t),B(i))}}}function cS(n){let e,t,i,s=zi(n[16])+"",o,r,l,a,c=n[17]+"",f,u,h=n[17]!==1?"items":"item",d,g,m,p;function b(){return n[13](n[16])}return{c(){e=L("button"),t=we(n[8]),i=we(' "'),o=we(s),r=we(`"
        `),l=L("span"),a=we("("),f=we(c),u=X(),d=we(h),g=we(")"),_(l,"class","jse-nested-array-count svelte-fxr3ye"),_(e,"type","button"),_(e,"class","jse-nested-array-action svelte-fxr3ye")},m(y,v){j(y,e,v),A(e,t),A(e,i),A(e,o),A(e,r),A(e,l),A(l,a),A(l,f),A(l,u),A(l,d),A(l,g),m||(p=fe(e,"click",b),m=!0)},p(y,v){n=y,v&256&&Ve(t,n[8]),v&16&&s!==(s=zi(n[16])+"")&&Ve(o,s),v&16&&c!==(c=n[17]+"")&&Ve(f,c),v&16&&h!==(h=n[17]!==1?"items":"item")&&Ve(d,h)},d(y){y&&B(e),m=!1,p()}}}function oX(n){let e,t,i,s,o,r,l,a,c,f,u,h,d,g,m,p,b,y;function v(O,E){return O[6]?nX:tX}let C=v(n),w=C(n);function S(O,E){return O[5]&&!O[0]?sX:iX}let x=S(n),T=x(n),P=ct(n[4]),D=[];for(let O=0;O<P.length;O+=1)D[O]=cS(aS(n,P,O));return{c(){e=L("div"),t=L("div"),i=X(),s=L("div"),o=L("div"),r=we(n[7]),l=X(),a=L("div"),w.c(),c=X(),T.c(),f=X();for(let O=0;O<D.length;O+=1)D[O].c();u=X(),h=L("button"),d=we(n[8]),g=we(" in tree mode"),m=X(),p=L("div"),_(t,"class","jse-space jse-before svelte-fxr3ye"),_(o,"class","jse-nested-arrays-title"),_(a,"class","jse-nested-arrays-info svelte-fxr3ye"),_(h,"type","button"),_(h,"class","jse-nested-array-action svelte-fxr3ye"),_(s,"class","jse-nested-arrays svelte-fxr3ye"),_(p,"class","jse-space jse-after svelte-fxr3ye"),_(e,"class","jse-table-mode-welcome svelte-fxr3ye"),_(e,"role","none")},m(O,E){j(O,e,E),A(e,t),A(e,i),A(e,s),A(s,o),A(o,r),A(s,l),A(s,a),w.m(a,null),A(a,c),T.m(a,null),A(s,f);for(let N=0;N<D.length;N+=1)D[N]&&D[N].m(s,null);A(s,u),A(s,h),A(h,d),A(h,g),A(e,m),A(e,p),b||(y=[fe(h,"click",n[14]),fe(e,"click",n[15])],b=!0)},p(O,[E]){if(E&128&&Ve(r,O[7]),C===(C=v(O))&&w?w.p(O,E):(w.d(1),w=C(O),w&&(w.c(),w.m(a,c))),x!==(x=S(O))&&(T.d(1),T=x(O),T&&(T.c(),T.m(a,null))),E&786){P=ct(O[4]);let N;for(N=0;N<P.length;N+=1){const z=aS(O,P,N);D[N]?D[N].p(z,E):(D[N]=cS(z),D[N].c(),D[N].m(s,u))}for(;N<D.length;N+=1)D[N].d(1);D.length=P.length}E&256&&Ve(d,O[8])},i:ge,o:ge,d(O){O&&B(e),w.d(),T.d(),Tn(D,O),b=!1,Tt(y)}}}function rX(n,e,t){let i,s,o,r,{text:l}=e,{json:a}=e,{readOnly:c}=e,{parser:f}=e,{openJSONEditorModal:u}=e,{onChangeMode:h}=e,{onClick:d}=e,g;function m(v){return ze(a,v).length}const p=v=>u(v),b=()=>h(Yn.tree),y=()=>d();return n.$$set=v=>{"text"in v&&t(10,l=v.text),"json"in v&&t(11,a=v.json),"readOnly"in v&&t(0,c=v.readOnly),"parser"in v&&t(12,f=v.parser),"openJSONEditorModal"in v&&t(1,u=v.openJSONEditorModal),"onChangeMode"in v&&t(2,h=v.onChangeMode),"onClick"in v&&t(3,d=v.onClick)},n.$$.update=()=>{n.$$.dirty&1&&t(8,i=c?"View":"Edit"),n.$$.dirty&2048&&t(4,g=a?aF(a).slice(0,99).filter(v=>v.length>0):[]),n.$$.dirty&16&&t(6,s=!At(g)),n.$$.dirty&3072&&t(5,o=a===void 0&&(l===""||l===void 0)),n.$$.dirty&6240&&t(7,r=s?"Object with nested arrays":o?"An empty document":bn(a)?"An object":Yt(a)?"An empty array":`A ${r0(a,f)}`)},[c,u,h,d,g,o,s,r,i,m,l,a,f,p,b,y]}class lX extends Te{constructor(e){super(),Pe(this,e,rX,oX,ut,{text:10,json:11,readOnly:0,parser:12,openJSONEditorModal:1,onChangeMode:2,onClick:3})}}function aX(n){let e,t,i,s,o,r;return t=new St({props:{data:eN}}),{c(){e=L("button"),se(t.$$.fragment),_(e,"type","button"),_(e,"class","jse-column-header svelte-1nml1r3"),_(e,"title",i=`The Columns are created by sampling ${n[1]} items out of ${n[0]}. If you're missing a column, click here to sample all of the items instead of a subset. This is slower.`)},m(l,a){j(l,e,a),ne(t,e,null),s=!0,o||(r=fe(e,"click",n[3]),o=!0)},p(l,[a]){(!s||a&3&&i!==(i=`The Columns are created by sampling ${l[1]} items out of ${l[0]}. If you're missing a column, click here to sample all of the items instead of a subset. This is slower.`))&&_(e,"title",i)},i(l){s||(k(t.$$.fragment,l),s=!0)},o(l){M(t.$$.fragment,l),s=!1},d(l){l&&B(e),ie(t),o=!1,r()}}}function cX(n,e,t){let{count:i}=e,{maxSampleCount:s}=e,{onRefresh:o}=e;const r=()=>o();return n.$$set=l=>{"count"in l&&t(0,i=l.count),"maxSampleCount"in l&&t(1,s=l.maxSampleCount),"onRefresh"in l&&t(2,o=l.onRefresh)},[i,s,o,r]}class fX extends Te{constructor(e){super(),Pe(this,e,cX,aX,ut,{count:0,maxSampleCount:1,onRefresh:2})}}function uX({json:n,documentState:e,readOnly:t,parser:i,onEditValue:s,onEditRow:o,onToggleEnforceString:r,onCut:l,onCopy:a,onPaste:c,onRemove:f,onDuplicateRow:u,onInsertBeforeRow:h,onInsertAfterRow:d,onRemoveRow:g}){const m=e.selection,p=n!==void 0,b=!!m,y=n!==void 0&&m?ze(n,Xe(m)):void 0,v=p&&(Ut(m)||Mn(m)||Mt(m)),C=!t&&p&&m!=null&&Zh(m),w=C&&!hn(y),S=!t&&v,x=m!=null&&y!==void 0?Wo(y,e.enforceStringMap,Oe(Xe(m)),i):!1;return[{type:"separator"},{type:"row",items:[{type:"column",items:[{type:"label",text:"Table cell:"},{type:"dropdown-button",main:{type:"button",onClick:()=>s(),icon:Ma,text:"Edit",title:"Edit the value (Double-click on the value)",disabled:!C},width:"11em",items:[{type:"button",icon:Ma,text:"Edit",title:"Edit the value (Double-click on the value)",onClick:()=>s(),disabled:!C},{type:"button",icon:x?$4:tM,text:"Enforce string",title:"Enforce keeping the value as string when it contains a numeric value",onClick:()=>r(),disabled:!w}]},{type:"dropdown-button",main:{type:"button",onClick:()=>l(!0),icon:Ca,text:"Cut",title:"Cut selected contents, formatted with indentation (Ctrl+X)",disabled:!S},width:"10em",items:[{type:"button",icon:Ca,text:"Cut formatted",title:"Cut selected contents, formatted with indentation (Ctrl+X)",onClick:()=>l(!0),disabled:t||!v},{type:"button",icon:Ca,text:"Cut compacted",title:"Cut selected contents, without indentation (Ctrl+Shift+X)",onClick:()=>l(!1),disabled:t||!v}]},{type:"dropdown-button",main:{type:"button",onClick:()=>a(!0),icon:kr,text:"Copy",title:"Copy selected contents, formatted with indentation (Ctrl+C)",disabled:!v},width:"12em",items:[{type:"button",icon:kr,text:"Copy formatted",title:"Copy selected contents, formatted with indentation (Ctrl+C)",onClick:()=>a(!1),disabled:!v},{type:"button",icon:kr,text:"Copy compacted",title:"Copy selected contents, without indentation (Ctrl+Shift+C)",onClick:()=>a(!1),disabled:!v}]},{type:"button",onClick:()=>c(),icon:Z4,text:"Paste",title:"Paste clipboard contents (Ctrl+V)",disabled:t||!b},{type:"button",onClick:()=>f(),icon:xp,text:"Remove",title:"Remove selected contents (Delete)",disabled:t||!v}]},{type:"column",items:[{type:"label",text:"Table row:"},{type:"button",onClick:()=>o(),icon:Ma,text:"Edit row",title:"Edit the current row",disabled:t||!b||!p},{type:"button",onClick:()=>u(),icon:sM,text:"Duplicate row",title:"Duplicate the current row",disabled:t||!b||!p},{type:"button",onClick:()=>h(),icon:ma,text:"Insert before",title:"Insert a row before the current row",disabled:t||!b||!p},{type:"button",onClick:()=>d(),icon:ma,text:"Insert after",title:"Insert a row after the current row",disabled:t||!b||!p},{type:"button",onClick:()=>g(),icon:xp,text:"Remove row",title:"Remove current row",disabled:t||!b||!p}]}]}]}function fS(n,e,t){var a,c,f;const i=n.slice();i[132]=e[t],i[138]=t;const s=i[27].startIndex+i[138];i[133]=s;const o=i[26].rows[i[133]];i[134]=o;const r=B0([String(i[133])],(a=i[134])==null?void 0:a.row);i[135]=r;const l=(c=i[20])!=null&&c.itemsMap?is((f=i[20])==null?void 0:f.itemsMap,i0(i[133])):void 0;return i[136]=l,i}function uS(n,e,t){var f;const i=n.slice();i[139]=e[t],i[146]=t;const s=[String(i[133])].concat(i[139]);i[140]=s;const o=Oe(i[140]);i[141]=o;const r=ze(i[132],i[139]);i[142]=r;const l=Mt(i[12].selection)&&Uo(i[12].selection.path,i[140]);i[143]=l;const a=(f=i[134])==null?void 0:f.columns[i[146]];i[144]=a;const c=B0(i[140],i[144]);return i[135]=c,i}function hX(n){var i,s;const e=n.slice(),t=(i=e[20])!=null&&i.itemsMap?Ap((s=e[20])==null?void 0:s.itemsMap,e[141]):void 0;return e[147]=t,e}function dX(n){const e=n.slice(),t=e[136]?is(e[136],e[141]):void 0;e[147]=t;const i=e[147]?Object.values(e[147]).some(s=>s.some(o=>o.active)):!1;return e[148]=i,e}function hS(n,e,t){const i=n.slice();return i[139]=e[t],i}function Bm(n){var i;const e=n.slice(),t=B0([],(i=e[26])==null?void 0:i.root);return e[135]=t,e}function dS(n){let e,t,i;function s(r){n[79](r)}let o={containsValidArray:n[22],readOnly:n[0],historyState:n[24],onSort:n[47],onTransform:n[48],onUndo:n[49],onRedo:n[50],onContextMenu:n[39],onRenderMenu:n[5]};return n[9]!==void 0&&(o.showSearch=n[9]),e=new HY({props:o}),st.push(()=>Qn(e,"showSearch",s)),{c(){se(e.$$.fragment)},m(r,l){ne(e,r,l),i=!0},p(r,l){const a={};l[0]&4194304&&(a.containsValidArray=r[22]),l[0]&1&&(a.readOnly=r[0]),l[0]&16777216&&(a.historyState=r[24]),l[0]&32&&(a.onRenderMenu=r[5]),!t&&l[0]&512&&(t=!0,a.showSearch=r[9],Gn(()=>t=!1)),e.$set(a)},i(r){i||(k(e.$$.fragment,r),i=!0)},o(r){M(e.$$.fragment,r),i=!1},d(r){ie(e,r)}}}function gX(n){let e;return{c(){e=L("div"),e.innerHTML='<div class="jse-loading-space svelte-12ygzbc"></div> <div class="jse-loading svelte-12ygzbc">loading...</div>',_(e,"class","jse-contents jse-contents-loading svelte-12ygzbc")},m(t,i){j(t,e,i)},p:ge,i:ge,o:ge,d(t){t&&B(e)}}}function mX(n){let e,t,i,s,o,r,l,a,c;const f=[yX,bX,pX],u=[];function h(d,g){return d[22]?0:d[18]&&d[17]!==void 0&&d[17]!==""?1:2}return s=h(n),o=u[s]=f[s](n),{c(){e=L("label"),t=L("input"),i=X(),o.c(),r=gt(),_(t,"type","text"),t.readOnly=!0,_(t,"tabindex","-1"),_(t,"class","jse-hidden-input svelte-12ygzbc"),_(e,"class","jse-hidden-input-label svelte-12ygzbc")},m(d,g){j(d,e,g),A(e,t),n[80](t),j(d,i,g),u[s].m(d,g),j(d,r,g),l=!0,a||(c=fe(t,"paste",n[44]),a=!0)},p(d,g){let m=s;s=h(d),s===m?u[s].p(d,g):(me(),M(u[m],1,1,()=>{u[m]=null}),pe(),o=u[s],o?o.p(d,g):(o=u[s]=f[s](d),o.c()),k(o,1),o.m(r.parentNode,r))},i(d){l||(k(o),l=!0)},o(d){M(o),l=!1},d(d){d&&(B(e),B(i),B(r)),n[80](null),u[s].d(d),a=!1,c()}}}function pX(n){let e,t;return e=new lX({props:{text:n[17],json:n[8],readOnly:n[0],parser:n[2],openJSONEditorModal:n[46],onChangeMode:n[4],onClick:n[84]}}),{c(){se(e.$$.fragment)},m(i,s){ne(e,i,s),t=!0},p(i,s){const o={};s[0]&131072&&(o.text=i[17]),s[0]&256&&(o.json=i[8]),s[0]&1&&(o.readOnly=i[0]),s[0]&4&&(o.parser=i[2]),s[0]&16&&(o.onChangeMode=i[4]),e.$set(o)},i(i){t||(k(e.$$.fragment,i),t=!0)},o(i){M(e.$$.fragment,i),t=!1},d(i){ie(e,i)}}}function bX(n){let e,t,i,s;return e=new Fs({props:{type:"error",message:"The loaded JSON document is invalid and could not be repaired automatically.",actions:n[0]?[]:[{icon:Pr,text:"Repair manually",title:'Open the document in "code" mode and repair it manually',onClick:n[42]}]}}),i=new LM({props:{text:n[17],json:n[8],indentation:n[3],parser:n[2]}}),{c(){se(e.$$.fragment),t=X(),se(i.$$.fragment)},m(o,r){ne(e,o,r),j(o,t,r),ne(i,o,r),s=!0},p(o,r){const l={};r[0]&1&&(l.actions=o[0]?[]:[{icon:Pr,text:"Repair manually",title:'Open the document in "code" mode and repair it manually',onClick:o[42]}]),e.$set(l);const a={};r[0]&131072&&(a.text=o[17]),r[0]&256&&(a.json=o[8]),r[0]&8&&(a.indentation=o[3]),r[0]&4&&(a.parser=o[2]),i.$set(a)},i(o){s||(k(e.$$.fragment,o),k(i.$$.fragment,o),s=!0)},o(o){M(e.$$.fragment,o),M(i.$$.fragment,o),s=!1},d(o){o&&B(t),ie(e,o),ie(i,o)}}}function yX(n){var le;let e,t,i,s,o,r,l,a,c=!At((le=n[26])==null?void 0:le.root),f,u,h,d,g,m,p,b,y,v,C,w,S,x,T,P,D,O;t=new AM({props:{json:n[8],documentState:n[12],parser:n[2],showSearch:n[9],showReplace:n[21],readOnly:n[0],columns:n[11],onSearch:n[30],onFocus:n[31],onPatch:n[34],onClose:n[32]}});let E=c&&gS(Bm(n)),N=ct(n[11]),z=[];for(let Z=0;Z<N.length;Z+=1)z[Z]=pS(hS(n,N,Z));const F=Z=>M(z[Z],1,1,()=>{z[Z]=null});let q=n[28]&&bS(n),Q=ct(n[27].visibleItems),G=[];for(let Z=0;Z<Q.length;Z+=1)G[Z]=CS(fS(n,Q,Z));const R=Z=>M(G[Z],1,1,()=>{G[Z]=null});let U=n[19]&&MS(n),Y=n[23]&&AS(n);return T=new R0({props:{validationErrors:n[13],selectError:n[45]}}),{c(){e=L("div"),se(t.$$.fragment),i=X(),s=L("div"),o=L("table"),r=L("tbody"),l=L("tr"),a=L("th"),E&&E.c(),f=X();for(let Z=0;Z<z.length;Z+=1)z[Z].c();u=X(),q&&q.c(),h=X(),d=L("tr"),g=L("td"),p=X();for(let Z=0;Z<G.length;Z+=1)G[Z].c();b=X(),y=L("tr"),v=L("td"),w=X(),U&&U.c(),S=X(),Y&&Y.c(),x=X(),se(T.$$.fragment),_(e,"class","jse-search-box-container svelte-12ygzbc"),_(a,"class","jse-table-cell jse-table-cell-header svelte-12ygzbc"),_(l,"class","jse-table-row jse-table-row-header svelte-12ygzbc"),_(g,"colspan",m=n[11].length),_(g,"class","svelte-12ygzbc"),gi(g,"height",n[27].startHeight+"px"),_(d,"class","jse-table-invisible-start-section"),_(v,"colspan",C=n[11].length),_(v,"class","svelte-12ygzbc"),gi(v,"height",n[27].endHeight+"px"),_(y,"class","jse-table-invisible-end-section"),_(o,"class","jse-table-main svelte-12ygzbc"),_(s,"class","jse-contents svelte-12ygzbc")},m(Z,he){j(Z,e,he),ne(t,e,null),j(Z,i,he),j(Z,s,he),A(s,o),A(o,r),A(r,l),A(l,a),E&&E.m(a,null),A(l,f);for(let W=0;W<z.length;W+=1)z[W]&&z[W].m(l,null);A(l,u),q&&q.m(l,null),A(r,h),A(r,d),A(d,g),A(r,p);for(let W=0;W<G.length;W+=1)G[W]&&G[W].m(r,null);A(r,b),A(r,y),A(y,v),n[83](s),j(Z,w,he),U&&U.m(Z,he),j(Z,S,he),Y&&Y.m(Z,he),j(Z,x,he),ne(T,Z,he),P=!0,D||(O=[Nn(zA.call(null,s,n[51])),fe(s,"scroll",n[35])],D=!0)},p(Z,he){var te;const W={};if(he[0]&256&&(W.json=Z[8]),he[0]&4096&&(W.documentState=Z[12]),he[0]&4&&(W.parser=Z[2]),he[0]&512&&(W.showSearch=Z[9]),he[0]&2097152&&(W.showReplace=Z[21]),he[0]&1&&(W.readOnly=Z[0]),he[0]&2048&&(W.columns=Z[11]),t.$set(W),he[0]&67108864&&(c=!At((te=Z[26])==null?void 0:te.root)),c?E?(E.p(Bm(Z),he),he[0]&67108864&&k(E,1)):(E=gS(Bm(Z)),E.c(),k(E,1),E.m(a,null)):E&&(me(),M(E,1,1,()=>{E=null}),pe()),he[0]&6145|he[1]&4){N=ct(Z[11]);let be;for(be=0;be<N.length;be+=1){const tt=hS(Z,N,be);z[be]?(z[be].p(tt,he),k(z[be],1)):(z[be]=pS(tt),z[be].c(),k(z[be],1),z[be].m(l,u))}for(me(),be=N.length;be<z.length;be+=1)F(be);pe()}if(Z[28]?q?(q.p(Z,he),he[0]&268435456&&k(q,1)):(q=bS(Z),q.c(),k(q,1),q.m(l,null)):q&&(me(),M(q,1,1,()=>{q=null}),pe()),(!P||he[0]&2048&&m!==(m=Z[11].length))&&_(g,"colspan",m),he[0]&134217728&&gi(g,"height",Z[27].startHeight+"px"),he[0]&504371205|he[1]&2129984){Q=ct(Z[27].visibleItems);let be;for(be=0;be<Q.length;be+=1){const tt=fS(Z,Q,be);G[be]?(G[be].p(tt,he),k(G[be],1)):(G[be]=CS(tt),G[be].c(),k(G[be],1),G[be].m(r,b))}for(me(),be=Q.length;be<G.length;be+=1)R(be);pe()}(!P||he[0]&2048&&C!==(C=Z[11].length))&&_(v,"colspan",C),he[0]&134217728&&gi(v,"height",Z[27].endHeight+"px"),Z[19]?U?(U.p(Z,he),he[0]&524288&&k(U,1)):(U=MS(Z),U.c(),k(U,1),U.m(S.parentNode,S)):U&&(me(),M(U,1,1,()=>{U=null}),pe()),Z[23]?Y?(Y.p(Z,he),he[0]&8388608&&k(Y,1)):(Y=AS(Z),Y.c(),k(Y,1),Y.m(x.parentNode,x)):Y&&(me(),M(Y,1,1,()=>{Y=null}),pe());const ve={};he[0]&8192&&(ve.validationErrors=Z[13]),T.$set(ve)},i(Z){if(!P){k(t.$$.fragment,Z),k(E);for(let he=0;he<N.length;he+=1)k(z[he]);k(q);for(let he=0;he<Q.length;he+=1)k(G[he]);k(U),k(Y),k(T.$$.fragment,Z),P=!0}},o(Z){M(t.$$.fragment,Z),M(E),z=z.filter(Boolean);for(let he=0;he<z.length;he+=1)M(z[he]);M(q),G=G.filter(Boolean);for(let he=0;he<G.length;he+=1)M(G[he]);M(U),M(Y),M(T.$$.fragment,Z),P=!1},d(Z){Z&&(B(e),B(i),B(s),B(w),B(S),B(x)),ie(t),E&&E.d(),Tn(z,Z),q&&q.d(),Tn(G,Z),n[83](null),U&&U.d(Z),Y&&Y.d(Z),ie(T,Z),D=!1,Tt(O)}}}function gS(n){let e,t,i=n[135]&&mS(n);return{c(){i&&i.c(),e=gt()},m(s,o){i&&i.m(s,o),j(s,e,o),t=!0},p(s,o){s[135]?i?(i.p(s,o),o[0]&67108864&&k(i,1)):(i=mS(s),i.c(),k(i,1),i.m(e.parentNode,e)):i&&(me(),M(i,1,1,()=>{i=null}),pe())},i(s){t||(k(i),t=!0)},o(s){M(i),t=!1},d(s){s&&B(e),i&&i.d(s)}}}function mS(n){let e,t,i;return t=new ac({props:{validationError:n[135],onExpand:Ms}}),{c(){e=L("div"),se(t.$$.fragment),_(e,"class","jse-table-root-error svelte-12ygzbc")},m(s,o){j(s,e,o),ne(t,e,null),i=!0},p(s,o){const r={};o[0]&67108864&&(r.validationError=s[135]),t.$set(r)},i(s){i||(k(t.$$.fragment,s),i=!0)},o(s){M(t.$$.fragment,s),i=!1},d(s){s&&B(e),ie(t)}}}function pS(n){let e,t,i;return t=new eX({props:{path:n[139],sortedColumn:n[12].sortedColumn,readOnly:n[0],onSort:n[33]}}),{c(){e=L("th"),se(t.$$.fragment),_(e,"class","jse-table-cell jse-table-cell-header svelte-12ygzbc")},m(s,o){j(s,e,o),ne(t,e,null),i=!0},p(s,o){const r={};o[0]&2048&&(r.path=s[139]),o[0]&4096&&(r.sortedColumn=s[12].sortedColumn),o[0]&1&&(r.readOnly=s[0]),t.$set(r)},i(s){i||(k(t.$$.fragment,s),i=!0)},o(s){M(t.$$.fragment,s),i=!1},d(s){s&&B(e),ie(t)}}}function bS(n){let e,t,i;return t=new fX({props:{count:Array.isArray(n[8])?n[8].length:0,maxSampleCount:n[10],onRefresh:n[81]}}),{c(){e=L("th"),se(t.$$.fragment),_(e,"class","jse-table-cell jse-table-cell-header svelte-12ygzbc")},m(s,o){j(s,e,o),ne(t,e,null),i=!0},p(s,o){const r={};o[0]&256&&(r.count=Array.isArray(s[8])?s[8].length:0),o[0]&1024&&(r.maxSampleCount=s[10]),o[0]&1024&&(r.onRefresh=s[81]),t.$set(r)},i(s){i||(k(t.$$.fragment,s),i=!0)},o(s){M(t.$$.fragment,s),i=!1},d(s){s&&B(e),ie(t)}}}function yS(n){let e,t;return e=new ac({props:{validationError:n[135],onExpand:Ms}}),{c(){se(e.$$.fragment)},m(i,s){ne(e,i,s),t=!0},p(i,s){const o={};s[0]&201326592&&(o.validationError=i[135]),e.$set(o)},i(i){t||(k(e.$$.fragment,i),t=!0)},o(i){M(e.$$.fragment,i),t=!1},d(i){ie(e,i)}}}function _S(n){let e,t=n[133]+"",i,s,o,r,l,a,c=n[135]&&yS(n);function f(...u){return n[82](n[133],...u)}return{c(){e=L("th"),i=we(t),s=X(),c&&c.c(),_(e,"class","jse-table-cell jse-table-cell-gutter svelte-12ygzbc")},m(u,h){j(u,e,h),A(e,i),A(e,s),c&&c.m(e,null),r=!0,l||(a=Nn(o=zA.call(null,e,f)),l=!0)},p(u,h){n=u,(!r||h[0]&134217728)&&t!==(t=n[133]+"")&&Ve(i,t),n[135]?c?(c.p(n,h),h[0]&201326592&&k(c,1)):(c=yS(n),c.c(),k(c,1),c.m(e,null)):c&&(me(),M(c,1,1,()=>{c=null}),pe()),o&&Zn(o.update)&&h[0]&134217728&&o.update.call(null,f)},i(u){r||(k(c),r=!0)},o(u){M(c),r=!1},d(u){u&&B(e),c&&c.d(),l=!1,a()}}}function _X(n){let e,t;return e=new YY({props:{path:n[140],value:n[142]!==void 0?n[142]:"",enforceString:Wo(n[142],n[12].enforceStringMap,n[141],n[25].parser),selection:n[143]?n[12].selection:null,searchResultItems:n[147],context:n[25]}}),{c(){se(e.$$.fragment)},m(i,s){ne(e,i,s),t=!0},p(i,s){const o={};s[0]&134219776&&(o.path=i[140]),s[0]&134219776&&(o.value=i[142]!==void 0?i[142]:""),s[0]&167778304&&(o.enforceString=Wo(i[142],i[12].enforceStringMap,i[141],i[25].parser)),s[0]&134223872&&(o.selection=i[143]?i[12].selection:null),s[0]&135268352&&(o.searchResultItems=i[147]),s[0]&33554432&&(o.context=i[25]),e.$set(o)},i(i){t||(k(e.$$.fragment,i),t=!0)},o(i){M(e.$$.fragment,i),t=!1},d(i){ie(e,i)}}}function wX(n){let e,t;return e=new QY({props:{path:n[140],value:n[142],parser:n[2],isSelected:n[143],containsSearchResult:!At(n[147]),containsActiveSearchResult:n[148],onEdit:n[46]}}),{c(){se(e.$$.fragment)},m(i,s){ne(e,i,s),t=!0},p(i,s){const o={};s[0]&134219776&&(o.path=i[140]),s[0]&134219776&&(o.value=i[142]),s[0]&4&&(o.parser=i[2]),s[0]&134223872&&(o.isSelected=i[143]),s[0]&135268352&&(o.containsSearchResult=!At(i[147])),s[0]&135268352&&(o.containsActiveSearchResult=i[148]),e.$set(o)},i(i){t||(k(e.$$.fragment,i),t=!0)},o(i){M(e.$$.fragment,i),t=!1},d(i){ie(e,i)}}}function wS(n){let e,t,i,s;return t=new Vr({props:{selected:!0,onContextMenu:n[37]}}),{c(){e=L("div"),se(t.$$.fragment),i=X(),_(e,"class","jse-context-menu-anchor svelte-12ygzbc")},m(o,r){j(o,e,r),ne(t,e,null),j(o,i,r),s=!0},p:ge,i(o){s||(k(t.$$.fragment,o),s=!0)},o(o){M(t.$$.fragment,o),s=!1},d(o){o&&(B(e),B(i)),ie(t)}}}function vS(n){let e,t;return e=new ac({props:{validationError:n[135],onExpand:Ms}}),{c(){se(e.$$.fragment)},m(i,s){ne(e,i,s),t=!0},p(i,s){const o={};s[0]&201328640&&(o.validationError=i[135]),e.$set(o)},i(i){t||(k(e.$$.fragment,i),t=!0)},o(i){M(e.$$.fragment,i),t=!1},d(i){ie(e,i)}}}function kS(n){let e,t,i,s,o,r=!n[0]&&n[143]&&!vi(n[12].selection),l,a,c;const f=[wX,_X],u=[];function h(p,b){return b[0]&134219776&&(t=null),t==null&&(t=!!hn(p[142])),t?0:1}function d(p,b){return b===0?dX(p):hX(p)}i=h(n,[-1,-1,-1,-1,-1]),s=u[i]=f[i](d(n,i));let g=r&&wS(n),m=n[135]&&vS(n);return{c(){e=L("td"),s.c(),o=gt(),g&&g.c(),l=gt(),m&&m.c(),_(e,"class","jse-table-cell svelte-12ygzbc"),_(e,"data-path",a=Fa(n[140])),$(e,"jse-selected-value",n[143])},m(p,b){j(p,e,b),u[i].m(e,null),A(e,o),g&&g.m(e,null),A(e,l),m&&m.m(e,null),c=!0},p(p,b){let y=i;i=h(p,b),i===y?u[i].p(d(p,i),b):(me(),M(u[y],1,1,()=>{u[y]=null}),pe(),s=u[i],s?s.p(d(p,i),b):(s=u[i]=f[i](d(p,i)),s.c()),k(s,1),s.m(e,o)),b[0]&134223873&&(r=!p[0]&&p[143]&&!vi(p[12].selection)),r?g?(g.p(p,b),b[0]&134223873&&k(g,1)):(g=wS(p),g.c(),k(g,1),g.m(e,l)):g&&(me(),M(g,1,1,()=>{g=null}),pe()),p[135]?m?(m.p(p,b),b[0]&201328640&&k(m,1)):(m=vS(p),m.c(),k(m,1),m.m(e,null)):m&&(me(),M(m,1,1,()=>{m=null}),pe()),(!c||b[0]&134219776&&a!==(a=Fa(p[140])))&&_(e,"data-path",a),(!c||b[0]&134223872)&&$(e,"jse-selected-value",p[143])},i(p){c||(k(s),k(g),k(m),c=!0)},o(p){M(s),M(g),M(m),c=!1},d(p){p&&B(e),u[i].d(),g&&g.d(),m&&m.d()}}}function SS(n){let e;return{c(){e=L("td"),_(e,"class","jse-table-cell svelte-12ygzbc")},m(t,i){j(t,e,i)},d(t){t&&B(e)}}}function CS(n){let e,t=n[133],i,s,o,r=_S(n),l=ct(n[11]),a=[];for(let u=0;u<l.length;u+=1)a[u]=kS(uS(n,l,u));const c=u=>M(a[u],1,1,()=>{a[u]=null});let f=n[28]&&SS();return{c(){e=L("tr"),r.c(),i=X();for(let u=0;u<a.length;u+=1)a[u].c();s=X(),f&&f.c(),_(e,"class","jse-table-row svelte-12ygzbc")},m(u,h){j(u,e,h),r.m(e,null),A(e,i);for(let d=0;d<a.length;d+=1)a[d]&&a[d].m(e,null);A(e,s),f&&f.m(e,null),o=!0},p(u,h){if(h[0]&134217728&&ut(t,t=u[133])?(me(),M(r,1,1,ge),pe(),r=_S(u),r.c(),k(r,1),r.m(e,i)):r.p(u,h),h[0]&235935749|h[1]&32832){l=ct(u[11]);let d;for(d=0;d<l.length;d+=1){const g=uS(u,l,d);a[d]?(a[d].p(g,h),k(a[d],1)):(a[d]=kS(g),a[d].c(),k(a[d],1),a[d].m(e,s))}for(me(),d=l.length;d<a.length;d+=1)c(d);pe()}u[28]?f||(f=SS(),f.c(),f.m(e,null)):f&&(f.d(1),f=null)},i(u){if(!o){k(r);for(let h=0;h<l.length;h+=1)k(a[h]);o=!0}},o(u){M(r),a=a.filter(Boolean);for(let h=0;h<a.length;h+=1)M(a[h]);o=!1},d(u){u&&B(e),r.d(u),Tn(a,u),f&&f.d()}}}function MS(n){let e,t;return e=new Fs({props:{type:"info",message:`You pasted a JSON ${Array.isArray(n[19].contents)?"array":"object"} as text`,actions:[{icon:dg,text:"Paste as JSON instead",title:"Paste the text as JSON instead of a single value",onMouseDown:n[40]},{text:"Leave as is",title:"Keep the pasted content as a single value",onClick:n[41]}]}}),{c(){se(e.$$.fragment)},m(i,s){ne(e,i,s),t=!0},p(i,s){const o={};s[0]&524288&&(o.message=`You pasted a JSON ${Array.isArray(i[19].contents)?"array":"object"} as text`),e.$set(o)},i(i){t||(k(e.$$.fragment,i),t=!0)},o(i){M(e.$$.fragment,i),t=!1},d(i){ie(e,i)}}}function AS(n){let e,t;return e=new Fs({props:{type:"success",message:"The loaded JSON document was invalid but is successfully repaired.",actions:n[0]?[]:[{icon:bf,text:"Ok",title:"Accept the repaired document",onClick:n[7]},{icon:Pr,text:"Repair manually instead",title:"Leave the document unchanged and repair it manually instead",onClick:n[42]}],onClose:n[6]}}),{c(){se(e.$$.fragment)},m(i,s){ne(e,i,s),t=!0},p(i,s){const o={};s[0]&1&&(o.actions=i[0]?[]:[{icon:bf,text:"Ok",title:"Accept the repaired document",onClick:i[7]},{icon:Pr,text:"Repair manually instead",title:"Leave the document unchanged and repair it manually instead",onClick:i[42]}]),e.$set(o)},i(i){t||(k(e.$$.fragment,i),t=!0)},o(i){M(e.$$.fragment,i),t=!1},d(i){ie(e,i)}}}function vX(n){let e,t,i,s,o,r,l,a=n[1]&&dS(n);const c=[mX,gX],f=[];function u(h,d){return h[29]?1:0}return i=u(n),s=f[i]=c[i](n),{c(){e=L("div"),a&&a.c(),t=X(),s.c(),_(e,"role","table"),_(e,"class","jse-table-mode svelte-12ygzbc"),$(e,"no-main-menu",!n[1])},m(h,d){j(h,e,d),a&&a.m(e,null),A(e,t),f[i].m(e,null),n[85](e),o=!0,r||(l=[fe(e,"mousedown",n[36]),fe(e,"keydown",n[43]),fe(e,"contextmenu",n[38])],r=!0)},p(h,d){h[1]?a?(a.p(h,d),d[0]&2&&k(a,1)):(a=dS(h),a.c(),k(a,1),a.m(e,t)):a&&(me(),M(a,1,1,()=>{a=null}),pe()),s.p(h,d),(!o||d[0]&2)&&$(e,"no-main-menu",!h[1])},i(h){o||(k(a),k(s),o=!0)},o(h){M(a),M(s),o=!1},d(h){h&&B(e),a&&a.d(),f[i].d(),n[85](null),r=!1,Tt(l)}}}let $r=18;function kX(n,e,t){let i,s,o;const r=qn("jsoneditor:TableMode"),{open:l}=Wn("simple-modal"),{openAbsolutePopup:a,closeAbsolutePopup:c}=Wn("absolute-popup"),f=pM(),u=Ba(),h=Ba(),d=typeof window>"u";r("isSSR:",d);let{readOnly:g}=e,{externalContent:m}=e,{externalSelection:p}=e,{mainMenuBar:b}=e,{escapeControlCharacters:y}=e,{escapeUnicodeCharacters:v}=e,{flattenColumns:C}=e,{parser:w}=e,{parseMemoizeOne:S}=e,{validator:x}=e,{validationParser:T}=e,{indentation:P}=e,{onChange:D}=e,{onChangeMode:O}=e,{onSelect:E}=e,{onRenderValue:N}=e,{onRenderMenu:z}=e,{onRenderContextMenu:F}=e,{onFocus:q}=e,{onBlur:Q}=e,{onSortModal:G}=e,{onTransformModal:R}=e,{onJSONEditorModal:U}=e,Y,le,Z,he;E0({onMount:_i,onDestroy:Ti,getWindow:()=>oc(le),hasFocus:()=>at&&document.hasFocus()||y0(le),onFocus:()=>{kt=!0,q&&q()},onBlur:()=>{kt=!1,Q&&Q()}});let W,ve,te,be,tt,re=!1,Qe=!1;function H(V){if(!Z)return;const ke=V?cl:-cl;Z.scrollTo({top:t(15,Z.scrollTop+=ke,Z),left:Z.scrollLeft})}function ae(V){t(20,tt=V)}async function Ie(V){t(12,K={...K,selection:null}),await Vi(V)}function Ne(){t(9,re=!1),t(21,Qe=!1),en()}let Be=1e4,Re=[],de,at=!1,kt=!1,De={},ot=600,mt=0;function Ze(V){Z&&Z.scrollTo({top:Z.scrollTop,left:Z.scrollLeft})}function Ht(){K.sortedColumn&&t(12,K={...K,sortedColumn:null})}function qe(V){r("updateSelection",V);const ke=typeof V=="function"?V(K.selection)||null:V;_t(ke,K.selection)||(t(12,K={...K,selection:ke}),E(ke))}function ft(V){!K.selection||V===void 0||us(V,xl(K.selection))&&us(V,Xe(K.selection))||(r("clearing selection: path does not exist anymore",K.selection),t(12,K={...K,selection:null}))}let K=Qh(),Se=!1;function Ue(V){if(g)return;r("onSortByHeader",V);const ke=[],je=V.sortDirection===fs.desc?-1:1,We=CM(W,ke,V.path,je);Qt(We,(Ct,Ft)=>({state:{...Ft,sortedColumn:V}}))}const Ce=bM({onChange:V=>{t(24,ee=V)}});let ee=Ce.getState(),Ae;function Ee(V){const ke={json:W},je=za(V)?V.text!==ve:!_t(ke.json,V.json);if(r("update external content",{isChanged:je}),!je)return;const We=W,Ct=K,Ft=ve,I=Se;if(za(V))try{t(8,W=S(V.text)),t(17,ve=V.text),t(23,Se=!1),t(18,te=void 0)}catch(ce){try{t(8,W=S(co(V.text))),t(17,ve=V.text),t(23,Se=!0),t(18,te=void 0)}catch{t(8,W=void 0),t(17,ve=V.text),t(23,Se=!1),t(18,te=ve!==""?ja(ve,ce.message||String(ce)):void 0)}}else t(8,W=V.json),t(17,ve=void 0),t(23,Se=!1),t(18,te=void 0);ft(W),Ht(),rt({previousJson:We,previousState:Ct,previousText:Ft,previousTextIsRepaired:I})}function Ge(V){_t(K.selection,V)||(r("applyExternalSelection",V),(S0(V)||V===null)&&qe(V))}function rt({previousJson:V,previousState:ke,previousText:je,previousTextIsRepaired:We}){V===void 0&&je===void 0||(W!==void 0?V!==void 0?Ce.add({undo:{patch:[{op:"replace",path:"",value:V}],state:ui(ke),json:void 0,text:je,textIsRepaired:We},redo:{patch:[{op:"replace",path:"",value:W}],state:ui(K),json:void 0,text:ve,textIsRepaired:Se}}):Ce.add({undo:{patch:void 0,json:void 0,text:je,state:ui(ke),textIsRepaired:We},redo:{patch:void 0,json:W,state:ui(K),text:ve,textIsRepaired:Se}}):V!==void 0&&Ce.add({undo:{patch:void 0,json:V,state:ui(ke),text:je,textIsRepaired:We},redo:{patch:void 0,json:void 0,text:ve,textIsRepaired:Se,state:ui(K)}}))}let ue=[];const Bt=eu(yM);function Et(V,ke,je,We){pa(()=>{let Ct;try{Ct=Bt(V,ke,je,We)}catch(Ft){Ct=[{path:[],message:"Failed to validate: "+Ft.message,severity:Ps.warning}]}_t(Ct,ue)||(r("validationErrors changed:",Ct),t(13,ue=Ct))},Ct=>r(`validationErrors updated in ${Ct} ms`))}function it(){return r("validate"),te?{parseError:te,isRepairable:!1}:(Et(W,x,w,T),At(ue)?null:{validationErrors:ue})}function Gt(V,ke){if(r("patch",V,ke),W===void 0)throw new Error("Cannot apply patch: no JSON");const je=W,We=K,Ct=Se,Ft=X4(W,V),ce=I4(W,K,V).json,ye=rF(K,V,Re),et=typeof ke=="function"?ke(ce,ye):void 0;t(8,W=et&&et.json!==void 0?et.json:ce);const Ye=et&&et.state!==void 0?et.state:ye;return t(12,K=Ye),t(17,ve=void 0),t(23,Se=!1),t(19,be=void 0),t(18,te=void 0),Ce.add({undo:{patch:Ft,json:void 0,text:void 0,state:ui(We),textIsRepaired:Ct},redo:{patch:V,json:void 0,state:ui(Ye),text:void 0,textIsRepaired:Se}}),{json:W,previousJson:je,undo:Ft,redo:V}}function Qt(V,ke){r("handlePatch",V,ke);const je={json:W,text:ve},We=Gt(V,ke);return Mi(je,We),We}function Mi(V,ke){V.json===void 0&&(V==null?void 0:V.text)===void 0||D&&(ve!==void 0?D({text:ve,json:void 0},V,{contentErrors:it(),patchResult:ke}):W!==void 0&&D({text:void 0,json:W},V,{contentErrors:it(),patchResult:ke}))}function vs(V){r("handleFind",V)}function tr(V){r("pasted json as text",V),t(19,be=V)}function Ur(V){const ke=parseInt(V[0],10),je=[String(ke+1),...V.slice(1)];return us(W,je)?ht(je,!1):ht(V,!1)}function en(){r("focus"),he&&(he.focus(),he.select())}function Hs(V){t(78,mt=V.target.scrollTop)}function Ws(V){if(V.buttons!==1&&V.buttons!==2)return;const ke=V.target,je=O4(ke);if(je){if(vi(K.selection)&&mf(W,K.selection,je))return;qe(ht(je,!1)),V.preventDefault()}!ke.isContentEditable&&!kt&&setTimeout(en)}function wo(){if(Yt(W)&&!At(W)&&!At(Re)){const V=["0",...Re[0]];return ht(V,!1)}else return null}function ks(){K.selection||qe(wo())}function qs(){if(Se&&W!==void 0){const V=K,ke=W,je=ve,We={json:W,text:ve},Ct=Se;t(17,ve=void 0),t(23,Se=!1),ft(W),rt({previousJson:ke,previousState:V,previousText:je,previousTextIsRepaired:Ct}),Mi(We,null)}return{json:W,text:ve}}function Vi(V,ke=!0){const je=re?cl:0,We=Dw(V,Re,De,$r),Ct=We-mt+je+$r,Ft=ei(V);if(r("scrollTo",{path:V,top:We,scrollTop:mt,elem:Ft}),!Z)return Promise.resolve();const I=Z.getBoundingClientRect();if(Ft&&!ke){const ye=Ft.getBoundingClientRect();if(ye.bottom>I.top&&ye.top<I.bottom)return Promise.resolve()}const ce=-Math.max(je+2*$r,I.height/4);return Ft?new Promise(ye=>{f(Ft,{container:Z,offset:ce,duration:Zm,callback:()=>{ai(V),ye()}})}):new Promise(ye=>{f(Ct,{container:Z,offset:ce,duration:Zm,callback:async()=>{await Cn(),ai(V),ye()}})})}function li(V){if(!Z)return;const{rowIndex:ke}=ys(V,Re),je=Dw(V,Re,De,$r),We=je+(De[ke]||$r),Ct=$r,Ft=Z.getBoundingClientRect(),I=mt,ce=mt+Ft.height-Ct;if(We>ce){const ye=We-ce;t(15,Z.scrollTop+=ye,Z)}if(je<I){const ye=I-je;t(15,Z.scrollTop-=ye,Z)}}function ai(V){const ke=ei(V);if(!ke||!Z)return;const je=Z.getBoundingClientRect(),We=ke.getBoundingClientRect();if(We.right>je.right){const Ct=We.right-je.right;t(15,Z.scrollLeft+=Ct,Z)}if(We.left<je.left){const Ct=je.left-We.left;t(15,Z.scrollLeft-=Ct,Z)}}function ci(V){li(V),ai(V)}function ei(V){const ke=Re.find(We=>Uo(V.slice(1),We)),je=ke?V.slice(0,1).concat(ke):V;return Z?Z.querySelector(`td[data-path="${Fa(je)}"]`):null}function Ss({anchor:V,left:ke,top:je,width:We,height:Ct,offsetTop:Ft,offsetLeft:I,showTip:ce}){const ye=uX({json:W,documentState:K,readOnly:g,parser:w,onEditValue:Js,onEditRow:Ks,onToggleEnforceString:nr,onCut:dt,onCopy:tn,onPaste:ko,onRemove:zt,onDuplicateRow:Zt,onInsertBeforeRow:Jn,onInsertAfterRow:Ai,onRemoveRow:cn}),et=F(ye);if(et===!1)return;const Ye={tip:ce?"Tip: you can open this context menu via right-click or with Ctrl+Q":void 0,items:et,onRequestClose(){c(Rn),en()}},Wt={left:ke,top:je,offsetTop:Ft,offsetLeft:I,width:We,height:Ct,anchor:V,closeOnOuterClick:!0,onClose:()=>{at=!1,en()}};at=!0;const Rn=a(IM,Ye,Wt)}function Us(V){if(!vi(K.selection)){if(V&&(V.stopPropagation(),V.preventDefault()),V&&V.type==="contextmenu"&&V.target!==he)Ss({left:V.clientX,top:V.clientY,width:Do,height:Ro,showTip:!1});else{const ke=Z==null?void 0:Z.querySelector(".jse-table-cell.jse-selected-value");if(ke)Ss({anchor:ke,offsetTop:2,width:Do,height:Ro,showTip:!1});else{const je=Z==null?void 0:Z.getBoundingClientRect();je&&Ss({top:je.top+2,left:je.left+2,width:Do,height:Ro,showTip:!1})}}return!1}}function yn(V){Ss({anchor:x4(V.target,"BUTTON"),offsetTop:0,width:Do,height:Ro,showTip:!0})}function Js(){if(g||!K.selection)return;const V=Xe(K.selection),ke=ze(W,V);hn(ke)?sr(V):qe(ht(V,!0))}function Ks(){if(g||!K.selection)return;const ke=Xe(K.selection).slice(0,1);sr(ke)}function nr(){if(g||!Mt(K.selection))return;const V=K.selection.path,ke=Oe(V),je=ze(W,V),We=!Wo(je,K.enforceStringMap,ke,w),Ct=We?String(je):tc(String(je),w);r("handleToggleEnforceString",{enforceString:We,value:je,updatedValue:Ct}),Qt([{op:"replace",path:ke,value:Ct}],(Ft,I)=>({state:L4(I,ke,We)}))}async function vo(){if(r("apply pasted json",be),!be)return;const{path:V,contents:ke}=be,je=(Z==null?void 0:Z.querySelector(".jse-editable-div"))||null;P4(je)&&je.cancel();const We=[{op:"replace",path:Oe(V),value:ke}];Qt(We),setTimeout(en)}function ko(){l(_M,{},{...Sl,styleWindow:{width:"450px"}},{onClose:()=>en()})}function oe(){r("clear pasted json"),t(19,be=void 0),en()}function $e(){O(Yn.text)}async function dt(V){await PM({json:W,documentState:K,indentation:V?P:void 0,readOnly:g,parser:w,onPatch:Qt})}async function tn(V=!0){W!==void 0&&await TM({json:W,documentState:K,indentation:V?P:void 0,parser:w})}function zt(){RM({json:W,text:ve,documentState:K,keepSelection:!0,readOnly:g,onChange:D,onPatch:Qt})}function Zt(){cF({json:W,documentState:K,columns:Re,readOnly:g,onPatch:Qt})}function Jn(){fF({json:W,documentState:K,columns:Re,readOnly:g,onPatch:Qt})}function Ai(){uF({json:W,documentState:K,columns:Re,readOnly:g,onPatch:Qt})}function cn(){hF({json:W,documentState:K,columns:Re,readOnly:g,onPatch:Qt})}async function Ys(V){await DM({char:V,selectInside:!1,refJsonEditor:le,json:W,selection:K.selection,readOnly:g,parser:w,onPatch:Qt,onReplaceJson:Jr,onSelect:qe})}function uc(V){const ke=Vo(V);if(r("keydown",{combo:ke,key:V.key}),ke==="Ctrl+X"&&(V.preventDefault(),dt(!0)),ke==="Ctrl+Shift+X"&&(V.preventDefault(),dt(!1)),ke==="Ctrl+C"&&(V.preventDefault(),tn(!0)),ke==="Ctrl+Shift+C"&&(V.preventDefault(),tn(!1)),ke==="Ctrl+D"&&V.preventDefault(),(ke==="Delete"||ke==="Backspace")&&(V.preventDefault(),zt()),ke==="Insert"&&V.preventDefault(),ke==="Ctrl+A"&&V.preventDefault(),ke==="Ctrl+Q"&&Us(V),ke==="ArrowLeft"&&(V.preventDefault(),ks(),K.selection)){const We=tF(Re,K.selection);qe(We),ci(Xe(We))}if(ke==="ArrowRight"&&(V.preventDefault(),ks(),K.selection)){const We=nF(Re,K.selection);qe(We),ci(Xe(We))}if(ke==="ArrowUp"&&(V.preventDefault(),ks(),K.selection)){const We=$z(Re,K.selection);qe(We),ci(Xe(We))}if(ke==="ArrowDown"&&(V.preventDefault(),ks(),K.selection)){const We=eF(W,Re,K.selection);qe(We),ci(Xe(We))}if(ke==="Enter"&&K.selection&&Mt(K.selection)){V.preventDefault();const We=K.selection.path,Ct=ze(W,We);hn(Ct)?sr(We):g||qe({...K.selection,edit:!0})}if(ke.replace(/^Shift\+/,"").length===1&&K.selection){V.preventDefault(),Ys(V.key);return}if(ke==="Ctrl+Enter"&&Mt(K.selection)){const We=ze(W,K.selection.path);Gd(We)&&window.open(String(We),"_blank")}ke==="Escape"&&K.selection&&(V.preventDefault(),qe(null)),ke==="Ctrl+F"&&(V.preventDefault(),Kl(!1)),ke==="Ctrl+H"&&(V.preventDefault(),Kl(!0)),ke==="Ctrl+Z"&&(V.preventDefault(),Yl()),ke==="Ctrl+Shift+Z"&&(V.preventDefault(),Xl())}function ir(V){var je;V.preventDefault();const ke=(je=V.clipboardData)==null?void 0:je.getData("text/plain");ke!==void 0&&EM({clipboardText:ke,json:W,selection:K.selection,readOnly:g,parser:w,onPatch:Qt,onChangeText:hc,openRepairModal:gc})}function Jr(V,ke){const je=K,We=W,Ct=ve,Ft={json:W,text:ve},I=Se,ce=os(W,K,[],so),ye=typeof ke=="function"?ke(V,ce):void 0;t(8,W=ye&&ye.json!==void 0?ye.json:V),t(12,K=ye&&ye.state!==void 0?ye.state:ce),t(17,ve=void 0),t(23,Se=!1),t(18,te=void 0),ft(W),rt({previousJson:We,previousState:je,previousText:Ct,previousTextIsRepaired:I}),Mi(Ft,null)}function hc(V,ke){r("handleChangeText");const je=K,We=W,Ct=ve,Ft={json:W,text:ve},I=Se;try{t(8,W=S(V)),t(12,K=os(W,K,[],so)),t(17,ve=void 0),t(23,Se=!1),t(18,te=void 0)}catch(ye){try{t(8,W=S(co(V))),t(12,K=os(W,K,[],so)),t(17,ve=V),t(23,Se=!0),t(18,te=void 0)}catch{t(8,W=void 0),t(12,K=Qh({json:W,expand:so})),t(17,ve=V),t(23,Se=!1),t(18,te=ve!==""?ja(ve,ye.message||String(ye)):void 0)}}if(typeof ke=="function"){const ye=ke(W,K);t(8,W=ye&&ye.json?ye.json:W),t(12,K=ye&&ye.state?ye.state:K)}ft(W),rt({previousJson:We,previousState:je,previousText:Ct,previousTextIsRepaired:I}),Mi(Ft,null)}function Kr(V){r("select validation error",V),qe(ht(V.path,!1)),Vi(V.path)}function dc(V){g||W===void 0||(at=!0,G({id:u,json:W,rootPath:V,onSort:({operations:ke,itemPath:je,direction:We})=>{r("onSort",ke,V,je,We),Qt(ke,(Ct,Ft)=>({state:{...Ft,sortedColumn:{path:je,sortDirection:We===-1?fs.desc:fs.asc}}}))},onClose:()=>{at=!1,en()}}))}function Jl(V){if(W===void 0)return;const{id:ke,onTransform:je,onClose:We}=V,Ct=V.rootPath||[];at=!0,R({id:ke||h,json:W,rootPath:Ct||[],onTransform:Ft=>{je?je({operations:Ft,json:W,transformedJson:Es(W,Ft)}):(r("onTransform",Ct,Ft),Qt(Ft))},onClose:()=>{at=!1,en(),We&&We()}})}function sr(V){r("openJSONEditorModal",{path:V}),at=!0,U({content:{json:ze(W,V)},path:V,onPatch:Ae.onPatch,onClose:()=>{at=!1,en()}})}function gc(V,ke){l(kM,{text:V,onParse:je=>cg(je,We=>Jf(We,w)),onRepair:b4,onApply:ke},{...Sl,styleWindow:{width:"600px",height:"500px"},styleContent:{padding:0,height:"100%"}},{onClose:()=>en()})}function So(){dc([])}function or(){Jl({rootPath:[]})}function Kl(V){r("openFind",{findAndReplace:V}),t(9,re=!1),t(21,Qe=!1),Cn().then(()=>{t(9,re=!0),t(21,Qe=V)})}function Yl(){if(g||!Ce.getState().canUndo)return;const V=Ce.undo();if(!V)return;const ke={json:W,text:ve};t(8,W=V.undo.patch?Es(W,V.undo.patch):V.undo.json),t(12,K=V.undo.state),t(17,ve=V.undo.text),t(23,Se=V.undo.textIsRepaired),t(18,te=void 0),r("undo",{item:V,json:W});const je=V.undo.patch&&V.redo.patch?{json:W,previousJson:ke.json,redo:V.undo.patch,undo:V.redo.patch}:null;Mi(ke,je),en(),K.selection&&Vi(Xe(K.selection),!1)}function Xl(){if(g||!Ce.getState().canRedo)return;const V=Ce.redo();if(!V)return;const ke={json:W,text:ve};t(8,W=V.redo.patch?Es(W,V.redo.patch):V.redo.json),t(12,K=V.redo.state),t(17,ve=V.redo.text),t(23,Se=V.redo.textIsRepaired),t(18,te=void 0),r("redo",{item:V,json:W});const je=V.undo.patch&&V.redo.patch?{json:W,previousJson:ke.json,redo:V.redo.patch,undo:V.undo.patch}:null;Mi(ke,je),en(),K.selection&&Vi(Xe(K.selection),!1)}function mc(V){t(77,ot=V.getBoundingClientRect().height)}function Gl(V,ke){t(76,De[ke]=V.getBoundingClientRect().height,De)}function Sn(V){re=V,t(9,re)}function J(V){st[V?"unshift":"push"](()=>{he=V,t(16,he)})}const Je=()=>t(10,Be=1/0),nn=(V,ke)=>Gl(ke,V);function Hi(V){st[V?"unshift":"push"](()=>{Z=V,t(15,Z)})}const Wi=()=>{en()};function qi(V){st[V?"unshift":"push"](()=>{le=V,t(14,le)})}return n.$$set=V=>{"readOnly"in V&&t(0,g=V.readOnly),"externalContent"in V&&t(53,m=V.externalContent),"externalSelection"in V&&t(54,p=V.externalSelection),"mainMenuBar"in V&&t(1,b=V.mainMenuBar),"escapeControlCharacters"in V&&t(55,y=V.escapeControlCharacters),"escapeUnicodeCharacters"in V&&t(56,v=V.escapeUnicodeCharacters),"flattenColumns"in V&&t(57,C=V.flattenColumns),"parser"in V&&t(2,w=V.parser),"parseMemoizeOne"in V&&t(58,S=V.parseMemoizeOne),"validator"in V&&t(59,x=V.validator),"validationParser"in V&&t(60,T=V.validationParser),"indentation"in V&&t(3,P=V.indentation),"onChange"in V&&t(61,D=V.onChange),"onChangeMode"in V&&t(4,O=V.onChangeMode),"onSelect"in V&&t(62,E=V.onSelect),"onRenderValue"in V&&t(63,N=V.onRenderValue),"onRenderMenu"in V&&t(5,z=V.onRenderMenu),"onRenderContextMenu"in V&&t(64,F=V.onRenderContextMenu),"onFocus"in V&&t(65,q=V.onFocus),"onBlur"in V&&t(66,Q=V.onBlur),"onSortModal"in V&&t(67,G=V.onSortModal),"onTransformModal"in V&&t(68,R=V.onTransformModal),"onJSONEditorModal"in V&&t(69,U=V.onJSONEditorModal)},n.$$.update=()=>{n.$$.dirty[1]&50331648&&t(75,Y=p0({escapeControlCharacters:y,escapeUnicodeCharacters:v})),n.$$.dirty[0]&512&&H(re),n.$$.dirty[1]&4194304&&Ee(m),n.$$.dirty[1]&8388608&&Ge(p),n.$$.dirty[0]&3328|n.$$.dirty[1]&67108864&&t(11,Re=Yt(W)?Gz(Xz(W,C,Be),Re):[]),n.$$.dirty[0]&2304&&t(22,de=!!(W&&!At(Re))),n.$$.dirty[0]&1280&&t(28,i=Array.isArray(W)&&W.length>Be),n.$$.dirty[0]&768|n.$$.dirty[2]&114688&&t(27,s=Qz(mt,ot,W,De,$r,re?cl:0)),n.$$.dirty[0]&256&&Ze(),n.$$.dirty[0]&4357|n.$$.dirty[2]&8194&&t(25,Ae={readOnly:g,parser:w,normalization:Y,getJson:()=>W,getDocumentState:()=>K,findElement:ei,findNextInside:Ur,focus:en,onPatch:Qt,onSelect:qe,onFind:vs,onPasteJson:tr,onRenderValue:N}),n.$$.dirty[0]&260|n.$$.dirty[1]&805306368&&Et(W,x,w,T),n.$$.dirty[0]&10240&&t(26,o=iF(ue,Re))},[g,b,w,P,O,z,en,qs,W,re,Be,Re,K,ue,le,Z,he,ve,te,be,tt,Qe,de,Se,ee,Ae,o,s,i,d,ae,Ie,Ne,Ue,Qt,Hs,Ws,Ss,Us,yn,vo,oe,$e,uc,ir,Kr,sr,So,or,Yl,Xl,mc,Gl,m,p,y,v,C,S,x,T,D,E,N,F,q,Q,G,R,U,it,Gt,Vi,ei,Jl,Y,De,ot,mt,Sn,J,Je,nn,Hi,Wi,qi]}class SX extends Te{constructor(e){super(),Pe(this,e,kX,vX,ut,{readOnly:0,externalContent:53,externalSelection:54,mainMenuBar:1,escapeControlCharacters:55,escapeUnicodeCharacters:56,flattenColumns:57,parser:2,parseMemoizeOne:58,validator:59,validationParser:60,indentation:3,onChange:61,onChangeMode:4,onSelect:62,onRenderValue:63,onRenderMenu:5,onRenderContextMenu:64,onFocus:65,onBlur:66,onSortModal:67,onTransformModal:68,onJSONEditorModal:69,validate:70,patch:71,focus:6,acceptAutoRepair:7,scrollTo:72,findElement:73,openTransformModal:74},null,[-1,-1,-1,-1,-1])}get validate(){return this.$$.ctx[70]}get patch(){return this.$$.ctx[71]}get focus(){return this.$$.ctx[6]}get acceptAutoRepair(){return this.$$.ctx[7]}get scrollTo(){return this.$$.ctx[72]}get findElement(){return this.$$.ctx[73]}get openTransformModal(){return this.$$.ctx[74]}}function CX(n){let e,t,i={externalContent:n[0],externalSelection:n[1],readOnly:n[2],indentation:n[3],mainMenuBar:n[6],navigationBar:n[7],escapeControlCharacters:n[10],escapeUnicodeCharacters:n[11],parser:n[13],parseMemoizeOne:n[14],validator:n[15],validationParser:n[16],pathParser:n[17],onError:n[23],onChange:n[18],onChangeMode:n[19],onSelect:n[20],onRenderValue:n[21],onClassName:n[22],onFocus:n[24],onBlur:n[25],onRenderMenu:n[32],onRenderContextMenu:n[33],onSortModal:n[26],onTransformModal:n[27],onJSONEditorModal:n[28]};return e=new F0({props:i}),n[49](e),{c(){se(e.$$.fragment)},m(s,o){ne(e,s,o),t=!0},p(s,o){const r={};o[0]&1&&(r.externalContent=s[0]),o[0]&2&&(r.externalSelection=s[1]),o[0]&4&&(r.readOnly=s[2]),o[0]&8&&(r.indentation=s[3]),o[0]&64&&(r.mainMenuBar=s[6]),o[0]&128&&(r.navigationBar=s[7]),o[0]&1024&&(r.escapeControlCharacters=s[10]),o[0]&2048&&(r.escapeUnicodeCharacters=s[11]),o[0]&8192&&(r.parser=s[13]),o[0]&16384&&(r.parseMemoizeOne=s[14]),o[0]&32768&&(r.validator=s[15]),o[0]&65536&&(r.validationParser=s[16]),o[0]&131072&&(r.pathParser=s[17]),o[0]&8388608&&(r.onError=s[23]),o[0]&262144&&(r.onChange=s[18]),o[0]&524288&&(r.onChangeMode=s[19]),o[0]&1048576&&(r.onSelect=s[20]),o[0]&2097152&&(r.onRenderValue=s[21]),o[0]&4194304&&(r.onClassName=s[22]),o[0]&16777216&&(r.onFocus=s[24]),o[0]&33554432&&(r.onBlur=s[25]),o[1]&2&&(r.onRenderMenu=s[32]),o[1]&4&&(r.onRenderContextMenu=s[33]),o[0]&67108864&&(r.onSortModal=s[26]),o[0]&134217728&&(r.onTransformModal=s[27]),o[0]&268435456&&(r.onJSONEditorModal=s[28]),e.$set(r)},i(s){t||(k(e.$$.fragment,s),t=!0)},o(s){M(e.$$.fragment,s),t=!1},d(s){n[49](null),ie(e,s)}}}function MX(n){let e,t,i={externalContent:n[0],externalSelection:n[1],readOnly:n[2],mainMenuBar:n[6],escapeControlCharacters:n[10],escapeUnicodeCharacters:n[11],flattenColumns:n[12],parser:n[13],parseMemoizeOne:n[14],validator:n[15],validationParser:n[16],indentation:n[3],onChange:n[18],onChangeMode:n[19],onSelect:n[20],onRenderValue:n[21],onFocus:n[24],onBlur:n[25],onRenderMenu:n[32],onRenderContextMenu:n[33],onSortModal:n[26],onTransformModal:n[27],onJSONEditorModal:n[28]};return e=new SX({props:i}),n[48](e),{c(){se(e.$$.fragment)},m(s,o){ne(e,s,o),t=!0},p(s,o){const r={};o[0]&1&&(r.externalContent=s[0]),o[0]&2&&(r.externalSelection=s[1]),o[0]&4&&(r.readOnly=s[2]),o[0]&64&&(r.mainMenuBar=s[6]),o[0]&1024&&(r.escapeControlCharacters=s[10]),o[0]&2048&&(r.escapeUnicodeCharacters=s[11]),o[0]&4096&&(r.flattenColumns=s[12]),o[0]&8192&&(r.parser=s[13]),o[0]&16384&&(r.parseMemoizeOne=s[14]),o[0]&32768&&(r.validator=s[15]),o[0]&65536&&(r.validationParser=s[16]),o[0]&8&&(r.indentation=s[3]),o[0]&262144&&(r.onChange=s[18]),o[0]&524288&&(r.onChangeMode=s[19]),o[0]&1048576&&(r.onSelect=s[20]),o[0]&2097152&&(r.onRenderValue=s[21]),o[0]&16777216&&(r.onFocus=s[24]),o[0]&33554432&&(r.onBlur=s[25]),o[1]&2&&(r.onRenderMenu=s[32]),o[1]&4&&(r.onRenderContextMenu=s[33]),o[0]&67108864&&(r.onSortModal=s[26]),o[0]&134217728&&(r.onTransformModal=s[27]),o[0]&268435456&&(r.onJSONEditorModal=s[28]),e.$set(r)},i(s){t||(k(e.$$.fragment,s),t=!0)},o(s){M(e.$$.fragment,s),t=!1},d(s){n[48](null),ie(e,s)}}}function AX(n){let e,t,i={externalContent:n[0],externalSelection:n[1],readOnly:n[2],indentation:n[3],tabSize:n[4],mainMenuBar:n[6],statusBar:n[8],askToFormat:n[9],escapeUnicodeCharacters:n[11],parser:n[13],validator:n[15],validationParser:n[16],onChange:n[18],onSelect:n[20],onChangeMode:n[19],onError:n[23],onFocus:n[24],onBlur:n[25],onRenderMenu:n[32],onSortModal:n[26],onTransformModal:n[27]};return e=new zY({props:i}),n[47](e),{c(){se(e.$$.fragment)},m(s,o){ne(e,s,o),t=!0},p(s,o){const r={};o[0]&1&&(r.externalContent=s[0]),o[0]&2&&(r.externalSelection=s[1]),o[0]&4&&(r.readOnly=s[2]),o[0]&8&&(r.indentation=s[3]),o[0]&16&&(r.tabSize=s[4]),o[0]&64&&(r.mainMenuBar=s[6]),o[0]&256&&(r.statusBar=s[8]),o[0]&512&&(r.askToFormat=s[9]),o[0]&2048&&(r.escapeUnicodeCharacters=s[11]),o[0]&8192&&(r.parser=s[13]),o[0]&32768&&(r.validator=s[15]),o[0]&65536&&(r.validationParser=s[16]),o[0]&262144&&(r.onChange=s[18]),o[0]&1048576&&(r.onSelect=s[20]),o[0]&524288&&(r.onChangeMode=s[19]),o[0]&8388608&&(r.onError=s[23]),o[0]&16777216&&(r.onFocus=s[24]),o[0]&33554432&&(r.onBlur=s[25]),o[1]&2&&(r.onRenderMenu=s[32]),o[0]&67108864&&(r.onSortModal=s[26]),o[0]&134217728&&(r.onTransformModal=s[27]),e.$set(r)},i(s){t||(k(e.$$.fragment,s),t=!0)},o(s){M(e.$$.fragment,s),t=!1},d(s){n[47](null),ie(e,s)}}}function xX(n){let e,t,i,s,o;const r=[AX,MX,CX],l=[];function a(c,f){return f[0]&32&&(e=null),e==null&&(e=c[5]===Yn.text||String(c[5])==="code"),e?0:c[5]===Yn.table?1:2}return t=a(n,[-1,-1]),i=l[t]=r[t](n),{c(){i.c(),s=gt()},m(c,f){l[t].m(c,f),j(c,s,f),o=!0},p(c,f){let u=t;t=a(c,f),t===u?l[t].p(c,f):(me(),M(l[u],1,1,()=>{l[u]=null}),pe(),i=l[t],i?i.p(c,f):(i=l[t]=r[t](c),i.c()),k(i,1),i.m(s.parentNode,s))},i(c){o||(k(i),o=!0)},o(c){M(i),o=!1},d(c){c&&B(s),l[t].d(c)}}}function OX(n,e,t){let{content:i}=e,{selection:s}=e,{readOnly:o}=e,{indentation:r}=e,{tabSize:l}=e,{mode:a}=e,{mainMenuBar:c}=e,{navigationBar:f}=e,{statusBar:u}=e,{askToFormat:h}=e,{escapeControlCharacters:d}=e,{escapeUnicodeCharacters:g}=e,{flattenColumns:m}=e,{parser:p}=e,{parseMemoizeOne:b}=e,{validator:y}=e,{validationParser:v}=e,{pathParser:C}=e,{insideModal:w}=e,{onChange:S}=e,{onChangeMode:x}=e,{onSelect:T}=e,{onRenderValue:P}=e,{onClassName:D}=e,{onRenderMenu:O}=e,{onRenderContextMenu:E}=e,{onError:N}=e,{onFocus:z}=e,{onBlur:F}=e,{onSortModal:q}=e,{onTransformModal:Q}=e,{onJSONEditorModal:G}=e,R,U,Y,le;const Z={type:"separator"};let he,W;function ve(de){if(R)return R.patch(de);if(U)return U.patch(de);if(Y)return Y.patch(de);throw new Error(`Method patch is not available in mode "${a}"`)}function te(de){if(R)return R.expand(de);throw new Error(`Method expand is not available in mode "${a}"`)}function be(de){if(Y)Y.openTransformModal(de);else if(R)R.openTransformModal(de);else if(U)U.openTransformModal(de);else throw new Error(`Method transform is not available in mode "${a}"`)}function tt(){if(Y)return Y.validate();if(R)return R.validate();if(U)return U.validate();throw new Error(`Method validate is not available in mode "${a}"`)}function re(){return R?R.acceptAutoRepair():i}function Qe(de){if(R)return R.scrollTo(de);if(U)return U.scrollTo(de);throw new Error(`Method scrollTo is not available in mode "${a}"`)}function H(de){if(R)return R.findElement(de);if(U)return U.findElement(de);throw new Error(`Method findElement is not available in mode "${a}"`)}function ae(){Y?Y.focus():R?R.focus():U&&U.focus()}async function Ie(){Y&&await Y.refresh()}function Ne(de){st[de?"unshift":"push"](()=>{Y=de,t(31,Y)})}function Be(de){st[de?"unshift":"push"](()=>{U=de,t(30,U)})}function Re(de){st[de?"unshift":"push"](()=>{R=de,t(29,R)})}return n.$$set=de=>{"content"in de&&t(0,i=de.content),"selection"in de&&t(1,s=de.selection),"readOnly"in de&&t(2,o=de.readOnly),"indentation"in de&&t(3,r=de.indentation),"tabSize"in de&&t(4,l=de.tabSize),"mode"in de&&t(5,a=de.mode),"mainMenuBar"in de&&t(6,c=de.mainMenuBar),"navigationBar"in de&&t(7,f=de.navigationBar),"statusBar"in de&&t(8,u=de.statusBar),"askToFormat"in de&&t(9,h=de.askToFormat),"escapeControlCharacters"in de&&t(10,d=de.escapeControlCharacters),"escapeUnicodeCharacters"in de&&t(11,g=de.escapeUnicodeCharacters),"flattenColumns"in de&&t(12,m=de.flattenColumns),"parser"in de&&t(13,p=de.parser),"parseMemoizeOne"in de&&t(14,b=de.parseMemoizeOne),"validator"in de&&t(15,y=de.validator),"validationParser"in de&&t(16,v=de.validationParser),"pathParser"in de&&t(17,C=de.pathParser),"insideModal"in de&&t(34,w=de.insideModal),"onChange"in de&&t(18,S=de.onChange),"onChangeMode"in de&&t(19,x=de.onChangeMode),"onSelect"in de&&t(20,T=de.onSelect),"onRenderValue"in de&&t(21,P=de.onRenderValue),"onClassName"in de&&t(22,D=de.onClassName),"onRenderMenu"in de&&t(35,O=de.onRenderMenu),"onRenderContextMenu"in de&&t(36,E=de.onRenderContextMenu),"onError"in de&&t(23,N=de.onError),"onFocus"in de&&t(24,z=de.onFocus),"onBlur"in de&&t(25,F=de.onBlur),"onSortModal"in de&&t(26,q=de.onSortModal),"onTransformModal"in de&&t(27,Q=de.onTransformModal),"onJSONEditorModal"in de&&t(28,G=de.onJSONEditorModal)},n.$$.update=()=>{n.$$.dirty[0]&524320&&t(46,le=[{type:"button",text:"text",title:`Switch to text mode (current mode: ${a})`,className:"jse-group-button jse-first"+(a===Yn.text||a==="code"?" jse-selected":""),onClick:()=>x(Yn.text)},{type:"button",text:"tree",title:`Switch to tree mode (current mode: ${a})`,className:"jse-group-button "+(a===Yn.tree?" jse-selected":""),onClick:()=>x(Yn.tree)},{type:"button",text:"table",title:`Switch to table mode (current mode: ${a})`,className:"jse-group-button jse-last"+(a===Yn.table?" jse-selected":""),onClick:()=>x(Yn.table)}]),n.$$.dirty[0]&36|n.$$.dirty[1]&32792&&t(32,he=de=>{const at=wM(de[0])?le.concat(de):le.concat(Z,de),kt=mp(at);return O(at,{mode:a,modal:w,readOnly:o})||kt}),n.$$.dirty[0]&38|n.$$.dirty[1]&40&&t(33,W=de=>{const at=mp(de);return E(de,{mode:a,modal:w,readOnly:o,selection:s})??(o?!1:at)})},[i,s,o,r,l,a,c,f,u,h,d,g,m,p,b,y,v,C,S,x,T,P,D,N,z,F,q,Q,G,R,U,Y,he,W,w,O,E,ve,te,be,tt,re,Qe,H,ae,Ie,le,Ne,Be,Re]}class FA extends Te{constructor(e){super(),Pe(this,e,OX,xX,Ot,{content:0,selection:1,readOnly:2,indentation:3,tabSize:4,mode:5,mainMenuBar:6,navigationBar:7,statusBar:8,askToFormat:9,escapeControlCharacters:10,escapeUnicodeCharacters:11,flattenColumns:12,parser:13,parseMemoizeOne:14,validator:15,validationParser:16,pathParser:17,insideModal:34,onChange:18,onChangeMode:19,onSelect:20,onRenderValue:21,onClassName:22,onRenderMenu:35,onRenderContextMenu:36,onError:23,onFocus:24,onBlur:25,onSortModal:26,onTransformModal:27,onJSONEditorModal:28,patch:37,expand:38,transform:39,validate:40,acceptAutoRepair:41,scrollTo:42,findElement:43,focus:44,refresh:45},null,[-1,-1])}get patch(){return this.$$.ctx[37]}get expand(){return this.$$.ctx[38]}get transform(){return this.$$.ctx[39]}get validate(){return this.$$.ctx[40]}get acceptAutoRepair(){return this.$$.ctx[41]}get scrollTo(){return this.$$.ctx[42]}get findElement(){return this.$$.ctx[43]}get focus(){return this.$$.ctx[44]}get refresh(){return this.$$.ctx[45]}}function xS(n){let e,t;return{c(){e=L("div"),t=we(n[23]),_(e,"class","jse-error svelte-1m281k0")},m(i,s){j(i,e,s),A(e,t)},p(i,s){s[0]&8388608&&Ve(t,i[23])},d(i){i&&B(e)}}}function OS(n){let e,t,i,s,o,r;return t=new St({props:{data:I9}}),{c(){e=L("button"),se(t.$$.fragment),i=we(" Back"),_(e,"type","button"),_(e,"class","jse-secondary svelte-1m281k0")},m(l,a){j(l,e,a),ne(t,e,null),A(e,i),s=!0,o||(r=fe(e,"click",n[28]),o=!0)},p:ge,i(l){s||(k(t.$$.fragment,l),s=!0)},o(l){M(t.$$.fragment,l),s=!1},d(l){l&&B(e),ie(t),o=!1,r()}}}function PX(n){let e,t,i;return{c(){e=L("button"),e.textContent="Close",_(e,"type","button"),_(e,"class","jse-primary svelte-1m281k0")},m(s,o){j(s,e,o),t||(i=[fe(e,"click",n[28]),Nn(VA.call(null,e))],t=!0)},p:ge,d(s){s&&B(e),t=!1,Tt(i)}}}function TX(n){let e,t,i;return{c(){e=L("button"),e.textContent="Apply",_(e,"type","button"),_(e,"class","jse-primary svelte-1m281k0")},m(s,o){j(s,e,o),t||(i=[fe(e,"click",n[27]),Nn(VA.call(null,e))],t=!0)},p:ge,d(s){s&&B(e),t=!1,Tt(i)}}}function EX(n){let e,t,i,s,o,r,l,a,c,f,u,h,d,g,m,p,b,y,v,C;function w(N){n[39](N)}let S={title:"Edit nested content "+(n[20].length>1?` (${n[20].length})`:""),fullScreenButton:!0,onClose:n[28]};n[22]!==void 0&&(S.fullscreen=n[22]),t=new wg({props:S}),st.push(()=>Qn(t,"fullscreen",w));let x={mode:n[24].mode,content:n[24].content,selection:n[24].selection,readOnly:n[0],indentation:n[1],tabSize:n[2],statusBar:n[5],askToFormat:n[6],mainMenuBar:n[3],navigationBar:n[4],escapeControlCharacters:n[7],escapeUnicodeCharacters:n[8],flattenColumns:n[9],parser:n[10],parseMemoizeOne:n[25],validator:n[11],validationParser:n[12],pathParser:n[13],insideModal:!0,onError:n[33],onChange:n[30],onChangeMode:n[32],onSelect:n[31],onRenderValue:n[14],onClassName:n[15],onFocus:Ms,onBlur:Ms,onRenderMenu:n[16],onRenderContextMenu:n[17],onSortModal:n[18],onTransformModal:n[19],onJSONEditorModal:n[34]};d=new FA({props:x}),n[40](d);let T=n[23]&&xS(n),P=n[20].length>1&&OS(n);function D(N,z){return N[0]?PX:TX}let O=D(n),E=O(n);return{c(){e=L("div"),se(t.$$.fragment),s=X(),o=L("div"),r=L("div"),r.innerHTML='<div class="jse-label-inner svelte-1m281k0">Path</div>',l=X(),a=L("input"),c=X(),f=L("div"),f.innerHTML='<div class="jse-label-inner svelte-1m281k0">Contents</div>',u=X(),h=L("div"),se(d.$$.fragment),g=X(),m=L("div"),T&&T.c(),p=X(),P&&P.c(),b=X(),E.c(),_(r,"class","jse-label svelte-1m281k0"),_(a,"class","jse-path svelte-1m281k0"),_(a,"type","text"),a.readOnly=!0,_(a,"title","Selected path"),a.value=n[26],_(f,"class","jse-label svelte-1m281k0"),_(h,"class","jse-modal-inline-editor svelte-1m281k0"),_(m,"class","jse-actions svelte-1m281k0"),_(o,"class","jse-modal-contents svelte-1m281k0"),_(e,"class","jse-modal jse-jsoneditor-modal svelte-1m281k0"),$(e,"fullscreen",n[22])},m(N,z){j(N,e,z),ne(t,e,null),A(e,s),A(e,o),A(o,r),A(o,l),A(o,a),A(o,c),A(o,f),A(o,u),A(o,h),ne(d,h,null),A(o,g),A(o,m),T&&T.m(m,null),A(m,p),P&&P.m(m,null),A(m,b),E.m(m,null),y=!0,v||(C=Nn(Zf.call(null,e,n[29])),v=!0)},p(N,z){const F={};z[0]&1048576&&(F.title="Edit nested content "+(N[20].length>1?` (${N[20].length})`:"")),!i&&z[0]&4194304&&(i=!0,F.fullscreen=N[22],Gn(()=>i=!1)),t.$set(F),(!y||z[0]&67108864&&a.value!==N[26])&&(a.value=N[26]);const q={};z[0]&16777216&&(q.mode=N[24].mode),z[0]&16777216&&(q.content=N[24].content),z[0]&16777216&&(q.selection=N[24].selection),z[0]&1&&(q.readOnly=N[0]),z[0]&2&&(q.indentation=N[1]),z[0]&4&&(q.tabSize=N[2]),z[0]&32&&(q.statusBar=N[5]),z[0]&64&&(q.askToFormat=N[6]),z[0]&8&&(q.mainMenuBar=N[3]),z[0]&16&&(q.navigationBar=N[4]),z[0]&128&&(q.escapeControlCharacters=N[7]),z[0]&256&&(q.escapeUnicodeCharacters=N[8]),z[0]&512&&(q.flattenColumns=N[9]),z[0]&1024&&(q.parser=N[10]),z[0]&33554432&&(q.parseMemoizeOne=N[25]),z[0]&2048&&(q.validator=N[11]),z[0]&4096&&(q.validationParser=N[12]),z[0]&8192&&(q.pathParser=N[13]),z[0]&16384&&(q.onRenderValue=N[14]),z[0]&32768&&(q.onClassName=N[15]),z[0]&65536&&(q.onRenderMenu=N[16]),z[0]&131072&&(q.onRenderContextMenu=N[17]),z[0]&262144&&(q.onSortModal=N[18]),z[0]&524288&&(q.onTransformModal=N[19]),d.$set(q),N[23]?T?T.p(N,z):(T=xS(N),T.c(),T.m(m,p)):T&&(T.d(1),T=null),N[20].length>1?P?(P.p(N,z),z[0]&1048576&&k(P,1)):(P=OS(N),P.c(),k(P,1),P.m(m,b)):P&&(me(),M(P,1,1,()=>{P=null}),pe()),O===(O=D(N))&&E?E.p(N,z):(E.d(1),E=O(N),E&&(E.c(),E.m(m,null))),(!y||z[0]&4194304)&&$(e,"fullscreen",N[22])},i(N){y||(k(t.$$.fragment,N),k(d.$$.fragment,N),k(P),y=!0)},o(N){M(t.$$.fragment,N),M(d.$$.fragment,N),M(P),y=!1},d(N){N&&B(e),ie(t),n[40](null),ie(d),T&&T.d(),P&&P.d(),E.d(),v=!1,C()}}}function VA(n){n.focus()}function RX(n,e,t){let i,s,o,r;const l=qn("jsoneditor:JSONEditorModal");let{content:a}=e,{path:c}=e,{onPatch:f}=e,{readOnly:u}=e,{indentation:h}=e,{tabSize:d}=e,{mainMenuBar:g}=e,{navigationBar:m}=e,{statusBar:p}=e,{askToFormat:b}=e,{escapeControlCharacters:y}=e,{escapeUnicodeCharacters:v}=e,{flattenColumns:C}=e,{parser:w}=e,{validator:S}=e,{validationParser:x}=e,{pathParser:T}=e,{onRenderValue:P}=e,{onClassName:D}=e,{onRenderMenu:O}=e,{onRenderContextMenu:E}=e,{onSortModal:N}=e,{onTransformModal:z}=e;const{close:F}=Wn("simple-modal");let q,Q;const G={mode:Y(a),content:a,selection:null,relativePath:c};let R=[G],U;function Y(ae){return df(ae)&&Yt(ae.json)?Yn.table:Yn.tree}function le(){var Ie;const ae=((Ie=bt(R))==null?void 0:Ie.selection)||null;S0(ae)&&q.scrollTo(Xe(ae))}function Z(){if(l("handleApply"),!u)try{t(23,U=void 0);const ae=i.relativePath,Ie=i.content,Ne=[{op:"replace",path:Oe(ae),value:ry(Ie,w).json}];if(R.length>1){const Be=R[R.length-2].content,Re=ry(Be,w).json,de={json:Es(Re,Ne)},kt={...R[R.length-2]||G,content:de};t(20,R=[...R.slice(0,R.length-2),kt]),Cn().then(le)}else f(Ne),F()}catch(ae){t(23,U=String(ae))}}function he(){l("handleClose"),R.length>1?(t(20,R=vt(R)),Cn().then(le),t(23,U=void 0)):F()}function W(){Q?t(22,Q=!1):he()}function ve(ae){l("handleChange",ae);const Ie={...i,content:ae};t(20,R=[...vt(R),Ie])}function te(ae){l("handleChangeSelection",ae);const Ie={...i,selection:ae};t(20,R=[...vt(R),Ie])}function be(ae){l("handleChangeMode",ae);const Ie={...i,mode:ae};t(20,R=[...vt(R),Ie])}function tt(ae){t(23,U=ae.toString()),console.error(ae)}function re({content:ae,path:Ie}){l("handleJSONEditorModal",{content:ae,path:Ie});const Ne={mode:Y(ae),content:ae,selection:null,relativePath:Ie};t(20,R=[...R,Ne])}function Qe(ae){Q=ae,t(22,Q)}function H(ae){st[ae?"unshift":"push"](()=>{q=ae,t(21,q)})}return n.$$set=ae=>{"content"in ae&&t(35,a=ae.content),"path"in ae&&t(36,c=ae.path),"onPatch"in ae&&t(37,f=ae.onPatch),"readOnly"in ae&&t(0,u=ae.readOnly),"indentation"in ae&&t(1,h=ae.indentation),"tabSize"in ae&&t(2,d=ae.tabSize),"mainMenuBar"in ae&&t(3,g=ae.mainMenuBar),"navigationBar"in ae&&t(4,m=ae.navigationBar),"statusBar"in ae&&t(5,p=ae.statusBar),"askToFormat"in ae&&t(6,b=ae.askToFormat),"escapeControlCharacters"in ae&&t(7,y=ae.escapeControlCharacters),"escapeUnicodeCharacters"in ae&&t(8,v=ae.escapeUnicodeCharacters),"flattenColumns"in ae&&t(9,C=ae.flattenColumns),"parser"in ae&&t(10,w=ae.parser),"validator"in ae&&t(11,S=ae.validator),"validationParser"in ae&&t(12,x=ae.validationParser),"pathParser"in ae&&t(13,T=ae.pathParser),"onRenderValue"in ae&&t(14,P=ae.onRenderValue),"onClassName"in ae&&t(15,D=ae.onClassName),"onRenderMenu"in ae&&t(16,O=ae.onRenderMenu),"onRenderContextMenu"in ae&&t(17,E=ae.onRenderContextMenu),"onSortModal"in ae&&t(18,N=ae.onSortModal),"onTransformModal"in ae&&t(19,z=ae.onTransformModal)},n.$$.update=()=>{n.$$.dirty[0]&1048576&&t(24,i=bt(R)||G),n.$$.dirty[0]&1048576&&t(38,s=R.flatMap(ae=>ae.relativePath)),n.$$.dirty[1]&128&&t(26,o=At(s)?"(document root)":zi(s)),n.$$.dirty[0]&1024&&t(25,r=eu(w.parse))},[u,h,d,g,m,p,b,y,v,C,w,S,x,T,P,D,O,E,N,z,R,q,Q,U,i,r,o,Z,he,W,ve,te,be,tt,re,a,c,f,s,Qe,H]}class DX extends Te{constructor(e){super(),Pe(this,e,RX,EX,ut,{content:35,path:36,onPatch:37,readOnly:0,indentation:1,tabSize:2,mainMenuBar:3,navigationBar:4,statusBar:5,askToFormat:6,escapeControlCharacters:7,escapeUnicodeCharacters:8,flattenColumns:9,parser:10,validator:11,validationParser:12,pathParser:13,onRenderValue:14,onClassName:15,onRenderMenu:16,onRenderContextMenu:17,onSortModal:18,onTransformModal:19},null,[-1,-1])}}function LX(n,e,t){const i=Wn("simple-modal"),s=i.open,o=i.close;return[s,o]}class IX extends Te{constructor(e){super(),Pe(this,e,LX,null,ut,{open:0,close:1})}get open(){return this.$$.ctx[0]}get close(){return this.$$.ctx[1]}}function PS(n){let e,t,i={mode:n[1],content:n[0],selection:n[2],readOnly:n[3],indentation:n[4],tabSize:n[5],statusBar:n[8],askToFormat:n[9],mainMenuBar:n[6],navigationBar:n[7],escapeControlCharacters:n[10],escapeUnicodeCharacters:n[11],flattenColumns:n[12],parser:n[13],parseMemoizeOne:n[27],validator:n[14],validationParser:n[15],pathParser:n[16],insideModal:!1,onError:n[21],onChange:n[28],onChangeMode:n[32],onSelect:n[29],onRenderValue:n[17],onClassName:n[18],onFocus:n[30],onBlur:n[31],onRenderMenu:n[19],onRenderContextMenu:n[20],onSortModal:n[34],onTransformModal:n[33],onJSONEditorModal:n[35]};return e=new FA({props:i}),n[62](e),{c(){se(e.$$.fragment)},m(s,o){ne(e,s,o),t=!0},p(s,o){const r={};o[0]&2&&(r.mode=s[1]),o[0]&1&&(r.content=s[0]),o[0]&4&&(r.selection=s[2]),o[0]&8&&(r.readOnly=s[3]),o[0]&16&&(r.indentation=s[4]),o[0]&32&&(r.tabSize=s[5]),o[0]&256&&(r.statusBar=s[8]),o[0]&512&&(r.askToFormat=s[9]),o[0]&64&&(r.mainMenuBar=s[6]),o[0]&128&&(r.navigationBar=s[7]),o[0]&1024&&(r.escapeControlCharacters=s[10]),o[0]&2048&&(r.escapeUnicodeCharacters=s[11]),o[0]&4096&&(r.flattenColumns=s[12]),o[0]&8192&&(r.parser=s[13]),o[0]&134217728&&(r.parseMemoizeOne=s[27]),o[0]&16384&&(r.validator=s[14]),o[0]&32768&&(r.validationParser=s[15]),o[0]&65536&&(r.pathParser=s[16]),o[0]&2097152&&(r.onError=s[21]),o[0]&131072&&(r.onRenderValue=s[17]),o[0]&262144&&(r.onClassName=s[18]),o[0]&524288&&(r.onRenderMenu=s[19]),o[0]&1048576&&(r.onRenderContextMenu=s[20]),e.$set(r)},i(s){t||(k(e.$$.fragment,s),t=!0)},o(s){M(e.$$.fragment,s),t=!1},d(s){n[62](null),ie(e,s)}}}function NX(n){let e,t,i,s,o=n[22],r;function l(f){n[61](f)}let a={};n[25]!==void 0&&(a.open=n[25]),e=new IX({props:a}),st.push(()=>Qn(e,"open",l));let c=PS(n);return{c(){se(e.$$.fragment),i=X(),s=L("div"),c.c(),_(s,"class","jse-main svelte-ybuk0j"),$(s,"jse-focus",n[23])},m(f,u){ne(e,f,u),j(f,i,u),j(f,s,u),c.m(s,null),r=!0},p(f,u){const h={};!t&&u[0]&33554432&&(t=!0,h.open=f[25],Gn(()=>t=!1)),e.$set(h),u[0]&4194304&&ut(o,o=f[22])?(me(),M(c,1,1,ge),pe(),c=PS(f),c.c(),k(c,1),c.m(s,null)):c.p(f,u),(!r||u[0]&8388608)&&$(s,"jse-focus",f[23])},i(f){r||(k(e.$$.fragment,f),k(c),r=!0)},o(f){M(e.$$.fragment,f),M(c),r=!1},d(f){f&&(B(i),B(s)),ie(e,f),c.d(f)}}}function BX(n){let e,t;return e=new _3({props:{closeOnEsc:!1,$$slots:{default:[NX]},$$scope:{ctx:n}}}),{c(){se(e.$$.fragment)},m(i,s){ne(e,i,s),t=!0},p(i,s){const o={};s[0]&201326591|s[2]&8&&(o.$$scope={dirty:s,ctx:i}),e.$set(o)},i(i){t||(k(e.$$.fragment,i),t=!0)},o(i){M(e.$$.fragment,i),t=!1},d(i){ie(e,i)}}}function jX(n){var o;let e,t;const i=[{show:(o=n[26])==null?void 0:o.component},PO,{closeOnEsc:!1}];let s={$$slots:{default:[BX]},$$scope:{ctx:n}};for(let r=0;r<i.length;r+=1)s=nt(s,i[r]);return e=new _3({props:s}),e.$on("close",n[36]),{c(){se(e.$$.fragment)},m(r,l){ne(e,r,l),t=!0},p(r,l){var c;const a=l[0]&67108864?pn(i,[{show:(c=r[26])==null?void 0:c.component},i[1],i[2]]):{};l[0]&201326591|l[2]&8&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){t||(k(e.$$.fragment,r),t=!0)},o(r){M(e.$$.fragment,r),t=!1},d(r){ie(e,r)}}}function zX(n){let e,t;return e=new T4({props:{$$slots:{default:[jX]},$$scope:{ctx:n}}}),{c(){se(e.$$.fragment)},m(i,s){ne(e,i,s),t=!0},p(i,s){const o={};s[0]&268435455|s[2]&8&&(o.$$scope={dirty:s,ctx:i}),e.$set(o)},i(i){t||(k(e.$$.fragment,i),t=!0)},o(i){M(e.$$.fragment,i),t=!1},d(i){ie(e,i)}}}function FX(n,e,t){let i;const s=qn("jsoneditor:JSONEditor");let{content:o={text:""}}=e,{selection:r=null}=e,{readOnly:l=!1}=e,{indentation:a=2}=e,{tabSize:c=4}=e,{mode:f=Yn.tree}=e,{mainMenuBar:u=!0}=e,{navigationBar:h=!0}=e,{statusBar:d=!0}=e,{askToFormat:g=!0}=e,{escapeControlCharacters:m=!1}=e,{escapeUnicodeCharacters:p=!1}=e,{flattenColumns:b=!0}=e,{parser:y=JSON}=e,{validator:v=null}=e,{validationParser:C=JSON}=e,{pathParser:w={parse:oI,stringify:zi}}=e,{queryLanguages:S=[fI]}=e,{queryLanguageId:x=S[0].id}=e,{onChangeQueryLanguage:T=Ms}=e,{onChange:P=null}=e,{onSelect:D=null}=e,{onRenderValue:O=T9}=e,{onClassName:E=()=>{}}=e,{onRenderMenu:N=Ms}=e,{onRenderContextMenu:z=Ms}=e,{onChangeMode:F=Ms}=e,{onError:q=ee=>{console.error(ee),alert(ee.toString())}}=e,{onFocus:Q=Ms}=e,{onBlur:G=Ms}=e,R=Jc(),U=!1,Y,le,Z=null,he=y;function W(){return o}async function ve(ee){s("set");const Ae=$g(ee);if(Ae)throw new Error(Ae);t(22,R=Jc()),t(0,o=ee)}async function te(ee){s("update");const Ae=$g(ee);if(Ae)throw new Error(Ae);t(0,o=ee),await Cn()}async function be(ee){if(za(o))try{t(0,o={json:y.parse(o.text),text:void 0})}catch{throw new Error("Cannot apply patch: current document contains invalid JSON")}const Ae=Y.patch(ee);return await Cn(),Ae}async function tt(ee){t(2,r=ee),await Cn()}async function re(ee){Y.expand(ee),await Cn()}function Qe(ee){Y.transform(ee)}function H(){return Y.validate()}async function ae(){const ee=Y.acceptAutoRepair();return await Cn(),ee}async function Ie(ee){await Y.scrollTo(ee)}function Ne(ee){return Y.findElement(ee)}async function Be(){Y.focus(),await Cn()}async function Re(){await Y.refresh()}async function de(ee){this.$set(ee),await Cn()}async function at(){this.$destroy(),await Cn()}function kt(ee,Ae,Ee){t(0,o=ee),P&&P(ee,Ae,Ee)}function De(ee){t(2,r=ee),D&&D(mp(ee))}function ot(){t(23,U=!0),Q&&Q()}function mt(){t(23,U=!1),G&&G()}async function Ze(ee){f!==ee&&(t(1,f=ee),await Cn(),await Be(),F(ee))}function Ht(ee){s("handleChangeQueryLanguage",ee),t(37,x=ee),T(ee)}function qe({id:ee,json:Ae,rootPath:Ee,onTransform:Ge,onClose:rt}){l||le(lV,{id:ee,json:Ae,rootPath:Ee,indentation:a,escapeControlCharacters:m,escapeUnicodeCharacters:p,parser:y,parseMemoizeOne:i,validationParser:C,pathParser:w,queryLanguages:S,queryLanguageId:x,onChangeQueryLanguage:Ht,onRenderValue:O,onRenderMenu:N,onRenderContextMenu:z,onClassName:E,onTransform:Ge},OO,{onClose:rt})}function ft({id:ee,json:Ae,rootPath:Ee,onSort:Ge,onClose:rt}){l||le(uV,{id:ee,json:Ae,rootPath:Ee,onSort:Ge},xO,{onClose:rt})}function K({content:ee,path:Ae,onPatch:Ee,onClose:Ge}){s("onJSONEditorModal",{content:ee,path:Ae}),t(26,Z={component:y3(DX,{content:ee,path:Ae,onPatch:Ee,readOnly:l,indentation:a,tabSize:c,mainMenuBar:u,navigationBar:h,statusBar:d,askToFormat:g,escapeControlCharacters:m,escapeUnicodeCharacters:p,flattenColumns:b,parser:y,validator:void 0,validationParser:C,pathParser:w,onRenderValue:O,onClassName:E,onRenderMenu:N,onRenderContextMenu:z,onSortModal:ft,onTransformModal:qe}),callbacks:{onClose:Ge}})}function Se(){var ee,Ae;(Ae=(ee=Z==null?void 0:Z.callbacks)==null?void 0:ee.onClose)==null||Ae.call(ee),t(26,Z=null)}function Ue(ee){le=ee,t(25,le)}function Ce(ee){st[ee?"unshift":"push"](()=>{Y=ee,t(24,Y)})}return n.$$set=ee=>{"content"in ee&&t(0,o=ee.content),"selection"in ee&&t(2,r=ee.selection),"readOnly"in ee&&t(3,l=ee.readOnly),"indentation"in ee&&t(4,a=ee.indentation),"tabSize"in ee&&t(5,c=ee.tabSize),"mode"in ee&&t(1,f=ee.mode),"mainMenuBar"in ee&&t(6,u=ee.mainMenuBar),"navigationBar"in ee&&t(7,h=ee.navigationBar),"statusBar"in ee&&t(8,d=ee.statusBar),"askToFormat"in ee&&t(9,g=ee.askToFormat),"escapeControlCharacters"in ee&&t(10,m=ee.escapeControlCharacters),"escapeUnicodeCharacters"in ee&&t(11,p=ee.escapeUnicodeCharacters),"flattenColumns"in ee&&t(12,b=ee.flattenColumns),"parser"in ee&&t(13,y=ee.parser),"validator"in ee&&t(14,v=ee.validator),"validationParser"in ee&&t(15,C=ee.validationParser),"pathParser"in ee&&t(16,w=ee.pathParser),"queryLanguages"in ee&&t(38,S=ee.queryLanguages),"queryLanguageId"in ee&&t(37,x=ee.queryLanguageId),"onChangeQueryLanguage"in ee&&t(39,T=ee.onChangeQueryLanguage),"onChange"in ee&&t(40,P=ee.onChange),"onSelect"in ee&&t(41,D=ee.onSelect),"onRenderValue"in ee&&t(17,O=ee.onRenderValue),"onClassName"in ee&&t(18,E=ee.onClassName),"onRenderMenu"in ee&&t(19,N=ee.onRenderMenu),"onRenderContextMenu"in ee&&t(20,z=ee.onRenderContextMenu),"onChangeMode"in ee&&t(42,F=ee.onChangeMode),"onError"in ee&&t(21,q=ee.onError),"onFocus"in ee&&t(43,Q=ee.onFocus),"onBlur"in ee&&t(44,G=ee.onBlur)},n.$$.update=()=>{if(n.$$.dirty[0]&8193|n.$$.dirty[1]&536870912&&!zL(y,he)){if(s("parser changed, recreate editor"),df(o)){const ee=he.stringify(o.json);t(0,o={json:ee!==void 0?y.parse(ee):void 0})}t(60,he=y),t(22,R=Jc())}if(n.$$.dirty[0]&1){const ee=$g(o);ee&&console.error("Error: "+ee)}n.$$.dirty[0]&8192&&t(27,i=eu(y.parse)),n.$$.dirty[0]&2&&(s("mode changed to",f),f==="code"&&console.warn('Deprecation warning: "code" mode is renamed to "text". Please use mode="text" instead.'))},[o,f,r,l,a,c,u,h,d,g,m,p,b,y,v,C,w,O,E,N,z,q,R,U,Y,le,Z,i,kt,De,ot,mt,Ze,qe,ft,K,Se,x,S,T,P,D,F,Q,G,W,ve,te,be,tt,re,Qe,H,ae,Ie,Ne,Be,Re,de,at,he,Ue,Ce]}class VX extends Te{constructor(e){super(),Pe(this,e,FX,zX,ut,{content:0,selection:2,readOnly:3,indentation:4,tabSize:5,mode:1,mainMenuBar:6,navigationBar:7,statusBar:8,askToFormat:9,escapeControlCharacters:10,escapeUnicodeCharacters:11,flattenColumns:12,parser:13,validator:14,validationParser:15,pathParser:16,queryLanguages:38,queryLanguageId:37,onChangeQueryLanguage:39,onChange:40,onSelect:41,onRenderValue:17,onClassName:18,onRenderMenu:19,onRenderContextMenu:20,onChangeMode:42,onError:21,onFocus:43,onBlur:44,get:45,set:46,update:47,patch:48,select:49,expand:50,transform:51,validate:52,acceptAutoRepair:53,scrollTo:54,findElement:55,focus:56,refresh:57,updateProps:58,destroy:59},null,[-1,-1,-1])}get get(){return this.$$.ctx[45]}get set(){return this.$$.ctx[46]}get update(){return this.$$.ctx[47]}get patch(){return this.$$.ctx[48]}get select(){return this.$$.ctx[49]}get expand(){return this.$$.ctx[50]}get transform(){return this.$$.ctx[51]}get validate(){return this.$$.ctx[52]}get acceptAutoRepair(){return this.$$.ctx[53]}get scrollTo(){return this.$$.ctx[54]}get findElement(){return this.$$.ctx[55]}get focus(){return this.$$.ctx[56]}get refresh(){return this.$$.ctx[57]}get updateProps(){return this.$$.ctx[58]}get destroy(){return this.$$.ctx[59]}}const HA=!0;function $u(n){if(!(n!=null&&n.endsWith("px")))return;const e=parseFloat(n.slice(0,n.length-2));return isNaN(e)?void 0:e}const WA=n=>n?"height":"width",x1=n=>window.getComputedStyle(n),O1=n=>n.getBoundingClientRect(),HX=(n,e=!0)=>{if(n.getPropertyValue("box-sizing")==="border-box")return;const t=$u(n.getPropertyValue("border-left-width"));if(t===void 0){console.error("Splitpanes Error: Fail to parse container `border-left-width`.");return}const i=$u(n.getPropertyValue("border-top-width"));if(i===void 0){console.error("Splitpanes Error: Fail to parse container `border-top-width`.");return}const s={left:t,top:i};if(e){const o=$u(n.getPropertyValue("border-right-width"));if(o===void 0){console.error("Splitpanes Error: Fail to parse container `border-right-width`.");return}const r=$u(n.getPropertyValue("border-bottom-width"));if(r===void 0){console.error("Splitpanes Error: Fail to parse container `border-bottom-width`.");return}const l=s;l.right=o,l.bottom=r}return s};function WX(n,e){e||(e=x1(n));const t=O1(n),i=HX(e,!0)||{left:0,top:0,right:0,bottom:0};return{width:t.width-i.left-i.right,height:t.height-i.top-i.bottom,left:t.left+i.left,top:t.top+i.top}}const TS=(n,e)=>({left:n.left-e.left,top:n.top-e.top});function ES(n){const e=n,t=n,{clientX:i,clientY:s}="ontouchstart"in window&&t.touches?t.touches[0]:e;return{left:i,top:s}}function RS(n,e,t,i){let s=0;for(let o=e;o<t;o++)s+=i(n[o],o);return s}function eh(n,e,t,i){for(let s=e;s<t;s++)i(n[s],s)}function qX(n){let e,t,i,s,o=!HA;const r=n[16].default,l=Dt(r,n,n[18],null);return{c(){e=L("div"),t=X(),l&&l.c(),_(e,"id",n[0]),_(e,"class",i=`splitpanes ${n[3]||""} ${n[4]||""}`),_(e,"style",n[2]),$(e,"splitpanes--horizontal",n[1]),$(e,"splitpanes--vertical",!n[1]),$(e,"splitpanes--dragging",n[7]||n[8]),$(e,"splitpanes--freeze",!n[6])},m(a,c){j(a,e,c),A(e,t),l&&l.m(e,null),n[17](e),s=!0},p(a,c){l&&l.p&&(!s||c[0]&262144)&&It(l,r,a,a[18],s?Lt(r,a[18],c,null):Nt(a[18]),null),(!s||c[0]&1)&&_(e,"id",a[0]),(!s||c[0]&24&&i!==(i=`splitpanes ${a[3]||""} ${a[4]||""}`))&&_(e,"class",i),(!s||c[0]&4)&&_(e,"style",a[2]),(!s||c[0]&26)&&$(e,"splitpanes--horizontal",a[1]),(!s||c[0]&26)&&$(e,"splitpanes--vertical",!a[1]),(!s||c[0]&408)&&$(e,"splitpanes--dragging",a[7]||a[8]),(!s||c[0]&88)&&$(e,"splitpanes--freeze",!a[6])},i(a){s||(k(o),k(l,a),s=!0)},o(a){M(o),M(l,a),s=!1},d(a){a&&B(e),l&&l.d(a),n[17](null)}}}const qA={},DS=(()=>{let n=!1;try{const e=Object.defineProperty({},"passive",{get(){return n={passive:!0},!0}});window.addEventListener("testpassive",e,e),window.remove("testpassive",e,e)}catch{}return n})();function UX(n,e,t){let i,s,o,{$$slots:r={},$$scope:l}=e,{id:a=void 0}=e,{horizontal:c=!1}=e,{pushOtherPanes:f=!0}=e,{dblClickSplitter:u=!0}=e,{rtl:h="auto"}=e,{firstSplitter:d=!1}=e,{style:g=null}=e,{theme:m="default-theme"}=e,{class:p=""}=e;const b=Jd();let y,v=!1,C=!1,w=!1,S=!1,x=!1,T=-1,P=-1,D,O=new Array;const E=bh(c);gl(n,E,K=>t(31,o=K));const N=bh(d);gl(n,N,K=>t(30,s=K));const z=bh(void 0);gl(n,z,K=>t(29,i=K));let F,q;K1(qA,{showFirstSplitter:N,veryFirstPaneKey:z,isHorizontal:E,ssrRegisterPaneSize:void 0,onPaneInit:K=>(i===void 0&&Ql(z,i=K,i),{undefinedPaneInitSize:0}),clientOnly:{onPaneAdd:G,onPaneRemove:R}});function G(K){let Se=-1;K.element.parentNode&&Array.from(K.element.parentNode.children).some(Ce=>(Ce.className.includes("splitpanes__pane")&&Se++,Ce===K.element)),Se===0&&Ql(z,i=K.key,i),O.splice(Se,0,K);for(let Ce=0;Ce<O.length;Ce++)O[Ce].index=Ce;v&&ot().then(()=>{K.isReady=!0,b("pane-add",{index:Se,panes:ae()})});const Ue=(Ce,ee=!0)=>Ae=>{(ee||K.index>0)&&Ce(Ae,K)};return{onSplitterDown:Ue(be,!1),onSplitterClick:Ue(Qe,!1),onSplitterDblClick:Ue(H),onPaneClick:Ue(U),reportGivenSizeChange:Ue(Y)}}async function R(K){const Se=O.findIndex(Ue=>Ue.key===K);if(Se>=0){const Ue=O.splice(Se,1)[0];for(let Ce=0;Ce<O.length;Ce++)O[Ce].index=Ce;Se===0&&Ql(z,i=O.length>0?O[0].key:void 0,i),v&&(await ot(),b("pane-remove",{removed:Ue,panes:ae()}))}}function U(K,Se){b("pane-click",Se)}function Y(K,Se){Se.setSz(K),ot()}_i(()=>{qe(),mt();for(let K=0;K<O.length;K++)O[K].isReady=!0;v=!0,b("ready"),setTimeout(()=>{t(6,w=!0)},0)}),Ti(()=>{v&&he(),v=!1}),ix(()=>{qe()});function le(K){if(h==="auto")try{return(K??x1(y)).direction==="rtl"}catch{}return h===!0}function Z(){document.body.style.cursor=E?"col-resize":"row-resize",document.addEventListener("mousemove",tt,DS),document.addEventListener("mouseup",re),"ontouchstart"in window&&(document.addEventListener("touchmove",tt,DS),document.addEventListener("touchend",re))}function he(){document.body.style.cursor="",document.removeEventListener("mousemove",tt),document.removeEventListener("mouseup",re),"ontouchstart"in window&&(document.removeEventListener("touchmove",tt),document.removeEventListener("touchend",re))}const W=K=>K.nodeType===Node.ELEMENT_NODE&&K.classList.contains("splitpanes__splitter");function ve(K,Se,Ue){let Ce=K[c?"top":"left"];return Ue&&!c&&(Ce=Se-Ce),Ce}const te=()=>WA(c);function be(K,Se){t(7,S=!0),T=Se.index,Se.setSplitterActive(!0);let Ce=Se.element;for(;Ce!=null&&(Ce=Ce.previousSibling,!(Ce&&W(Ce))););if(Ce==null){console.error("Splitpane Error: Active splitter wasn't found!");return}F=Ce;const ee=ES(K),Ae=O1(F);q=ve(TS(ee,Ae),Ae[te()],le()),Z()}function tt(K){if(S){t(8,x=!0);const Se=ES(K),Ue=x1(y),Ce=WX(y,Ue),ee=Ce[te()],Ae=le(Ue),Ee=TS(Se,Ce),Ge=ve(Ee,ee,Ae);Ne(Ge,ee),b("resize",ae())}}function re(){x&&b("resized",ae()),t(7,S=!1),O[T].setSplitterActive(!1),setTimeout(()=>{t(8,x=!1),he()},100)}function Qe(K,Se){if("ontouchstart"in window){const Ue=Se.index;u&&(P===Ue?(D&&clearTimeout(D),D=null,H(K,Se),P=-1):(P=Ue,D=setTimeout(()=>{P=-1},500)))}x||b("splitter-click",Se)}function H(K,Se){if(u){const Ue=Se.index;let Ce=0;for(let Ee=0;Ee<O.length;Ee++){const Ge=O[Ee];Ee!==Ue&&(Ce+=Ge.min())}const ee=Math.min(Math.max(0,100-Ce),Se.max()),Ae=Ce+ee;if(Ae>=100)for(let Ee=0;Ee<O.length;Ee++){const Ge=O[Ee];Ge!==Se?Ge.setSz(Ge.min()):Ge.setSz(100-Ce)}else{let Ee=100-Ae;Se.setSz(ee);const Ge=rt=>{const ue=rt.min(),Bt=rt.max(),Et=Math.min(Math.max(0,Ee),Bt-ue);rt.setSz(ue+Et),Ee-=Et};for(let rt=Ue-1;rt>=0;rt--)Ge(O[rt]);for(let rt=Ue+1;rt<O.length;rt++)Ge(O[rt]);Ee!=0&&console.warn("Splitpanes: there is a left spare size after computation of splitter double click, which means there are issues on the size constains of the panes.")}b("pane-maximize",Se),b("resized",ae())}t(7,S=!1)}const ae=()=>O.map(K=>({min:K.min(),max:K.max(),size:K.sz(),snap:K.snap()}));function Ie(K,Se){const Ue=Bt=>O1(Bt)[te()],Ce=Ue(F);let ee=0,Ae=F.previousSibling;for(;Ae!=null;)W(Ae)&&(ee+=Ue(Ae)),Ae=Ae.previousSibling;let Ee=0,Ge=F.nextSibling;for(;Ge!=null;)W(Ge)&&(Ee+=Ue(Ge)),Ge=Ge.nextSibling;const rt=ee+q,ue=ee+Ce+Ee;return(K-rt)/(Se-ue)*100}function Ne(K,Se){let Ue=T-1,Ce=O[Ue],ee=T,Ae=O[ee],Ee={prevPanesSize:de(Ue),nextPanesSize:at(ee),prevReachedMinPanes:0,nextReachedMinPanes:0};const Ge=0+(f?0:Ee.prevPanesSize),rt=100-(f?0:Ee.nextPanesSize),ue=Math.max(Math.min(Ie(K,Se),rt),Ge),Bt=Ee.prevPanesSize+Ce.min()+Ce.snap(),Et=100-(Ee.nextPanesSize+Ae.min()+Ae.snap());let it=ue,Gt=!1;ue<=Bt?ue>Ee.prevPanesSize+Ce.min()&&(it=Math.max(Ce.min()+Ee.prevPanesSize,100-(Ae.max()+Ee.nextPanesSize)),Gt=!0):ue>=Et&&ue<100-Ee.nextPanesSize-Ae.min()&&(it=Math.min(100-(Ae.min()+Ee.nextPanesSize),Ce.max()+Ee.prevPanesSize),Gt=!0);const Qt=Ce.max()<100&&it>=Ce.max()+Ee.prevPanesSize,Mi=Ae.max()<100&&it<=100-(Ae.max()+Ee.nextPanesSize);if(Qt||Mi)Qt?(Ce.setSz(Ce.max()),Ae.setSz(Math.max(100-Ce.max()-Ee.prevPanesSize-Ee.nextPanesSize,0))):(Ce.setSz(Math.max(100-Ae.max()-Ee.prevPanesSize-Ee.nextPanesSize,0)),Ae.setSz(Ae.max()));else{if(f&&!Gt){const vs=Be(Ee,it);if(!vs)return;({sums:Ee,paneBeforeIndex:Ue,paneAfterIndex:ee}=vs),Ce=O[Ue],Ae=O[ee]}Ue!=null&&Ce.setSz(Math.min(Math.max(it-Ee.prevPanesSize-Ee.prevReachedMinPanes,Ce.min()),Ce.max())),ee!=null&&Ae.setSz(Math.min(Math.max(100-it-Ee.nextPanesSize-Ee.nextReachedMinPanes,Ae.min()),Ae.max()))}}function Be(K,Se){var Ae,Ee;const Ue=T-1;let Ce=Ue,ee=Ue+1;if(Se<K.prevPanesSize+O[Ce].min()&&(Ce=((Ae=kt(Ue))==null?void 0:Ae.index)||0,K.prevReachedMinPanes=0,Ce<Ue&&eh(O,Ce+1,Ue+1,Ge=>{Ge.setSz(Ge.min()),K.prevReachedMinPanes+=Ge.min()}),K.prevPanesSize=de(Ce),Ce==null))return K.prevReachedMinPanes=0,O[0].setSz(O[0].min()),eh(O,1,Ue+1,Ge=>{Ge.setSz(Ge.min()),K.prevReachedMinPanes+=Ge.min()}),O[ee].setSz(100-K.prevReachedMinPanes-O[0].min()-K.prevPanesSize-K.nextPanesSize),null;if(Se>100-K.nextPanesSize-O[ee].min()){ee=((Ee=De(Ue))==null?void 0:Ee.index)||0,K.nextReachedMinPanes=0,ee>Ue+1&&eh(O,Ue+1,ee,rt=>{rt.setSz(rt.min()),K.nextReachedMinPanes+=rt.min()}),K.nextPanesSize=at(ee);const Ge=O.length;if(ee==null)return K.nextReachedMinPanes=0,O[Ge-1].setSz(O[Ge-1].min()),eh(O,Ue+1,Ge-1,rt=>{rt.setSz(rt.min()),K.nextReachedMinPanes+=rt.min()}),O[Ce].setSz(100-K.prevPanesSize-K.nextReachedMinPanes-O[Ge-1].min()-K.nextPanesSize),null}return{sums:K,paneBeforeIndex:Ce,paneAfterIndex:ee}}const Re=K=>K.sz(),de=K=>RS(O,0,K,Re),at=K=>RS(O,K+1,O.length,Re),kt=K=>[...O].reverse().find(Se=>Se.index<K&&Se.sz()>Se.min()),De=K=>O.find(Se=>Se.index>K+1&&Se.sz()>Se.min());async function ot(){C=!0,await Cn(),C&&(mt(),C=!1)}function mt(){Ze(),v&&b("resized",ae())}function Ze(){if(O.length===0)return;const K=O.length;let Se=100,Ue=0,Ce=0,ee=0;const Ae=[],Ee=[];for(let Et=0;Et<K;Et++){const it=O[Et],Gt=it.sz();it.givenSize==null?it.isReady?(ee+=Gt,Gt>=it.max()&&Ae.push(it),Gt<=it.min()&&Ee.push(it)):Ce+=1:(Se-=Gt,Ue++,Ae.push(it),Ee.push(it))}const Ge=K-Ue,rt=Ge-Ce;let ue,Bt;if(rt>0?(ue=ee/rt,ue>.1&&Se>.1?(ee+=Ce*ue,Bt=Se/ee):(ue=0,Bt=1)):(ue=Se/Ge,Bt=1),Se+ee>.1){Se=100;for(let Et=0;Et<K;Et++){const it=O[Et];if(it.givenSize==null){const Gt=it.isReady?it.sz():ue,Qt=Math.max(Math.min(Gt*Bt,it.max()),it.min());it.setSz(Qt)}Se-=it.sz()}Math.abs(Se)>.1&&(Se=Ht(Se,Ae,Ee))}isFinite(Se)?Math.abs(Se)>.1&&console.warn("Splitpanes: Could not resize panes correctly due to their constraints."):console.warn("Splitpanes: Internal error, sizes might be NaN as a result.")}function Ht(K,Se,Ue){const ee=O.length-(K>0?Se.length:Ue.length);if(ee<=0)return K;const Ae=K/ee;if(O.length===1)O[0].setSz(100),K=0;else for(let Ee=0;Ee<O.length;Ee++){const Ge=O[Ee],rt=Ge.sz();if(K>0&&!Se.includes(Ge)){const ue=Math.max(Math.min(rt+Ae,Ge.max()),Ge.min()),Bt=ue-rt;K-=Bt,Ge.setSz(ue)}else if(!Ue.includes(Ge)){const ue=Math.max(Math.min(rt+Ae,Ge.max()),Ge.min()),Bt=ue-rt;K-=Bt,Ge.setSz(ue)}}return K}function qe(){var Ce;if(!y)return;const{children:K}=y;let Se=0,Ue=!1;for(let ee=0;ee<K.length;ee++){const Ae=K.item(ee),Ee=Ae.classList.contains("splitpanes__pane"),Ge=Ae.classList.contains("splitpanes__splitter");if(!Ee&&!Ge){(Ce=Ae.parentNode)==null||Ce.removeChild(Ae),console.warn("Splitpanes: Only <Pane> elements are allowed at the root of <Splitpanes>. One of your DOM nodes was removed.");return}else Ee&&(!Ue&&O[Se].element!==Ae&&(Ue=!0),Se++)}if(Ue){const ee=[];for(let Ae=0;Ae<K.length;Ae++){const Ee=K.item(Ae);if(Ee==null?void 0:Ee.classList.contains("splitpanes__pane")){const rt=O.find(ue=>ue.element===Ee);rt!=null?(rt.index=ee.length,ee.push(rt)):console.warn("Splitpanes: Internal error - found a <Pane> elements which isn't tracked.")}}O=ee,Ql(z,i=O.length>0?O[0].key:void 0,i)}}function ft(K){st[K?"unshift":"push"](()=>{y=K,t(5,y)})}return n.$$set=K=>{"id"in K&&t(0,a=K.id),"horizontal"in K&&t(1,c=K.horizontal),"pushOtherPanes"in K&&t(12,f=K.pushOtherPanes),"dblClickSplitter"in K&&t(13,u=K.dblClickSplitter),"rtl"in K&&t(14,h=K.rtl),"firstSplitter"in K&&t(15,d=K.firstSplitter),"style"in K&&t(2,g=K.style),"theme"in K&&t(3,m=K.theme),"class"in K&&t(4,p=K.class),"$$scope"in K&&t(18,l=K.$$scope)},n.$$.update=()=>{n.$$.dirty[0]&2&&Ql(E,o=c,o),n.$$.dirty[0]&32768&&Ql(N,s=d,s)},[a,c,g,m,p,y,w,S,x,E,N,z,f,u,h,d,r,ft,l]}class JX extends Te{constructor(e){super(),Pe(this,e,UX,qX,Ot,{id:0,horizontal:1,pushOtherPanes:12,dblClickSplitter:13,rtl:14,firstSplitter:15,style:2,theme:3,class:4},null,[-1,-1,-1])}}const KX=(n,e)=>t=>{const i=n();i!==null&&i[e](t)},YX=n=>KX.bind(null,n);function XX(n){let e,t,i,s,o,r,l=(n[4]!==n[9]||n[5])&&LS(n);const a=n[20].default,c=Dt(a,n,n[19],null);return{c(){l&&l.c(),e=X(),t=L("div"),c&&c.c(),_(t,"class",i=`splitpanes__pane ${n[0]||""}`),_(t,"style",n[3])},m(f,u){l&&l.m(f,u),j(f,e,u),j(f,t,u),c&&c.m(t,null),n[21](t),s=!0,o||(r=fe(t,"click",n[11]("onPaneClick")),o=!0)},p(f,u){f[4]!==f[9]||f[5]?l?l.p(f,u):(l=LS(f),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null),c&&c.p&&(!s||u&524288)&&It(c,a,f,f[19],s?Lt(a,f[19],u,null):Nt(f[19]),null),(!s||u&1&&i!==(i=`splitpanes__pane ${f[0]||""}`))&&_(t,"class",i),(!s||u&8)&&_(t,"style",f[3])},i(f){s||(k(c,f),s=!0)},o(f){M(c,f),s=!1},d(f){f&&(B(e),B(t)),l&&l.d(f),c&&c.d(f),n[21](null),o=!1,r()}}}function LS(n){let e,t,i,s;return{c(){e=L("div"),_(e,"class",t="splitpanes__splitter "+(n[2]?"splitpanes__splitter__active":""))},m(o,r){j(o,e,r),i||(s=[fe(e,"mousedown",n[11]("onSplitterDown")),fe(e,"touchstart",n[11]("onSplitterDown")),fe(e,"click",n[11]("onSplitterClick")),fe(e,"dblclick",n[11]("onSplitterDblClick"))],i=!0)},p(o,r){r&4&&t!==(t="splitpanes__splitter "+(o[2]?"splitpanes__splitter__active":""))&&_(e,"class",t)},d(o){o&&B(e),i=!1,Tt(s)}}}function GX(n){let e,t,i=!n[10]&&XX(n);return{c(){i&&i.c(),e=gt()},m(s,o){i&&i.m(s,o),j(s,e,o),t=!0},p(s,[o]){s[10]||i.p(s,o)},i(s){t||(k(i),t=!0)},o(s){M(i),t=!1},d(s){s&&B(e),i&&i.d(s)}}}function QX(n,e,t){let i,s,o,r,l,{$$slots:a={},$$scope:c}=e;const{ssrRegisterPaneSize:f,onPaneInit:u,clientOnly:h,isHorizontal:d,showFirstSplitter:g,veryFirstPaneKey:m}=Wn(qA);gl(n,d,F=>t(18,o=F)),gl(n,g,F=>t(5,l=F)),gl(n,m,F=>t(4,r=F));let{size:p=null}=e,{minSize:b=0}=e,{maxSize:y=100}=e,{snapSize:v=0}=e,{class:C=""}=e;const w={},S=!HA,{undefinedPaneInitSize:x}=u(w);let T,P=p??x,D=!1,O;const E=YX(()=>O),N=F=>{F!=P&&E("reportGivenSizeChange")(F)};_i(()=>{const F={index:0,key:w,element:T,givenSize:p,sz:()=>P,setSz:q=>{t(16,P=q),p!=null&&p!=P&&t(12,p=P)},min:()=>b,max:()=>y,snap:()=>v,setSplitterActive:q=>{t(2,D=q)},isReady:!1};O=h==null?void 0:h.onPaneAdd(F)}),Ti(()=>{h==null||h.onPaneRemove(w)});function z(F){st[F?"unshift":"push"](()=>{T=F,t(1,T)})}return n.$$set=F=>{"size"in F&&t(12,p=F.size),"minSize"in F&&t(13,b=F.minSize),"maxSize"in F&&t(14,y=F.maxSize),"snapSize"in F&&t(15,v=F.snapSize),"class"in F&&t(0,C=F.class),"$$scope"in F&&t(19,c=F.$$scope)},n.$$.update=()=>{n.$$.dirty&4096&&p!=null&&N(p),n.$$.dirty&262144&&t(17,i=WA(o)),n.$$.dirty&196608&&t(3,s=`${i}: ${P}%;`)},[C,T,D,s,r,l,d,g,m,w,S,E,p,b,y,v,P,i,o,c,a,z]}class IS extends Te{constructor(e){super(),Pe(this,e,QX,GX,Ot,{size:12,minSize:13,maxSize:14,snapSize:15,class:0})}}/*!
 * @kurkle/color v0.3.2
 * https://github.com/kurkle/color#readme
 * (c) 2023 Jukka Kurkela
 * Released under the MIT License
 */function au(n){return n+.5|0}const br=(n,e,t)=>Math.max(Math.min(n,t),e);function zc(n){return br(au(n*2.55),0,255)}function Mr(n){return br(au(n*255),0,255)}function Oo(n){return br(au(n/2.55)/100,0,1)}function NS(n){return br(au(n*100),0,100)}const ns={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},P1=[..."0123456789ABCDEF"],ZX=n=>P1[n&15],$X=n=>P1[(n&240)>>4]+P1[n&15],th=n=>(n&240)>>4===(n&15),eG=n=>th(n.r)&&th(n.g)&&th(n.b)&&th(n.a);function tG(n){var e=n.length,t;return n[0]==="#"&&(e===4||e===5?t={r:255&ns[n[1]]*17,g:255&ns[n[2]]*17,b:255&ns[n[3]]*17,a:e===5?ns[n[4]]*17:255}:(e===7||e===9)&&(t={r:ns[n[1]]<<4|ns[n[2]],g:ns[n[3]]<<4|ns[n[4]],b:ns[n[5]]<<4|ns[n[6]],a:e===9?ns[n[7]]<<4|ns[n[8]]:255})),t}const nG=(n,e)=>n<255?e(n):"";function iG(n){var e=eG(n)?ZX:$X;return n?"#"+e(n.r)+e(n.g)+e(n.b)+nG(n.a,e):void 0}const sG=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function UA(n,e,t){const i=e*Math.min(t,1-t),s=(o,r=(o+n/30)%12)=>t-i*Math.max(Math.min(r-3,9-r,1),-1);return[s(0),s(8),s(4)]}function oG(n,e,t){const i=(s,o=(s+n/60)%6)=>t-t*e*Math.max(Math.min(o,4-o,1),0);return[i(5),i(3),i(1)]}function rG(n,e,t){const i=UA(n,1,.5);let s;for(e+t>1&&(s=1/(e+t),e*=s,t*=s),s=0;s<3;s++)i[s]*=1-e-t,i[s]+=e;return i}function lG(n,e,t,i,s){return n===s?(e-t)/i+(e<t?6:0):e===s?(t-n)/i+2:(n-e)/i+4}function Sb(n){const t=n.r/255,i=n.g/255,s=n.b/255,o=Math.max(t,i,s),r=Math.min(t,i,s),l=(o+r)/2;let a,c,f;return o!==r&&(f=o-r,c=l>.5?f/(2-o-r):f/(o+r),a=lG(t,i,s,f,o),a=a*60+.5),[a|0,c||0,l]}function Cb(n,e,t,i){return(Array.isArray(e)?n(e[0],e[1],e[2]):n(e,t,i)).map(Mr)}function Mb(n,e,t){return Cb(UA,n,e,t)}function aG(n,e,t){return Cb(rG,n,e,t)}function cG(n,e,t){return Cb(oG,n,e,t)}function JA(n){return(n%360+360)%360}function fG(n){const e=sG.exec(n);let t=255,i;if(!e)return;e[5]!==i&&(t=e[6]?zc(+e[5]):Mr(+e[5]));const s=JA(+e[2]),o=+e[3]/100,r=+e[4]/100;return e[1]==="hwb"?i=aG(s,o,r):e[1]==="hsv"?i=cG(s,o,r):i=Mb(s,o,r),{r:i[0],g:i[1],b:i[2],a:t}}function uG(n,e){var t=Sb(n);t[0]=JA(t[0]+e),t=Mb(t),n.r=t[0],n.g=t[1],n.b=t[2]}function hG(n){if(!n)return;const e=Sb(n),t=e[0],i=NS(e[1]),s=NS(e[2]);return n.a<255?`hsla(${t}, ${i}%, ${s}%, ${Oo(n.a)})`:`hsl(${t}, ${i}%, ${s}%)`}const BS={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},jS={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function dG(){const n={},e=Object.keys(jS),t=Object.keys(BS);let i,s,o,r,l;for(i=0;i<e.length;i++){for(r=l=e[i],s=0;s<t.length;s++)o=t[s],l=l.replace(o,BS[o]);o=parseInt(jS[r],16),n[l]=[o>>16&255,o>>8&255,o&255]}return n}let nh;function gG(n){nh||(nh=dG(),nh.transparent=[0,0,0,0]);const e=nh[n.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const mG=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function pG(n){const e=mG.exec(n);let t=255,i,s,o;if(e){if(e[7]!==i){const r=+e[7];t=e[8]?zc(r):br(r*255,0,255)}return i=+e[1],s=+e[3],o=+e[5],i=255&(e[2]?zc(i):br(i,0,255)),s=255&(e[4]?zc(s):br(s,0,255)),o=255&(e[6]?zc(o):br(o,0,255)),{r:i,g:s,b:o,a:t}}}function bG(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${Oo(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}const jm=n=>n<=.0031308?n*12.92:Math.pow(n,1/2.4)*1.055-.055,sa=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function yG(n,e,t){const i=sa(Oo(n.r)),s=sa(Oo(n.g)),o=sa(Oo(n.b));return{r:Mr(jm(i+t*(sa(Oo(e.r))-i))),g:Mr(jm(s+t*(sa(Oo(e.g))-s))),b:Mr(jm(o+t*(sa(Oo(e.b))-o))),a:n.a+t*(e.a-n.a)}}function ih(n,e,t){if(n){let i=Sb(n);i[e]=Math.max(0,Math.min(i[e]+i[e]*t,e===0?360:1)),i=Mb(i),n.r=i[0],n.g=i[1],n.b=i[2]}}function KA(n,e){return n&&Object.assign(e||{},n)}function zS(n){var e={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(e={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(e.a=Mr(n[3]))):(e=KA(n,{r:0,g:0,b:0,a:1}),e.a=Mr(e.a)),e}function _G(n){return n.charAt(0)==="r"?pG(n):fG(n)}class If{constructor(e){if(e instanceof If)return e;const t=typeof e;let i;t==="object"?i=zS(e):t==="string"&&(i=tG(e)||gG(e)||_G(e)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var e=KA(this._rgb);return e&&(e.a=Oo(e.a)),e}set rgb(e){this._rgb=zS(e)}rgbString(){return this._valid?bG(this._rgb):void 0}hexString(){return this._valid?iG(this._rgb):void 0}hslString(){return this._valid?hG(this._rgb):void 0}mix(e,t){if(e){const i=this.rgb,s=e.rgb;let o;const r=t===o?.5:t,l=2*r-1,a=i.a-s.a,c=((l*a===-1?l:(l+a)/(1+l*a))+1)/2;o=1-c,i.r=255&c*i.r+o*s.r+.5,i.g=255&c*i.g+o*s.g+.5,i.b=255&c*i.b+o*s.b+.5,i.a=r*i.a+(1-r)*s.a,this.rgb=i}return this}interpolate(e,t){return e&&(this._rgb=yG(this._rgb,e._rgb,t)),this}clone(){return new If(this.rgb)}alpha(e){return this._rgb.a=Mr(e),this}clearer(e){const t=this._rgb;return t.a*=1-e,this}greyscale(){const e=this._rgb,t=au(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=t,this}opaquer(e){const t=this._rgb;return t.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return ih(this._rgb,2,e),this}darken(e){return ih(this._rgb,2,-e),this}saturate(e){return ih(this._rgb,1,e),this}desaturate(e){return ih(this._rgb,1,-e),this}rotate(e){return uG(this._rgb,e),this}}/*!
 * Chart.js v4.4.4
 * https://www.chartjs.org
 * (c) 2024 Chart.js Contributors
 * Released under the MIT License
 */function Co(){}const wG=(()=>{let n=0;return()=>n++})();function Vt(n){return n===null||typeof n>"u"}function wn(n){if(Array.isArray&&Array.isArray(n))return!0;const e=Object.prototype.toString.call(n);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function Rt(n){return n!==null&&Object.prototype.toString.call(n)==="[object Object]"}function On(n){return(typeof n=="number"||n instanceof Number)&&isFinite(+n)}function Ki(n,e){return On(n)?n:e}function pt(n,e){return typeof n>"u"?e:n}const vG=(n,e)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100:+n/e,YA=(n,e)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100*e:+n;function an(n,e,t){if(n&&typeof n.call=="function")return n.apply(t,e)}function $t(n,e,t,i){let s,o,r;if(wn(n))for(o=n.length,s=0;s<o;s++)e.call(t,n[s],s);else if(Rt(n))for(r=Object.keys(n),o=r.length,s=0;s<o;s++)e.call(t,n[r[s]],r[s])}function jd(n,e){let t,i,s,o;if(!n||!e||n.length!==e.length)return!1;for(t=0,i=n.length;t<i;++t)if(s=n[t],o=e[t],s.datasetIndex!==o.datasetIndex||s.index!==o.index)return!1;return!0}function zd(n){if(wn(n))return n.map(zd);if(Rt(n)){const e=Object.create(null),t=Object.keys(n),i=t.length;let s=0;for(;s<i;++s)e[t[s]]=zd(n[t[s]]);return e}return n}function XA(n){return["__proto__","prototype","constructor"].indexOf(n)===-1}function kG(n,e,t,i){if(!XA(n))return;const s=e[n],o=t[n];Rt(s)&&Rt(o)?Nf(s,o,i):e[n]=zd(o)}function Nf(n,e,t){const i=wn(e)?e:[e],s=i.length;if(!Rt(n))return n;t=t||{};const o=t.merger||kG;let r;for(let l=0;l<s;++l){if(r=i[l],!Rt(r))continue;const a=Object.keys(r);for(let c=0,f=a.length;c<f;++c)o(a[c],n,r,t)}return n}function tf(n,e){return Nf(n,e,{merger:SG})}function SG(n,e,t){if(!XA(n))return;const i=e[n],s=t[n];Rt(i)&&Rt(s)?tf(i,s):Object.prototype.hasOwnProperty.call(e,n)||(e[n]=zd(s))}const FS={"":n=>n,x:n=>n.x,y:n=>n.y};function CG(n){const e=n.split("."),t=[];let i="";for(const s of e)i+=s,i.endsWith("\\")?i=i.slice(0,-1)+".":(t.push(i),i="");return t}function MG(n){const e=CG(n);return t=>{for(const i of e){if(i==="")break;t=t&&t[i]}return t}}function jr(n,e){return(FS[e]||(FS[e]=MG(e)))(n)}function Ab(n){return n.charAt(0).toUpperCase()+n.slice(1)}const Bf=n=>typeof n<"u",zr=n=>typeof n=="function",VS=(n,e)=>{if(n.size!==e.size)return!1;for(const t of n)if(!e.has(t))return!1;return!0};function AG(n){return n.type==="mouseup"||n.type==="click"||n.type==="contextmenu"}const mn=Math.PI,gn=2*mn,xG=gn+mn,Fd=Number.POSITIVE_INFINITY,OG=mn/180,In=mn/2,el=mn/4,HS=mn*2/3,yr=Math.log10,ho=Math.sign;function nf(n,e,t){return Math.abs(n-e)<t}function WS(n){const e=Math.round(n);n=nf(n,e,n/1e3)?e:n;const t=Math.pow(10,Math.floor(yr(n))),i=n/t;return(i<=1?1:i<=2?2:i<=5?5:10)*t}function PG(n){const e=[],t=Math.sqrt(n);let i;for(i=1;i<t;i++)n%i===0&&(e.push(i),e.push(n/i));return t===(t|0)&&e.push(t),e.sort((s,o)=>s-o).pop(),e}function Za(n){return!isNaN(parseFloat(n))&&isFinite(n)}function TG(n,e){const t=Math.round(n);return t-e<=n&&t+e>=n}function GA(n,e,t){let i,s,o;for(i=0,s=n.length;i<s;i++)o=n[i][t],isNaN(o)||(e.min=Math.min(e.min,o),e.max=Math.max(e.max,o))}function Os(n){return n*(mn/180)}function xb(n){return n*(180/mn)}function qS(n){if(!On(n))return;let e=1,t=0;for(;Math.round(n*e)/e!==n;)e*=10,t++;return t}function QA(n,e){const t=e.x-n.x,i=e.y-n.y,s=Math.sqrt(t*t+i*i);let o=Math.atan2(i,t);return o<-.5*mn&&(o+=gn),{angle:o,distance:s}}function T1(n,e){return Math.sqrt(Math.pow(e.x-n.x,2)+Math.pow(e.y-n.y,2))}function EG(n,e){return(n-e+xG)%gn-mn}function Xi(n){return(n%gn+gn)%gn}function jf(n,e,t,i){const s=Xi(n),o=Xi(e),r=Xi(t),l=Xi(o-s),a=Xi(r-s),c=Xi(s-o),f=Xi(s-r);return s===o||s===r||i&&o===r||l>a&&c<f}function $n(n,e,t){return Math.max(e,Math.min(t,n))}function RG(n){return $n(n,-32768,32767)}function Lo(n,e,t,i=1e-6){return n>=Math.min(e,t)-i&&n<=Math.max(e,t)+i}function Ob(n,e,t){t=t||(r=>n[r]<e);let i=n.length-1,s=0,o;for(;i-s>1;)o=s+i>>1,t(o)?s=o:i=o;return{lo:s,hi:i}}const Io=(n,e,t,i)=>Ob(n,t,i?s=>{const o=n[s][e];return o<t||o===t&&n[s+1][e]===t}:s=>n[s][e]<t),DG=(n,e,t)=>Ob(n,t,i=>n[i][e]>=t);function LG(n,e,t){let i=0,s=n.length;for(;i<s&&n[i]<e;)i++;for(;s>i&&n[s-1]>t;)s--;return i>0||s<n.length?n.slice(i,s):n}const ZA=["push","pop","shift","splice","unshift"];function IG(n,e){if(n._chartjs){n._chartjs.listeners.push(e);return}Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),ZA.forEach(t=>{const i="_onData"+Ab(t),s=n[t];Object.defineProperty(n,t,{configurable:!0,enumerable:!1,value(...o){const r=s.apply(this,o);return n._chartjs.listeners.forEach(l=>{typeof l[i]=="function"&&l[i](...o)}),r}})})}function US(n,e){const t=n._chartjs;if(!t)return;const i=t.listeners,s=i.indexOf(e);s!==-1&&i.splice(s,1),!(i.length>0)&&(ZA.forEach(o=>{delete n[o]}),delete n._chartjs)}function $A(n){const e=new Set(n);return e.size===n.length?n:Array.from(e)}const e8=function(){return typeof window>"u"?function(n){return n()}:window.requestAnimationFrame}();function t8(n,e){let t=[],i=!1;return function(...s){t=s,i||(i=!0,e8.call(window,()=>{i=!1,n.apply(e,t)}))}}function NG(n,e){let t;return function(...i){return e?(clearTimeout(t),t=setTimeout(n,e,i)):n.apply(this,i),e}}const Pb=n=>n==="start"?"left":n==="end"?"right":"center",fi=(n,e,t)=>n==="start"?e:n==="end"?t:(e+t)/2,BG=(n,e,t,i)=>n===(i?"left":"right")?t:n==="center"?(e+t)/2:e;function n8(n,e,t){const i=e.length;let s=0,o=i;if(n._sorted){const{iScale:r,_parsed:l}=n,a=r.axis,{min:c,max:f,minDefined:u,maxDefined:h}=r.getUserBounds();u&&(s=$n(Math.min(Io(l,a,c).lo,t?i:Io(e,a,r.getPixelForValue(c)).lo),0,i-1)),h?o=$n(Math.max(Io(l,r.axis,f,!0).hi+1,t?0:Io(e,a,r.getPixelForValue(f),!0).hi+1),s,i)-s:o=i-s}return{start:s,count:o}}function i8(n){const{xScale:e,yScale:t,_scaleRanges:i}=n,s={xmin:e.min,xmax:e.max,ymin:t.min,ymax:t.max};if(!i)return n._scaleRanges=s,!0;const o=i.xmin!==e.min||i.xmax!==e.max||i.ymin!==t.min||i.ymax!==t.max;return Object.assign(i,s),o}const sh=n=>n===0||n===1,JS=(n,e,t)=>-(Math.pow(2,10*(n-=1))*Math.sin((n-e)*gn/t)),KS=(n,e,t)=>Math.pow(2,-10*n)*Math.sin((n-e)*gn/t)+1,sf={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>-Math.cos(n*In)+1,easeOutSine:n=>Math.sin(n*In),easeInOutSine:n=>-.5*(Math.cos(mn*n)-1),easeInExpo:n=>n===0?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>n===1?1:-Math.pow(2,-10*n)+1,easeInOutExpo:n=>sh(n)?n:n<.5?.5*Math.pow(2,10*(n*2-1)):.5*(-Math.pow(2,-10*(n*2-1))+2),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>sh(n)?n:JS(n,.075,.3),easeOutElastic:n=>sh(n)?n:KS(n,.075,.3),easeInOutElastic(n){return sh(n)?n:n<.5?.5*JS(n*2,.1125,.45):.5+.5*KS(n*2-1,.1125,.45)},easeInBack(n){return n*n*((1.70158+1)*n-1.70158)},easeOutBack(n){return(n-=1)*n*((1.70158+1)*n+1.70158)+1},easeInOutBack(n){let e=1.70158;return(n/=.5)<1?.5*(n*n*(((e*=1.525)+1)*n-e)):.5*((n-=2)*n*(((e*=1.525)+1)*n+e)+2)},easeInBounce:n=>1-sf.easeOutBounce(1-n),easeOutBounce(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},easeInOutBounce:n=>n<.5?sf.easeInBounce(n*2)*.5:sf.easeOutBounce(n*2-1)*.5+.5};function Tb(n){if(n&&typeof n=="object"){const e=n.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function YS(n){return Tb(n)?n:new If(n)}function zm(n){return Tb(n)?n:new If(n).saturate(.5).darken(.1).hexString()}const jG=["x","y","borderWidth","radius","tension"],zG=["color","borderColor","backgroundColor"];function FG(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),n.set("animations",{colors:{type:"color",properties:zG},numbers:{type:"number",properties:jG}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function VG(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const XS=new Map;function HG(n,e){e=e||{};const t=n+JSON.stringify(e);let i=XS.get(t);return i||(i=new Intl.NumberFormat(n,e),XS.set(t,i)),i}function cu(n,e,t){return HG(e,t).format(n)}const s8={values(n){return wn(n)?n:""+n},numeric(n,e,t){if(n===0)return"0";const i=this.chart.options.locale;let s,o=n;if(t.length>1){const c=Math.max(Math.abs(t[0].value),Math.abs(t[t.length-1].value));(c<1e-4||c>1e15)&&(s="scientific"),o=WG(n,t)}const r=yr(Math.abs(o)),l=isNaN(r)?1:Math.max(Math.min(-1*Math.floor(r),20),0),a={notation:s,minimumFractionDigits:l,maximumFractionDigits:l};return Object.assign(a,this.options.ticks.format),cu(n,i,a)},logarithmic(n,e,t){if(n===0)return"0";const i=t[e].significand||n/Math.pow(10,Math.floor(yr(n)));return[1,2,3,5,10,15].includes(i)||e>.8*t.length?s8.numeric.call(this,n,e,t):""}};function WG(n,e){let t=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(t)>=1&&n!==Math.floor(n)&&(t=n-Math.floor(n)),t}var jg={formatters:s8};function qG(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:jg.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const Nl=Object.create(null),E1=Object.create(null);function of(n,e){if(!e)return n;const t=e.split(".");for(let i=0,s=t.length;i<s;++i){const o=t[i];n=n[o]||(n[o]=Object.create(null))}return n}function Fm(n,e,t){return typeof e=="string"?Nf(of(n,e),t):Nf(of(n,""),e)}class UG{constructor(e,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,s)=>zm(s.backgroundColor),this.hoverBorderColor=(i,s)=>zm(s.borderColor),this.hoverColor=(i,s)=>zm(s.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(t)}set(e,t){return Fm(this,e,t)}get(e){return of(this,e)}describe(e,t){return Fm(E1,e,t)}override(e,t){return Fm(Nl,e,t)}route(e,t,i,s){const o=of(this,e),r=of(this,i),l="_"+t;Object.defineProperties(o,{[l]:{value:o[t],writable:!0},[t]:{enumerable:!0,get(){const a=this[l],c=r[s];return Rt(a)?Object.assign({},c,a):pt(a,c)},set(a){this[l]=a}}})}apply(e){e.forEach(t=>t(this))}}var Pn=new UG({_scriptable:n=>!n.startsWith("on"),_indexable:n=>n!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[FG,VG,qG]);function JG(n){return!n||Vt(n.size)||Vt(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}function Vd(n,e,t,i,s){let o=e[s];return o||(o=e[s]=n.measureText(s).width,t.push(s)),o>i&&(i=o),i}function KG(n,e,t,i){i=i||{};let s=i.data=i.data||{},o=i.garbageCollect=i.garbageCollect||[];i.font!==e&&(s=i.data={},o=i.garbageCollect=[],i.font=e),n.save(),n.font=e;let r=0;const l=t.length;let a,c,f,u,h;for(a=0;a<l;a++)if(u=t[a],u!=null&&!wn(u))r=Vd(n,s,o,r,u);else if(wn(u))for(c=0,f=u.length;c<f;c++)h=u[c],h!=null&&!wn(h)&&(r=Vd(n,s,o,r,h));n.restore();const d=o.length/2;if(d>t.length){for(a=0;a<d;a++)delete s[o[a]];o.splice(0,d)}return r}function tl(n,e,t){const i=n.currentDevicePixelRatio,s=t!==0?Math.max(t/2,.5):0;return Math.round((e-s)*i)/i+s}function GS(n,e){!e&&!n||(e=e||n.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,n.width,n.height),e.restore())}function R1(n,e,t,i){o8(n,e,t,i,null)}function o8(n,e,t,i,s){let o,r,l,a,c,f,u,h;const d=e.pointStyle,g=e.rotation,m=e.radius;let p=(g||0)*OG;if(d&&typeof d=="object"&&(o=d.toString(),o==="[object HTMLImageElement]"||o==="[object HTMLCanvasElement]")){n.save(),n.translate(t,i),n.rotate(p),n.drawImage(d,-d.width/2,-d.height/2,d.width,d.height),n.restore();return}if(!(isNaN(m)||m<=0)){switch(n.beginPath(),d){default:s?n.ellipse(t,i,s/2,m,0,0,gn):n.arc(t,i,m,0,gn),n.closePath();break;case"triangle":f=s?s/2:m,n.moveTo(t+Math.sin(p)*f,i-Math.cos(p)*m),p+=HS,n.lineTo(t+Math.sin(p)*f,i-Math.cos(p)*m),p+=HS,n.lineTo(t+Math.sin(p)*f,i-Math.cos(p)*m),n.closePath();break;case"rectRounded":c=m*.516,a=m-c,r=Math.cos(p+el)*a,u=Math.cos(p+el)*(s?s/2-c:a),l=Math.sin(p+el)*a,h=Math.sin(p+el)*(s?s/2-c:a),n.arc(t-u,i-l,c,p-mn,p-In),n.arc(t+h,i-r,c,p-In,p),n.arc(t+u,i+l,c,p,p+In),n.arc(t-h,i+r,c,p+In,p+mn),n.closePath();break;case"rect":if(!g){a=Math.SQRT1_2*m,f=s?s/2:a,n.rect(t-f,i-a,2*f,2*a);break}p+=el;case"rectRot":u=Math.cos(p)*(s?s/2:m),r=Math.cos(p)*m,l=Math.sin(p)*m,h=Math.sin(p)*(s?s/2:m),n.moveTo(t-u,i-l),n.lineTo(t+h,i-r),n.lineTo(t+u,i+l),n.lineTo(t-h,i+r),n.closePath();break;case"crossRot":p+=el;case"cross":u=Math.cos(p)*(s?s/2:m),r=Math.cos(p)*m,l=Math.sin(p)*m,h=Math.sin(p)*(s?s/2:m),n.moveTo(t-u,i-l),n.lineTo(t+u,i+l),n.moveTo(t+h,i-r),n.lineTo(t-h,i+r);break;case"star":u=Math.cos(p)*(s?s/2:m),r=Math.cos(p)*m,l=Math.sin(p)*m,h=Math.sin(p)*(s?s/2:m),n.moveTo(t-u,i-l),n.lineTo(t+u,i+l),n.moveTo(t+h,i-r),n.lineTo(t-h,i+r),p+=el,u=Math.cos(p)*(s?s/2:m),r=Math.cos(p)*m,l=Math.sin(p)*m,h=Math.sin(p)*(s?s/2:m),n.moveTo(t-u,i-l),n.lineTo(t+u,i+l),n.moveTo(t+h,i-r),n.lineTo(t-h,i+r);break;case"line":r=s?s/2:Math.cos(p)*m,l=Math.sin(p)*m,n.moveTo(t-r,i-l),n.lineTo(t+r,i+l);break;case"dash":n.moveTo(t,i),n.lineTo(t+Math.cos(p)*(s?s/2:m),i+Math.sin(p)*m);break;case!1:n.closePath();break}n.fill(),e.borderWidth>0&&n.stroke()}}function No(n,e,t){return t=t||.5,!e||n&&n.x>e.left-t&&n.x<e.right+t&&n.y>e.top-t&&n.y<e.bottom+t}function zg(n,e){n.save(),n.beginPath(),n.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),n.clip()}function Fg(n){n.restore()}function YG(n,e,t,i,s){if(!e)return n.lineTo(t.x,t.y);if(s==="middle"){const o=(e.x+t.x)/2;n.lineTo(o,e.y),n.lineTo(o,t.y)}else s==="after"!=!!i?n.lineTo(e.x,t.y):n.lineTo(t.x,e.y);n.lineTo(t.x,t.y)}function XG(n,e,t,i){if(!e)return n.lineTo(t.x,t.y);n.bezierCurveTo(i?e.cp1x:e.cp2x,i?e.cp1y:e.cp2y,i?t.cp2x:t.cp1x,i?t.cp2y:t.cp1y,t.x,t.y)}function GG(n,e){e.translation&&n.translate(e.translation[0],e.translation[1]),Vt(e.rotation)||n.rotate(e.rotation),e.color&&(n.fillStyle=e.color),e.textAlign&&(n.textAlign=e.textAlign),e.textBaseline&&(n.textBaseline=e.textBaseline)}function QG(n,e,t,i,s){if(s.strikethrough||s.underline){const o=n.measureText(i),r=e-o.actualBoundingBoxLeft,l=e+o.actualBoundingBoxRight,a=t-o.actualBoundingBoxAscent,c=t+o.actualBoundingBoxDescent,f=s.strikethrough?(a+c)/2:c;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=s.decorationWidth||2,n.moveTo(r,f),n.lineTo(l,f),n.stroke()}}function ZG(n,e){const t=n.fillStyle;n.fillStyle=e.color,n.fillRect(e.left,e.top,e.width,e.height),n.fillStyle=t}function Bl(n,e,t,i,s,o={}){const r=wn(e)?e:[e],l=o.strokeWidth>0&&o.strokeColor!=="";let a,c;for(n.save(),n.font=s.string,GG(n,o),a=0;a<r.length;++a)c=r[a],o.backdrop&&ZG(n,o.backdrop),l&&(o.strokeColor&&(n.strokeStyle=o.strokeColor),Vt(o.strokeWidth)||(n.lineWidth=o.strokeWidth),n.strokeText(c,t,i,o.maxWidth)),n.fillText(c,t,i,o.maxWidth),QG(n,t,i,c,o),i+=Number(s.lineHeight);n.restore()}function zf(n,e){const{x:t,y:i,w:s,h:o,radius:r}=e;n.arc(t+r.topLeft,i+r.topLeft,r.topLeft,1.5*mn,mn,!0),n.lineTo(t,i+o-r.bottomLeft),n.arc(t+r.bottomLeft,i+o-r.bottomLeft,r.bottomLeft,mn,In,!0),n.lineTo(t+s-r.bottomRight,i+o),n.arc(t+s-r.bottomRight,i+o-r.bottomRight,r.bottomRight,In,0,!0),n.lineTo(t+s,i+r.topRight),n.arc(t+s-r.topRight,i+r.topRight,r.topRight,0,-In,!0),n.lineTo(t+r.topLeft,i)}const $G=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,eQ=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function tQ(n,e){const t=(""+n).match($G);if(!t||t[1]==="normal")return e*1.2;switch(n=+t[2],t[3]){case"px":return n;case"%":n/=100;break}return e*n}const nQ=n=>+n||0;function Eb(n,e){const t={},i=Rt(e),s=i?Object.keys(e):e,o=Rt(n)?i?r=>pt(n[r],n[e[r]]):r=>n[r]:()=>n;for(const r of s)t[r]=nQ(o(r));return t}function r8(n){return Eb(n,{top:"y",right:"x",bottom:"y",left:"x"})}function bl(n){return Eb(n,["topLeft","topRight","bottomLeft","bottomRight"])}function Si(n){const e=r8(n);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function Hn(n,e){n=n||{},e=e||Pn.font;let t=pt(n.size,e.size);typeof t=="string"&&(t=parseInt(t,10));let i=pt(n.style,e.style);i&&!(""+i).match(eQ)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const s={family:pt(n.family,e.family),lineHeight:tQ(pt(n.lineHeight,e.lineHeight),t),size:t,style:i,weight:pt(n.weight,e.weight),string:""};return s.string=JG(s),s}function Fc(n,e,t,i){let s,o,r;for(s=0,o=n.length;s<o;++s)if(r=n[s],r!==void 0&&r!==void 0)return r}function iQ(n,e,t){const{min:i,max:s}=n,o=YA(e,(s-i)/2),r=(l,a)=>t&&l===0?0:l+a;return{min:r(i,-Math.abs(o)),max:r(s,o)}}function qr(n,e){return Object.assign(Object.create(n),e)}function Rb(n,e=[""],t,i,s=()=>n[0]){const o=t||n;typeof i>"u"&&(i=f8("_fallback",n));const r={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:o,_fallback:i,_getTarget:s,override:l=>Rb([l,...n],e,o,i)};return new Proxy(r,{deleteProperty(l,a){return delete l[a],delete l._keys,delete n[0][a],!0},get(l,a){return a8(l,a,()=>uQ(a,e,n,l))},getOwnPropertyDescriptor(l,a){return Reflect.getOwnPropertyDescriptor(l._scopes[0],a)},getPrototypeOf(){return Reflect.getPrototypeOf(n[0])},has(l,a){return ZS(l).includes(a)},ownKeys(l){return ZS(l)},set(l,a,c){const f=l._storage||(l._storage=s());return l[a]=f[a]=c,delete l._keys,!0}})}function $a(n,e,t,i){const s={_cacheable:!1,_proxy:n,_context:e,_subProxy:t,_stack:new Set,_descriptors:l8(n,i),setContext:o=>$a(n,o,t,i),override:o=>$a(n.override(o),e,t,i)};return new Proxy(s,{deleteProperty(o,r){return delete o[r],delete n[r],!0},get(o,r,l){return a8(o,r,()=>oQ(o,r,l))},getOwnPropertyDescriptor(o,r){return o._descriptors.allKeys?Reflect.has(n,r)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,r)},getPrototypeOf(){return Reflect.getPrototypeOf(n)},has(o,r){return Reflect.has(n,r)},ownKeys(){return Reflect.ownKeys(n)},set(o,r,l){return n[r]=l,delete o[r],!0}})}function l8(n,e={scriptable:!0,indexable:!0}){const{_scriptable:t=e.scriptable,_indexable:i=e.indexable,_allKeys:s=e.allKeys}=n;return{allKeys:s,scriptable:t,indexable:i,isScriptable:zr(t)?t:()=>t,isIndexable:zr(i)?i:()=>i}}const sQ=(n,e)=>n?n+Ab(e):e,Db=(n,e)=>Rt(e)&&n!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function a8(n,e,t){if(Object.prototype.hasOwnProperty.call(n,e)||e==="constructor")return n[e];const i=t();return n[e]=i,i}function oQ(n,e,t){const{_proxy:i,_context:s,_subProxy:o,_descriptors:r}=n;let l=i[e];return zr(l)&&r.isScriptable(e)&&(l=rQ(e,l,n,t)),wn(l)&&l.length&&(l=lQ(e,l,n,r.isIndexable)),Db(e,l)&&(l=$a(l,s,o&&o[e],r)),l}function rQ(n,e,t,i){const{_proxy:s,_context:o,_subProxy:r,_stack:l}=t;if(l.has(n))throw new Error("Recursion detected: "+Array.from(l).join("->")+"->"+n);l.add(n);let a=e(o,r||i);return l.delete(n),Db(n,a)&&(a=Lb(s._scopes,s,n,a)),a}function lQ(n,e,t,i){const{_proxy:s,_context:o,_subProxy:r,_descriptors:l}=t;if(typeof o.index<"u"&&i(n))return e[o.index%e.length];if(Rt(e[0])){const a=e,c=s._scopes.filter(f=>f!==a);e=[];for(const f of a){const u=Lb(c,s,n,f);e.push($a(u,o,r&&r[n],l))}}return e}function c8(n,e,t){return zr(n)?n(e,t):n}const aQ=(n,e)=>n===!0?e:typeof n=="string"?jr(e,n):void 0;function cQ(n,e,t,i,s){for(const o of e){const r=aQ(t,o);if(r){n.add(r);const l=c8(r._fallback,t,s);if(typeof l<"u"&&l!==t&&l!==i)return l}else if(r===!1&&typeof i<"u"&&t!==i)return null}return!1}function Lb(n,e,t,i){const s=e._rootScopes,o=c8(e._fallback,t,i),r=[...n,...s],l=new Set;l.add(i);let a=QS(l,r,t,o||t,i);return a===null||typeof o<"u"&&o!==t&&(a=QS(l,r,o,a,i),a===null)?!1:Rb(Array.from(l),[""],s,o,()=>fQ(e,t,i))}function QS(n,e,t,i,s){for(;t;)t=cQ(n,e,t,i,s);return t}function fQ(n,e,t){const i=n._getTarget();e in i||(i[e]={});const s=i[e];return wn(s)&&Rt(t)?t:s||{}}function uQ(n,e,t,i){let s;for(const o of e)if(s=f8(sQ(o,n),t),typeof s<"u")return Db(n,s)?Lb(t,i,n,s):s}function f8(n,e){for(const t of e){if(!t)continue;const i=t[n];if(typeof i<"u")return i}}function ZS(n){let e=n._keys;return e||(e=n._keys=hQ(n._scopes)),e}function hQ(n){const e=new Set;for(const t of n)for(const i of Object.keys(t).filter(s=>!s.startsWith("_")))e.add(i);return Array.from(e)}function u8(n,e,t,i){const{iScale:s}=n,{key:o="r"}=this._parsing,r=new Array(i);let l,a,c,f;for(l=0,a=i;l<a;++l)c=l+t,f=e[c],r[l]={r:s.parse(jr(f,o),c)};return r}const dQ=Number.EPSILON||1e-14,ec=(n,e)=>e<n.length&&!n[e].skip&&n[e],h8=n=>n==="x"?"y":"x";function gQ(n,e,t,i){const s=n.skip?e:n,o=e,r=t.skip?e:t,l=T1(o,s),a=T1(r,o);let c=l/(l+a),f=a/(l+a);c=isNaN(c)?0:c,f=isNaN(f)?0:f;const u=i*c,h=i*f;return{previous:{x:o.x-u*(r.x-s.x),y:o.y-u*(r.y-s.y)},next:{x:o.x+h*(r.x-s.x),y:o.y+h*(r.y-s.y)}}}function mQ(n,e,t){const i=n.length;let s,o,r,l,a,c=ec(n,0);for(let f=0;f<i-1;++f)if(a=c,c=ec(n,f+1),!(!a||!c)){if(nf(e[f],0,dQ)){t[f]=t[f+1]=0;continue}s=t[f]/e[f],o=t[f+1]/e[f],l=Math.pow(s,2)+Math.pow(o,2),!(l<=9)&&(r=3/Math.sqrt(l),t[f]=s*r*e[f],t[f+1]=o*r*e[f])}}function pQ(n,e,t="x"){const i=h8(t),s=n.length;let o,r,l,a=ec(n,0);for(let c=0;c<s;++c){if(r=l,l=a,a=ec(n,c+1),!l)continue;const f=l[t],u=l[i];r&&(o=(f-r[t])/3,l[`cp1${t}`]=f-o,l[`cp1${i}`]=u-o*e[c]),a&&(o=(a[t]-f)/3,l[`cp2${t}`]=f+o,l[`cp2${i}`]=u+o*e[c])}}function bQ(n,e="x"){const t=h8(e),i=n.length,s=Array(i).fill(0),o=Array(i);let r,l,a,c=ec(n,0);for(r=0;r<i;++r)if(l=a,a=c,c=ec(n,r+1),!!a){if(c){const f=c[e]-a[e];s[r]=f!==0?(c[t]-a[t])/f:0}o[r]=l?c?ho(s[r-1])!==ho(s[r])?0:(s[r-1]+s[r])/2:s[r-1]:s[r]}mQ(n,s,o),pQ(n,o,e)}function oh(n,e,t){return Math.max(Math.min(n,t),e)}function yQ(n,e){let t,i,s,o,r,l=No(n[0],e);for(t=0,i=n.length;t<i;++t)r=o,o=l,l=t<i-1&&No(n[t+1],e),o&&(s=n[t],r&&(s.cp1x=oh(s.cp1x,e.left,e.right),s.cp1y=oh(s.cp1y,e.top,e.bottom)),l&&(s.cp2x=oh(s.cp2x,e.left,e.right),s.cp2y=oh(s.cp2y,e.top,e.bottom)))}function _Q(n,e,t,i,s){let o,r,l,a;if(e.spanGaps&&(n=n.filter(c=>!c.skip)),e.cubicInterpolationMode==="monotone")bQ(n,s);else{let c=i?n[n.length-1]:n[0];for(o=0,r=n.length;o<r;++o)l=n[o],a=gQ(c,l,n[Math.min(o+1,r-(i?0:1))%r],e.tension),l.cp1x=a.previous.x,l.cp1y=a.previous.y,l.cp2x=a.next.x,l.cp2y=a.next.y,c=l}e.capBezierPoints&&yQ(n,t)}function Ib(){return typeof window<"u"&&typeof document<"u"}function Nb(n){let e=n.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function Hd(n,e,t){let i;return typeof n=="string"?(i=parseInt(n,10),n.indexOf("%")!==-1&&(i=i/100*e.parentNode[t])):i=n,i}const Vg=n=>n.ownerDocument.defaultView.getComputedStyle(n,null);function wQ(n,e){return Vg(n).getPropertyValue(e)}const vQ=["top","right","bottom","left"];function yl(n,e,t){const i={};t=t?"-"+t:"";for(let s=0;s<4;s++){const o=vQ[s];i[o]=parseFloat(n[e+"-"+o+t])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const kQ=(n,e,t)=>(n>0||e>0)&&(!t||!t.shadowRoot);function SQ(n,e){const t=n.touches,i=t&&t.length?t[0]:n,{offsetX:s,offsetY:o}=i;let r=!1,l,a;if(kQ(s,o,n.target))l=s,a=o;else{const c=e.getBoundingClientRect();l=i.clientX-c.left,a=i.clientY-c.top,r=!0}return{x:l,y:a,box:r}}function sl(n,e){if("native"in n)return n;const{canvas:t,currentDevicePixelRatio:i}=e,s=Vg(t),o=s.boxSizing==="border-box",r=yl(s,"padding"),l=yl(s,"border","width"),{x:a,y:c,box:f}=SQ(n,t),u=r.left+(f&&l.left),h=r.top+(f&&l.top);let{width:d,height:g}=e;return o&&(d-=r.width+l.width,g-=r.height+l.height),{x:Math.round((a-u)/d*t.width/i),y:Math.round((c-h)/g*t.height/i)}}function CQ(n,e,t){let i,s;if(e===void 0||t===void 0){const o=n&&Nb(n);if(!o)e=n.clientWidth,t=n.clientHeight;else{const r=o.getBoundingClientRect(),l=Vg(o),a=yl(l,"border","width"),c=yl(l,"padding");e=r.width-c.width-a.width,t=r.height-c.height-a.height,i=Hd(l.maxWidth,o,"clientWidth"),s=Hd(l.maxHeight,o,"clientHeight")}}return{width:e,height:t,maxWidth:i||Fd,maxHeight:s||Fd}}const rh=n=>Math.round(n*10)/10;function MQ(n,e,t,i){const s=Vg(n),o=yl(s,"margin"),r=Hd(s.maxWidth,n,"clientWidth")||Fd,l=Hd(s.maxHeight,n,"clientHeight")||Fd,a=CQ(n,e,t);let{width:c,height:f}=a;if(s.boxSizing==="content-box"){const h=yl(s,"border","width"),d=yl(s,"padding");c-=d.width+h.width,f-=d.height+h.height}return c=Math.max(0,c-o.width),f=Math.max(0,i?c/i:f-o.height),c=rh(Math.min(c,r,a.maxWidth)),f=rh(Math.min(f,l,a.maxHeight)),c&&!f&&(f=rh(c/2)),(e!==void 0||t!==void 0)&&i&&a.height&&f>a.height&&(f=a.height,c=rh(Math.floor(f*i))),{width:c,height:f}}function $S(n,e,t){const i=e||1,s=Math.floor(n.height*i),o=Math.floor(n.width*i);n.height=Math.floor(n.height),n.width=Math.floor(n.width);const r=n.canvas;return r.style&&(t||!r.style.height&&!r.style.width)&&(r.style.height=`${n.height}px`,r.style.width=`${n.width}px`),n.currentDevicePixelRatio!==i||r.height!==s||r.width!==o?(n.currentDevicePixelRatio=i,r.height=s,r.width=o,n.ctx.setTransform(i,0,0,i,0,0),!0):!1}const AQ=function(){let n=!1;try{const e={get passive(){return n=!0,!1}};Ib()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return n}();function eC(n,e){const t=wQ(n,e),i=t&&t.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function ol(n,e,t,i){return{x:n.x+t*(e.x-n.x),y:n.y+t*(e.y-n.y)}}function xQ(n,e,t,i){return{x:n.x+t*(e.x-n.x),y:i==="middle"?t<.5?n.y:e.y:i==="after"?t<1?n.y:e.y:t>0?e.y:n.y}}function OQ(n,e,t,i){const s={x:n.cp2x,y:n.cp2y},o={x:e.cp1x,y:e.cp1y},r=ol(n,s,t),l=ol(s,o,t),a=ol(o,e,t),c=ol(r,l,t),f=ol(l,a,t);return ol(c,f,t)}const PQ=function(n,e){return{x(t){return n+n+e-t},setWidth(t){e=t},textAlign(t){return t==="center"?t:t==="right"?"left":"right"},xPlus(t,i){return t-i},leftForLtr(t,i){return t-i}}},TQ=function(){return{x(n){return n},setWidth(n){},textAlign(n){return n},xPlus(n,e){return n+e},leftForLtr(n,e){return n}}};function La(n,e,t){return n?PQ(e,t):TQ()}function d8(n,e){let t,i;(e==="ltr"||e==="rtl")&&(t=n.canvas.style,i=[t.getPropertyValue("direction"),t.getPropertyPriority("direction")],t.setProperty("direction",e,"important"),n.prevTextDirection=i)}function g8(n,e){e!==void 0&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",e[0],e[1]))}function m8(n){return n==="angle"?{between:jf,compare:EG,normalize:Xi}:{between:Lo,compare:(e,t)=>e-t,normalize:e=>e}}function tC({start:n,end:e,count:t,loop:i,style:s}){return{start:n%t,end:e%t,loop:i&&(e-n+1)%t===0,style:s}}function EQ(n,e,t){const{property:i,start:s,end:o}=t,{between:r,normalize:l}=m8(i),a=e.length;let{start:c,end:f,loop:u}=n,h,d;if(u){for(c+=a,f+=a,h=0,d=a;h<d&&r(l(e[c%a][i]),s,o);++h)c--,f--;c%=a,f%=a}return f<c&&(f+=a),{start:c,end:f,loop:u,style:n.style}}function p8(n,e,t){if(!t)return[n];const{property:i,start:s,end:o}=t,r=e.length,{compare:l,between:a,normalize:c}=m8(i),{start:f,end:u,loop:h,style:d}=EQ(n,e,t),g=[];let m=!1,p=null,b,y,v;const C=()=>a(s,v,b)&&l(s,v)!==0,w=()=>l(o,b)===0||a(o,v,b),S=()=>m||C(),x=()=>!m||w();for(let T=f,P=f;T<=u;++T)y=e[T%r],!y.skip&&(b=c(y[i]),b!==v&&(m=a(b,s,o),p===null&&S()&&(p=l(b,s)===0?T:P),p!==null&&x()&&(g.push(tC({start:p,end:T,loop:h,count:r,style:d})),p=null),P=T,v=b));return p!==null&&g.push(tC({start:p,end:u,loop:h,count:r,style:d})),g}function b8(n,e){const t=[],i=n.segments;for(let s=0;s<i.length;s++){const o=p8(i[s],n.points,e);o.length&&t.push(...o)}return t}function RQ(n,e,t,i){let s=0,o=e-1;if(t&&!i)for(;s<e&&!n[s].skip;)s++;for(;s<e&&n[s].skip;)s++;for(s%=e,t&&(o+=s);o>s&&n[o%e].skip;)o--;return o%=e,{start:s,end:o}}function DQ(n,e,t,i){const s=n.length,o=[];let r=e,l=n[e],a;for(a=e+1;a<=t;++a){const c=n[a%s];c.skip||c.stop?l.skip||(i=!1,o.push({start:e%s,end:(a-1)%s,loop:i}),e=r=c.stop?a:null):(r=a,l.skip&&(e=a)),l=c}return r!==null&&o.push({start:e%s,end:r%s,loop:i}),o}function LQ(n,e){const t=n.points,i=n.options.spanGaps,s=t.length;if(!s)return[];const o=!!n._loop,{start:r,end:l}=RQ(t,s,o,i);if(i===!0)return nC(n,[{start:r,end:l,loop:o}],t,e);const a=l<r?l+s:l,c=!!n._fullLoop&&r===0&&l===s-1;return nC(n,DQ(t,r,a,c),t,e)}function nC(n,e,t,i){return!i||!i.setContext||!t?e:IQ(n,e,t,i)}function IQ(n,e,t,i){const s=n._chart.getContext(),o=iC(n.options),{_datasetIndex:r,options:{spanGaps:l}}=n,a=t.length,c=[];let f=o,u=e[0].start,h=u;function d(g,m,p,b){const y=l?-1:1;if(g!==m){for(g+=a;t[g%a].skip;)g-=y;for(;t[m%a].skip;)m+=y;g%a!==m%a&&(c.push({start:g%a,end:m%a,loop:p,style:b}),f=b,u=m%a)}}for(const g of e){u=l?u:g.start;let m=t[u%a],p;for(h=u+1;h<=g.end;h++){const b=t[h%a];p=iC(i.setContext(qr(s,{type:"segment",p0:m,p1:b,p0DataIndex:(h-1)%a,p1DataIndex:h%a,datasetIndex:r}))),NQ(p,f)&&d(u,h-1,g.loop,f),m=b,f=p}u<h-1&&d(u,h-1,g.loop,f)}return c}function iC(n){return{backgroundColor:n.backgroundColor,borderCapStyle:n.borderCapStyle,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderJoinStyle:n.borderJoinStyle,borderWidth:n.borderWidth,borderColor:n.borderColor}}function NQ(n,e){if(!e)return!1;const t=[],i=function(s,o){return Tb(o)?(t.includes(o)||t.push(o),t.indexOf(o)):o};return JSON.stringify(n,i)!==JSON.stringify(e,i)}/*!
 * Chart.js v4.4.4
 * https://www.chartjs.org
 * (c) 2024 Chart.js Contributors
 * Released under the MIT License
 */class BQ{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,i,s){const o=t.listeners[s],r=t.duration;o.forEach(l=>l({chart:e,initial:t.initial,numSteps:r,currentStep:Math.min(i-t.start,r)}))}_refresh(){this._request||(this._running=!0,this._request=e8.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let t=0;this._charts.forEach((i,s)=>{if(!i.running||!i.items.length)return;const o=i.items;let r=o.length-1,l=!1,a;for(;r>=0;--r)a=o[r],a._active?(a._total>i.duration&&(i.duration=a._total),a.tick(e),l=!0):(o[r]=o[o.length-1],o.pop());l&&(s.draw(),this._notify(s,i,e,"progress")),o.length||(i.running=!1,this._notify(s,i,e,"complete"),i.initial=!1),t+=o.length}),this._lastDate=e,t===0&&(this._running=!1)}_getAnims(e){const t=this._charts;let i=t.get(e);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,i)),i}listen(e,t,i){this._getAnims(e).listeners[t].push(i)}add(e,t){!t||!t.length||this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){const t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce((i,s)=>Math.max(i,s._duration),0),this._refresh())}running(e){if(!this._running)return!1;const t=this._charts.get(e);return!(!t||!t.running||!t.items.length)}stop(e){const t=this._charts.get(e);if(!t||!t.items.length)return;const i=t.items;let s=i.length-1;for(;s>=0;--s)i[s].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var Mo=new BQ;const sC="transparent",jQ={boolean(n,e,t){return t>.5?e:n},color(n,e,t){const i=YS(n||sC),s=i.valid&&YS(e||sC);return s&&s.valid?s.mix(i,t).hexString():e},number(n,e,t){return n+(e-n)*t}};class zQ{constructor(e,t,i,s){const o=t[i];s=Fc([e.to,s,o,e.from]);const r=Fc([e.from,o,s]);this._active=!0,this._fn=e.fn||jQ[e.type||typeof r],this._easing=sf[e.easing]||sf.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=i,this._from=r,this._to=s,this._promises=void 0}active(){return this._active}update(e,t,i){if(this._active){this._notify(!1);const s=this._target[this._prop],o=i-this._start,r=this._duration-o;this._start=i,this._duration=Math.floor(Math.max(r,e.duration)),this._total+=o,this._loop=!!e.loop,this._to=Fc([e.to,t,s,e.from]),this._from=Fc([e.from,s,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const t=e-this._start,i=this._duration,s=this._prop,o=this._from,r=this._loop,l=this._to;let a;if(this._active=o!==l&&(r||t<i),!this._active){this._target[s]=l,this._notify(!0);return}if(t<0){this._target[s]=o;return}a=t/i%2,a=r&&a>1?2-a:a,a=this._easing(Math.min(1,Math.max(0,a))),this._target[s]=this._fn(o,l,a)}wait(){const e=this._promises||(this._promises=[]);return new Promise((t,i)=>{e.push({res:t,rej:i})})}_notify(e){const t=e?"res":"rej",i=this._promises||[];for(let s=0;s<i.length;s++)i[s][t]()}}class y8{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!Rt(e))return;const t=Object.keys(Pn.animation),i=this._properties;Object.getOwnPropertyNames(e).forEach(s=>{const o=e[s];if(!Rt(o))return;const r={};for(const l of t)r[l]=o[l];(wn(o.properties)&&o.properties||[s]).forEach(l=>{(l===s||!i.has(l))&&i.set(l,r)})})}_animateOptions(e,t){const i=t.options,s=VQ(e,i);if(!s)return[];const o=this._createAnimations(s,i);return i.$shared&&FQ(e.options.$animations,i).then(()=>{e.options=i},()=>{}),o}_createAnimations(e,t){const i=this._properties,s=[],o=e.$animations||(e.$animations={}),r=Object.keys(t),l=Date.now();let a;for(a=r.length-1;a>=0;--a){const c=r[a];if(c.charAt(0)==="$")continue;if(c==="options"){s.push(...this._animateOptions(e,t));continue}const f=t[c];let u=o[c];const h=i.get(c);if(u)if(h&&u.active()){u.update(h,f,l);continue}else u.cancel();if(!h||!h.duration){e[c]=f;continue}o[c]=u=new zQ(h,e,c,f),s.push(u)}return s}update(e,t){if(this._properties.size===0){Object.assign(e,t);return}const i=this._createAnimations(e,t);if(i.length)return Mo.add(this._chart,i),!0}}function FQ(n,e){const t=[],i=Object.keys(e);for(let s=0;s<i.length;s++){const o=n[i[s]];o&&o.active()&&t.push(o.wait())}return Promise.all(t)}function VQ(n,e){if(!e)return;let t=n.options;if(!t){n.options=e;return}return t.$shared&&(n.options=t=Object.assign({},t,{$shared:!1,$animations:{}})),t}function oC(n,e){const t=n&&n.options||{},i=t.reverse,s=t.min===void 0?e:0,o=t.max===void 0?e:0;return{start:i?o:s,end:i?s:o}}function HQ(n,e,t){if(t===!1)return!1;const i=oC(n,t),s=oC(e,t);return{top:s.end,right:i.end,bottom:s.start,left:i.start}}function WQ(n){let e,t,i,s;return Rt(n)?(e=n.top,t=n.right,i=n.bottom,s=n.left):e=t=i=s=n,{top:e,right:t,bottom:i,left:s,disabled:n===!1}}function _8(n,e){const t=[],i=n._getSortedDatasetMetas(e);let s,o;for(s=0,o=i.length;s<o;++s)t.push(i[s].index);return t}function rC(n,e,t,i={}){const s=n.keys,o=i.mode==="single";let r,l,a,c;if(e!==null){for(r=0,l=s.length;r<l;++r){if(a=+s[r],a===t){if(i.all)continue;break}c=n.values[a],On(c)&&(o||e===0||ho(e)===ho(c))&&(e+=c)}return e}}function qQ(n,e){const{iScale:t,vScale:i}=e,s=t.axis==="x"?"x":"y",o=i.axis==="x"?"x":"y",r=Object.keys(n),l=new Array(r.length);let a,c,f;for(a=0,c=r.length;a<c;++a)f=r[a],l[a]={[s]:f,[o]:n[f]};return l}function lC(n,e){const t=n&&n.options.stacked;return t||t===void 0&&e.stack!==void 0}function UQ(n,e,t){return`${n.id}.${e.id}.${t.stack||t.type}`}function JQ(n){const{min:e,max:t,minDefined:i,maxDefined:s}=n.getUserBounds();return{min:i?e:Number.NEGATIVE_INFINITY,max:s?t:Number.POSITIVE_INFINITY}}function KQ(n,e,t){const i=n[e]||(n[e]={});return i[t]||(i[t]={})}function aC(n,e,t,i){for(const s of e.getMatchingVisibleMetas(i).reverse()){const o=n[s.index];if(t&&o>0||!t&&o<0)return s.index}return null}function cC(n,e){const{chart:t,_cachedMeta:i}=n,s=t._stacks||(t._stacks={}),{iScale:o,vScale:r,index:l}=i,a=o.axis,c=r.axis,f=UQ(o,r,i),u=e.length;let h;for(let d=0;d<u;++d){const g=e[d],{[a]:m,[c]:p}=g,b=g._stacks||(g._stacks={});h=b[c]=KQ(s,f,m),h[l]=p,h._top=aC(h,r,!0,i.type),h._bottom=aC(h,r,!1,i.type);const y=h._visualValues||(h._visualValues={});y[l]=p}}function Vm(n,e){const t=n.scales;return Object.keys(t).filter(i=>t[i].axis===e).shift()}function YQ(n,e){return qr(n,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function XQ(n,e,t){return qr(n,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:t,index:e,mode:"default",type:"data"})}function xc(n,e){const t=n.controller.index,i=n.vScale&&n.vScale.axis;if(i){e=e||n._parsed;for(const s of e){const o=s._stacks;if(!o||o[i]===void 0||o[i][t]===void 0)return;delete o[i][t],o[i]._visualValues!==void 0&&o[i]._visualValues[t]!==void 0&&delete o[i]._visualValues[t]}}}const Hm=n=>n==="reset"||n==="none",fC=(n,e)=>e?n:Object.assign({},n),GQ=(n,e,t)=>n&&!e.hidden&&e._stacked&&{keys:_8(t,!0),values:null};class Rs{constructor(e,t){this.chart=e,this._ctx=e.ctx,this.index=t,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=lC(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&xc(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,t=this._cachedMeta,i=this.getDataset(),s=(u,h,d,g)=>u==="x"?h:u==="r"?g:d,o=t.xAxisID=pt(i.xAxisID,Vm(e,"x")),r=t.yAxisID=pt(i.yAxisID,Vm(e,"y")),l=t.rAxisID=pt(i.rAxisID,Vm(e,"r")),a=t.indexAxis,c=t.iAxisID=s(a,o,r,l),f=t.vAxisID=s(a,r,o,l);t.xScale=this.getScaleForId(o),t.yScale=this.getScaleForId(r),t.rScale=this.getScaleForId(l),t.iScale=this.getScaleForId(c),t.vScale=this.getScaleForId(f)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&US(this._data,this),e._stacked&&xc(e)}_dataCheck(){const e=this.getDataset(),t=e.data||(e.data=[]),i=this._data;if(Rt(t)){const s=this._cachedMeta;this._data=qQ(t,s)}else if(i!==t){if(i){US(i,this);const s=this._cachedMeta;xc(s),s._parsed=[]}t&&Object.isExtensible(t)&&IG(t,this),this._syncList=[],this._data=t}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const t=this._cachedMeta,i=this.getDataset();let s=!1;this._dataCheck();const o=t._stacked;t._stacked=lC(t.vScale,t),t.stack!==i.stack&&(s=!0,xc(t),t.stack=i.stack),this._resyncElements(e),(s||o!==t._stacked)&&cC(this,t._parsed)}configure(){const e=this.chart.config,t=e.datasetScopeKeys(this._type),i=e.getOptionScopes(this.getDataset(),t,!0);this.options=e.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,t){const{_cachedMeta:i,_data:s}=this,{iScale:o,_stacked:r}=i,l=o.axis;let a=e===0&&t===s.length?!0:i._sorted,c=e>0&&i._parsed[e-1],f,u,h;if(this._parsing===!1)i._parsed=s,i._sorted=!0,h=s;else{wn(s[e])?h=this.parseArrayData(i,s,e,t):Rt(s[e])?h=this.parseObjectData(i,s,e,t):h=this.parsePrimitiveData(i,s,e,t);const d=()=>u[l]===null||c&&u[l]<c[l];for(f=0;f<t;++f)i._parsed[f+e]=u=h[f],a&&(d()&&(a=!1),c=u);i._sorted=a}r&&cC(this,h)}parsePrimitiveData(e,t,i,s){const{iScale:o,vScale:r}=e,l=o.axis,a=r.axis,c=o.getLabels(),f=o===r,u=new Array(s);let h,d,g;for(h=0,d=s;h<d;++h)g=h+i,u[h]={[l]:f||o.parse(c[g],g),[a]:r.parse(t[g],g)};return u}parseArrayData(e,t,i,s){const{xScale:o,yScale:r}=e,l=new Array(s);let a,c,f,u;for(a=0,c=s;a<c;++a)f=a+i,u=t[f],l[a]={x:o.parse(u[0],f),y:r.parse(u[1],f)};return l}parseObjectData(e,t,i,s){const{xScale:o,yScale:r}=e,{xAxisKey:l="x",yAxisKey:a="y"}=this._parsing,c=new Array(s);let f,u,h,d;for(f=0,u=s;f<u;++f)h=f+i,d=t[h],c[f]={x:o.parse(jr(d,l),h),y:r.parse(jr(d,a),h)};return c}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,t,i){const s=this.chart,o=this._cachedMeta,r=t[e.axis],l={keys:_8(s,!0),values:t._stacks[e.axis]._visualValues};return rC(l,r,o.index,{mode:i})}updateRangeFromParsed(e,t,i,s){const o=i[t.axis];let r=o===null?NaN:o;const l=s&&i._stacks[t.axis];s&&l&&(s.values=l,r=rC(s,o,this._cachedMeta.index)),e.min=Math.min(e.min,r),e.max=Math.max(e.max,r)}getMinMax(e,t){const i=this._cachedMeta,s=i._parsed,o=i._sorted&&e===i.iScale,r=s.length,l=this._getOtherScale(e),a=GQ(t,i,this.chart),c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:f,max:u}=JQ(l);let h,d;function g(){d=s[h];const m=d[l.axis];return!On(d[e.axis])||f>m||u<m}for(h=0;h<r&&!(!g()&&(this.updateRangeFromParsed(c,e,d,a),o));++h);if(o){for(h=r-1;h>=0;--h)if(!g()){this.updateRangeFromParsed(c,e,d,a);break}}return c}getAllParsedValues(e){const t=this._cachedMeta._parsed,i=[];let s,o,r;for(s=0,o=t.length;s<o;++s)r=t[s][e.axis],On(r)&&i.push(r);return i}getMaxOverflow(){return!1}getLabelAndValue(e){const t=this._cachedMeta,i=t.iScale,s=t.vScale,o=this.getParsed(e);return{label:i?""+i.getLabelForValue(o[i.axis]):"",value:s?""+s.getLabelForValue(o[s.axis]):""}}_update(e){const t=this._cachedMeta;this.update(e||"default"),t._clip=WQ(pt(this.options.clip,HQ(t.xScale,t.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,t=this.chart,i=this._cachedMeta,s=i.data||[],o=t.chartArea,r=[],l=this._drawStart||0,a=this._drawCount||s.length-l,c=this.options.drawActiveElementsOnTop;let f;for(i.dataset&&i.dataset.draw(e,o,l,a),f=l;f<l+a;++f){const u=s[f];u.hidden||(u.active&&c?r.push(u):u.draw(e,o))}for(f=0;f<r.length;++f)r[f].draw(e,o)}getStyle(e,t){const i=t?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(e||0,i)}getContext(e,t,i){const s=this.getDataset();let o;if(e>=0&&e<this._cachedMeta.data.length){const r=this._cachedMeta.data[e];o=r.$context||(r.$context=XQ(this.getContext(),e,r)),o.parsed=this.getParsed(e),o.raw=s.data[e],o.index=o.dataIndex=e}else o=this.$context||(this.$context=YQ(this.chart.getContext(),this.index)),o.dataset=s,o.index=o.datasetIndex=this.index;return o.active=!!t,o.mode=i,o}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)}_resolveElementOptions(e,t="default",i){const s=t==="active",o=this._cachedDataOpts,r=e+"-"+t,l=o[r],a=this.enableOptionSharing&&Bf(i);if(l)return fC(l,a);const c=this.chart.config,f=c.datasetElementScopeKeys(this._type,e),u=s?[`${e}Hover`,"hover",e,""]:[e,""],h=c.getOptionScopes(this.getDataset(),f),d=Object.keys(Pn.elements[e]),g=()=>this.getContext(i,s,t),m=c.resolveNamedOptions(h,d,g,u);return m.$shared&&(m.$shared=a,o[r]=Object.freeze(fC(m,a))),m}_resolveAnimations(e,t,i){const s=this.chart,o=this._cachedDataOpts,r=`animation-${t}`,l=o[r];if(l)return l;let a;if(s.options.animation!==!1){const f=this.chart.config,u=f.datasetAnimationScopeKeys(this._type,t),h=f.getOptionScopes(this.getDataset(),u);a=f.createResolver(h,this.getContext(e,i,t))}const c=new y8(s,a&&a.animations);return a&&a._cacheable&&(o[r]=Object.freeze(c)),c}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,t){return!t||Hm(e)||this.chart._animationsDisabled}_getSharedOptions(e,t){const i=this.resolveDataElementOptions(e,t),s=this._sharedOptions,o=this.getSharedOptions(i),r=this.includeOptions(t,o)||o!==s;return this.updateSharedOptions(o,t,i),{sharedOptions:o,includeOptions:r}}updateElement(e,t,i,s){Hm(s)?Object.assign(e,i):this._resolveAnimations(t,s).update(e,i)}updateSharedOptions(e,t,i){e&&!Hm(t)&&this._resolveAnimations(void 0,t).update(e,i)}_setStyle(e,t,i,s){e.active=s;const o=this.getStyle(t,s);this._resolveAnimations(t,i,s).update(e,{options:!s&&this.getSharedOptions(o)||o})}removeHoverStyle(e,t,i){this._setStyle(e,i,"active",!1)}setHoverStyle(e,t,i){this._setStyle(e,i,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const t=this._data,i=this._cachedMeta.data;for(const[l,a,c]of this._syncList)this[l](a,c);this._syncList=[];const s=i.length,o=t.length,r=Math.min(o,s);r&&this.parse(0,r),o>s?this._insertElements(s,o-s,e):o<s&&this._removeElements(o,s-o)}_insertElements(e,t,i=!0){const s=this._cachedMeta,o=s.data,r=e+t;let l;const a=c=>{for(c.length+=t,l=c.length-1;l>=r;l--)c[l]=c[l-t]};for(a(o),l=e;l<r;++l)o[l]=new this.dataElementType;this._parsing&&a(s._parsed),this.parse(e,t),i&&this.updateElements(o,e,t,"reset")}updateElements(e,t,i,s){}_removeElements(e,t){const i=this._cachedMeta;if(this._parsing){const s=i._parsed.splice(e,t);i._stacked&&xc(i,s)}i.data.splice(e,t)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[t,i,s]=e;this[t](i,s)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,t){t&&this._sync(["_removeElements",e,t]);const i=arguments.length-2;i&&this._sync(["_insertElements",e,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}xe(Rs,"defaults",{}),xe(Rs,"datasetElementType",null),xe(Rs,"dataElementType",null);function QQ(n,e){if(!n._cache.$bar){const t=n.getMatchingVisibleMetas(e);let i=[];for(let s=0,o=t.length;s<o;s++)i=i.concat(t[s].controller.getAllParsedValues(n));n._cache.$bar=$A(i.sort((s,o)=>s-o))}return n._cache.$bar}function ZQ(n){const e=n.iScale,t=QQ(e,n.type);let i=e._length,s,o,r,l;const a=()=>{r===32767||r===-32768||(Bf(l)&&(i=Math.min(i,Math.abs(r-l)||i)),l=r)};for(s=0,o=t.length;s<o;++s)r=e.getPixelForValue(t[s]),a();for(l=void 0,s=0,o=e.ticks.length;s<o;++s)r=e.getPixelForTick(s),a();return i}function $Q(n,e,t,i){const s=t.barThickness;let o,r;return Vt(s)?(o=e.min*t.categoryPercentage,r=t.barPercentage):(o=s*i,r=1),{chunk:o/i,ratio:r,start:e.pixels[n]-o/2}}function eZ(n,e,t,i){const s=e.pixels,o=s[n];let r=n>0?s[n-1]:null,l=n<s.length-1?s[n+1]:null;const a=t.categoryPercentage;r===null&&(r=o-(l===null?e.end-e.start:l-o)),l===null&&(l=o+o-r);const c=o-(o-Math.min(r,l))/2*a;return{chunk:Math.abs(l-r)/2*a/i,ratio:t.barPercentage,start:c}}function tZ(n,e,t,i){const s=t.parse(n[0],i),o=t.parse(n[1],i),r=Math.min(s,o),l=Math.max(s,o);let a=r,c=l;Math.abs(r)>Math.abs(l)&&(a=l,c=r),e[t.axis]=c,e._custom={barStart:a,barEnd:c,start:s,end:o,min:r,max:l}}function w8(n,e,t,i){return wn(n)?tZ(n,e,t,i):e[t.axis]=t.parse(n,i),e}function uC(n,e,t,i){const s=n.iScale,o=n.vScale,r=s.getLabels(),l=s===o,a=[];let c,f,u,h;for(c=t,f=t+i;c<f;++c)h=e[c],u={},u[s.axis]=l||s.parse(r[c],c),a.push(w8(h,u,o,c));return a}function Wm(n){return n&&n.barStart!==void 0&&n.barEnd!==void 0}function nZ(n,e,t){return n!==0?ho(n):(e.isHorizontal()?1:-1)*(e.min>=t?1:-1)}function iZ(n){let e,t,i,s,o;return n.horizontal?(e=n.base>n.x,t="left",i="right"):(e=n.base<n.y,t="bottom",i="top"),e?(s="end",o="start"):(s="start",o="end"),{start:t,end:i,reverse:e,top:s,bottom:o}}function sZ(n,e,t,i){let s=e.borderSkipped;const o={};if(!s){n.borderSkipped=o;return}if(s===!0){n.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:r,end:l,reverse:a,top:c,bottom:f}=iZ(n);s==="middle"&&t&&(n.enableBorderRadius=!0,(t._top||0)===i?s=c:(t._bottom||0)===i?s=f:(o[hC(f,r,l,a)]=!0,s=c)),o[hC(s,r,l,a)]=!0,n.borderSkipped=o}function hC(n,e,t,i){return i?(n=oZ(n,e,t),n=dC(n,t,e)):n=dC(n,e,t),n}function oZ(n,e,t){return n===e?t:n===t?e:n}function dC(n,e,t){return n==="start"?e:n==="end"?t:n}function rZ(n,{inflateAmount:e},t){n.inflateAmount=e==="auto"?t===1?.33:0:e}class Rh extends Rs{parsePrimitiveData(e,t,i,s){return uC(e,t,i,s)}parseArrayData(e,t,i,s){return uC(e,t,i,s)}parseObjectData(e,t,i,s){const{iScale:o,vScale:r}=e,{xAxisKey:l="x",yAxisKey:a="y"}=this._parsing,c=o.axis==="x"?l:a,f=r.axis==="x"?l:a,u=[];let h,d,g,m;for(h=i,d=i+s;h<d;++h)m=t[h],g={},g[o.axis]=o.parse(jr(m,c),h),u.push(w8(jr(m,f),g,r,h));return u}updateRangeFromParsed(e,t,i,s){super.updateRangeFromParsed(e,t,i,s);const o=i._custom;o&&t===this._cachedMeta.vScale&&(e.min=Math.min(e.min,o.min),e.max=Math.max(e.max,o.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const t=this._cachedMeta,{iScale:i,vScale:s}=t,o=this.getParsed(e),r=o._custom,l=Wm(r)?"["+r.start+", "+r.end+"]":""+s.getLabelForValue(o[s.axis]);return{label:""+i.getLabelForValue(o[i.axis]),value:l}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const t=this._cachedMeta;this.updateElements(t.data,0,t.data.length,e)}updateElements(e,t,i,s){const o=s==="reset",{index:r,_cachedMeta:{vScale:l}}=this,a=l.getBasePixel(),c=l.isHorizontal(),f=this._getRuler(),{sharedOptions:u,includeOptions:h}=this._getSharedOptions(t,s);for(let d=t;d<t+i;d++){const g=this.getParsed(d),m=o||Vt(g[l.axis])?{base:a,head:a}:this._calculateBarValuePixels(d),p=this._calculateBarIndexPixels(d,f),b=(g._stacks||{})[l.axis],y={horizontal:c,base:m.base,enableBorderRadius:!b||Wm(g._custom)||r===b._top||r===b._bottom,x:c?m.head:p.center,y:c?p.center:m.head,height:c?p.size:Math.abs(m.size),width:c?Math.abs(m.size):p.size};h&&(y.options=u||this.resolveDataElementOptions(d,e[d].active?"active":s));const v=y.options||e[d].options;sZ(y,v,b,r),rZ(y,v,f.ratio),this.updateElement(e[d],d,y,s)}}_getStacks(e,t){const{iScale:i}=this._cachedMeta,s=i.getMatchingVisibleMetas(this._type).filter(f=>f.controller.options.grouped),o=i.options.stacked,r=[],l=this._cachedMeta.controller.getParsed(t),a=l&&l[i.axis],c=f=>{const u=f._parsed.find(d=>d[i.axis]===a),h=u&&u[f.vScale.axis];if(Vt(h)||isNaN(h))return!0};for(const f of s)if(!(t!==void 0&&c(f))&&((o===!1||r.indexOf(f.stack)===-1||o===void 0&&f.stack===void 0)&&r.push(f.stack),f.index===e))break;return r.length||r.push(void 0),r}_getStackCount(e){return this._getStacks(void 0,e).length}_getStackIndex(e,t,i){const s=this._getStacks(e,i),o=t!==void 0?s.indexOf(t):-1;return o===-1?s.length-1:o}_getRuler(){const e=this.options,t=this._cachedMeta,i=t.iScale,s=[];let o,r;for(o=0,r=t.data.length;o<r;++o)s.push(i.getPixelForValue(this.getParsed(o)[i.axis],o));const l=e.barThickness;return{min:l||ZQ(t),pixels:s,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:e.grouped,ratio:l?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:t,_stacked:i,index:s},options:{base:o,minBarLength:r}}=this,l=o||0,a=this.getParsed(e),c=a._custom,f=Wm(c);let u=a[t.axis],h=0,d=i?this.applyStack(t,a,i):u,g,m;d!==u&&(h=d-u,d=u),f&&(u=c.barStart,d=c.barEnd-c.barStart,u!==0&&ho(u)!==ho(c.barEnd)&&(h=0),h+=u);const p=!Vt(o)&&!f?o:h;let b=t.getPixelForValue(p);if(this.chart.getDataVisibility(e)?g=t.getPixelForValue(h+d):g=b,m=g-b,Math.abs(m)<r){m=nZ(m,t,l)*r,u===l&&(b-=m/2);const y=t.getPixelForDecimal(0),v=t.getPixelForDecimal(1),C=Math.min(y,v),w=Math.max(y,v);b=Math.max(Math.min(b,w),C),g=b+m,i&&!f&&(a._stacks[t.axis]._visualValues[s]=t.getValueForPixel(g)-t.getValueForPixel(b))}if(b===t.getPixelForValue(l)){const y=ho(m)*t.getLineWidthForValue(l)/2;b+=y,m-=y}return{size:m,base:b,head:g,center:g+m/2}}_calculateBarIndexPixels(e,t){const i=t.scale,s=this.options,o=s.skipNull,r=pt(s.maxBarThickness,1/0);let l,a;if(t.grouped){const c=o?this._getStackCount(e):t.stackCount,f=s.barThickness==="flex"?eZ(e,t,s,c):$Q(e,t,s,c),u=this._getStackIndex(this.index,this._cachedMeta.stack,o?e:void 0);l=f.start+f.chunk*u+f.chunk/2,a=Math.min(r,f.chunk*f.ratio)}else l=i.getPixelForValue(this.getParsed(e)[i.axis],e),a=Math.min(r,t.min*t.ratio);return{base:l-a/2,head:l+a/2,center:l,size:a}}draw(){const e=this._cachedMeta,t=e.vScale,i=e.data,s=i.length;let o=0;for(;o<s;++o)this.getParsed(o)[t.axis]!==null&&!i[o].hidden&&i[o].draw(this._ctx)}}xe(Rh,"id","bar"),xe(Rh,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),xe(Rh,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class Dh extends Rs{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,t,i,s){const o=super.parsePrimitiveData(e,t,i,s);for(let r=0;r<o.length;r++)o[r]._custom=this.resolveDataElementOptions(r+i).radius;return o}parseArrayData(e,t,i,s){const o=super.parseArrayData(e,t,i,s);for(let r=0;r<o.length;r++){const l=t[i+r];o[r]._custom=pt(l[2],this.resolveDataElementOptions(r+i).radius)}return o}parseObjectData(e,t,i,s){const o=super.parseObjectData(e,t,i,s);for(let r=0;r<o.length;r++){const l=t[i+r];o[r]._custom=pt(l&&l.r&&+l.r,this.resolveDataElementOptions(r+i).radius)}return o}getMaxOverflow(){const e=this._cachedMeta.data;let t=0;for(let i=e.length-1;i>=0;--i)t=Math.max(t,e[i].size(this.resolveDataElementOptions(i))/2);return t>0&&t}getLabelAndValue(e){const t=this._cachedMeta,i=this.chart.data.labels||[],{xScale:s,yScale:o}=t,r=this.getParsed(e),l=s.getLabelForValue(r.x),a=o.getLabelForValue(r.y),c=r._custom;return{label:i[e]||"",value:"("+l+", "+a+(c?", "+c:"")+")"}}update(e){const t=this._cachedMeta.data;this.updateElements(t,0,t.length,e)}updateElements(e,t,i,s){const o=s==="reset",{iScale:r,vScale:l}=this._cachedMeta,{sharedOptions:a,includeOptions:c}=this._getSharedOptions(t,s),f=r.axis,u=l.axis;for(let h=t;h<t+i;h++){const d=e[h],g=!o&&this.getParsed(h),m={},p=m[f]=o?r.getPixelForDecimal(.5):r.getPixelForValue(g[f]),b=m[u]=o?l.getBasePixel():l.getPixelForValue(g[u]);m.skip=isNaN(p)||isNaN(b),c&&(m.options=a||this.resolveDataElementOptions(h,d.active?"active":s),o&&(m.options.radius=0)),this.updateElement(d,h,m,s)}}resolveDataElementOptions(e,t){const i=this.getParsed(e);let s=super.resolveDataElementOptions(e,t);s.$shared&&(s=Object.assign({},s,{$shared:!1}));const o=s.radius;return t!=="active"&&(s.radius=0),s.radius+=pt(i&&i._custom,o),s}}xe(Dh,"id","bubble"),xe(Dh,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),xe(Dh,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});function lZ(n,e,t){let i=1,s=1,o=0,r=0;if(e<gn){const l=n,a=l+e,c=Math.cos(l),f=Math.sin(l),u=Math.cos(a),h=Math.sin(a),d=(v,C,w)=>jf(v,l,a,!0)?1:Math.max(C,C*t,w,w*t),g=(v,C,w)=>jf(v,l,a,!0)?-1:Math.min(C,C*t,w,w*t),m=d(0,c,u),p=d(In,f,h),b=g(mn,c,u),y=g(mn+In,f,h);i=(m-b)/2,s=(p-y)/2,o=-(m+b)/2,r=-(p+y)/2}return{ratioX:i,ratioY:s,offsetX:o,offsetY:r}}class dl extends Rs{constructor(e,t){super(e,t),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,t){const i=this.getDataset().data,s=this._cachedMeta;if(this._parsing===!1)s._parsed=i;else{let o=a=>+i[a];if(Rt(i[e])){const{key:a="value"}=this._parsing;o=c=>+jr(i[c],a)}let r,l;for(r=e,l=e+t;r<l;++r)s._parsed[r]=o(r)}}_getRotation(){return Os(this.options.rotation-90)}_getCircumference(){return Os(this.options.circumference)}_getRotationExtents(){let e=gn,t=-gn;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)&&this.chart.getDatasetMeta(i).type===this._type){const s=this.chart.getDatasetMeta(i).controller,o=s._getRotation(),r=s._getCircumference();e=Math.min(e,o),t=Math.max(t,o+r)}return{rotation:e,circumference:t-e}}update(e){const t=this.chart,{chartArea:i}=t,s=this._cachedMeta,o=s.data,r=this.getMaxBorderWidth()+this.getMaxOffset(o)+this.options.spacing,l=Math.max((Math.min(i.width,i.height)-r)/2,0),a=Math.min(vG(this.options.cutout,l),1),c=this._getRingWeight(this.index),{circumference:f,rotation:u}=this._getRotationExtents(),{ratioX:h,ratioY:d,offsetX:g,offsetY:m}=lZ(u,f,a),p=(i.width-r)/h,b=(i.height-r)/d,y=Math.max(Math.min(p,b)/2,0),v=YA(this.options.radius,y),C=Math.max(v*a,0),w=(v-C)/this._getVisibleDatasetWeightTotal();this.offsetX=g*v,this.offsetY=m*v,s.total=this.calculateTotal(),this.outerRadius=v-w*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-w*c,0),this.updateElements(o,0,o.length,e)}_circumference(e,t){const i=this.options,s=this._cachedMeta,o=this._getCircumference();return t&&i.animation.animateRotate||!this.chart.getDataVisibility(e)||s._parsed[e]===null||s.data[e].hidden?0:this.calculateCircumference(s._parsed[e]*o/gn)}updateElements(e,t,i,s){const o=s==="reset",r=this.chart,l=r.chartArea,c=r.options.animation,f=(l.left+l.right)/2,u=(l.top+l.bottom)/2,h=o&&c.animateScale,d=h?0:this.innerRadius,g=h?0:this.outerRadius,{sharedOptions:m,includeOptions:p}=this._getSharedOptions(t,s);let b=this._getRotation(),y;for(y=0;y<t;++y)b+=this._circumference(y,o);for(y=t;y<t+i;++y){const v=this._circumference(y,o),C=e[y],w={x:f+this.offsetX,y:u+this.offsetY,startAngle:b,endAngle:b+v,circumference:v,outerRadius:g,innerRadius:d};p&&(w.options=m||this.resolveDataElementOptions(y,C.active?"active":s)),b+=v,this.updateElement(C,y,w,s)}}calculateTotal(){const e=this._cachedMeta,t=e.data;let i=0,s;for(s=0;s<t.length;s++){const o=e._parsed[s];o!==null&&!isNaN(o)&&this.chart.getDataVisibility(s)&&!t[s].hidden&&(i+=Math.abs(o))}return i}calculateCircumference(e){const t=this._cachedMeta.total;return t>0&&!isNaN(e)?gn*(Math.abs(e)/t):0}getLabelAndValue(e){const t=this._cachedMeta,i=this.chart,s=i.data.labels||[],o=cu(t._parsed[e],i.options.locale);return{label:s[e]||"",value:o}}getMaxBorderWidth(e){let t=0;const i=this.chart;let s,o,r,l,a;if(!e){for(s=0,o=i.data.datasets.length;s<o;++s)if(i.isDatasetVisible(s)){r=i.getDatasetMeta(s),e=r.data,l=r.controller;break}}if(!e)return 0;for(s=0,o=e.length;s<o;++s)a=l.resolveDataElementOptions(s),a.borderAlign!=="inner"&&(t=Math.max(t,a.borderWidth||0,a.hoverBorderWidth||0));return t}getMaxOffset(e){let t=0;for(let i=0,s=e.length;i<s;++i){const o=this.resolveDataElementOptions(i);t=Math.max(t,o.offset||0,o.hoverOffset||0)}return t}_getRingWeightOffset(e){let t=0;for(let i=0;i<e;++i)this.chart.isDatasetVisible(i)&&(t+=this._getRingWeight(i));return t}_getRingWeight(e){return Math.max(pt(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}xe(dl,"id","doughnut"),xe(dl,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),xe(dl,"descriptors",{_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),xe(dl,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:i,color:s}}=e.legend.options;return t.labels.map((o,r)=>{const a=e.getDatasetMeta(0).controller.getStyle(r);return{text:o,fillStyle:a.backgroundColor,strokeStyle:a.borderColor,fontColor:s,lineWidth:a.borderWidth,pointStyle:i,hidden:!e.getDataVisibility(r),index:r}})}return[]}},onClick(e,t,i){i.chart.toggleDataVisibility(t.index),i.chart.update()}}}});class Lh extends Rs{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const t=this._cachedMeta,{dataset:i,data:s=[],_dataset:o}=t,r=this.chart._animationsDisabled;let{start:l,count:a}=n8(t,s,r);this._drawStart=l,this._drawCount=a,i8(t)&&(l=0,a=s.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!o._decimated,i.points=s;const c=this.resolveDatasetElementOptions(e);this.options.showLine||(c.borderWidth=0),c.segment=this.options.segment,this.updateElement(i,void 0,{animated:!r,options:c},e),this.updateElements(s,l,a,e)}updateElements(e,t,i,s){const o=s==="reset",{iScale:r,vScale:l,_stacked:a,_dataset:c}=this._cachedMeta,{sharedOptions:f,includeOptions:u}=this._getSharedOptions(t,s),h=r.axis,d=l.axis,{spanGaps:g,segment:m}=this.options,p=Za(g)?g:Number.POSITIVE_INFINITY,b=this.chart._animationsDisabled||o||s==="none",y=t+i,v=e.length;let C=t>0&&this.getParsed(t-1);for(let w=0;w<v;++w){const S=e[w],x=b?S:{};if(w<t||w>=y){x.skip=!0;continue}const T=this.getParsed(w),P=Vt(T[d]),D=x[h]=r.getPixelForValue(T[h],w),O=x[d]=o||P?l.getBasePixel():l.getPixelForValue(a?this.applyStack(l,T,a):T[d],w);x.skip=isNaN(D)||isNaN(O)||P,x.stop=w>0&&Math.abs(T[h]-C[h])>p,m&&(x.parsed=T,x.raw=c.data[w]),u&&(x.options=f||this.resolveDataElementOptions(w,S.active?"active":s)),b||this.updateElement(S,w,x,s),C=T}}getMaxOverflow(){const e=this._cachedMeta,t=e.dataset,i=t.options&&t.options.borderWidth||0,s=e.data||[];if(!s.length)return i;const o=s[0].size(this.resolveDataElementOptions(0)),r=s[s.length-1].size(this.resolveDataElementOptions(s.length-1));return Math.max(i,o,r)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}xe(Lh,"id","line"),xe(Lh,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),xe(Lh,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class rf extends Rs{constructor(e,t){super(e,t),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){const t=this._cachedMeta,i=this.chart,s=i.data.labels||[],o=cu(t._parsed[e].r,i.options.locale);return{label:s[e]||"",value:o}}parseObjectData(e,t,i,s){return u8.bind(this)(e,t,i,s)}update(e){const t=this._cachedMeta.data;this._updateRadius(),this.updateElements(t,0,t.length,e)}getMinMax(){const e=this._cachedMeta,t={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return e.data.forEach((i,s)=>{const o=this.getParsed(s).r;!isNaN(o)&&this.chart.getDataVisibility(s)&&(o<t.min&&(t.min=o),o>t.max&&(t.max=o))}),t}_updateRadius(){const e=this.chart,t=e.chartArea,i=e.options,s=Math.min(t.right-t.left,t.bottom-t.top),o=Math.max(s/2,0),r=Math.max(i.cutoutPercentage?o/100*i.cutoutPercentage:1,0),l=(o-r)/e.getVisibleDatasetCount();this.outerRadius=o-l*this.index,this.innerRadius=this.outerRadius-l}updateElements(e,t,i,s){const o=s==="reset",r=this.chart,a=r.options.animation,c=this._cachedMeta.rScale,f=c.xCenter,u=c.yCenter,h=c.getIndexAngle(0)-.5*mn;let d=h,g;const m=360/this.countVisibleElements();for(g=0;g<t;++g)d+=this._computeAngle(g,s,m);for(g=t;g<t+i;g++){const p=e[g];let b=d,y=d+this._computeAngle(g,s,m),v=r.getDataVisibility(g)?c.getDistanceFromCenterForValue(this.getParsed(g).r):0;d=y,o&&(a.animateScale&&(v=0),a.animateRotate&&(b=y=h));const C={x:f,y:u,innerRadius:0,outerRadius:v,startAngle:b,endAngle:y,options:this.resolveDataElementOptions(g,p.active?"active":s)};this.updateElement(p,g,C,s)}}countVisibleElements(){const e=this._cachedMeta;let t=0;return e.data.forEach((i,s)=>{!isNaN(this.getParsed(s).r)&&this.chart.getDataVisibility(s)&&t++}),t}_computeAngle(e,t,i){return this.chart.getDataVisibility(e)?Os(this.resolveDataElementOptions(e,t).angle||i):0}}xe(rf,"id","polarArea"),xe(rf,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),xe(rf,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:i,color:s}}=e.legend.options;return t.labels.map((o,r)=>{const a=e.getDatasetMeta(0).controller.getStyle(r);return{text:o,fillStyle:a.backgroundColor,strokeStyle:a.borderColor,fontColor:s,lineWidth:a.borderWidth,pointStyle:i,hidden:!e.getDataVisibility(r),index:r}})}return[]}},onClick(e,t,i){i.chart.toggleDataVisibility(t.index),i.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});class D1 extends dl{}xe(D1,"id","pie"),xe(D1,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});class Ih extends Rs{getLabelAndValue(e){const t=this._cachedMeta.vScale,i=this.getParsed(e);return{label:t.getLabels()[e],value:""+t.getLabelForValue(i[t.axis])}}parseObjectData(e,t,i,s){return u8.bind(this)(e,t,i,s)}update(e){const t=this._cachedMeta,i=t.dataset,s=t.data||[],o=t.iScale.getLabels();if(i.points=s,e!=="resize"){const r=this.resolveDatasetElementOptions(e);this.options.showLine||(r.borderWidth=0);const l={_loop:!0,_fullLoop:o.length===s.length,options:r};this.updateElement(i,void 0,l,e)}this.updateElements(s,0,s.length,e)}updateElements(e,t,i,s){const o=this._cachedMeta.rScale,r=s==="reset";for(let l=t;l<t+i;l++){const a=e[l],c=this.resolveDataElementOptions(l,a.active?"active":s),f=o.getPointPositionForValue(l,this.getParsed(l).r),u=r?o.xCenter:f.x,h=r?o.yCenter:f.y,d={x:u,y:h,angle:f.angle,skip:isNaN(u)||isNaN(h),options:c};this.updateElement(a,l,d,s)}}}xe(Ih,"id","radar"),xe(Ih,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),xe(Ih,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});class Nh extends Rs{getLabelAndValue(e){const t=this._cachedMeta,i=this.chart.data.labels||[],{xScale:s,yScale:o}=t,r=this.getParsed(e),l=s.getLabelForValue(r.x),a=o.getLabelForValue(r.y);return{label:i[e]||"",value:"("+l+", "+a+")"}}update(e){const t=this._cachedMeta,{data:i=[]}=t,s=this.chart._animationsDisabled;let{start:o,count:r}=n8(t,i,s);if(this._drawStart=o,this._drawCount=r,i8(t)&&(o=0,r=i.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:l,_dataset:a}=t;l._chart=this.chart,l._datasetIndex=this.index,l._decimated=!!a._decimated,l.points=i;const c=this.resolveDatasetElementOptions(e);c.segment=this.options.segment,this.updateElement(l,void 0,{animated:!s,options:c},e)}else this.datasetElementType&&(delete t.dataset,this.datasetElementType=!1);this.updateElements(i,o,r,e)}addElements(){const{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(e,t,i,s){const o=s==="reset",{iScale:r,vScale:l,_stacked:a,_dataset:c}=this._cachedMeta,f=this.resolveDataElementOptions(t,s),u=this.getSharedOptions(f),h=this.includeOptions(s,u),d=r.axis,g=l.axis,{spanGaps:m,segment:p}=this.options,b=Za(m)?m:Number.POSITIVE_INFINITY,y=this.chart._animationsDisabled||o||s==="none";let v=t>0&&this.getParsed(t-1);for(let C=t;C<t+i;++C){const w=e[C],S=this.getParsed(C),x=y?w:{},T=Vt(S[g]),P=x[d]=r.getPixelForValue(S[d],C),D=x[g]=o||T?l.getBasePixel():l.getPixelForValue(a?this.applyStack(l,S,a):S[g],C);x.skip=isNaN(P)||isNaN(D)||T,x.stop=C>0&&Math.abs(S[d]-v[d])>b,p&&(x.parsed=S,x.raw=c.data[C]),h&&(x.options=u||this.resolveDataElementOptions(C,w.active?"active":s)),y||this.updateElement(w,C,x,s),v=S}this.updateSharedOptions(u,s,f)}getMaxOverflow(){const e=this._cachedMeta,t=e.data||[];if(!this.options.showLine){let l=0;for(let a=t.length-1;a>=0;--a)l=Math.max(l,t[a].size(this.resolveDataElementOptions(a))/2);return l>0&&l}const i=e.dataset,s=i.options&&i.options.borderWidth||0;if(!t.length)return s;const o=t[0].size(this.resolveDataElementOptions(0)),r=t[t.length-1].size(this.resolveDataElementOptions(t.length-1));return Math.max(s,o,r)/2}}xe(Nh,"id","scatter"),xe(Nh,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),xe(Nh,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});var aZ=Object.freeze({__proto__:null,BarController:Rh,BubbleController:Dh,DoughnutController:dl,LineController:Lh,PieController:D1,PolarAreaController:rf,RadarController:Ih,ScatterController:Nh});function nl(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Bb{constructor(e){xe(this,"options");this.options=e||{}}static override(e){Object.assign(Bb.prototype,e)}init(){}formats(){return nl()}parse(){return nl()}format(){return nl()}add(){return nl()}diff(){return nl()}startOf(){return nl()}endOf(){return nl()}}var cZ={_date:Bb};function fZ(n,e,t,i){const{controller:s,data:o,_sorted:r}=n,l=s._cachedMeta.iScale;if(l&&e===l.axis&&e!=="r"&&r&&o.length){const a=l._reversePixels?DG:Io;if(i){if(s._sharedOptions){const c=o[0],f=typeof c.getRange=="function"&&c.getRange(e);if(f){const u=a(o,e,t-f),h=a(o,e,t+f);return{lo:u.lo,hi:h.hi}}}}else return a(o,e,t)}return{lo:0,hi:o.length-1}}function fu(n,e,t,i,s){const o=n.getSortedVisibleDatasetMetas(),r=t[e];for(let l=0,a=o.length;l<a;++l){const{index:c,data:f}=o[l],{lo:u,hi:h}=fZ(o[l],e,r,s);for(let d=u;d<=h;++d){const g=f[d];g.skip||i(g,c,d)}}}function uZ(n){const e=n.indexOf("x")!==-1,t=n.indexOf("y")!==-1;return function(i,s){const o=e?Math.abs(i.x-s.x):0,r=t?Math.abs(i.y-s.y):0;return Math.sqrt(Math.pow(o,2)+Math.pow(r,2))}}function qm(n,e,t,i,s){const o=[];return!s&&!n.isPointInArea(e)||fu(n,t,e,function(l,a,c){!s&&!No(l,n.chartArea,0)||l.inRange(e.x,e.y,i)&&o.push({element:l,datasetIndex:a,index:c})},!0),o}function hZ(n,e,t,i){let s=[];function o(r,l,a){const{startAngle:c,endAngle:f}=r.getProps(["startAngle","endAngle"],i),{angle:u}=QA(r,{x:e.x,y:e.y});jf(u,c,f)&&s.push({element:r,datasetIndex:l,index:a})}return fu(n,t,e,o),s}function dZ(n,e,t,i,s,o){let r=[];const l=uZ(t);let a=Number.POSITIVE_INFINITY;function c(f,u,h){const d=f.inRange(e.x,e.y,s);if(i&&!d)return;const g=f.getCenterPoint(s);if(!(!!o||n.isPointInArea(g))&&!d)return;const p=l(e,g);p<a?(r=[{element:f,datasetIndex:u,index:h}],a=p):p===a&&r.push({element:f,datasetIndex:u,index:h})}return fu(n,t,e,c),r}function Um(n,e,t,i,s,o){return!o&&!n.isPointInArea(e)?[]:t==="r"&&!i?hZ(n,e,t,s):dZ(n,e,t,i,s,o)}function gC(n,e,t,i,s){const o=[],r=t==="x"?"inXRange":"inYRange";let l=!1;return fu(n,t,e,(a,c,f)=>{a[r]&&a[r](e[t],s)&&(o.push({element:a,datasetIndex:c,index:f}),l=l||a.inRange(e.x,e.y,s))}),i&&!l?[]:o}var gZ={evaluateInteractionItems:fu,modes:{index(n,e,t,i){const s=sl(e,n),o=t.axis||"x",r=t.includeInvisible||!1,l=t.intersect?qm(n,s,o,i,r):Um(n,s,o,!1,i,r),a=[];return l.length?(n.getSortedVisibleDatasetMetas().forEach(c=>{const f=l[0].index,u=c.data[f];u&&!u.skip&&a.push({element:u,datasetIndex:c.index,index:f})}),a):[]},dataset(n,e,t,i){const s=sl(e,n),o=t.axis||"xy",r=t.includeInvisible||!1;let l=t.intersect?qm(n,s,o,i,r):Um(n,s,o,!1,i,r);if(l.length>0){const a=l[0].datasetIndex,c=n.getDatasetMeta(a).data;l=[];for(let f=0;f<c.length;++f)l.push({element:c[f],datasetIndex:a,index:f})}return l},point(n,e,t,i){const s=sl(e,n),o=t.axis||"xy",r=t.includeInvisible||!1;return qm(n,s,o,i,r)},nearest(n,e,t,i){const s=sl(e,n),o=t.axis||"xy",r=t.includeInvisible||!1;return Um(n,s,o,t.intersect,i,r)},x(n,e,t,i){const s=sl(e,n);return gC(n,s,"x",t.intersect,i)},y(n,e,t,i){const s=sl(e,n);return gC(n,s,"y",t.intersect,i)}}};const v8=["left","top","right","bottom"];function Oc(n,e){return n.filter(t=>t.pos===e)}function mC(n,e){return n.filter(t=>v8.indexOf(t.pos)===-1&&t.box.axis===e)}function Pc(n,e){return n.sort((t,i)=>{const s=e?i:t,o=e?t:i;return s.weight===o.weight?s.index-o.index:s.weight-o.weight})}function mZ(n){const e=[];let t,i,s,o,r,l;for(t=0,i=(n||[]).length;t<i;++t)s=n[t],{position:o,options:{stack:r,stackWeight:l=1}}=s,e.push({index:t,box:s,pos:o,horizontal:s.isHorizontal(),weight:s.weight,stack:r&&o+r,stackWeight:l});return e}function pZ(n){const e={};for(const t of n){const{stack:i,pos:s,stackWeight:o}=t;if(!i||!v8.includes(s))continue;const r=e[i]||(e[i]={count:0,placed:0,weight:0,size:0});r.count++,r.weight+=o}return e}function bZ(n,e){const t=pZ(n),{vBoxMaxWidth:i,hBoxMaxHeight:s}=e;let o,r,l;for(o=0,r=n.length;o<r;++o){l=n[o];const{fullSize:a}=l.box,c=t[l.stack],f=c&&l.stackWeight/c.weight;l.horizontal?(l.width=f?f*i:a&&e.availableWidth,l.height=s):(l.width=i,l.height=f?f*s:a&&e.availableHeight)}return t}function yZ(n){const e=mZ(n),t=Pc(e.filter(c=>c.box.fullSize),!0),i=Pc(Oc(e,"left"),!0),s=Pc(Oc(e,"right")),o=Pc(Oc(e,"top"),!0),r=Pc(Oc(e,"bottom")),l=mC(e,"x"),a=mC(e,"y");return{fullSize:t,leftAndTop:i.concat(o),rightAndBottom:s.concat(a).concat(r).concat(l),chartArea:Oc(e,"chartArea"),vertical:i.concat(s).concat(a),horizontal:o.concat(r).concat(l)}}function pC(n,e,t,i){return Math.max(n[t],e[t])+Math.max(n[i],e[i])}function k8(n,e){n.top=Math.max(n.top,e.top),n.left=Math.max(n.left,e.left),n.bottom=Math.max(n.bottom,e.bottom),n.right=Math.max(n.right,e.right)}function _Z(n,e,t,i){const{pos:s,box:o}=t,r=n.maxPadding;if(!Rt(s)){t.size&&(n[s]-=t.size);const u=i[t.stack]||{size:0,count:1};u.size=Math.max(u.size,t.horizontal?o.height:o.width),t.size=u.size/u.count,n[s]+=t.size}o.getPadding&&k8(r,o.getPadding());const l=Math.max(0,e.outerWidth-pC(r,n,"left","right")),a=Math.max(0,e.outerHeight-pC(r,n,"top","bottom")),c=l!==n.w,f=a!==n.h;return n.w=l,n.h=a,t.horizontal?{same:c,other:f}:{same:f,other:c}}function wZ(n){const e=n.maxPadding;function t(i){const s=Math.max(e[i]-n[i],0);return n[i]+=s,s}n.y+=t("top"),n.x+=t("left"),t("right"),t("bottom")}function vZ(n,e){const t=e.maxPadding;function i(s){const o={left:0,top:0,right:0,bottom:0};return s.forEach(r=>{o[r]=Math.max(e[r],t[r])}),o}return i(n?["left","right"]:["top","bottom"])}function Vc(n,e,t,i){const s=[];let o,r,l,a,c,f;for(o=0,r=n.length,c=0;o<r;++o){l=n[o],a=l.box,a.update(l.width||e.w,l.height||e.h,vZ(l.horizontal,e));const{same:u,other:h}=_Z(e,t,l,i);c|=u&&s.length,f=f||h,a.fullSize||s.push(l)}return c&&Vc(s,e,t,i)||f}function lh(n,e,t,i,s){n.top=t,n.left=e,n.right=e+i,n.bottom=t+s,n.width=i,n.height=s}function bC(n,e,t,i){const s=t.padding;let{x:o,y:r}=e;for(const l of n){const a=l.box,c=i[l.stack]||{count:1,placed:0,weight:1},f=l.stackWeight/c.weight||1;if(l.horizontal){const u=e.w*f,h=c.size||a.height;Bf(c.start)&&(r=c.start),a.fullSize?lh(a,s.left,r,t.outerWidth-s.right-s.left,h):lh(a,e.left+c.placed,r,u,h),c.start=r,c.placed+=u,r=a.bottom}else{const u=e.h*f,h=c.size||a.width;Bf(c.start)&&(o=c.start),a.fullSize?lh(a,o,s.top,h,t.outerHeight-s.bottom-s.top):lh(a,o,e.top+c.placed,h,u),c.start=o,c.placed+=u,o=a.right}}e.x=o,e.y=r}var mi={addBox(n,e){n.boxes||(n.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(t){e.draw(t)}}]},n.boxes.push(e)},removeBox(n,e){const t=n.boxes?n.boxes.indexOf(e):-1;t!==-1&&n.boxes.splice(t,1)},configure(n,e,t){e.fullSize=t.fullSize,e.position=t.position,e.weight=t.weight},update(n,e,t,i){if(!n)return;const s=Si(n.options.layout.padding),o=Math.max(e-s.width,0),r=Math.max(t-s.height,0),l=yZ(n.boxes),a=l.vertical,c=l.horizontal;$t(n.boxes,m=>{typeof m.beforeLayout=="function"&&m.beforeLayout()});const f=a.reduce((m,p)=>p.box.options&&p.box.options.display===!1?m:m+1,0)||1,u=Object.freeze({outerWidth:e,outerHeight:t,padding:s,availableWidth:o,availableHeight:r,vBoxMaxWidth:o/2/f,hBoxMaxHeight:r/2}),h=Object.assign({},s);k8(h,Si(i));const d=Object.assign({maxPadding:h,w:o,h:r,x:s.left,y:s.top},s),g=bZ(a.concat(c),u);Vc(l.fullSize,d,u,g),Vc(a,d,u,g),Vc(c,d,u,g)&&Vc(a,d,u,g),wZ(d),bC(l.leftAndTop,d,u,g),d.x+=d.w,d.y+=d.h,bC(l.rightAndBottom,d,u,g),n.chartArea={left:d.left,top:d.top,right:d.left+d.w,bottom:d.top+d.h,height:d.h,width:d.w},$t(l.chartArea,m=>{const p=m.box;Object.assign(p,n.chartArea),p.update(d.w,d.h,{left:0,top:0,right:0,bottom:0})})}};class S8{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,i){}removeEventListener(e,t,i){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,i,s){return t=Math.max(0,t||e.width),i=i||e.height,{width:t,height:Math.max(0,s?Math.floor(t/s):i)}}isAttached(e){return!0}updateConfig(e){}}class kZ extends S8{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const Bh="$chartjs",SZ={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},yC=n=>n===null||n==="";function CZ(n,e){const t=n.style,i=n.getAttribute("height"),s=n.getAttribute("width");if(n[Bh]={initial:{height:i,width:s,style:{display:t.display,height:t.height,width:t.width}}},t.display=t.display||"block",t.boxSizing=t.boxSizing||"border-box",yC(s)){const o=eC(n,"width");o!==void 0&&(n.width=o)}if(yC(i))if(n.style.height==="")n.height=n.width/(e||2);else{const o=eC(n,"height");o!==void 0&&(n.height=o)}return n}const C8=AQ?{passive:!0}:!1;function MZ(n,e,t){n&&n.addEventListener(e,t,C8)}function AZ(n,e,t){n&&n.canvas&&n.canvas.removeEventListener(e,t,C8)}function xZ(n,e){const t=SZ[n.type]||n.type,{x:i,y:s}=sl(n,e);return{type:t,chart:e,native:n,x:i!==void 0?i:null,y:s!==void 0?s:null}}function Wd(n,e){for(const t of n)if(t===e||t.contains(e))return!0}function OZ(n,e,t){const i=n.canvas,s=new MutationObserver(o=>{let r=!1;for(const l of o)r=r||Wd(l.addedNodes,i),r=r&&!Wd(l.removedNodes,i);r&&t()});return s.observe(document,{childList:!0,subtree:!0}),s}function PZ(n,e,t){const i=n.canvas,s=new MutationObserver(o=>{let r=!1;for(const l of o)r=r||Wd(l.removedNodes,i),r=r&&!Wd(l.addedNodes,i);r&&t()});return s.observe(document,{childList:!0,subtree:!0}),s}const Ff=new Map;let _C=0;function M8(){const n=window.devicePixelRatio;n!==_C&&(_C=n,Ff.forEach((e,t)=>{t.currentDevicePixelRatio!==n&&e()}))}function TZ(n,e){Ff.size||window.addEventListener("resize",M8),Ff.set(n,e)}function EZ(n){Ff.delete(n),Ff.size||window.removeEventListener("resize",M8)}function RZ(n,e,t){const i=n.canvas,s=i&&Nb(i);if(!s)return;const o=t8((l,a)=>{const c=s.clientWidth;t(l,a),c<s.clientWidth&&t()},window),r=new ResizeObserver(l=>{const a=l[0],c=a.contentRect.width,f=a.contentRect.height;c===0&&f===0||o(c,f)});return r.observe(s),TZ(n,o),r}function Jm(n,e,t){t&&t.disconnect(),e==="resize"&&EZ(n)}function DZ(n,e,t){const i=n.canvas,s=t8(o=>{n.ctx!==null&&t(xZ(o,n))},n);return MZ(i,e,s),s}class LZ extends S8{acquireContext(e,t){const i=e&&e.getContext&&e.getContext("2d");return i&&i.canvas===e?(CZ(e,t),i):null}releaseContext(e){const t=e.canvas;if(!t[Bh])return!1;const i=t[Bh].initial;["height","width"].forEach(o=>{const r=i[o];Vt(r)?t.removeAttribute(o):t.setAttribute(o,r)});const s=i.style||{};return Object.keys(s).forEach(o=>{t.style[o]=s[o]}),t.width=t.width,delete t[Bh],!0}addEventListener(e,t,i){this.removeEventListener(e,t);const s=e.$proxies||(e.$proxies={}),r={attach:OZ,detach:PZ,resize:RZ}[t]||DZ;s[t]=r(e,t,i)}removeEventListener(e,t){const i=e.$proxies||(e.$proxies={}),s=i[t];if(!s)return;({attach:Jm,detach:Jm,resize:Jm}[t]||AZ)(e,t,s),i[t]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,i,s){return MQ(e,t,i,s)}isAttached(e){const t=e&&Nb(e);return!!(t&&t.isConnected)}}function IZ(n){return!Ib()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?kZ:LZ}var mh;let er=(mh=class{constructor(){xe(this,"x");xe(this,"y");xe(this,"active",!1);xe(this,"options");xe(this,"$animations")}tooltipPosition(e){const{x:t,y:i}=this.getProps(["x","y"],e);return{x:t,y:i}}hasValue(){return Za(this.x)&&Za(this.y)}getProps(e,t){const i=this.$animations;if(!t||!i)return this;const s={};return e.forEach(o=>{s[o]=i[o]&&i[o].active()?i[o]._to:this[o]}),s}},xe(mh,"defaults",{}),xe(mh,"defaultRoutes"),mh);function NZ(n,e){const t=n.options.ticks,i=BZ(n),s=Math.min(t.maxTicksLimit||i,i),o=t.major.enabled?zZ(e):[],r=o.length,l=o[0],a=o[r-1],c=[];if(r>s)return FZ(e,c,o,r/s),c;const f=jZ(o,e,s);if(r>0){let u,h;const d=r>1?Math.round((a-l)/(r-1)):null;for(ah(e,c,f,Vt(d)?0:l-d,l),u=0,h=r-1;u<h;u++)ah(e,c,f,o[u],o[u+1]);return ah(e,c,f,a,Vt(d)?e.length:a+d),c}return ah(e,c,f),c}function BZ(n){const e=n.options.offset,t=n._tickSize(),i=n._length/t+(e?0:1),s=n._maxLength/t;return Math.floor(Math.min(i,s))}function jZ(n,e,t){const i=VZ(n),s=e.length/t;if(!i)return Math.max(s,1);const o=PG(i);for(let r=0,l=o.length-1;r<l;r++){const a=o[r];if(a>s)return a}return Math.max(s,1)}function zZ(n){const e=[];let t,i;for(t=0,i=n.length;t<i;t++)n[t].major&&e.push(t);return e}function FZ(n,e,t,i){let s=0,o=t[0],r;for(i=Math.ceil(i),r=0;r<n.length;r++)r===o&&(e.push(n[r]),s++,o=t[s*i])}function ah(n,e,t,i,s){const o=pt(i,0),r=Math.min(pt(s,n.length),n.length);let l=0,a,c,f;for(t=Math.ceil(t),s&&(a=s-i,t=a/Math.floor(a/t)),f=o;f<0;)l++,f=Math.round(o+l*t);for(c=Math.max(o,0);c<r;c++)c===f&&(e.push(n[c]),l++,f=Math.round(o+l*t))}function VZ(n){const e=n.length;let t,i;if(e<2)return!1;for(i=n[0],t=1;t<e;++t)if(n[t]-n[t-1]!==i)return!1;return i}const HZ=n=>n==="left"?"right":n==="right"?"left":n,wC=(n,e,t)=>e==="top"||e==="left"?n[e]+t:n[e]-t,vC=(n,e)=>Math.min(e||n,n);function kC(n,e){const t=[],i=n.length/e,s=n.length;let o=0;for(;o<s;o+=i)t.push(n[Math.floor(o)]);return t}function WZ(n,e,t){const i=n.ticks.length,s=Math.min(e,i-1),o=n._startPixel,r=n._endPixel,l=1e-6;let a=n.getPixelForTick(s),c;if(!(t&&(i===1?c=Math.max(a-o,r-a):e===0?c=(n.getPixelForTick(1)-a)/2:c=(a-n.getPixelForTick(s-1))/2,a+=s<e?c:-c,a<o-l||a>r+l)))return a}function qZ(n,e){$t(n,t=>{const i=t.gc,s=i.length/2;let o;if(s>e){for(o=0;o<s;++o)delete t.data[i[o]];i.splice(0,s)}})}function Tc(n){return n.drawTicks?n.tickLength:0}function SC(n,e){if(!n.display)return 0;const t=Hn(n.font,e),i=Si(n.padding);return(wn(n.text)?n.text.length:1)*t.lineHeight+i.height}function UZ(n,e){return qr(n,{scale:e,type:"scale"})}function JZ(n,e,t){return qr(n,{tick:t,index:e,type:"tick"})}function KZ(n,e,t){let i=Pb(n);return(t&&e!=="right"||!t&&e==="right")&&(i=HZ(i)),i}function YZ(n,e,t,i){const{top:s,left:o,bottom:r,right:l,chart:a}=n,{chartArea:c,scales:f}=a;let u=0,h,d,g;const m=r-s,p=l-o;if(n.isHorizontal()){if(d=fi(i,o,l),Rt(t)){const b=Object.keys(t)[0],y=t[b];g=f[b].getPixelForValue(y)+m-e}else t==="center"?g=(c.bottom+c.top)/2+m-e:g=wC(n,t,e);h=l-o}else{if(Rt(t)){const b=Object.keys(t)[0],y=t[b];d=f[b].getPixelForValue(y)-p+e}else t==="center"?d=(c.left+c.right)/2-p+e:d=wC(n,t,e);g=fi(i,r,s),u=t==="left"?-In:In}return{titleX:d,titleY:g,maxWidth:h,rotation:u}}class Ul extends er{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:i,_suggestedMax:s}=this;return e=Ki(e,Number.POSITIVE_INFINITY),t=Ki(t,Number.NEGATIVE_INFINITY),i=Ki(i,Number.POSITIVE_INFINITY),s=Ki(s,Number.NEGATIVE_INFINITY),{min:Ki(e,i),max:Ki(t,s),minDefined:On(e),maxDefined:On(t)}}getMinMax(e){let{min:t,max:i,minDefined:s,maxDefined:o}=this.getUserBounds(),r;if(s&&o)return{min:t,max:i};const l=this.getMatchingVisibleMetas();for(let a=0,c=l.length;a<c;++a)r=l[a].controller.getMinMax(this,e),s||(t=Math.min(t,r.min)),o||(i=Math.max(i,r.max));return t=o&&t>i?i:t,i=s&&t>i?t:i,{min:Ki(t,Ki(i,t)),max:Ki(i,Ki(t,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){an(this.options.beforeUpdate,[this])}update(e,t,i){const{beginAtZero:s,grace:o,ticks:r}=this.options,l=r.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=iQ(this,o,s),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const a=l<this.ticks.length;this._convertTicksToLabels(a?kC(this.ticks,l):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),r.display&&(r.autoSkip||r.source==="auto")&&(this.ticks=NZ(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),a&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,t,i;this.isHorizontal()?(t=this.left,i=this.right):(t=this.top,i=this.bottom,e=!e),this._startPixel=t,this._endPixel=i,this._reversePixels=e,this._length=i-t,this._alignToPixels=this.options.alignToPixels}afterUpdate(){an(this.options.afterUpdate,[this])}beforeSetDimensions(){an(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){an(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),an(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){an(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const t=this.options.ticks;let i,s,o;for(i=0,s=e.length;i<s;i++)o=e[i],o.label=an(t.callback,[o.value,i,e],this)}afterTickToLabelConversion(){an(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){an(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,t=e.ticks,i=vC(this.ticks.length,e.ticks.maxTicksLimit),s=t.minRotation||0,o=t.maxRotation;let r=s,l,a,c;if(!this._isVisible()||!t.display||s>=o||i<=1||!this.isHorizontal()){this.labelRotation=s;return}const f=this._getLabelSizes(),u=f.widest.width,h=f.highest.height,d=$n(this.chart.width-u,0,this.maxWidth);l=e.offset?this.maxWidth/i:d/(i-1),u+6>l&&(l=d/(i-(e.offset?.5:1)),a=this.maxHeight-Tc(e.grid)-t.padding-SC(e.title,this.chart.options.font),c=Math.sqrt(u*u+h*h),r=xb(Math.min(Math.asin($n((f.highest.height+6)/l,-1,1)),Math.asin($n(a/c,-1,1))-Math.asin($n(h/c,-1,1)))),r=Math.max(s,Math.min(o,r))),this.labelRotation=r}afterCalculateLabelRotation(){an(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){an(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:t,options:{ticks:i,title:s,grid:o}}=this,r=this._isVisible(),l=this.isHorizontal();if(r){const a=SC(s,t.options.font);if(l?(e.width=this.maxWidth,e.height=Tc(o)+a):(e.height=this.maxHeight,e.width=Tc(o)+a),i.display&&this.ticks.length){const{first:c,last:f,widest:u,highest:h}=this._getLabelSizes(),d=i.padding*2,g=Os(this.labelRotation),m=Math.cos(g),p=Math.sin(g);if(l){const b=i.mirror?0:p*u.width+m*h.height;e.height=Math.min(this.maxHeight,e.height+b+d)}else{const b=i.mirror?0:m*u.width+p*h.height;e.width=Math.min(this.maxWidth,e.width+b+d)}this._calculatePadding(c,f,p,m)}}this._handleMargins(),l?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,i,s){const{ticks:{align:o,padding:r},position:l}=this.options,a=this.labelRotation!==0,c=l!=="top"&&this.axis==="x";if(this.isHorizontal()){const f=this.getPixelForTick(0)-this.left,u=this.right-this.getPixelForTick(this.ticks.length-1);let h=0,d=0;a?c?(h=s*e.width,d=i*t.height):(h=i*e.height,d=s*t.width):o==="start"?d=t.width:o==="end"?h=e.width:o!=="inner"&&(h=e.width/2,d=t.width/2),this.paddingLeft=Math.max((h-f+r)*this.width/(this.width-f),0),this.paddingRight=Math.max((d-u+r)*this.width/(this.width-u),0)}else{let f=t.height/2,u=e.height/2;o==="start"?(f=0,u=e.height):o==="end"&&(f=t.height,u=0),this.paddingTop=f+r,this.paddingBottom=u+r}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){an(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:t}=this.options;return t==="top"||t==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let t,i;for(t=0,i=e.length;t<i;t++)Vt(e[t].label)&&(e.splice(t,1),i--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const t=this.options.ticks.sampleSize;let i=this.ticks;t<i.length&&(i=kC(i,t)),this._labelSizes=e=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,t,i){const{ctx:s,_longestTextCache:o}=this,r=[],l=[],a=Math.floor(t/vC(t,i));let c=0,f=0,u,h,d,g,m,p,b,y,v,C,w;for(u=0;u<t;u+=a){if(g=e[u].label,m=this._resolveTickFontOptions(u),s.font=p=m.string,b=o[p]=o[p]||{data:{},gc:[]},y=m.lineHeight,v=C=0,!Vt(g)&&!wn(g))v=Vd(s,b.data,b.gc,v,g),C=y;else if(wn(g))for(h=0,d=g.length;h<d;++h)w=g[h],!Vt(w)&&!wn(w)&&(v=Vd(s,b.data,b.gc,v,w),C+=y);r.push(v),l.push(C),c=Math.max(v,c),f=Math.max(C,f)}qZ(o,t);const S=r.indexOf(c),x=l.indexOf(f),T=P=>({width:r[P]||0,height:l[P]||0});return{first:T(0),last:T(t-1),widest:T(S),highest:T(x),widths:r,heights:l}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const t=this._startPixel+e*this._length;return RG(this._alignToPixels?tl(this.chart,t,0):t)}getDecimalForPixel(e){const t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){const t=this.ticks||[];if(e>=0&&e<t.length){const i=t[e];return i.$context||(i.$context=JZ(this.getContext(),e,i))}return this.$context||(this.$context=UZ(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,t=Os(this.labelRotation),i=Math.abs(Math.cos(t)),s=Math.abs(Math.sin(t)),o=this._getLabelSizes(),r=e.autoSkipPadding||0,l=o?o.widest.width+r:0,a=o?o.highest.height+r:0;return this.isHorizontal()?a*i>l*s?l/i:a/s:a*s<l*i?a/i:l/s}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const t=this.axis,i=this.chart,s=this.options,{grid:o,position:r,border:l}=s,a=o.offset,c=this.isHorizontal(),u=this.ticks.length+(a?1:0),h=Tc(o),d=[],g=l.setContext(this.getContext()),m=g.display?g.width:0,p=m/2,b=function(q){return tl(i,q,m)};let y,v,C,w,S,x,T,P,D,O,E,N;if(r==="top")y=b(this.bottom),x=this.bottom-h,P=y-p,O=b(e.top)+p,N=e.bottom;else if(r==="bottom")y=b(this.top),O=e.top,N=b(e.bottom)-p,x=y+p,P=this.top+h;else if(r==="left")y=b(this.right),S=this.right-h,T=y-p,D=b(e.left)+p,E=e.right;else if(r==="right")y=b(this.left),D=e.left,E=b(e.right)-p,S=y+p,T=this.left+h;else if(t==="x"){if(r==="center")y=b((e.top+e.bottom)/2+.5);else if(Rt(r)){const q=Object.keys(r)[0],Q=r[q];y=b(this.chart.scales[q].getPixelForValue(Q))}O=e.top,N=e.bottom,x=y+p,P=x+h}else if(t==="y"){if(r==="center")y=b((e.left+e.right)/2);else if(Rt(r)){const q=Object.keys(r)[0],Q=r[q];y=b(this.chart.scales[q].getPixelForValue(Q))}S=y-p,T=S-h,D=e.left,E=e.right}const z=pt(s.ticks.maxTicksLimit,u),F=Math.max(1,Math.ceil(u/z));for(v=0;v<u;v+=F){const q=this.getContext(v),Q=o.setContext(q),G=l.setContext(q),R=Q.lineWidth,U=Q.color,Y=G.dash||[],le=G.dashOffset,Z=Q.tickWidth,he=Q.tickColor,W=Q.tickBorderDash||[],ve=Q.tickBorderDashOffset;C=WZ(this,v,a),C!==void 0&&(w=tl(i,C,R),c?S=T=D=E=w:x=P=O=N=w,d.push({tx1:S,ty1:x,tx2:T,ty2:P,x1:D,y1:O,x2:E,y2:N,width:R,color:U,borderDash:Y,borderDashOffset:le,tickWidth:Z,tickColor:he,tickBorderDash:W,tickBorderDashOffset:ve}))}return this._ticksLength=u,this._borderValue=y,d}_computeLabelItems(e){const t=this.axis,i=this.options,{position:s,ticks:o}=i,r=this.isHorizontal(),l=this.ticks,{align:a,crossAlign:c,padding:f,mirror:u}=o,h=Tc(i.grid),d=h+f,g=u?-f:d,m=-Os(this.labelRotation),p=[];let b,y,v,C,w,S,x,T,P,D,O,E,N="middle";if(s==="top")S=this.bottom-g,x=this._getXAxisLabelAlignment();else if(s==="bottom")S=this.top+g,x=this._getXAxisLabelAlignment();else if(s==="left"){const F=this._getYAxisLabelAlignment(h);x=F.textAlign,w=F.x}else if(s==="right"){const F=this._getYAxisLabelAlignment(h);x=F.textAlign,w=F.x}else if(t==="x"){if(s==="center")S=(e.top+e.bottom)/2+d;else if(Rt(s)){const F=Object.keys(s)[0],q=s[F];S=this.chart.scales[F].getPixelForValue(q)+d}x=this._getXAxisLabelAlignment()}else if(t==="y"){if(s==="center")w=(e.left+e.right)/2-d;else if(Rt(s)){const F=Object.keys(s)[0],q=s[F];w=this.chart.scales[F].getPixelForValue(q)}x=this._getYAxisLabelAlignment(h).textAlign}t==="y"&&(a==="start"?N="top":a==="end"&&(N="bottom"));const z=this._getLabelSizes();for(b=0,y=l.length;b<y;++b){v=l[b],C=v.label;const F=o.setContext(this.getContext(b));T=this.getPixelForTick(b)+o.labelOffset,P=this._resolveTickFontOptions(b),D=P.lineHeight,O=wn(C)?C.length:1;const q=O/2,Q=F.color,G=F.textStrokeColor,R=F.textStrokeWidth;let U=x;r?(w=T,x==="inner"&&(b===y-1?U=this.options.reverse?"left":"right":b===0?U=this.options.reverse?"right":"left":U="center"),s==="top"?c==="near"||m!==0?E=-O*D+D/2:c==="center"?E=-z.highest.height/2-q*D+D:E=-z.highest.height+D/2:c==="near"||m!==0?E=D/2:c==="center"?E=z.highest.height/2-q*D:E=z.highest.height-O*D,u&&(E*=-1),m!==0&&!F.showLabelBackdrop&&(w+=D/2*Math.sin(m))):(S=T,E=(1-O)*D/2);let Y;if(F.showLabelBackdrop){const le=Si(F.backdropPadding),Z=z.heights[b],he=z.widths[b];let W=E-le.top,ve=0-le.left;switch(N){case"middle":W-=Z/2;break;case"bottom":W-=Z;break}switch(x){case"center":ve-=he/2;break;case"right":ve-=he;break;case"inner":b===y-1?ve-=he:b>0&&(ve-=he/2);break}Y={left:ve,top:W,width:he+le.width,height:Z+le.height,color:F.backdropColor}}p.push({label:C,font:P,textOffset:E,options:{rotation:m,color:Q,strokeColor:G,strokeWidth:R,textAlign:U,textBaseline:N,translation:[w,S],backdrop:Y}})}return p}_getXAxisLabelAlignment(){const{position:e,ticks:t}=this.options;if(-Os(this.labelRotation))return e==="top"?"left":"right";let s="center";return t.align==="start"?s="left":t.align==="end"?s="right":t.align==="inner"&&(s="inner"),s}_getYAxisLabelAlignment(e){const{position:t,ticks:{crossAlign:i,mirror:s,padding:o}}=this.options,r=this._getLabelSizes(),l=e+o,a=r.widest.width;let c,f;return t==="left"?s?(f=this.right+o,i==="near"?c="left":i==="center"?(c="center",f+=a/2):(c="right",f+=a)):(f=this.right-l,i==="near"?c="right":i==="center"?(c="center",f-=a/2):(c="left",f=this.left)):t==="right"?s?(f=this.left+o,i==="near"?c="right":i==="center"?(c="center",f-=a/2):(c="left",f-=a)):(f=this.left+l,i==="near"?c="left":i==="center"?(c="center",f+=a/2):(c="right",f=this.right)):c="right",{textAlign:c,x:f}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,t=this.options.position;if(t==="left"||t==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(t==="top"||t==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:t},left:i,top:s,width:o,height:r}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(i,s,o,r),e.restore())}getLineWidthForValue(e){const t=this.options.grid;if(!this._isVisible()||!t.display)return 0;const s=this.ticks.findIndex(o=>o.value===e);return s>=0?t.setContext(this.getContext(s)).lineWidth:0}drawGrid(e){const t=this.options.grid,i=this.ctx,s=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let o,r;const l=(a,c,f)=>{!f.width||!f.color||(i.save(),i.lineWidth=f.width,i.strokeStyle=f.color,i.setLineDash(f.borderDash||[]),i.lineDashOffset=f.borderDashOffset,i.beginPath(),i.moveTo(a.x,a.y),i.lineTo(c.x,c.y),i.stroke(),i.restore())};if(t.display)for(o=0,r=s.length;o<r;++o){const a=s[o];t.drawOnChartArea&&l({x:a.x1,y:a.y1},{x:a.x2,y:a.y2},a),t.drawTicks&&l({x:a.tx1,y:a.ty1},{x:a.tx2,y:a.ty2},{color:a.tickColor,width:a.tickWidth,borderDash:a.tickBorderDash,borderDashOffset:a.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:t,options:{border:i,grid:s}}=this,o=i.setContext(this.getContext()),r=i.display?o.width:0;if(!r)return;const l=s.setContext(this.getContext(0)).lineWidth,a=this._borderValue;let c,f,u,h;this.isHorizontal()?(c=tl(e,this.left,r)-r/2,f=tl(e,this.right,l)+l/2,u=h=a):(u=tl(e,this.top,r)-r/2,h=tl(e,this.bottom,l)+l/2,c=f=a),t.save(),t.lineWidth=o.width,t.strokeStyle=o.color,t.beginPath(),t.moveTo(c,u),t.lineTo(f,h),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;const i=this.ctx,s=this._computeLabelArea();s&&zg(i,s);const o=this.getLabelItems(e);for(const r of o){const l=r.options,a=r.font,c=r.label,f=r.textOffset;Bl(i,c,0,f,a,l)}s&&Fg(i)}drawTitle(){const{ctx:e,options:{position:t,title:i,reverse:s}}=this;if(!i.display)return;const o=Hn(i.font),r=Si(i.padding),l=i.align;let a=o.lineHeight/2;t==="bottom"||t==="center"||Rt(t)?(a+=r.bottom,wn(i.text)&&(a+=o.lineHeight*(i.text.length-1))):a+=r.top;const{titleX:c,titleY:f,maxWidth:u,rotation:h}=YZ(this,a,t,l);Bl(e,i.text,0,0,o,{color:i.color,maxWidth:u,rotation:h,textAlign:KZ(l,t,s),textBaseline:"middle",translation:[c,f]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,t=e.ticks&&e.ticks.z||0,i=pt(e.grid&&e.grid.z,-1),s=pt(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==Ul.prototype.draw?[{z:t,draw:o=>{this.draw(o)}}]:[{z:i,draw:o=>{this.drawBackground(),this.drawGrid(o),this.drawTitle()}},{z:s,draw:()=>{this.drawBorder()}},{z:t,draw:o=>{this.drawLabels(o)}}]}getMatchingVisibleMetas(e){const t=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",s=[];let o,r;for(o=0,r=t.length;o<r;++o){const l=t[o];l[i]===this.id&&(!e||l.type===e)&&s.push(l)}return s}_resolveTickFontOptions(e){const t=this.options.ticks.setContext(this.getContext(e));return Hn(t.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class ch{constructor(e,t,i){this.type=e,this.scope=t,this.override=i,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const t=Object.getPrototypeOf(e);let i;QZ(t)&&(i=this.register(t));const s=this.items,o=e.id,r=this.scope+"."+o;if(!o)throw new Error("class does not have id: "+e);return o in s||(s[o]=e,XZ(e,r,i),this.override&&Pn.override(e.id,e.overrides)),r}get(e){return this.items[e]}unregister(e){const t=this.items,i=e.id,s=this.scope;i in t&&delete t[i],s&&i in Pn[s]&&(delete Pn[s][i],this.override&&delete Nl[i])}}function XZ(n,e,t){const i=Nf(Object.create(null),[t?Pn.get(t):{},Pn.get(e),n.defaults]);Pn.set(e,i),n.defaultRoutes&&GZ(e,n.defaultRoutes),n.descriptors&&Pn.describe(e,n.descriptors)}function GZ(n,e){Object.keys(e).forEach(t=>{const i=t.split("."),s=i.pop(),o=[n].concat(i).join("."),r=e[t].split("."),l=r.pop(),a=r.join(".");Pn.route(o,s,a,l)})}function QZ(n){return"id"in n&&"defaults"in n}class ZZ{constructor(){this.controllers=new ch(Rs,"datasets",!0),this.elements=new ch(er,"elements"),this.plugins=new ch(Object,"plugins"),this.scales=new ch(Ul,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,t,i){[...t].forEach(s=>{const o=i||this._getRegistryForType(s);i||o.isForType(s)||o===this.plugins&&s.id?this._exec(e,o,s):$t(s,r=>{const l=i||this._getRegistryForType(r);this._exec(e,l,r)})})}_exec(e,t,i){const s=Ab(e);an(i["before"+s],[],i),t[e](i),an(i["after"+s],[],i)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){const i=this._typedRegistries[t];if(i.isForType(e))return i}return this.plugins}_get(e,t,i){const s=t.get(e);if(s===void 0)throw new Error('"'+e+'" is not a registered '+i+".");return s}}var to=new ZZ;class $Z{constructor(){this._init=[]}notify(e,t,i,s){t==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const o=s?this._descriptors(e).filter(s):this._descriptors(e),r=this._notify(o,e,t,i);return t==="afterDestroy"&&(this._notify(o,e,"stop"),this._notify(this._init,e,"uninstall")),r}_notify(e,t,i,s){s=s||{};for(const o of e){const r=o.plugin,l=r[i],a=[t,s,o.options];if(an(l,a,r)===!1&&s.cancelable)return!1}return!0}invalidate(){Vt(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){const i=e&&e.config,s=pt(i.options&&i.options.plugins,{}),o=e$(i);return s===!1&&!t?[]:n$(e,o,s,t)}_notifyStateChanges(e){const t=this._oldCache||[],i=this._cache,s=(o,r)=>o.filter(l=>!r.some(a=>l.plugin.id===a.plugin.id));this._notify(s(t,i),e,"stop"),this._notify(s(i,t),e,"start")}}function e$(n){const e={},t=[],i=Object.keys(to.plugins.items);for(let o=0;o<i.length;o++)t.push(to.getPlugin(i[o]));const s=n.plugins||[];for(let o=0;o<s.length;o++){const r=s[o];t.indexOf(r)===-1&&(t.push(r),e[r.id]=!0)}return{plugins:t,localIds:e}}function t$(n,e){return!e&&n===!1?null:n===!0?{}:n}function n$(n,{plugins:e,localIds:t},i,s){const o=[],r=n.getContext();for(const l of e){const a=l.id,c=t$(i[a],s);c!==null&&o.push({plugin:l,options:i$(n.config,{plugin:l,local:t[a]},c,r)})}return o}function i$(n,{plugin:e,local:t},i,s){const o=n.pluginScopeKeys(e),r=n.getOptionScopes(i,o);return t&&e.defaults&&r.push(e.defaults),n.createResolver(r,s,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function L1(n,e){const t=Pn.datasets[n]||{};return((e.datasets||{})[n]||{}).indexAxis||e.indexAxis||t.indexAxis||"x"}function s$(n,e){let t=n;return n==="_index_"?t=e:n==="_value_"&&(t=e==="x"?"y":"x"),t}function o$(n,e){return n===e?"_index_":"_value_"}function CC(n){if(n==="x"||n==="y"||n==="r")return n}function r$(n){if(n==="top"||n==="bottom")return"x";if(n==="left"||n==="right")return"y"}function I1(n,...e){if(CC(n))return n;for(const t of e){const i=t.axis||r$(t.position)||n.length>1&&CC(n[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function MC(n,e,t){if(t[e+"AxisID"]===n)return{axis:e}}function l$(n,e){if(e.data&&e.data.datasets){const t=e.data.datasets.filter(i=>i.xAxisID===n||i.yAxisID===n);if(t.length)return MC(n,"x",t[0])||MC(n,"y",t[0])}return{}}function a$(n,e){const t=Nl[n.type]||{scales:{}},i=e.scales||{},s=L1(n.type,e),o=Object.create(null);return Object.keys(i).forEach(r=>{const l=i[r];if(!Rt(l))return console.error(`Invalid scale configuration for scale: ${r}`);if(l._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${r}`);const a=I1(r,l,l$(r,n),Pn.scales[l.type]),c=o$(a,s),f=t.scales||{};o[r]=tf(Object.create(null),[{axis:a},l,f[a],f[c]])}),n.data.datasets.forEach(r=>{const l=r.type||n.type,a=r.indexAxis||L1(l,e),f=(Nl[l]||{}).scales||{};Object.keys(f).forEach(u=>{const h=s$(u,a),d=r[h+"AxisID"]||h;o[d]=o[d]||Object.create(null),tf(o[d],[{axis:h},i[d],f[u]])})}),Object.keys(o).forEach(r=>{const l=o[r];tf(l,[Pn.scales[l.type],Pn.scale])}),o}function A8(n){const e=n.options||(n.options={});e.plugins=pt(e.plugins,{}),e.scales=a$(n,e)}function x8(n){return n=n||{},n.datasets=n.datasets||[],n.labels=n.labels||[],n}function c$(n){return n=n||{},n.data=x8(n.data),A8(n),n}const AC=new Map,O8=new Set;function fh(n,e){let t=AC.get(n);return t||(t=e(),AC.set(n,t),O8.add(t)),t}const Ec=(n,e,t)=>{const i=jr(e,t);i!==void 0&&n.add(i)};class f${constructor(e){this._config=c$(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=x8(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),A8(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return fh(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,t){return fh(`${e}.transition.${t}`,()=>[[`datasets.${e}.transitions.${t}`,`transitions.${t}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,t){return fh(`${e}-${t}`,()=>[[`datasets.${e}.elements.${t}`,`datasets.${e}`,`elements.${t}`,""]])}pluginScopeKeys(e){const t=e.id,i=this.type;return fh(`${i}-plugin-${t}`,()=>[[`plugins.${t}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,t){const i=this._scopeCache;let s=i.get(e);return(!s||t)&&(s=new Map,i.set(e,s)),s}getOptionScopes(e,t,i){const{options:s,type:o}=this,r=this._cachedScopes(e,i),l=r.get(t);if(l)return l;const a=new Set;t.forEach(f=>{e&&(a.add(e),f.forEach(u=>Ec(a,e,u))),f.forEach(u=>Ec(a,s,u)),f.forEach(u=>Ec(a,Nl[o]||{},u)),f.forEach(u=>Ec(a,Pn,u)),f.forEach(u=>Ec(a,E1,u))});const c=Array.from(a);return c.length===0&&c.push(Object.create(null)),O8.has(t)&&r.set(t,c),c}chartOptionScopes(){const{options:e,type:t}=this;return[e,Nl[t]||{},Pn.datasets[t]||{},{type:t},Pn,E1]}resolveNamedOptions(e,t,i,s=[""]){const o={$shared:!0},{resolver:r,subPrefixes:l}=xC(this._resolverCache,e,s);let a=r;if(h$(r,t)){o.$shared=!1,i=zr(i)?i():i;const c=this.createResolver(e,i,l);a=$a(r,i,c)}for(const c of t)o[c]=a[c];return o}createResolver(e,t,i=[""],s){const{resolver:o}=xC(this._resolverCache,e,i);return Rt(t)?$a(o,t,void 0,s):o}}function xC(n,e,t){let i=n.get(e);i||(i=new Map,n.set(e,i));const s=t.join();let o=i.get(s);return o||(o={resolver:Rb(e,t),subPrefixes:t.filter(l=>!l.toLowerCase().includes("hover"))},i.set(s,o)),o}const u$=n=>Rt(n)&&Object.getOwnPropertyNames(n).some(e=>zr(n[e]));function h$(n,e){const{isScriptable:t,isIndexable:i}=l8(n);for(const s of e){const o=t(s),r=i(s),l=(r||o)&&n[s];if(o&&(zr(l)||u$(l))||r&&wn(l))return!0}return!1}var d$="4.4.4";const g$=["top","bottom","left","right","chartArea"];function OC(n,e){return n==="top"||n==="bottom"||g$.indexOf(n)===-1&&e==="x"}function PC(n,e){return function(t,i){return t[n]===i[n]?t[e]-i[e]:t[n]-i[n]}}function TC(n){const e=n.chart,t=e.options.animation;e.notifyPlugins("afterRender"),an(t&&t.onComplete,[n],e)}function m$(n){const e=n.chart,t=e.options.animation;an(t&&t.onProgress,[n],e)}function P8(n){return Ib()&&typeof n=="string"?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const jh={},EC=n=>{const e=P8(n);return Object.values(jh).filter(t=>t.canvas===e).pop()};function p$(n,e,t){const i=Object.keys(n);for(const s of i){const o=+s;if(o>=e){const r=n[s];delete n[s],(t>0||o>e)&&(n[o+t]=r)}}}function b$(n,e,t,i){return!t||n.type==="mouseout"?null:i?e:n}function uh(n,e,t){return n.options.clip?n[t]:e[t]}function y$(n,e){const{xScale:t,yScale:i}=n;return t&&i?{left:uh(t,e,"left"),right:uh(t,e,"right"),top:uh(i,e,"top"),bottom:uh(i,e,"bottom")}:e}class Po{static register(...e){to.add(...e),RC()}static unregister(...e){to.remove(...e),RC()}constructor(e,t){const i=this.config=new f$(t),s=P8(e),o=EC(s);if(o)throw new Error("Canvas is already in use. Chart with ID '"+o.id+"' must be destroyed before the canvas with ID '"+o.canvas.id+"' can be reused.");const r=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||IZ(s)),this.platform.updateConfig(i);const l=this.platform.acquireContext(s,r.aspectRatio),a=l&&l.canvas,c=a&&a.height,f=a&&a.width;if(this.id=wG(),this.ctx=l,this.canvas=a,this.width=f,this.height=c,this._options=r,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new $Z,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=NG(u=>this.update(u),r.resizeDelay||0),this._dataChanges=[],jh[this.id]=this,!l||!a){console.error("Failed to create chart: can't acquire context from the given item");return}Mo.listen(this,"complete",TC),Mo.listen(this,"progress",m$),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:t},width:i,height:s,_aspectRatio:o}=this;return Vt(e)?t&&o?o:s?i/s:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return to}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():$S(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return GS(this.canvas,this.ctx),this}stop(){return Mo.stop(this),this}resize(e,t){Mo.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}_resize(e,t){const i=this.options,s=this.canvas,o=i.maintainAspectRatio&&this.aspectRatio,r=this.platform.getMaximumSize(s,e,t,o),l=i.devicePixelRatio||this.platform.getDevicePixelRatio(),a=this.width?"resize":"attach";this.width=r.width,this.height=r.height,this._aspectRatio=this.aspectRatio,$S(this,l,!0)&&(this.notifyPlugins("resize",{size:r}),an(i.onResize,[this,r],this),this.attached&&this._doResize(a)&&this.render())}ensureScalesHaveIDs(){const t=this.options.scales||{};$t(t,(i,s)=>{i.id=s})}buildOrUpdateScales(){const e=this.options,t=e.scales,i=this.scales,s=Object.keys(i).reduce((r,l)=>(r[l]=!1,r),{});let o=[];t&&(o=o.concat(Object.keys(t).map(r=>{const l=t[r],a=I1(r,l),c=a==="r",f=a==="x";return{options:l,dposition:c?"chartArea":f?"bottom":"left",dtype:c?"radialLinear":f?"category":"linear"}}))),$t(o,r=>{const l=r.options,a=l.id,c=I1(a,l),f=pt(l.type,r.dtype);(l.position===void 0||OC(l.position,c)!==OC(r.dposition))&&(l.position=r.dposition),s[a]=!0;let u=null;if(a in i&&i[a].type===f)u=i[a];else{const h=to.getScale(f);u=new h({id:a,type:f,ctx:this.ctx,chart:this}),i[u.id]=u}u.init(l,e)}),$t(s,(r,l)=>{r||delete i[l]}),$t(i,r=>{mi.configure(this,r,r.options),mi.addBox(this,r)})}_updateMetasets(){const e=this._metasets,t=this.data.datasets.length,i=e.length;if(e.sort((s,o)=>s.index-o.index),i>t){for(let s=t;s<i;++s)this._destroyDatasetMeta(s);e.splice(t,i-t)}this._sortedMetasets=e.slice(0).sort(PC("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:t}}=this;e.length>t.length&&delete this._stacks,e.forEach((i,s)=>{t.filter(o=>o===i._dataset).length===0&&this._destroyDatasetMeta(s)})}buildOrUpdateControllers(){const e=[],t=this.data.datasets;let i,s;for(this._removeUnreferencedMetasets(),i=0,s=t.length;i<s;i++){const o=t[i];let r=this.getDatasetMeta(i);const l=o.type||this.config.type;if(r.type&&r.type!==l&&(this._destroyDatasetMeta(i),r=this.getDatasetMeta(i)),r.type=l,r.indexAxis=o.indexAxis||L1(l,this.options),r.order=o.order||0,r.index=i,r.label=""+o.label,r.visible=this.isDatasetVisible(i),r.controller)r.controller.updateIndex(i),r.controller.linkScales();else{const a=to.getController(l),{datasetElementType:c,dataElementType:f}=Pn.datasets[l];Object.assign(a,{dataElementType:to.getElement(f),datasetElementType:c&&to.getElement(c)}),r.controller=new a(this,i),e.push(r.controller)}}return this._updateMetasets(),e}_resetElements(){$t(this.data.datasets,(e,t)=>{this.getDatasetMeta(t).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const t=this.config;t.update();const i=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),s=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const o=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let r=0;for(let c=0,f=this.data.datasets.length;c<f;c++){const{controller:u}=this.getDatasetMeta(c),h=!s&&o.indexOf(u)===-1;u.buildOrUpdateElements(h),r=Math.max(+u.getMaxOverflow(),r)}r=this._minPadding=i.layout.autoPadding?r:0,this._updateLayout(r),s||$t(o,c=>{c.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(PC("z","_idx"));const{_active:l,_lastEvent:a}=this;a?this._eventHandler(a,!0):l.length&&this._updateHoverStyles(l,l,!0),this.render()}_updateScales(){$t(this.scales,e=>{mi.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,t=new Set(Object.keys(this._listeners)),i=new Set(e.events);(!VS(t,i)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,t=this._getUniformDataChanges()||[];for(const{method:i,start:s,count:o}of t){const r=i==="_removeElements"?-o:o;p$(e,s,r)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const t=this.data.datasets.length,i=o=>new Set(e.filter(r=>r[0]===o).map((r,l)=>l+","+r.splice(1).join(","))),s=i(0);for(let o=1;o<t;o++)if(!VS(s,i(o)))return;return Array.from(s).map(o=>o.split(",")).map(o=>({method:o[1],start:+o[2],count:+o[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;mi.update(this,this.width,this.height,e);const t=this.chartArea,i=t.width<=0||t.height<=0;this._layers=[],$t(this.boxes,s=>{i&&s.position==="chartArea"||(s.configure&&s.configure(),this._layers.push(...s._layers()))},this),this._layers.forEach((s,o)=>{s._idx=o}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let t=0,i=this.data.datasets.length;t<i;++t)this.getDatasetMeta(t).controller.configure();for(let t=0,i=this.data.datasets.length;t<i;++t)this._updateDataset(t,zr(e)?e({datasetIndex:t}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,t){const i=this.getDatasetMeta(e),s={meta:i,index:e,mode:t,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",s)!==!1&&(i.controller._update(t),s.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",s))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Mo.has(this)?this.attached&&!Mo.running(this)&&Mo.start(this):(this.draw(),TC({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:i,height:s}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,s)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const t=this._layers;for(e=0;e<t.length&&t[e].z<=0;++e)t[e].draw(this.chartArea);for(this._drawDatasets();e<t.length;++e)t[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const t=this._sortedMetasets,i=[];let s,o;for(s=0,o=t.length;s<o;++s){const r=t[s];(!e||r.visible)&&i.push(r)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const t=this.ctx,i=e._clip,s=!i.disabled,o=y$(e,this.chartArea),r={meta:e,index:e.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",r)!==!1&&(s&&zg(t,{left:i.left===!1?0:o.left-i.left,right:i.right===!1?this.width:o.right+i.right,top:i.top===!1?0:o.top-i.top,bottom:i.bottom===!1?this.height:o.bottom+i.bottom}),e.controller.draw(),s&&Fg(t),r.cancelable=!1,this.notifyPlugins("afterDatasetDraw",r))}isPointInArea(e){return No(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,t,i,s){const o=gZ.modes[t];return typeof o=="function"?o(this,e,i,s):[]}getDatasetMeta(e){const t=this.data.datasets[e],i=this._metasets;let s=i.filter(o=>o&&o._dataset===t).pop();return s||(s={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},i.push(s)),s}getContext(){return this.$context||(this.$context=qr(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const t=this.data.datasets[e];if(!t)return!1;const i=this.getDatasetMeta(e);return typeof i.hidden=="boolean"?!i.hidden:!t.hidden}setDatasetVisibility(e,t){const i=this.getDatasetMeta(e);i.hidden=!t}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,t,i){const s=i?"show":"hide",o=this.getDatasetMeta(e),r=o.controller._resolveAnimations(void 0,s);Bf(t)?(o.data[t].hidden=!i,this.update()):(this.setDatasetVisibility(e,i),r.update(o,{visible:i}),this.update(l=>l.datasetIndex===e?s:void 0))}hide(e,t){this._updateVisibility(e,t,!1)}show(e,t){this._updateVisibility(e,t,!0)}_destroyDatasetMeta(e){const t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}_stop(){let e,t;for(this.stop(),Mo.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:t}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),GS(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),delete jh[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,t=this.platform,i=(o,r)=>{t.addEventListener(this,o,r),e[o]=r},s=(o,r,l)=>{o.offsetX=r,o.offsetY=l,this._eventHandler(o)};$t(this.options.events,o=>i(o,s))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,t=this.platform,i=(a,c)=>{t.addEventListener(this,a,c),e[a]=c},s=(a,c)=>{e[a]&&(t.removeEventListener(this,a,c),delete e[a])},o=(a,c)=>{this.canvas&&this.resize(a,c)};let r;const l=()=>{s("attach",l),this.attached=!0,this.resize(),i("resize",o),i("detach",r)};r=()=>{this.attached=!1,s("resize",o),this._stop(),this._resize(0,0),i("attach",l)},t.isAttached(this.canvas)?l():r()}unbindEvents(){$t(this._listeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._listeners={},$t(this._responsiveListeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,t,i){const s=i?"set":"remove";let o,r,l,a;for(t==="dataset"&&(o=this.getDatasetMeta(e[0].datasetIndex),o.controller["_"+s+"DatasetHoverStyle"]()),l=0,a=e.length;l<a;++l){r=e[l];const c=r&&this.getDatasetMeta(r.datasetIndex).controller;c&&c[s+"HoverStyle"](r.element,r.datasetIndex,r.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const t=this._active||[],i=e.map(({datasetIndex:o,index:r})=>{const l=this.getDatasetMeta(o);if(!l)throw new Error("No dataset found at index "+o);return{datasetIndex:o,element:l.data[r],index:r}});!jd(i,t)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,t))}notifyPlugins(e,t,i){return this._plugins.notify(this,e,t,i)}isPluginEnabled(e){return this._plugins._cache.filter(t=>t.plugin.id===e).length===1}_updateHoverStyles(e,t,i){const s=this.options.hover,o=(a,c)=>a.filter(f=>!c.some(u=>f.datasetIndex===u.datasetIndex&&f.index===u.index)),r=o(t,e),l=i?e:o(e,t);r.length&&this.updateHoverStyle(r,s.mode,!1),l.length&&s.mode&&this.updateHoverStyle(l,s.mode,!0)}_eventHandler(e,t){const i={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},s=r=>(r.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",i,s)===!1)return;const o=this._handleEvent(e,t,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,s),(o||i.changed)&&this.render(),this}_handleEvent(e,t,i){const{_active:s=[],options:o}=this,r=t,l=this._getActiveElements(e,s,i,r),a=AG(e),c=b$(e,this._lastEvent,i,a);i&&(this._lastEvent=null,an(o.onHover,[e,l,this],this),a&&an(o.onClick,[e,l,this],this));const f=!jd(l,s);return(f||t)&&(this._active=l,this._updateHoverStyles(l,s,t)),this._lastEvent=c,f}_getActiveElements(e,t,i,s){if(e.type==="mouseout")return[];if(!i)return t;const o=this.options.hover;return this.getElementsAtEventForMode(e,o.mode,o,s)}}xe(Po,"defaults",Pn),xe(Po,"instances",jh),xe(Po,"overrides",Nl),xe(Po,"registry",to),xe(Po,"version",d$),xe(Po,"getChart",EC);function RC(){return $t(Po.instances,n=>n._plugins.invalidate())}function _$(n,e,t){const{startAngle:i,pixelMargin:s,x:o,y:r,outerRadius:l,innerRadius:a}=e;let c=s/l;n.beginPath(),n.arc(o,r,l,i-c,t+c),a>s?(c=s/a,n.arc(o,r,a,t+c,i-c,!0)):n.arc(o,r,s,t+In,i-In),n.closePath(),n.clip()}function w$(n){return Eb(n,["outerStart","outerEnd","innerStart","innerEnd"])}function v$(n,e,t,i){const s=w$(n.options.borderRadius),o=(t-e)/2,r=Math.min(o,i*e/2),l=a=>{const c=(t-Math.min(o,a))*i/2;return $n(a,0,Math.min(o,c))};return{outerStart:l(s.outerStart),outerEnd:l(s.outerEnd),innerStart:$n(s.innerStart,0,r),innerEnd:$n(s.innerEnd,0,r)}}function oa(n,e,t,i){return{x:t+n*Math.cos(e),y:i+n*Math.sin(e)}}function qd(n,e,t,i,s,o){const{x:r,y:l,startAngle:a,pixelMargin:c,innerRadius:f}=e,u=Math.max(e.outerRadius+i+t-c,0),h=f>0?f+i+t+c:0;let d=0;const g=s-a;if(i){const F=f>0?f-i:0,q=u>0?u-i:0,Q=(F+q)/2,G=Q!==0?g*Q/(Q+i):g;d=(g-G)/2}const m=Math.max(.001,g*u-t/mn)/u,p=(g-m)/2,b=a+p+d,y=s-p-d,{outerStart:v,outerEnd:C,innerStart:w,innerEnd:S}=v$(e,h,u,y-b),x=u-v,T=u-C,P=b+v/x,D=y-C/T,O=h+w,E=h+S,N=b+w/O,z=y-S/E;if(n.beginPath(),o){const F=(P+D)/2;if(n.arc(r,l,u,P,F),n.arc(r,l,u,F,D),C>0){const R=oa(T,D,r,l);n.arc(R.x,R.y,C,D,y+In)}const q=oa(E,y,r,l);if(n.lineTo(q.x,q.y),S>0){const R=oa(E,z,r,l);n.arc(R.x,R.y,S,y+In,z+Math.PI)}const Q=(y-S/h+(b+w/h))/2;if(n.arc(r,l,h,y-S/h,Q,!0),n.arc(r,l,h,Q,b+w/h,!0),w>0){const R=oa(O,N,r,l);n.arc(R.x,R.y,w,N+Math.PI,b-In)}const G=oa(x,b,r,l);if(n.lineTo(G.x,G.y),v>0){const R=oa(x,P,r,l);n.arc(R.x,R.y,v,b-In,P)}}else{n.moveTo(r,l);const F=Math.cos(P)*u+r,q=Math.sin(P)*u+l;n.lineTo(F,q);const Q=Math.cos(D)*u+r,G=Math.sin(D)*u+l;n.lineTo(Q,G)}n.closePath()}function k$(n,e,t,i,s){const{fullCircles:o,startAngle:r,circumference:l}=e;let a=e.endAngle;if(o){qd(n,e,t,i,a,s);for(let c=0;c<o;++c)n.fill();isNaN(l)||(a=r+(l%gn||gn))}return qd(n,e,t,i,a,s),n.fill(),a}function S$(n,e,t,i,s){const{fullCircles:o,startAngle:r,circumference:l,options:a}=e,{borderWidth:c,borderJoinStyle:f,borderDash:u,borderDashOffset:h}=a,d=a.borderAlign==="inner";if(!c)return;n.setLineDash(u||[]),n.lineDashOffset=h,d?(n.lineWidth=c*2,n.lineJoin=f||"round"):(n.lineWidth=c,n.lineJoin=f||"bevel");let g=e.endAngle;if(o){qd(n,e,t,i,g,s);for(let m=0;m<o;++m)n.stroke();isNaN(l)||(g=r+(l%gn||gn))}d&&_$(n,e,g),o||(qd(n,e,t,i,g,s),n.stroke())}class Hc extends er{constructor(t){super();xe(this,"circumference");xe(this,"endAngle");xe(this,"fullCircles");xe(this,"innerRadius");xe(this,"outerRadius");xe(this,"pixelMargin");xe(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,i,s){const o=this.getProps(["x","y"],s),{angle:r,distance:l}=QA(o,{x:t,y:i}),{startAngle:a,endAngle:c,innerRadius:f,outerRadius:u,circumference:h}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],s),d=(this.options.spacing+this.options.borderWidth)/2,g=pt(h,c-a),m=jf(r,a,c)&&a!==c,p=g>=gn||m,b=Lo(l,f+d,u+d);return p&&b}getCenterPoint(t){const{x:i,y:s,startAngle:o,endAngle:r,innerRadius:l,outerRadius:a}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],t),{offset:c,spacing:f}=this.options,u=(o+r)/2,h=(l+a+f+c)/2;return{x:i+Math.cos(u)*h,y:s+Math.sin(u)*h}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){const{options:i,circumference:s}=this,o=(i.offset||0)/4,r=(i.spacing||0)/2,l=i.circular;if(this.pixelMargin=i.borderAlign==="inner"?.33:0,this.fullCircles=s>gn?Math.floor(s/gn):0,s===0||this.innerRadius<0||this.outerRadius<0)return;t.save();const a=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(a)*o,Math.sin(a)*o);const c=1-Math.sin(Math.min(mn,s||0)),f=o*c;t.fillStyle=i.backgroundColor,t.strokeStyle=i.borderColor,k$(t,this,f,r,l),S$(t,this,f,r,l),t.restore()}}xe(Hc,"id","arc"),xe(Hc,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),xe(Hc,"defaultRoutes",{backgroundColor:"backgroundColor"}),xe(Hc,"descriptors",{_scriptable:!0,_indexable:t=>t!=="borderDash"});function T8(n,e,t=e){n.lineCap=pt(t.borderCapStyle,e.borderCapStyle),n.setLineDash(pt(t.borderDash,e.borderDash)),n.lineDashOffset=pt(t.borderDashOffset,e.borderDashOffset),n.lineJoin=pt(t.borderJoinStyle,e.borderJoinStyle),n.lineWidth=pt(t.borderWidth,e.borderWidth),n.strokeStyle=pt(t.borderColor,e.borderColor)}function C$(n,e,t){n.lineTo(t.x,t.y)}function M$(n){return n.stepped?YG:n.tension||n.cubicInterpolationMode==="monotone"?XG:C$}function E8(n,e,t={}){const i=n.length,{start:s=0,end:o=i-1}=t,{start:r,end:l}=e,a=Math.max(s,r),c=Math.min(o,l),f=s<r&&o<r||s>l&&o>l;return{count:i,start:a,loop:e.loop,ilen:c<a&&!f?i+c-a:c-a}}function A$(n,e,t,i){const{points:s,options:o}=e,{count:r,start:l,loop:a,ilen:c}=E8(s,t,i),f=M$(o);let{move:u=!0,reverse:h}=i||{},d,g,m;for(d=0;d<=c;++d)g=s[(l+(h?c-d:d))%r],!g.skip&&(u?(n.moveTo(g.x,g.y),u=!1):f(n,m,g,h,o.stepped),m=g);return a&&(g=s[(l+(h?c:0))%r],f(n,m,g,h,o.stepped)),!!a}function x$(n,e,t,i){const s=e.points,{count:o,start:r,ilen:l}=E8(s,t,i),{move:a=!0,reverse:c}=i||{};let f=0,u=0,h,d,g,m,p,b;const y=C=>(r+(c?l-C:C))%o,v=()=>{m!==p&&(n.lineTo(f,p),n.lineTo(f,m),n.lineTo(f,b))};for(a&&(d=s[y(0)],n.moveTo(d.x,d.y)),h=0;h<=l;++h){if(d=s[y(h)],d.skip)continue;const C=d.x,w=d.y,S=C|0;S===g?(w<m?m=w:w>p&&(p=w),f=(u*f+C)/++u):(v(),n.lineTo(C,w),g=S,u=0,m=p=w),b=w}v()}function N1(n){const e=n.options,t=e.borderDash&&e.borderDash.length;return!n._decimated&&!n._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!t?x$:A$}function O$(n){return n.stepped?xQ:n.tension||n.cubicInterpolationMode==="monotone"?OQ:ol}function P$(n,e,t,i){let s=e._path;s||(s=e._path=new Path2D,e.path(s,t,i)&&s.closePath()),T8(n,e.options),n.stroke(s)}function T$(n,e,t,i){const{segments:s,options:o}=e,r=N1(e);for(const l of s)T8(n,o,l.style),n.beginPath(),r(n,e,l,{start:t,end:t+i-1})&&n.closePath(),n.stroke()}const E$=typeof Path2D=="function";function R$(n,e,t,i){E$&&!e.options.segment?P$(n,e,t,i):T$(n,e,t,i)}class _r extends er{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,t){const i=this.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!this._pointsUpdated){const s=i.spanGaps?this._loop:this._fullLoop;_Q(this._points,i,e,s,t),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=LQ(this,this.options.segment))}first(){const e=this.segments,t=this.points;return e.length&&t[e[0].start]}last(){const e=this.segments,t=this.points,i=e.length;return i&&t[e[i-1].end]}interpolate(e,t){const i=this.options,s=e[t],o=this.points,r=b8(this,{property:t,start:s,end:s});if(!r.length)return;const l=[],a=O$(i);let c,f;for(c=0,f=r.length;c<f;++c){const{start:u,end:h}=r[c],d=o[u],g=o[h];if(d===g){l.push(d);continue}const m=Math.abs((s-d[t])/(g[t]-d[t])),p=a(d,g,m,i.stepped);p[t]=e[t],l.push(p)}return l.length===1?l[0]:l}pathSegment(e,t,i){return N1(this)(e,this,t,i)}path(e,t,i){const s=this.segments,o=N1(this);let r=this._loop;t=t||0,i=i||this.points.length-t;for(const l of s)r&=o(e,this,l,{start:t,end:t+i-1});return!!r}draw(e,t,i,s){const o=this.options||{};(this.points||[]).length&&o.borderWidth&&(e.save(),R$(e,this,i,s),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}xe(_r,"id","line"),xe(_r,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),xe(_r,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),xe(_r,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function DC(n,e,t,i){const s=n.options,{[t]:o}=n.getProps([t],i);return Math.abs(e-o)<s.radius+s.hitRadius}class zh extends er{constructor(t){super();xe(this,"parsed");xe(this,"skip");xe(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,i,s){const o=this.options,{x:r,y:l}=this.getProps(["x","y"],s);return Math.pow(t-r,2)+Math.pow(i-l,2)<Math.pow(o.hitRadius+o.radius,2)}inXRange(t,i){return DC(this,t,"x",i)}inYRange(t,i){return DC(this,t,"y",i)}getCenterPoint(t){const{x:i,y:s}=this.getProps(["x","y"],t);return{x:i,y:s}}size(t){t=t||this.options||{};let i=t.radius||0;i=Math.max(i,i&&t.hoverRadius||0);const s=i&&t.borderWidth||0;return(i+s)*2}draw(t,i){const s=this.options;this.skip||s.radius<.1||!No(this,i,this.size(s)/2)||(t.strokeStyle=s.borderColor,t.lineWidth=s.borderWidth,t.fillStyle=s.backgroundColor,R1(t,s,this.x,this.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}xe(zh,"id","point"),xe(zh,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),xe(zh,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function R8(n,e){const{x:t,y:i,base:s,width:o,height:r}=n.getProps(["x","y","base","width","height"],e);let l,a,c,f,u;return n.horizontal?(u=r/2,l=Math.min(t,s),a=Math.max(t,s),c=i-u,f=i+u):(u=o/2,l=t-u,a=t+u,c=Math.min(i,s),f=Math.max(i,s)),{left:l,top:c,right:a,bottom:f}}function wr(n,e,t,i){return n?0:$n(e,t,i)}function D$(n,e,t){const i=n.options.borderWidth,s=n.borderSkipped,o=r8(i);return{t:wr(s.top,o.top,0,t),r:wr(s.right,o.right,0,e),b:wr(s.bottom,o.bottom,0,t),l:wr(s.left,o.left,0,e)}}function L$(n,e,t){const{enableBorderRadius:i}=n.getProps(["enableBorderRadius"]),s=n.options.borderRadius,o=bl(s),r=Math.min(e,t),l=n.borderSkipped,a=i||Rt(s);return{topLeft:wr(!a||l.top||l.left,o.topLeft,0,r),topRight:wr(!a||l.top||l.right,o.topRight,0,r),bottomLeft:wr(!a||l.bottom||l.left,o.bottomLeft,0,r),bottomRight:wr(!a||l.bottom||l.right,o.bottomRight,0,r)}}function I$(n){const e=R8(n),t=e.right-e.left,i=e.bottom-e.top,s=D$(n,t/2,i/2),o=L$(n,t/2,i/2);return{outer:{x:e.left,y:e.top,w:t,h:i,radius:o},inner:{x:e.left+s.l,y:e.top+s.t,w:t-s.l-s.r,h:i-s.t-s.b,radius:{topLeft:Math.max(0,o.topLeft-Math.max(s.t,s.l)),topRight:Math.max(0,o.topRight-Math.max(s.t,s.r)),bottomLeft:Math.max(0,o.bottomLeft-Math.max(s.b,s.l)),bottomRight:Math.max(0,o.bottomRight-Math.max(s.b,s.r))}}}}function Km(n,e,t,i){const s=e===null,o=t===null,l=n&&!(s&&o)&&R8(n,i);return l&&(s||Lo(e,l.left,l.right))&&(o||Lo(t,l.top,l.bottom))}function N$(n){return n.topLeft||n.topRight||n.bottomLeft||n.bottomRight}function B$(n,e){n.rect(e.x,e.y,e.w,e.h)}function Ym(n,e,t={}){const i=n.x!==t.x?-e:0,s=n.y!==t.y?-e:0,o=(n.x+n.w!==t.x+t.w?e:0)-i,r=(n.y+n.h!==t.y+t.h?e:0)-s;return{x:n.x+i,y:n.y+s,w:n.w+o,h:n.h+r,radius:n.radius}}class Fh extends er{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:t,options:{borderColor:i,backgroundColor:s}}=this,{inner:o,outer:r}=I$(this),l=N$(r.radius)?zf:B$;e.save(),(r.w!==o.w||r.h!==o.h)&&(e.beginPath(),l(e,Ym(r,t,o)),e.clip(),l(e,Ym(o,-t,r)),e.fillStyle=i,e.fill("evenodd")),e.beginPath(),l(e,Ym(o,t)),e.fillStyle=s,e.fill(),e.restore()}inRange(e,t,i){return Km(this,e,t,i)}inXRange(e,t){return Km(this,e,null,t)}inYRange(e,t){return Km(this,null,e,t)}getCenterPoint(e){const{x:t,y:i,base:s,horizontal:o}=this.getProps(["x","y","base","horizontal"],e);return{x:o?(t+s)/2:t,y:o?i:(i+s)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}xe(Fh,"id","bar"),xe(Fh,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),xe(Fh,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});var j$=Object.freeze({__proto__:null,ArcElement:Hc,BarElement:Fh,LineElement:_r,PointElement:zh});const B1=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],LC=B1.map(n=>n.replace("rgb(","rgba(").replace(")",", 0.5)"));function D8(n){return B1[n%B1.length]}function L8(n){return LC[n%LC.length]}function z$(n,e){return n.borderColor=D8(e),n.backgroundColor=L8(e),++e}function F$(n,e){return n.backgroundColor=n.data.map(()=>D8(e++)),e}function V$(n,e){return n.backgroundColor=n.data.map(()=>L8(e++)),e}function H$(n){let e=0;return(t,i)=>{const s=n.getDatasetMeta(i).controller;s instanceof dl?e=F$(t,e):s instanceof rf?e=V$(t,e):s&&(e=z$(t,e))}}function IC(n){let e;for(e in n)if(n[e].borderColor||n[e].backgroundColor)return!0;return!1}function W$(n){return n&&(n.borderColor||n.backgroundColor)}var q$={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(n,e,t){if(!t.enabled)return;const{data:{datasets:i},options:s}=n.config,{elements:o}=s;if(!t.forceOverride&&(IC(i)||W$(s)||o&&IC(o)))return;const r=H$(n);i.forEach(r)}};function U$(n,e,t,i,s){const o=s.samples||i;if(o>=t)return n.slice(e,e+t);const r=[],l=(t-2)/(o-2);let a=0;const c=e+t-1;let f=e,u,h,d,g,m;for(r[a++]=n[f],u=0;u<o-2;u++){let p=0,b=0,y;const v=Math.floor((u+1)*l)+1+e,C=Math.min(Math.floor((u+2)*l)+1,t)+e,w=C-v;for(y=v;y<C;y++)p+=n[y].x,b+=n[y].y;p/=w,b/=w;const S=Math.floor(u*l)+1+e,x=Math.min(Math.floor((u+1)*l)+1,t)+e,{x:T,y:P}=n[f];for(d=g=-1,y=S;y<x;y++)g=.5*Math.abs((T-p)*(n[y].y-P)-(T-n[y].x)*(b-P)),g>d&&(d=g,h=n[y],m=y);r[a++]=h,f=m}return r[a++]=n[c],r}function J$(n,e,t,i){let s=0,o=0,r,l,a,c,f,u,h,d,g,m;const p=[],b=e+t-1,y=n[e].x,C=n[b].x-y;for(r=e;r<e+t;++r){l=n[r],a=(l.x-y)/C*i,c=l.y;const w=a|0;if(w===f)c<g?(g=c,u=r):c>m&&(m=c,h=r),s=(o*s+l.x)/++o;else{const S=r-1;if(!Vt(u)&&!Vt(h)){const x=Math.min(u,h),T=Math.max(u,h);x!==d&&x!==S&&p.push({...n[x],x:s}),T!==d&&T!==S&&p.push({...n[T],x:s})}r>0&&S!==d&&p.push(n[S]),p.push(l),f=w,o=0,g=m=c,u=h=d=r}}return p}function I8(n){if(n._decimated){const e=n._data;delete n._decimated,delete n._data,Object.defineProperty(n,"data",{configurable:!0,enumerable:!0,writable:!0,value:e})}}function NC(n){n.data.datasets.forEach(e=>{I8(e)})}function K$(n,e){const t=e.length;let i=0,s;const{iScale:o}=n,{min:r,max:l,minDefined:a,maxDefined:c}=o.getUserBounds();return a&&(i=$n(Io(e,o.axis,r).lo,0,t-1)),c?s=$n(Io(e,o.axis,l).hi+1,i,t)-i:s=t-i,{start:i,count:s}}var Y$={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(n,e,t)=>{if(!t.enabled){NC(n);return}const i=n.width;n.data.datasets.forEach((s,o)=>{const{_data:r,indexAxis:l}=s,a=n.getDatasetMeta(o),c=r||s.data;if(Fc([l,n.options.indexAxis])==="y"||!a.controller.supportsDecimation)return;const f=n.scales[a.xAxisID];if(f.type!=="linear"&&f.type!=="time"||n.options.parsing)return;let{start:u,count:h}=K$(a,c);const d=t.threshold||4*i;if(h<=d){I8(s);return}Vt(r)&&(s._data=c,delete s.data,Object.defineProperty(s,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(m){this._data=m}}));let g;switch(t.algorithm){case"lttb":g=U$(c,u,h,i,t);break;case"min-max":g=J$(c,u,h,i);break;default:throw new Error(`Unsupported decimation algorithm '${t.algorithm}'`)}s._decimated=g})},destroy(n){NC(n)}};function X$(n,e,t){const i=n.segments,s=n.points,o=e.points,r=[];for(const l of i){let{start:a,end:c}=l;c=jb(a,c,s);const f=j1(t,s[a],s[c],l.loop);if(!e.segments){r.push({source:l,target:f,start:s[a],end:s[c]});continue}const u=b8(e,f);for(const h of u){const d=j1(t,o[h.start],o[h.end],h.loop),g=p8(l,s,d);for(const m of g)r.push({source:m,target:h,start:{[t]:BC(f,d,"start",Math.max)},end:{[t]:BC(f,d,"end",Math.min)}})}}return r}function j1(n,e,t,i){if(i)return;let s=e[n],o=t[n];return n==="angle"&&(s=Xi(s),o=Xi(o)),{property:n,start:s,end:o}}function G$(n,e){const{x:t=null,y:i=null}=n||{},s=e.points,o=[];return e.segments.forEach(({start:r,end:l})=>{l=jb(r,l,s);const a=s[r],c=s[l];i!==null?(o.push({x:a.x,y:i}),o.push({x:c.x,y:i})):t!==null&&(o.push({x:t,y:a.y}),o.push({x:t,y:c.y}))}),o}function jb(n,e,t){for(;e>n;e--){const i=t[e];if(!isNaN(i.x)&&!isNaN(i.y))break}return e}function BC(n,e,t,i){return n&&e?i(n[t],e[t]):n?n[t]:e?e[t]:0}function N8(n,e){let t=[],i=!1;return wn(n)?(i=!0,t=n):t=G$(n,e),t.length?new _r({points:t,options:{tension:0},_loop:i,_fullLoop:i}):null}function jC(n){return n&&n.fill!==!1}function Q$(n,e,t){let s=n[e].fill;const o=[e];let r;if(!t)return s;for(;s!==!1&&o.indexOf(s)===-1;){if(!On(s))return s;if(r=n[s],!r)return!1;if(r.visible)return s;o.push(s),s=r.fill}return!1}function Z$(n,e,t){const i=nee(n);if(Rt(i))return isNaN(i.value)?!1:i;let s=parseFloat(i);return On(s)&&Math.floor(s)===s?$$(i[0],e,s,t):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}function $$(n,e,t,i){return(n==="-"||n==="+")&&(t=e+t),t===e||t<0||t>=i?!1:t}function eee(n,e){let t=null;return n==="start"?t=e.bottom:n==="end"?t=e.top:Rt(n)?t=e.getPixelForValue(n.value):e.getBasePixel&&(t=e.getBasePixel()),t}function tee(n,e,t){let i;return n==="start"?i=t:n==="end"?i=e.options.reverse?e.min:e.max:Rt(n)?i=n.value:i=e.getBaseValue(),i}function nee(n){const e=n.options,t=e.fill;let i=pt(t&&t.target,t);return i===void 0&&(i=!!e.backgroundColor),i===!1||i===null?!1:i===!0?"origin":i}function iee(n){const{scale:e,index:t,line:i}=n,s=[],o=i.segments,r=i.points,l=see(e,t);l.push(N8({x:null,y:e.bottom},i));for(let a=0;a<o.length;a++){const c=o[a];for(let f=c.start;f<=c.end;f++)oee(s,r[f],l)}return new _r({points:s,options:{}})}function see(n,e){const t=[],i=n.getMatchingVisibleMetas("line");for(let s=0;s<i.length;s++){const o=i[s];if(o.index===e)break;o.hidden||t.unshift(o.dataset)}return t}function oee(n,e,t){const i=[];for(let s=0;s<t.length;s++){const o=t[s],{first:r,last:l,point:a}=ree(o,e,"x");if(!(!a||r&&l)){if(r)i.unshift(a);else if(n.push(a),!l)break}}n.push(...i)}function ree(n,e,t){const i=n.interpolate(e,t);if(!i)return{};const s=i[t],o=n.segments,r=n.points;let l=!1,a=!1;for(let c=0;c<o.length;c++){const f=o[c],u=r[f.start][t],h=r[f.end][t];if(Lo(s,u,h)){l=s===u,a=s===h;break}}return{first:l,last:a,point:i}}class B8{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,t,i){const{x:s,y:o,radius:r}=this;return t=t||{start:0,end:gn},e.arc(s,o,r,t.end,t.start,!0),!i.bounds}interpolate(e){const{x:t,y:i,radius:s}=this,o=e.angle;return{x:t+Math.cos(o)*s,y:i+Math.sin(o)*s,angle:o}}}function lee(n){const{chart:e,fill:t,line:i}=n;if(On(t))return aee(e,t);if(t==="stack")return iee(n);if(t==="shape")return!0;const s=cee(n);return s instanceof B8?s:N8(s,i)}function aee(n,e){const t=n.getDatasetMeta(e);return t&&n.isDatasetVisible(e)?t.dataset:null}function cee(n){return(n.scale||{}).getPointPositionForValue?uee(n):fee(n)}function fee(n){const{scale:e={},fill:t}=n,i=eee(t,e);if(On(i)){const s=e.isHorizontal();return{x:s?i:null,y:s?null:i}}return null}function uee(n){const{scale:e,fill:t}=n,i=e.options,s=e.getLabels().length,o=i.reverse?e.max:e.min,r=tee(t,e,o),l=[];if(i.grid.circular){const a=e.getPointPositionForValue(0,o);return new B8({x:a.x,y:a.y,radius:e.getDistanceFromCenterForValue(r)})}for(let a=0;a<s;++a)l.push(e.getPointPositionForValue(a,r));return l}function Xm(n,e,t){const i=lee(e),{line:s,scale:o,axis:r}=e,l=s.options,a=l.fill,c=l.backgroundColor,{above:f=c,below:u=c}=a||{};i&&s.points.length&&(zg(n,t),hee(n,{line:s,target:i,above:f,below:u,area:t,scale:o,axis:r}),Fg(n))}function hee(n,e){const{line:t,target:i,above:s,below:o,area:r,scale:l}=e,a=t._loop?"angle":e.axis;n.save(),a==="x"&&o!==s&&(zC(n,i,r.top),FC(n,{line:t,target:i,color:s,scale:l,property:a}),n.restore(),n.save(),zC(n,i,r.bottom)),FC(n,{line:t,target:i,color:o,scale:l,property:a}),n.restore()}function zC(n,e,t){const{segments:i,points:s}=e;let o=!0,r=!1;n.beginPath();for(const l of i){const{start:a,end:c}=l,f=s[a],u=s[jb(a,c,s)];o?(n.moveTo(f.x,f.y),o=!1):(n.lineTo(f.x,t),n.lineTo(f.x,f.y)),r=!!e.pathSegment(n,l,{move:r}),r?n.closePath():n.lineTo(u.x,t)}n.lineTo(e.first().x,t),n.closePath(),n.clip()}function FC(n,e){const{line:t,target:i,property:s,color:o,scale:r}=e,l=X$(t,i,s);for(const{source:a,target:c,start:f,end:u}of l){const{style:{backgroundColor:h=o}={}}=a,d=i!==!0;n.save(),n.fillStyle=h,dee(n,r,d&&j1(s,f,u)),n.beginPath();const g=!!t.pathSegment(n,a);let m;if(d){g?n.closePath():VC(n,i,u,s);const p=!!i.pathSegment(n,c,{move:g,reverse:!0});m=g&&p,m||VC(n,i,f,s)}n.closePath(),n.fill(m?"evenodd":"nonzero"),n.restore()}}function dee(n,e,t){const{top:i,bottom:s}=e.chart.chartArea,{property:o,start:r,end:l}=t||{};o==="x"&&(n.beginPath(),n.rect(r,i,l-r,s-i),n.clip())}function VC(n,e,t,i){const s=e.interpolate(t,i);s&&n.lineTo(s.x,s.y)}var gee={id:"filler",afterDatasetsUpdate(n,e,t){const i=(n.data.datasets||[]).length,s=[];let o,r,l,a;for(r=0;r<i;++r)o=n.getDatasetMeta(r),l=o.dataset,a=null,l&&l.options&&l instanceof _r&&(a={visible:n.isDatasetVisible(r),index:r,fill:Z$(l,r,i),chart:n,axis:o.controller.options.indexAxis,scale:o.vScale,line:l}),o.$filler=a,s.push(a);for(r=0;r<i;++r)a=s[r],!(!a||a.fill===!1)&&(a.fill=Q$(s,r,t.propagate))},beforeDraw(n,e,t){const i=t.drawTime==="beforeDraw",s=n.getSortedVisibleDatasetMetas(),o=n.chartArea;for(let r=s.length-1;r>=0;--r){const l=s[r].$filler;l&&(l.line.updateControlPoints(o,l.axis),i&&l.fill&&Xm(n.ctx,l,o))}},beforeDatasetsDraw(n,e,t){if(t.drawTime!=="beforeDatasetsDraw")return;const i=n.getSortedVisibleDatasetMetas();for(let s=i.length-1;s>=0;--s){const o=i[s].$filler;jC(o)&&Xm(n.ctx,o,n.chartArea)}},beforeDatasetDraw(n,e,t){const i=e.meta.$filler;!jC(i)||t.drawTime!=="beforeDatasetDraw"||Xm(n.ctx,i,n.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const HC=(n,e)=>{let{boxHeight:t=e,boxWidth:i=e}=n;return n.usePointStyle&&(t=Math.min(t,e),i=n.pointStyleWidth||Math.min(i,e)),{boxWidth:i,boxHeight:t,itemHeight:Math.max(e,t)}},mee=(n,e)=>n!==null&&e!==null&&n.datasetIndex===e.datasetIndex&&n.index===e.index;class WC extends er{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t,i){this.maxWidth=e,this.maxHeight=t,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let t=an(e.generateLabels,[this.chart],this)||[];e.filter&&(t=t.filter(i=>e.filter(i,this.chart.data))),e.sort&&(t=t.sort((i,s)=>e.sort(i,s,this.chart.data))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){const{options:e,ctx:t}=this;if(!e.display){this.width=this.height=0;return}const i=e.labels,s=Hn(i.font),o=s.size,r=this._computeTitleHeight(),{boxWidth:l,itemHeight:a}=HC(i,o);let c,f;t.font=s.string,this.isHorizontal()?(c=this.maxWidth,f=this._fitRows(r,o,l,a)+10):(f=this.maxHeight,c=this._fitCols(r,s,l,a)+10),this.width=Math.min(c,e.maxWidth||this.maxWidth),this.height=Math.min(f,e.maxHeight||this.maxHeight)}_fitRows(e,t,i,s){const{ctx:o,maxWidth:r,options:{labels:{padding:l}}}=this,a=this.legendHitBoxes=[],c=this.lineWidths=[0],f=s+l;let u=e;o.textAlign="left",o.textBaseline="middle";let h=-1,d=-f;return this.legendItems.forEach((g,m)=>{const p=i+t/2+o.measureText(g.text).width;(m===0||c[c.length-1]+p+2*l>r)&&(u+=f,c[c.length-(m>0?0:1)]=0,d+=f,h++),a[m]={left:0,top:d,row:h,width:p,height:s},c[c.length-1]+=p+l}),u}_fitCols(e,t,i,s){const{ctx:o,maxHeight:r,options:{labels:{padding:l}}}=this,a=this.legendHitBoxes=[],c=this.columnSizes=[],f=r-e;let u=l,h=0,d=0,g=0,m=0;return this.legendItems.forEach((p,b)=>{const{itemWidth:y,itemHeight:v}=pee(i,t,o,p,s);b>0&&d+v+2*l>f&&(u+=h+l,c.push({width:h,height:d}),g+=h+l,m++,h=d=0),a[b]={left:g,top:d,col:m,width:y,height:v},h=Math.max(h,y),d+=v+l}),u+=h,c.push({width:h,height:d}),u}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:i,labels:{padding:s},rtl:o}}=this,r=La(o,this.left,this.width);if(this.isHorizontal()){let l=0,a=fi(i,this.left+s,this.right-this.lineWidths[l]);for(const c of t)l!==c.row&&(l=c.row,a=fi(i,this.left+s,this.right-this.lineWidths[l])),c.top+=this.top+e+s,c.left=r.leftForLtr(r.x(a),c.width),a+=c.width+s}else{let l=0,a=fi(i,this.top+e+s,this.bottom-this.columnSizes[l].height);for(const c of t)c.col!==l&&(l=c.col,a=fi(i,this.top+e+s,this.bottom-this.columnSizes[l].height)),c.top=a,c.left+=this.left+s,c.left=r.leftForLtr(r.x(c.left),c.width),a+=c.height+s}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;zg(e,this),this._draw(),Fg(e)}}_draw(){const{options:e,columnSizes:t,lineWidths:i,ctx:s}=this,{align:o,labels:r}=e,l=Pn.color,a=La(e.rtl,this.left,this.width),c=Hn(r.font),{padding:f}=r,u=c.size,h=u/2;let d;this.drawTitle(),s.textAlign=a.textAlign("left"),s.textBaseline="middle",s.lineWidth=.5,s.font=c.string;const{boxWidth:g,boxHeight:m,itemHeight:p}=HC(r,u),b=function(S,x,T){if(isNaN(g)||g<=0||isNaN(m)||m<0)return;s.save();const P=pt(T.lineWidth,1);if(s.fillStyle=pt(T.fillStyle,l),s.lineCap=pt(T.lineCap,"butt"),s.lineDashOffset=pt(T.lineDashOffset,0),s.lineJoin=pt(T.lineJoin,"miter"),s.lineWidth=P,s.strokeStyle=pt(T.strokeStyle,l),s.setLineDash(pt(T.lineDash,[])),r.usePointStyle){const D={radius:m*Math.SQRT2/2,pointStyle:T.pointStyle,rotation:T.rotation,borderWidth:P},O=a.xPlus(S,g/2),E=x+h;o8(s,D,O,E,r.pointStyleWidth&&g)}else{const D=x+Math.max((u-m)/2,0),O=a.leftForLtr(S,g),E=bl(T.borderRadius);s.beginPath(),Object.values(E).some(N=>N!==0)?zf(s,{x:O,y:D,w:g,h:m,radius:E}):s.rect(O,D,g,m),s.fill(),P!==0&&s.stroke()}s.restore()},y=function(S,x,T){Bl(s,T.text,S,x+p/2,c,{strikethrough:T.hidden,textAlign:a.textAlign(T.textAlign)})},v=this.isHorizontal(),C=this._computeTitleHeight();v?d={x:fi(o,this.left+f,this.right-i[0]),y:this.top+f+C,line:0}:d={x:this.left+f,y:fi(o,this.top+C+f,this.bottom-t[0].height),line:0},d8(this.ctx,e.textDirection);const w=p+f;this.legendItems.forEach((S,x)=>{s.strokeStyle=S.fontColor,s.fillStyle=S.fontColor;const T=s.measureText(S.text).width,P=a.textAlign(S.textAlign||(S.textAlign=r.textAlign)),D=g+h+T;let O=d.x,E=d.y;a.setWidth(this.width),v?x>0&&O+D+f>this.right&&(E=d.y+=w,d.line++,O=d.x=fi(o,this.left+f,this.right-i[d.line])):x>0&&E+w>this.bottom&&(O=d.x=O+t[d.line].width+f,d.line++,E=d.y=fi(o,this.top+C+f,this.bottom-t[d.line].height));const N=a.x(O);if(b(N,E,S),O=BG(P,O+g+h,v?O+D:this.right,e.rtl),y(a.x(O),E,S),v)d.x+=D+f;else if(typeof S.text!="string"){const z=c.lineHeight;d.y+=j8(S,z)+f}else d.y+=w}),g8(this.ctx,e.textDirection)}drawTitle(){const e=this.options,t=e.title,i=Hn(t.font),s=Si(t.padding);if(!t.display)return;const o=La(e.rtl,this.left,this.width),r=this.ctx,l=t.position,a=i.size/2,c=s.top+a;let f,u=this.left,h=this.width;if(this.isHorizontal())h=Math.max(...this.lineWidths),f=this.top+c,u=fi(e.align,u,this.right-h);else{const g=this.columnSizes.reduce((m,p)=>Math.max(m,p.height),0);f=c+fi(e.align,this.top,this.bottom-g-e.labels.padding-this._computeTitleHeight())}const d=fi(l,u,u+h);r.textAlign=o.textAlign(Pb(l)),r.textBaseline="middle",r.strokeStyle=t.color,r.fillStyle=t.color,r.font=i.string,Bl(r,t.text,d,f,i)}_computeTitleHeight(){const e=this.options.title,t=Hn(e.font),i=Si(e.padding);return e.display?t.lineHeight+i.height:0}_getLegendItemAt(e,t){let i,s,o;if(Lo(e,this.left,this.right)&&Lo(t,this.top,this.bottom)){for(o=this.legendHitBoxes,i=0;i<o.length;++i)if(s=o[i],Lo(e,s.left,s.left+s.width)&&Lo(t,s.top,s.top+s.height))return this.legendItems[i]}return null}handleEvent(e){const t=this.options;if(!_ee(e.type,t))return;const i=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const s=this._hoveredItem,o=mee(s,i);s&&!o&&an(t.onLeave,[e,s,this],this),this._hoveredItem=i,i&&!o&&an(t.onHover,[e,i,this],this)}else i&&an(t.onClick,[e,i,this],this)}}function pee(n,e,t,i,s){const o=bee(i,n,e,t),r=yee(s,i,e.lineHeight);return{itemWidth:o,itemHeight:r}}function bee(n,e,t,i){let s=n.text;return s&&typeof s!="string"&&(s=s.reduce((o,r)=>o.length>r.length?o:r)),e+t.size/2+i.measureText(s).width}function yee(n,e,t){let i=n;return typeof e.text!="string"&&(i=j8(e,t)),i}function j8(n,e){const t=n.text?n.text.length:0;return e*t}function _ee(n,e){return!!((n==="mousemove"||n==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(n==="click"||n==="mouseup"))}var wee={id:"legend",_element:WC,start(n,e,t){const i=n.legend=new WC({ctx:n.ctx,options:t,chart:n});mi.configure(n,i,t),mi.addBox(n,i)},stop(n){mi.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,e,t){const i=n.legend;mi.configure(n,i,t),i.options=t},afterUpdate(n){const e=n.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(n,e){e.replay||n.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,e,t){const i=e.datasetIndex,s=t.chart;s.isDatasetVisible(i)?(s.hide(i),e.hidden=!0):(s.show(i),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const e=n.data.datasets,{labels:{usePointStyle:t,pointStyle:i,textAlign:s,color:o,useBorderRadius:r,borderRadius:l}}=n.legend.options;return n._getSortedDatasetMetas().map(a=>{const c=a.controller.getStyle(t?0:void 0),f=Si(c.borderWidth);return{text:e[a.index].label,fillStyle:c.backgroundColor,fontColor:o,hidden:!a.visible,lineCap:c.borderCapStyle,lineDash:c.borderDash,lineDashOffset:c.borderDashOffset,lineJoin:c.borderJoinStyle,lineWidth:(f.width+f.height)/4,strokeStyle:c.borderColor,pointStyle:i||c.pointStyle,rotation:c.rotation,textAlign:s||c.textAlign,borderRadius:r&&(l||c.borderRadius),datasetIndex:a.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};class zb extends er{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t){const i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=t;const s=wn(i.text)?i.text.length:1;this._padding=Si(i.padding);const o=s*Hn(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=o:this.width=o}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:t,left:i,bottom:s,right:o,options:r}=this,l=r.align;let a=0,c,f,u;return this.isHorizontal()?(f=fi(l,i,o),u=t+e,c=o-i):(r.position==="left"?(f=i+e,u=fi(l,s,t),a=mn*-.5):(f=o-e,u=fi(l,t,s),a=mn*.5),c=s-t),{titleX:f,titleY:u,maxWidth:c,rotation:a}}draw(){const e=this.ctx,t=this.options;if(!t.display)return;const i=Hn(t.font),o=i.lineHeight/2+this._padding.top,{titleX:r,titleY:l,maxWidth:a,rotation:c}=this._drawArgs(o);Bl(e,t.text,0,0,i,{color:t.color,maxWidth:a,rotation:c,textAlign:Pb(t.align),textBaseline:"middle",translation:[r,l]})}}function vee(n,e){const t=new zb({ctx:n.ctx,options:e,chart:n});mi.configure(n,t,e),mi.addBox(n,t),n.titleBlock=t}var kee={id:"title",_element:zb,start(n,e,t){vee(n,t)},stop(n){const e=n.titleBlock;mi.removeBox(n,e),delete n.titleBlock},beforeUpdate(n,e,t){const i=n.titleBlock;mi.configure(n,i,t),i.options=t},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const hh=new WeakMap;var See={id:"subtitle",start(n,e,t){const i=new zb({ctx:n.ctx,options:t,chart:n});mi.configure(n,i,t),mi.addBox(n,i),hh.set(n,i)},stop(n){mi.removeBox(n,hh.get(n)),hh.delete(n)},beforeUpdate(n,e,t){const i=hh.get(n);mi.configure(n,i,t),i.options=t},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Wc={average(n){if(!n.length)return!1;let e,t,i=new Set,s=0,o=0;for(e=0,t=n.length;e<t;++e){const l=n[e].element;if(l&&l.hasValue()){const a=l.tooltipPosition();i.add(a.x),s+=a.y,++o}}return o===0||i.size===0?!1:{x:[...i].reduce((l,a)=>l+a)/i.size,y:s/o}},nearest(n,e){if(!n.length)return!1;let t=e.x,i=e.y,s=Number.POSITIVE_INFINITY,o,r,l;for(o=0,r=n.length;o<r;++o){const a=n[o].element;if(a&&a.hasValue()){const c=a.getCenterPoint(),f=T1(e,c);f<s&&(s=f,l=a)}}if(l){const a=l.tooltipPosition();t=a.x,i=a.y}return{x:t,y:i}}};function eo(n,e){return e&&(wn(e)?Array.prototype.push.apply(n,e):n.push(e)),n}function Ao(n){return(typeof n=="string"||n instanceof String)&&n.indexOf(`
`)>-1?n.split(`
`):n}function Cee(n,e){const{element:t,datasetIndex:i,index:s}=e,o=n.getDatasetMeta(i).controller,{label:r,value:l}=o.getLabelAndValue(s);return{chart:n,label:r,parsed:o.getParsed(s),raw:n.data.datasets[i].data[s],formattedValue:l,dataset:o.getDataset(),dataIndex:s,datasetIndex:i,element:t}}function qC(n,e){const t=n.chart.ctx,{body:i,footer:s,title:o}=n,{boxWidth:r,boxHeight:l}=e,a=Hn(e.bodyFont),c=Hn(e.titleFont),f=Hn(e.footerFont),u=o.length,h=s.length,d=i.length,g=Si(e.padding);let m=g.height,p=0,b=i.reduce((C,w)=>C+w.before.length+w.lines.length+w.after.length,0);if(b+=n.beforeBody.length+n.afterBody.length,u&&(m+=u*c.lineHeight+(u-1)*e.titleSpacing+e.titleMarginBottom),b){const C=e.displayColors?Math.max(l,a.lineHeight):a.lineHeight;m+=d*C+(b-d)*a.lineHeight+(b-1)*e.bodySpacing}h&&(m+=e.footerMarginTop+h*f.lineHeight+(h-1)*e.footerSpacing);let y=0;const v=function(C){p=Math.max(p,t.measureText(C).width+y)};return t.save(),t.font=c.string,$t(n.title,v),t.font=a.string,$t(n.beforeBody.concat(n.afterBody),v),y=e.displayColors?r+2+e.boxPadding:0,$t(i,C=>{$t(C.before,v),$t(C.lines,v),$t(C.after,v)}),y=0,t.font=f.string,$t(n.footer,v),t.restore(),p+=g.width,{width:p,height:m}}function Mee(n,e){const{y:t,height:i}=e;return t<i/2?"top":t>n.height-i/2?"bottom":"center"}function Aee(n,e,t,i){const{x:s,width:o}=i,r=t.caretSize+t.caretPadding;if(n==="left"&&s+o+r>e.width||n==="right"&&s-o-r<0)return!0}function xee(n,e,t,i){const{x:s,width:o}=t,{width:r,chartArea:{left:l,right:a}}=n;let c="center";return i==="center"?c=s<=(l+a)/2?"left":"right":s<=o/2?c="left":s>=r-o/2&&(c="right"),Aee(c,n,e,t)&&(c="center"),c}function UC(n,e,t){const i=t.yAlign||e.yAlign||Mee(n,t);return{xAlign:t.xAlign||e.xAlign||xee(n,e,t,i),yAlign:i}}function Oee(n,e){let{x:t,width:i}=n;return e==="right"?t-=i:e==="center"&&(t-=i/2),t}function Pee(n,e,t){let{y:i,height:s}=n;return e==="top"?i+=t:e==="bottom"?i-=s+t:i-=s/2,i}function JC(n,e,t,i){const{caretSize:s,caretPadding:o,cornerRadius:r}=n,{xAlign:l,yAlign:a}=t,c=s+o,{topLeft:f,topRight:u,bottomLeft:h,bottomRight:d}=bl(r);let g=Oee(e,l);const m=Pee(e,a,c);return a==="center"?l==="left"?g+=c:l==="right"&&(g-=c):l==="left"?g-=Math.max(f,h)+s:l==="right"&&(g+=Math.max(u,d)+s),{x:$n(g,0,i.width-e.width),y:$n(m,0,i.height-e.height)}}function dh(n,e,t){const i=Si(t.padding);return e==="center"?n.x+n.width/2:e==="right"?n.x+n.width-i.right:n.x+i.left}function KC(n){return eo([],Ao(n))}function Tee(n,e,t){return qr(n,{tooltip:e,tooltipItems:t,type:"tooltip"})}function YC(n,e){const t=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return t?n.override(t):n}const z8={beforeTitle:Co,title(n){if(n.length>0){const e=n[0],t=e.chart.data.labels,i=t?t.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(i>0&&e.dataIndex<i)return t[e.dataIndex]}return""},afterTitle:Co,beforeBody:Co,beforeLabel:Co,label(n){if(this&&this.options&&this.options.mode==="dataset")return n.label+": "+n.formattedValue||n.formattedValue;let e=n.dataset.label||"";e&&(e+=": ");const t=n.formattedValue;return Vt(t)||(e+=t),e},labelColor(n){const t=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const t=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:Co,afterBody:Co,beforeFooter:Co,footer:Co,afterFooter:Co};function Di(n,e,t,i){const s=n[e].call(t,i);return typeof s>"u"?z8[e].call(t,i):s}class z1 extends er{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const t=this.chart,i=this.options.setContext(this.getContext()),s=i.enabled&&t.options.animation&&i.animations,o=new y8(this.chart,s);return s._cacheable&&(this._cachedAnimations=Object.freeze(o)),o}getContext(){return this.$context||(this.$context=Tee(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,t){const{callbacks:i}=t,s=Di(i,"beforeTitle",this,e),o=Di(i,"title",this,e),r=Di(i,"afterTitle",this,e);let l=[];return l=eo(l,Ao(s)),l=eo(l,Ao(o)),l=eo(l,Ao(r)),l}getBeforeBody(e,t){return KC(Di(t.callbacks,"beforeBody",this,e))}getBody(e,t){const{callbacks:i}=t,s=[];return $t(e,o=>{const r={before:[],lines:[],after:[]},l=YC(i,o);eo(r.before,Ao(Di(l,"beforeLabel",this,o))),eo(r.lines,Di(l,"label",this,o)),eo(r.after,Ao(Di(l,"afterLabel",this,o))),s.push(r)}),s}getAfterBody(e,t){return KC(Di(t.callbacks,"afterBody",this,e))}getFooter(e,t){const{callbacks:i}=t,s=Di(i,"beforeFooter",this,e),o=Di(i,"footer",this,e),r=Di(i,"afterFooter",this,e);let l=[];return l=eo(l,Ao(s)),l=eo(l,Ao(o)),l=eo(l,Ao(r)),l}_createItems(e){const t=this._active,i=this.chart.data,s=[],o=[],r=[];let l=[],a,c;for(a=0,c=t.length;a<c;++a)l.push(Cee(this.chart,t[a]));return e.filter&&(l=l.filter((f,u,h)=>e.filter(f,u,h,i))),e.itemSort&&(l=l.sort((f,u)=>e.itemSort(f,u,i))),$t(l,f=>{const u=YC(e.callbacks,f);s.push(Di(u,"labelColor",this,f)),o.push(Di(u,"labelPointStyle",this,f)),r.push(Di(u,"labelTextColor",this,f))}),this.labelColors=s,this.labelPointStyles=o,this.labelTextColors=r,this.dataPoints=l,l}update(e,t){const i=this.options.setContext(this.getContext()),s=this._active;let o,r=[];if(!s.length)this.opacity!==0&&(o={opacity:0});else{const l=Wc[i.position].call(this,s,this._eventPosition);r=this._createItems(i),this.title=this.getTitle(r,i),this.beforeBody=this.getBeforeBody(r,i),this.body=this.getBody(r,i),this.afterBody=this.getAfterBody(r,i),this.footer=this.getFooter(r,i);const a=this._size=qC(this,i),c=Object.assign({},l,a),f=UC(this.chart,i,c),u=JC(i,c,f,this.chart);this.xAlign=f.xAlign,this.yAlign=f.yAlign,o={opacity:1,x:u.x,y:u.y,width:a.width,height:a.height,caretX:l.x,caretY:l.y}}this._tooltipItems=r,this.$context=void 0,o&&this._resolveAnimations().update(this,o),e&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:t})}drawCaret(e,t,i,s){const o=this.getCaretPosition(e,i,s);t.lineTo(o.x1,o.y1),t.lineTo(o.x2,o.y2),t.lineTo(o.x3,o.y3)}getCaretPosition(e,t,i){const{xAlign:s,yAlign:o}=this,{caretSize:r,cornerRadius:l}=i,{topLeft:a,topRight:c,bottomLeft:f,bottomRight:u}=bl(l),{x:h,y:d}=e,{width:g,height:m}=t;let p,b,y,v,C,w;return o==="center"?(C=d+m/2,s==="left"?(p=h,b=p-r,v=C+r,w=C-r):(p=h+g,b=p+r,v=C-r,w=C+r),y=p):(s==="left"?b=h+Math.max(a,f)+r:s==="right"?b=h+g-Math.max(c,u)-r:b=this.caretX,o==="top"?(v=d,C=v-r,p=b-r,y=b+r):(v=d+m,C=v+r,p=b+r,y=b-r),w=v),{x1:p,x2:b,x3:y,y1:v,y2:C,y3:w}}drawTitle(e,t,i){const s=this.title,o=s.length;let r,l,a;if(o){const c=La(i.rtl,this.x,this.width);for(e.x=dh(this,i.titleAlign,i),t.textAlign=c.textAlign(i.titleAlign),t.textBaseline="middle",r=Hn(i.titleFont),l=i.titleSpacing,t.fillStyle=i.titleColor,t.font=r.string,a=0;a<o;++a)t.fillText(s[a],c.x(e.x),e.y+r.lineHeight/2),e.y+=r.lineHeight+l,a+1===o&&(e.y+=i.titleMarginBottom-l)}}_drawColorBox(e,t,i,s,o){const r=this.labelColors[i],l=this.labelPointStyles[i],{boxHeight:a,boxWidth:c}=o,f=Hn(o.bodyFont),u=dh(this,"left",o),h=s.x(u),d=a<f.lineHeight?(f.lineHeight-a)/2:0,g=t.y+d;if(o.usePointStyle){const m={radius:Math.min(c,a)/2,pointStyle:l.pointStyle,rotation:l.rotation,borderWidth:1},p=s.leftForLtr(h,c)+c/2,b=g+a/2;e.strokeStyle=o.multiKeyBackground,e.fillStyle=o.multiKeyBackground,R1(e,m,p,b),e.strokeStyle=r.borderColor,e.fillStyle=r.backgroundColor,R1(e,m,p,b)}else{e.lineWidth=Rt(r.borderWidth)?Math.max(...Object.values(r.borderWidth)):r.borderWidth||1,e.strokeStyle=r.borderColor,e.setLineDash(r.borderDash||[]),e.lineDashOffset=r.borderDashOffset||0;const m=s.leftForLtr(h,c),p=s.leftForLtr(s.xPlus(h,1),c-2),b=bl(r.borderRadius);Object.values(b).some(y=>y!==0)?(e.beginPath(),e.fillStyle=o.multiKeyBackground,zf(e,{x:m,y:g,w:c,h:a,radius:b}),e.fill(),e.stroke(),e.fillStyle=r.backgroundColor,e.beginPath(),zf(e,{x:p,y:g+1,w:c-2,h:a-2,radius:b}),e.fill()):(e.fillStyle=o.multiKeyBackground,e.fillRect(m,g,c,a),e.strokeRect(m,g,c,a),e.fillStyle=r.backgroundColor,e.fillRect(p,g+1,c-2,a-2))}e.fillStyle=this.labelTextColors[i]}drawBody(e,t,i){const{body:s}=this,{bodySpacing:o,bodyAlign:r,displayColors:l,boxHeight:a,boxWidth:c,boxPadding:f}=i,u=Hn(i.bodyFont);let h=u.lineHeight,d=0;const g=La(i.rtl,this.x,this.width),m=function(T){t.fillText(T,g.x(e.x+d),e.y+h/2),e.y+=h+o},p=g.textAlign(r);let b,y,v,C,w,S,x;for(t.textAlign=r,t.textBaseline="middle",t.font=u.string,e.x=dh(this,p,i),t.fillStyle=i.bodyColor,$t(this.beforeBody,m),d=l&&p!=="right"?r==="center"?c/2+f:c+2+f:0,C=0,S=s.length;C<S;++C){for(b=s[C],y=this.labelTextColors[C],t.fillStyle=y,$t(b.before,m),v=b.lines,l&&v.length&&(this._drawColorBox(t,e,C,g,i),h=Math.max(u.lineHeight,a)),w=0,x=v.length;w<x;++w)m(v[w]),h=u.lineHeight;$t(b.after,m)}d=0,h=u.lineHeight,$t(this.afterBody,m),e.y-=o}drawFooter(e,t,i){const s=this.footer,o=s.length;let r,l;if(o){const a=La(i.rtl,this.x,this.width);for(e.x=dh(this,i.footerAlign,i),e.y+=i.footerMarginTop,t.textAlign=a.textAlign(i.footerAlign),t.textBaseline="middle",r=Hn(i.footerFont),t.fillStyle=i.footerColor,t.font=r.string,l=0;l<o;++l)t.fillText(s[l],a.x(e.x),e.y+r.lineHeight/2),e.y+=r.lineHeight+i.footerSpacing}}drawBackground(e,t,i,s){const{xAlign:o,yAlign:r}=this,{x:l,y:a}=e,{width:c,height:f}=i,{topLeft:u,topRight:h,bottomLeft:d,bottomRight:g}=bl(s.cornerRadius);t.fillStyle=s.backgroundColor,t.strokeStyle=s.borderColor,t.lineWidth=s.borderWidth,t.beginPath(),t.moveTo(l+u,a),r==="top"&&this.drawCaret(e,t,i,s),t.lineTo(l+c-h,a),t.quadraticCurveTo(l+c,a,l+c,a+h),r==="center"&&o==="right"&&this.drawCaret(e,t,i,s),t.lineTo(l+c,a+f-g),t.quadraticCurveTo(l+c,a+f,l+c-g,a+f),r==="bottom"&&this.drawCaret(e,t,i,s),t.lineTo(l+d,a+f),t.quadraticCurveTo(l,a+f,l,a+f-d),r==="center"&&o==="left"&&this.drawCaret(e,t,i,s),t.lineTo(l,a+u),t.quadraticCurveTo(l,a,l+u,a),t.closePath(),t.fill(),s.borderWidth>0&&t.stroke()}_updateAnimationTarget(e){const t=this.chart,i=this.$animations,s=i&&i.x,o=i&&i.y;if(s||o){const r=Wc[e.position].call(this,this._active,this._eventPosition);if(!r)return;const l=this._size=qC(this,e),a=Object.assign({},r,this._size),c=UC(t,e,a),f=JC(e,a,c,t);(s._to!==f.x||o._to!==f.y)&&(this.xAlign=c.xAlign,this.yAlign=c.yAlign,this.width=l.width,this.height=l.height,this.caretX=r.x,this.caretY=r.y,this._resolveAnimations().update(this,f))}}_willRender(){return!!this.opacity}draw(e){const t=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(t);const s={width:this.width,height:this.height},o={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const r=Si(t.padding),l=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;t.enabled&&l&&(e.save(),e.globalAlpha=i,this.drawBackground(o,e,s,t),d8(e,t.textDirection),o.y+=r.top,this.drawTitle(o,e,t),this.drawBody(o,e,t),this.drawFooter(o,e,t),g8(e,t.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,t){const i=this._active,s=e.map(({datasetIndex:l,index:a})=>{const c=this.chart.getDatasetMeta(l);if(!c)throw new Error("Cannot find a dataset at index "+l);return{datasetIndex:l,element:c.data[a],index:a}}),o=!jd(i,s),r=this._positionChanged(s,t);(o||r)&&(this._active=s,this._eventPosition=t,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,t,i=!0){if(t&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const s=this.options,o=this._active||[],r=this._getActiveElements(e,o,t,i),l=this._positionChanged(r,e),a=t||!jd(r,o)||l;return a&&(this._active=r,(s.enabled||s.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,t))),a}_getActiveElements(e,t,i,s){const o=this.options;if(e.type==="mouseout")return[];if(!s)return t.filter(l=>this.chart.data.datasets[l.datasetIndex]&&this.chart.getDatasetMeta(l.datasetIndex).controller.getParsed(l.index)!==void 0);const r=this.chart.getElementsAtEventForMode(e,o.mode,o,i);return o.reverse&&r.reverse(),r}_positionChanged(e,t){const{caretX:i,caretY:s,options:o}=this,r=Wc[o.position].call(this,e,t);return r!==!1&&(i!==r.x||s!==r.y)}}xe(z1,"positioners",Wc);var Eee={id:"tooltip",_element:z1,positioners:Wc,afterInit(n,e,t){t&&(n.tooltip=new z1({chart:n,options:t}))},beforeUpdate(n,e,t){n.tooltip&&n.tooltip.initialize(t)},reset(n,e,t){n.tooltip&&n.tooltip.initialize(t)},afterDraw(n){const e=n.tooltip;if(e&&e._willRender()){const t={tooltip:e};if(n.notifyPlugins("beforeTooltipDraw",{...t,cancelable:!0})===!1)return;e.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",t)}},afterEvent(n,e){if(n.tooltip){const t=e.replay;n.tooltip.handleEvent(e.event,t,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,e)=>e.bodyFont.size,boxWidth:(n,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:z8},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>n!=="filter"&&n!=="itemSort"&&n!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},Ree=Object.freeze({__proto__:null,Colors:q$,Decimation:Y$,Filler:gee,Legend:wee,SubTitle:See,Title:kee,Tooltip:Eee});const Dee=(n,e,t,i)=>(typeof e=="string"?(t=n.push(e)-1,i.unshift({index:t,label:e})):isNaN(e)&&(t=null),t);function Lee(n,e,t,i){const s=n.indexOf(e);if(s===-1)return Dee(n,e,t,i);const o=n.lastIndexOf(e);return s!==o?t:s}const Iee=(n,e)=>n===null?null:$n(Math.round(n),0,e);function XC(n){const e=this.getLabels();return n>=0&&n<e.length?e[n]:n}class F1 extends Ul{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const t=this._addedLabels;if(t.length){const i=this.getLabels();for(const{index:s,label:o}of t)i[s]===o&&i.splice(s,1);this._addedLabels=[]}super.init(e)}parse(e,t){if(Vt(e))return null;const i=this.getLabels();return t=isFinite(t)&&i[t]===e?t:Lee(i,e,pt(t,e),this._addedLabels),Iee(t,i.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let{min:i,max:s}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(i=0),t||(s=this.getLabels().length-1)),this.min=i,this.max=s}buildTicks(){const e=this.min,t=this.max,i=this.options.offset,s=[];let o=this.getLabels();o=e===0&&t===o.length-1?o:o.slice(e,t+1),this._valueRange=Math.max(o.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let r=e;r<=t;r++)s.push({value:r});return s}getLabelForValue(e){return XC.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}xe(F1,"id","category"),xe(F1,"defaults",{ticks:{callback:XC}});function Nee(n,e){const t=[],{bounds:s,step:o,min:r,max:l,precision:a,count:c,maxTicks:f,maxDigits:u,includeBounds:h}=n,d=o||1,g=f-1,{min:m,max:p}=e,b=!Vt(r),y=!Vt(l),v=!Vt(c),C=(p-m)/(u+1);let w=WS((p-m)/g/d)*d,S,x,T,P;if(w<1e-14&&!b&&!y)return[{value:m},{value:p}];P=Math.ceil(p/w)-Math.floor(m/w),P>g&&(w=WS(P*w/g/d)*d),Vt(a)||(S=Math.pow(10,a),w=Math.ceil(w*S)/S),s==="ticks"?(x=Math.floor(m/w)*w,T=Math.ceil(p/w)*w):(x=m,T=p),b&&y&&o&&TG((l-r)/o,w/1e3)?(P=Math.round(Math.min((l-r)/w,f)),w=(l-r)/P,x=r,T=l):v?(x=b?r:x,T=y?l:T,P=c-1,w=(T-x)/P):(P=(T-x)/w,nf(P,Math.round(P),w/1e3)?P=Math.round(P):P=Math.ceil(P));const D=Math.max(qS(w),qS(x));S=Math.pow(10,Vt(a)?D:a),x=Math.round(x*S)/S,T=Math.round(T*S)/S;let O=0;for(b&&(h&&x!==r?(t.push({value:r}),x<r&&O++,nf(Math.round((x+O*w)*S)/S,r,GC(r,C,n))&&O++):x<r&&O++);O<P;++O){const E=Math.round((x+O*w)*S)/S;if(y&&E>l)break;t.push({value:E})}return y&&h&&T!==l?t.length&&nf(t[t.length-1].value,l,GC(l,C,n))?t[t.length-1].value=l:t.push({value:l}):(!y||T===l)&&t.push({value:T}),t}function GC(n,e,{horizontal:t,minRotation:i}){const s=Os(i),o=(t?Math.sin(s):Math.cos(s))||.001,r=.75*e*(""+n).length;return Math.min(e/o,r)}class Ud extends Ul{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return Vt(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:t,maxDefined:i}=this.getUserBounds();let{min:s,max:o}=this;const r=a=>s=t?s:a,l=a=>o=i?o:a;if(e){const a=ho(s),c=ho(o);a<0&&c<0?l(0):a>0&&c>0&&r(0)}if(s===o){let a=o===0?1:Math.abs(o*.05);l(o+a),e||r(s-a)}this.min=s,this.max=o}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:t,stepSize:i}=e,s;return i?(s=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,s>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${s} ticks. Limiting to 1000.`),s=1e3)):(s=this.computeTickLimit(),t=t||11),t&&(s=Math.min(t,s)),s}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,t=e.ticks;let i=this.getTickLimit();i=Math.max(2,i);const s={maxTicks:i,bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:t.includeBounds!==!1},o=this._range||this,r=Nee(s,o);return e.bounds==="ticks"&&GA(r,this,"value"),e.reverse?(r.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),r}configure(){const e=this.ticks;let t=this.min,i=this.max;if(super.configure(),this.options.offset&&e.length){const s=(i-t)/Math.max(e.length-1,1)/2;t-=s,i+=s}this._startValue=t,this._endValue=i,this._valueRange=i-t}getLabelForValue(e){return cu(e,this.chart.options.locale,this.options.ticks.format)}}class V1 extends Ud{determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=On(e)?e:0,this.max=On(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),t=e?this.width:this.height,i=Os(this.options.ticks.minRotation),s=(e?Math.sin(i):Math.cos(i))||.001,o=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,o.lineHeight/s))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}xe(V1,"id","linear"),xe(V1,"defaults",{ticks:{callback:jg.formatters.numeric}});const Vf=n=>Math.floor(yr(n)),il=(n,e)=>Math.pow(10,Vf(n)+e);function QC(n){return n/Math.pow(10,Vf(n))===1}function ZC(n,e,t){const i=Math.pow(10,t),s=Math.floor(n/i);return Math.ceil(e/i)-s}function Bee(n,e){const t=e-n;let i=Vf(t);for(;ZC(n,e,i)>10;)i++;for(;ZC(n,e,i)<10;)i--;return Math.min(i,Vf(n))}function jee(n,{min:e,max:t}){e=Ki(n.min,e);const i=[],s=Vf(e);let o=Bee(e,t),r=o<0?Math.pow(10,Math.abs(o)):1;const l=Math.pow(10,o),a=s>o?Math.pow(10,s):0,c=Math.round((e-a)*r)/r,f=Math.floor((e-a)/l/10)*l*10;let u=Math.floor((c-f)/Math.pow(10,o)),h=Ki(n.min,Math.round((a+f+u*Math.pow(10,o))*r)/r);for(;h<t;)i.push({value:h,major:QC(h),significand:u}),u>=10?u=u<15?15:20:u++,u>=20&&(o++,u=2,r=o>=0?1:r),h=Math.round((a+f+u*Math.pow(10,o))*r)/r;const d=Ki(n.max,h);return i.push({value:d,major:QC(d),significand:u}),i}class H1 extends Ul{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,t){const i=Ud.prototype.parse.apply(this,[e,t]);if(i===0){this._zero=!0;return}return On(i)&&i>0?i:null}determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=On(e)?Math.max(0,e):null,this.max=On(t)?Math.max(0,t):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!On(this._userMin)&&(this.min=e===il(this.min,0)?il(this.min,-1):il(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let i=this.min,s=this.max;const o=l=>i=e?i:l,r=l=>s=t?s:l;i===s&&(i<=0?(o(1),r(10)):(o(il(i,-1)),r(il(s,1)))),i<=0&&o(il(s,-1)),s<=0&&r(il(i,1)),this.min=i,this.max=s}buildTicks(){const e=this.options,t={min:this._userMin,max:this._userMax},i=jee(t,this);return e.bounds==="ticks"&&GA(i,this,"value"),e.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}getLabelForValue(e){return e===void 0?"0":cu(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=yr(e),this._valueRange=yr(this.max)-yr(e)}getPixelForValue(e){return(e===void 0||e===0)&&(e=this.min),e===null||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(yr(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const t=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+t*this._valueRange)}}xe(H1,"id","logarithmic"),xe(H1,"defaults",{ticks:{callback:jg.formatters.logarithmic,major:{enabled:!0}}});function W1(n){const e=n.ticks;if(e.display&&n.display){const t=Si(e.backdropPadding);return pt(e.font&&e.font.size,Pn.font.size)+t.height}return 0}function zee(n,e,t){return t=wn(t)?t:[t],{w:KG(n,e.string,t),h:t.length*e.lineHeight}}function $C(n,e,t,i,s){return n===i||n===s?{start:e-t/2,end:e+t/2}:n<i||n>s?{start:e-t,end:e}:{start:e,end:e+t}}function Fee(n){const e={l:n.left+n._padding.left,r:n.right-n._padding.right,t:n.top+n._padding.top,b:n.bottom-n._padding.bottom},t=Object.assign({},e),i=[],s=[],o=n._pointLabels.length,r=n.options.pointLabels,l=r.centerPointLabels?mn/o:0;for(let a=0;a<o;a++){const c=r.setContext(n.getPointLabelContext(a));s[a]=c.padding;const f=n.getPointPosition(a,n.drawingArea+s[a],l),u=Hn(c.font),h=zee(n.ctx,u,n._pointLabels[a]);i[a]=h;const d=Xi(n.getIndexAngle(a)+l),g=Math.round(xb(d)),m=$C(g,f.x,h.w,0,180),p=$C(g,f.y,h.h,90,270);Vee(t,e,d,m,p)}n.setCenterPoint(e.l-t.l,t.r-e.r,e.t-t.t,t.b-e.b),n._pointLabelItems=qee(n,i,s)}function Vee(n,e,t,i,s){const o=Math.abs(Math.sin(t)),r=Math.abs(Math.cos(t));let l=0,a=0;i.start<e.l?(l=(e.l-i.start)/o,n.l=Math.min(n.l,e.l-l)):i.end>e.r&&(l=(i.end-e.r)/o,n.r=Math.max(n.r,e.r+l)),s.start<e.t?(a=(e.t-s.start)/r,n.t=Math.min(n.t,e.t-a)):s.end>e.b&&(a=(s.end-e.b)/r,n.b=Math.max(n.b,e.b+a))}function Hee(n,e,t){const i=n.drawingArea,{extra:s,additionalAngle:o,padding:r,size:l}=t,a=n.getPointPosition(e,i+s+r,o),c=Math.round(xb(Xi(a.angle+In))),f=Kee(a.y,l.h,c),u=Uee(c),h=Jee(a.x,l.w,u);return{visible:!0,x:a.x,y:f,textAlign:u,left:h,top:f,right:h+l.w,bottom:f+l.h}}function Wee(n,e){if(!e)return!0;const{left:t,top:i,right:s,bottom:o}=n;return!(No({x:t,y:i},e)||No({x:t,y:o},e)||No({x:s,y:i},e)||No({x:s,y:o},e))}function qee(n,e,t){const i=[],s=n._pointLabels.length,o=n.options,{centerPointLabels:r,display:l}=o.pointLabels,a={extra:W1(o)/2,additionalAngle:r?mn/s:0};let c;for(let f=0;f<s;f++){a.padding=t[f],a.size=e[f];const u=Hee(n,f,a);i.push(u),l==="auto"&&(u.visible=Wee(u,c),u.visible&&(c=u))}return i}function Uee(n){return n===0||n===180?"center":n<180?"left":"right"}function Jee(n,e,t){return t==="right"?n-=e:t==="center"&&(n-=e/2),n}function Kee(n,e,t){return t===90||t===270?n-=e/2:(t>270||t<90)&&(n-=e),n}function Yee(n,e,t){const{left:i,top:s,right:o,bottom:r}=t,{backdropColor:l}=e;if(!Vt(l)){const a=bl(e.borderRadius),c=Si(e.backdropPadding);n.fillStyle=l;const f=i-c.left,u=s-c.top,h=o-i+c.width,d=r-s+c.height;Object.values(a).some(g=>g!==0)?(n.beginPath(),zf(n,{x:f,y:u,w:h,h:d,radius:a}),n.fill()):n.fillRect(f,u,h,d)}}function Xee(n,e){const{ctx:t,options:{pointLabels:i}}=n;for(let s=e-1;s>=0;s--){const o=n._pointLabelItems[s];if(!o.visible)continue;const r=i.setContext(n.getPointLabelContext(s));Yee(t,r,o);const l=Hn(r.font),{x:a,y:c,textAlign:f}=o;Bl(t,n._pointLabels[s],a,c+l.lineHeight/2,l,{color:r.color,textAlign:f,textBaseline:"middle"})}}function F8(n,e,t,i){const{ctx:s}=n;if(t)s.arc(n.xCenter,n.yCenter,e,0,gn);else{let o=n.getPointPosition(0,e);s.moveTo(o.x,o.y);for(let r=1;r<i;r++)o=n.getPointPosition(r,e),s.lineTo(o.x,o.y)}}function Gee(n,e,t,i,s){const o=n.ctx,r=e.circular,{color:l,lineWidth:a}=e;!r&&!i||!l||!a||t<0||(o.save(),o.strokeStyle=l,o.lineWidth=a,o.setLineDash(s.dash),o.lineDashOffset=s.dashOffset,o.beginPath(),F8(n,t,r,i),o.closePath(),o.stroke(),o.restore())}function Qee(n,e,t){return qr(n,{label:t,index:e,type:"pointLabel"})}class qc extends Ud{constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=Si(W1(this.options)/2),t=this.width=this.maxWidth-e.width,i=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+t/2+e.left),this.yCenter=Math.floor(this.top+i/2+e.top),this.drawingArea=Math.floor(Math.min(t,i)/2)}determineDataLimits(){const{min:e,max:t}=this.getMinMax(!1);this.min=On(e)&&!isNaN(e)?e:0,this.max=On(t)&&!isNaN(t)?t:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/W1(this.options))}generateTickLabels(e){Ud.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((t,i)=>{const s=an(this.options.pointLabels.callback,[t,i],this);return s||s===0?s:""}).filter((t,i)=>this.chart.getDataVisibility(i))}fit(){const e=this.options;e.display&&e.pointLabels.display?Fee(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,t,i,s){this.xCenter+=Math.floor((e-t)/2),this.yCenter+=Math.floor((i-s)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,t,i,s))}getIndexAngle(e){const t=gn/(this._pointLabels.length||1),i=this.options.startAngle||0;return Xi(e*t+Os(i))}getDistanceFromCenterForValue(e){if(Vt(e))return NaN;const t=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*t:(e-this.min)*t}getValueForDistanceFromCenter(e){if(Vt(e))return NaN;const t=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-t:this.min+t}getPointLabelContext(e){const t=this._pointLabels||[];if(e>=0&&e<t.length){const i=t[e];return Qee(this.getContext(),e,i)}}getPointPosition(e,t,i=0){const s=this.getIndexAngle(e)-In+i;return{x:Math.cos(s)*t+this.xCenter,y:Math.sin(s)*t+this.yCenter,angle:s}}getPointPositionForValue(e,t){return this.getPointPosition(e,this.getDistanceFromCenterForValue(t))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:t,top:i,right:s,bottom:o}=this._pointLabelItems[e];return{left:t,top:i,right:s,bottom:o}}drawBackground(){const{backgroundColor:e,grid:{circular:t}}=this.options;if(e){const i=this.ctx;i.save(),i.beginPath(),F8(this,this.getDistanceFromCenterForValue(this._endValue),t,this._pointLabels.length),i.closePath(),i.fillStyle=e,i.fill(),i.restore()}}drawGrid(){const e=this.ctx,t=this.options,{angleLines:i,grid:s,border:o}=t,r=this._pointLabels.length;let l,a,c;if(t.pointLabels.display&&Xee(this,r),s.display&&this.ticks.forEach((f,u)=>{if(u!==0||u===0&&this.min<0){a=this.getDistanceFromCenterForValue(f.value);const h=this.getContext(u),d=s.setContext(h),g=o.setContext(h);Gee(this,d,a,r,g)}}),i.display){for(e.save(),l=r-1;l>=0;l--){const f=i.setContext(this.getPointLabelContext(l)),{color:u,lineWidth:h}=f;!h||!u||(e.lineWidth=h,e.strokeStyle=u,e.setLineDash(f.borderDash),e.lineDashOffset=f.borderDashOffset,a=this.getDistanceFromCenterForValue(t.reverse?this.min:this.max),c=this.getPointPosition(l,a),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(c.x,c.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,t=this.options,i=t.ticks;if(!i.display)return;const s=this.getIndexAngle(0);let o,r;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(s),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((l,a)=>{if(a===0&&this.min>=0&&!t.reverse)return;const c=i.setContext(this.getContext(a)),f=Hn(c.font);if(o=this.getDistanceFromCenterForValue(this.ticks[a].value),c.showLabelBackdrop){e.font=f.string,r=e.measureText(l.label).width,e.fillStyle=c.backdropColor;const u=Si(c.backdropPadding);e.fillRect(-r/2-u.left,-o-f.size/2-u.top,r+u.width,f.size+u.height)}Bl(e,l.label,0,-o,f,{color:c.color,strokeColor:c.textStrokeColor,strokeWidth:c.textStrokeWidth})}),e.restore()}drawTitle(){}}xe(qc,"id","radialLinear"),xe(qc,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:jg.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(e){return e},padding:5,centerPointLabels:!1}}),xe(qc,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),xe(qc,"descriptors",{angleLines:{_fallback:"grid"}});const Hg={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Ni=Object.keys(Hg);function e3(n,e){return n-e}function t3(n,e){if(Vt(e))return null;const t=n._adapter,{parser:i,round:s,isoWeekday:o}=n._parseOpts;let r=e;return typeof i=="function"&&(r=i(r)),On(r)||(r=typeof i=="string"?t.parse(r,i):t.parse(r)),r===null?null:(s&&(r=s==="week"&&(Za(o)||o===!0)?t.startOf(r,"isoWeek",o):t.startOf(r,s)),+r)}function n3(n,e,t,i){const s=Ni.length;for(let o=Ni.indexOf(n);o<s-1;++o){const r=Hg[Ni[o]],l=r.steps?r.steps:Number.MAX_SAFE_INTEGER;if(r.common&&Math.ceil((t-e)/(l*r.size))<=i)return Ni[o]}return Ni[s-1]}function Zee(n,e,t,i,s){for(let o=Ni.length-1;o>=Ni.indexOf(t);o--){const r=Ni[o];if(Hg[r].common&&n._adapter.diff(s,i,r)>=e-1)return r}return Ni[t?Ni.indexOf(t):0]}function $ee(n){for(let e=Ni.indexOf(n)+1,t=Ni.length;e<t;++e)if(Hg[Ni[e]].common)return Ni[e]}function i3(n,e,t){if(!t)n[e]=!0;else if(t.length){const{lo:i,hi:s}=Ob(t,e),o=t[i]>=e?t[i]:t[s];n[o]=!0}}function ete(n,e,t,i){const s=n._adapter,o=+s.startOf(e[0].value,i),r=e[e.length-1].value;let l,a;for(l=o;l<=r;l=+s.add(l,1,i))a=t[l],a>=0&&(e[a].major=!0);return e}function s3(n,e,t){const i=[],s={},o=e.length;let r,l;for(r=0;r<o;++r)l=e[r],s[l]=r,i.push({value:l,major:!1});return o===0||!t?i:ete(n,i,s,t)}class Hf extends Ul{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,t={}){const i=e.time||(e.time={}),s=this._adapter=new cZ._date(e.adapters.date);s.init(t),tf(i.displayFormats,s.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(e),this._normalized=t.normalized}parse(e,t){return e===void 0?null:t3(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,t=this._adapter,i=e.time.unit||"day";let{min:s,max:o,minDefined:r,maxDefined:l}=this.getUserBounds();function a(c){!r&&!isNaN(c.min)&&(s=Math.min(s,c.min)),!l&&!isNaN(c.max)&&(o=Math.max(o,c.max))}(!r||!l)&&(a(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&a(this.getMinMax(!1))),s=On(s)&&!isNaN(s)?s:+t.startOf(Date.now(),i),o=On(o)&&!isNaN(o)?o:+t.endOf(Date.now(),i)+1,this.min=Math.min(s,o-1),this.max=Math.max(s+1,o)}_getLabelBounds(){const e=this.getLabelTimestamps();let t=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return e.length&&(t=e[0],i=e[e.length-1]),{min:t,max:i}}buildTicks(){const e=this.options,t=e.time,i=e.ticks,s=i.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&s.length&&(this.min=this._userMin||s[0],this.max=this._userMax||s[s.length-1]);const o=this.min,r=this.max,l=LG(s,o,r);return this._unit=t.unit||(i.autoSkip?n3(t.minUnit,this.min,this.max,this._getLabelCapacity(o)):Zee(this,l.length,t.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:$ee(this._unit),this.initOffsets(s),e.reverse&&l.reverse(),s3(this,l,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let t=0,i=0,s,o;this.options.offset&&e.length&&(s=this.getDecimalForValue(e[0]),e.length===1?t=1-s:t=(this.getDecimalForValue(e[1])-s)/2,o=this.getDecimalForValue(e[e.length-1]),e.length===1?i=o:i=(o-this.getDecimalForValue(e[e.length-2]))/2);const r=e.length<3?.5:.25;t=$n(t,0,r),i=$n(i,0,r),this._offsets={start:t,end:i,factor:1/(t+1+i)}}_generate(){const e=this._adapter,t=this.min,i=this.max,s=this.options,o=s.time,r=o.unit||n3(o.minUnit,t,i,this._getLabelCapacity(t)),l=pt(s.ticks.stepSize,1),a=r==="week"?o.isoWeekday:!1,c=Za(a)||a===!0,f={};let u=t,h,d;if(c&&(u=+e.startOf(u,"isoWeek",a)),u=+e.startOf(u,c?"day":r),e.diff(i,t,r)>1e5*l)throw new Error(t+" and "+i+" are too far apart with stepSize of "+l+" "+r);const g=s.ticks.source==="data"&&this.getDataTimestamps();for(h=u,d=0;h<i;h=+e.add(h,l,r),d++)i3(f,h,g);return(h===i||s.bounds==="ticks"||d===1)&&i3(f,h,g),Object.keys(f).sort(e3).map(m=>+m)}getLabelForValue(e){const t=this._adapter,i=this.options.time;return i.tooltipFormat?t.format(e,i.tooltipFormat):t.format(e,i.displayFormats.datetime)}format(e,t){const s=this.options.time.displayFormats,o=this._unit,r=t||s[o];return this._adapter.format(e,r)}_tickFormatFunction(e,t,i,s){const o=this.options,r=o.ticks.callback;if(r)return an(r,[e,t,i],this);const l=o.time.displayFormats,a=this._unit,c=this._majorUnit,f=a&&l[a],u=c&&l[c],h=i[t],d=c&&u&&h&&h.major;return this._adapter.format(e,s||(d?u:f))}generateTickLabels(e){let t,i,s;for(t=0,i=e.length;t<i;++t)s=e[t],s.label=this._tickFormatFunction(s.value,t,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const t=this._offsets,i=this.getDecimalForValue(e);return this.getPixelForDecimal((t.start+i)*t.factor)}getValueForPixel(e){const t=this._offsets,i=this.getDecimalForPixel(e)/t.factor-t.end;return this.min+i*(this.max-this.min)}_getLabelSize(e){const t=this.options.ticks,i=this.ctx.measureText(e).width,s=Os(this.isHorizontal()?t.maxRotation:t.minRotation),o=Math.cos(s),r=Math.sin(s),l=this._resolveTickFontOptions(0).size;return{w:i*o+l*r,h:i*r+l*o}}_getLabelCapacity(e){const t=this.options.time,i=t.displayFormats,s=i[t.unit]||i.millisecond,o=this._tickFormatFunction(e,0,s3(this,[e],this._majorUnit),s),r=this._getLabelSize(o),l=Math.floor(this.isHorizontal()?this.width/r.w:this.height/r.h)-1;return l>0?l:1}getDataTimestamps(){let e=this._cache.data||[],t,i;if(e.length)return e;const s=this.getMatchingVisibleMetas();if(this._normalized&&s.length)return this._cache.data=s[0].controller.getAllParsedValues(this);for(t=0,i=s.length;t<i;++t)e=e.concat(s[t].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let t,i;if(e.length)return e;const s=this.getLabels();for(t=0,i=s.length;t<i;++t)e.push(t3(this,s[t]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return $A(e.sort(e3))}}xe(Hf,"id","time"),xe(Hf,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function gh(n,e,t){let i=0,s=n.length-1,o,r,l,a;t?(e>=n[i].pos&&e<=n[s].pos&&({lo:i,hi:s}=Io(n,"pos",e)),{pos:o,time:l}=n[i],{pos:r,time:a}=n[s]):(e>=n[i].time&&e<=n[s].time&&({lo:i,hi:s}=Io(n,"time",e)),{time:o,pos:l}=n[i],{time:r,pos:a}=n[s]);const c=r-o;return c?l+(a-l)*(e-o)/c:l}class q1 extends Hf{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(e);this._minPos=gh(t,this.min),this._tableRange=gh(t,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:t,max:i}=this,s=[],o=[];let r,l,a,c,f;for(r=0,l=e.length;r<l;++r)c=e[r],c>=t&&c<=i&&s.push(c);if(s.length<2)return[{time:t,pos:0},{time:i,pos:1}];for(r=0,l=s.length;r<l;++r)f=s[r+1],a=s[r-1],c=s[r],Math.round((f+a)/2)!==c&&o.push({time:c,pos:r/(l-1)});return o}_generate(){const e=this.min,t=this.max;let i=super.getDataTimestamps();return(!i.includes(e)||!i.length)&&i.splice(0,0,e),(!i.includes(t)||i.length===1)&&i.push(t),i.sort((s,o)=>s-o)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const t=this.getDataTimestamps(),i=this.getLabelTimestamps();return t.length&&i.length?e=this.normalize(t.concat(i)):e=t.length?t:i,e=this._cache.all=e,e}getDecimalForValue(e){return(gh(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const t=this._offsets,i=this.getDecimalForPixel(e)/t.factor-t.end;return gh(this._table,i*this._tableRange+this._minPos,!0)}}xe(q1,"id","timeseries"),xe(q1,"defaults",Hf.defaults);var tte=Object.freeze({__proto__:null,CategoryScale:F1,LinearScale:V1,LogarithmicScale:H1,RadialLinearScale:qc,TimeScale:Hf,TimeSeriesScale:q1});const nte=[aZ,j$,Ree,tte];Po.register(...nte);function ite(n){let e,t;return e=new hO({}),{c(){se(e.$$.fragment)},m(i,s){ne(e,i,s),t=!0},i(i){t||(k(e.$$.fragment,i),t=!0)},o(i){M(e.$$.fragment,i),t=!1},d(i){ie(e,i)}}}function ste(n){let e,t,i;function s(r){n[6](r)}let o={mode:Yn.text,onChange:n[4]};return n[1]!==void 0&&(o.content=n[1]),e=new VX({props:o}),st.push(()=>Qn(e,"content",s)),{c(){se(e.$$.fragment)},m(r,l){ne(e,r,l),i=!0},p(r,l){const a={};!t&&l&2&&(t=!0,a.content=r[1],Gn(()=>t=!1)),e.$set(a)},i(r){i||(k(e.$$.fragment,r),i=!0)},o(r){M(e.$$.fragment,r),i=!1},d(r){ie(e,r)}}}function o3(n){let e,t,i;return t=new Yx({props:{kind:"error",subtitle:n[3],hideCloseButton:!0}}),{c(){e=L("div"),se(t.$$.fragment)},m(s,o){j(s,e,o),ne(t,e,null),i=!0},p(s,o){const r={};o&8&&(r.subtitle=s[3]),t.$set(r)},i(s){i||(k(t.$$.fragment,s),i=!0)},o(s){M(t.$$.fragment,s),i=!1},d(s){s&&B(e),ie(t)}}}function ote(n){let e,t,i,s,o=n[3]!==""&&o3(n);return{c(){e=L("div"),o&&o.c(),t=X(),i=L("div"),_(i,"class","chart svelte-1wpm6ke"),_(e,"class","chartPane svelte-1wpm6ke")},m(r,l){j(r,e,l),o&&o.m(e,null),A(e,t),A(e,i),n[7](i),s=!0},p(r,l){r[3]!==""?o?(o.p(r,l),l&8&&k(o,1)):(o=o3(r),o.c(),k(o,1),o.m(e,t)):o&&(me(),M(o,1,1,()=>{o=null}),pe())},i(r){s||(k(o),s=!0)},o(r){M(o),s=!1},d(r){r&&B(e),o&&o.d(),n[7](null)}}}function rte(n){let e,t,i,s;return e=new IS({props:{$$slots:{default:[ste]},$$scope:{ctx:n}}}),i=new IS({props:{$$slots:{default:[ote]},$$scope:{ctx:n}}}),{c(){se(e.$$.fragment),t=X(),se(i.$$.fragment)},m(o,r){ne(e,o,r),j(o,t,r),ne(i,o,r),s=!0},p(o,r){const l={};r&16386&&(l.$$scope={dirty:r,ctx:o}),e.$set(l);const a={};r&16396&&(a.$$scope={dirty:r,ctx:o}),i.$set(a)},i(o){s||(k(e.$$.fragment,o),k(i.$$.fragment,o),s=!0)},o(o){M(e.$$.fragment,o),M(i.$$.fragment,o),s=!1},d(o){o&&B(t),ie(e,o),ie(i,o)}}}function lte(n){let e,t,i,s,o,r;function l(c){n[5](c)}let a={platformName:"Chart.js Viewer",$$slots:{"skip-to-content":[ite]},$$scope:{ctx:n}};return n[0]!==void 0&&(a.isSideNavOpen=n[0]),e=new aO({props:a}),st.push(()=>Qn(e,"isSideNavOpen",l)),o=new JX({props:{$$slots:{default:[rte]},$$scope:{ctx:n}}}),{c(){se(e.$$.fragment),i=X(),s=L("div"),se(o.$$.fragment),_(s,"class","content svelte-1wpm6ke")},m(c,f){ne(e,c,f),j(c,i,f),j(c,s,f),ne(o,s,null),r=!0},p(c,[f]){const u={};f&16384&&(u.$$scope={dirty:f,ctx:c}),!t&&f&1&&(t=!0,u.isSideNavOpen=c[0],Gn(()=>t=!1)),e.$set(u);const h={};f&16398&&(h.$$scope={dirty:f,ctx:c}),o.$set(h)},i(c){r||(k(e.$$.fragment,c),k(o.$$.fragment,c),r=!0)},o(c){M(e.$$.fragment,c),M(o.$$.fragment,c),r=!1},d(c){c&&(B(i),B(s)),ie(e,c),ie(o)}}}function ate(n,e,t){const i={type:"bar",data:{labels:["Jan","Feb","Mar","Apr","May","Jun","Jul"],datasets:[{label:"My First Dataset",data:[65,59,80,81,56,55,40]}]},options:{scales:{y:{beginAtZero:!0}}}};let s=!1,o={json:i},r,l,a,c="";_i(()=>{r&&f(o,o,{contentErrors:null,patchResult:null})});function f(b,y,v){if(t(1,o=b),v.contentErrors===null){const C=u();h(C)}else d()}function u(){const b=o;return b.json!==void 0?b.json:JSON.parse(o.text)}function h(b){if(r!==void 0){d(),l=document.createElement("canvas"),r.appendChild(l);try{a=new Po(l,b),t(3,c="")}catch(y){console.error(y),t(3,c=y.toString()),d()}}}function d(){a!==void 0&&(a.destroy(),a=void 0),l!==void 0&&(l.remove(),l=void 0)}function g(b){s=b,t(0,s)}function m(b){o=b,t(1,o)}function p(b){st[b?"unshift":"push"](()=>{r=b,t(2,r)})}return[s,o,r,c,f,g,m,p]}class cte extends Te{constructor(e){super(),Pe(this,e,ate,lte,Ot,{})}}new cte({target:document.body})});export default fte();
//# sourceMappingURL=index-B8FLrr0x.js.map
